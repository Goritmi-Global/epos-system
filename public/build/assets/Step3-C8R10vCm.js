import{s as d}from"./index-B4iN4Yec.js";import{R as V,r as k,o as $,y as h,f as c,b as i,m,e as a,d as b,i as u,u as y,t as f,Y as N}from"./app-BPm8Jqa8.js";import"./index-z4fDpXBL.js";import"./index-Cydqvc8x.js";import"./index-CVWe-1l6.js";import"./index-CYhawANY.js";const I={key:0,class:"fw-bold mb-4"},U={class:"row g-3"},A={class:"col-md-6"},K={key:0,class:"text-danger"},T={class:"col-md-6"},B={key:0,class:"text-danger"},H={class:"col-md-6"},O={key:0,class:"text-danger"},D={class:"col-md-6"},P={key:0,class:"text-danger"},L={class:"col-md-6"},Z={key:0,class:"text-danger"},v=3,Q={__name:"Step3",props:{model:Object,formErrors:Object,isOnboarding:{type:Boolean,default:!1}},emits:["save"],setup(l,{emit:w}){const s=l,_=w,t=V({currency:s.model?.currency??"£",currency_symbol_position:s.model?.currency_symbol_position??"before",date_format:s.model?.date_format??"dd/MM/yyyy",number_format:s.model?.number_format??"1,000",time_format:s.model?.time_format??"12-hour"}),x={US:"$",GB:"£",PK:"₨",IN:"₹",AE:"د.إ",SA:"﷼",EU:"€",DE:"€",FR:"€",IT:"€",ES:"€",CN:"¥",JP:"¥",AU:"A$",CA:"C$",CH:"Fr",SE:"kr",NO:"kr",DK:"kr",SG:"S$",MY:"RM",TH:"฿",ID:"Rp",PH:"₱",VN:"₫",BD:"৳",LK:"Rs",NP:"Rs",AF:"؋",TR:"₺",EG:"£",ZA:"R",NG:"₦",KE:"KSh",BR:"R$",MX:"$",AR:"$",CL:"$",NZ:"NZ$",KR:"₩",HK:"HK$",TW:"NT$",RU:"₽",PL:"zł",CZ:"Kč",HU:"Ft",RO:"lei",IL:"₪",QA:"ر.ق",KW:"د.ك",BH:"ب.د",OM:"ر.ع",JO:"د.ا",LB:"ل.ل"},F=["₨","£","$","€","د.إ","﷼","₹","¥","A$","C$","Fr","kr","S$","RM","฿","Rp","₱","₫","৳","Rs","؋","₺","R","₦","KSh","R$","NZ$","₩","HK$","NT$","₽","zł","Kč","Ft","lei","₪","ر.ق","د.ك","ب.د","ر.ع","د.ا","ل.ل"],E=[{label:"Before Amount (Rs 1000)",value:"before"},{label:"After Amount (1000 Rs)",value:"after"},{label:"ISO Before (USD 1000)",value:"iso-before"},{label:"ISO After (1000 USD)",value:"iso-after"},{label:"With Currency Name (1000 Rupees)",value:"name"}],S=["dd/MM/yyyy","MM/dd/yyyy","yyyy-MM-dd","dd-MM-yyyy","yyyy/MM/dd","dd MMM yyyy","MMM dd, yyyy"],R=[{label:"12 Hour (02:30 PM)",value:"12-hour"},{label:"24 Hour (14:30)",value:"24-hour"}],M=["1,000","1.000","1 000","1'000","1000","12,34,567","١٬٠٠٠","１０００"],g=k(!1),p=k(null),C=(o=!1)=>{const e=s.model?.country_code;if(!e)return;const r=x[e.toUpperCase()];r&&(o||!g.value||p.value!==e)&&(t.currency=r,p.value=e)};$(()=>{C(!0)}),h(()=>s.model?.country_code,(o,e)=>{o&&(g.value=!1,C(!0))},{immediate:!1}),h(()=>t.currency,(o,e)=>{if(e&&o!==e&&p.value){const r=x[s.model?.country_code?.toUpperCase()];o!==r&&(g.value=!0)}}),h(()=>s.model,o=>{o&&(o.currency&&!g&&(t.currency=o.currency),t.currency_symbol_position=o.currency_symbol_position??"before",t.date_format=o.date_format??"dd/MM/yyyy",t.number_format=o.number_format??"1,000",t.time_format=o.time_format??"12-hour")},{immediate:!0});const n=()=>{try{_("save",{step:v,data:N(t)})}catch(o){console.error(`Step ${v} emitSave error:`,o)}};return h(t,n,{deep:!0,immediate:!0}),(o,e)=>(i(),c("div",null,[s.isOnboarding?(i(),c("h5",I,"Step 3 of 9 - Currency & Locale")):m("",!0),a("div",U,[a("div",A,[e[5]||(e[5]=a("label",{class:"form-label"},"Select Currency*",-1)),b(y(d),{modelValue:t.currency,"onUpdate:modelValue":e[0]||(e[0]=r=>t.currency=r),options:F,pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},placeholder:"Select currency",class:u(["w-100",{"is-invalid":l.formErrors?.currency}]),onChange:n},null,8,["modelValue","class"]),l.formErrors?.currency?(i(),c("small",K,f(l.formErrors.currency[0]),1)):m("",!0)]),a("div",T,[e[6]||(e[6]=a("label",{class:"form-label"},"Symbol Position*",-1)),b(y(d),{modelValue:t.currency_symbol_position,"onUpdate:modelValue":e[1]||(e[1]=r=>t.currency_symbol_position=r),options:E,pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},optionLabel:"label",optionValue:"value",placeholder:"Choose position",class:u(["w-100",{"is-invalid":l.formErrors?.currency_symbol_position}]),onChange:n},null,8,["modelValue","class"]),l.formErrors?.currency_symbol_position?(i(),c("small",B,f(l.formErrors.currency_symbol_position[0]),1)):m("",!0)]),a("div",H,[e[7]||(e[7]=a("label",{class:"form-label"},"Date Format*",-1)),b(y(d),{modelValue:t.date_format,"onUpdate:modelValue":e[2]||(e[2]=r=>t.date_format=r),options:S,pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},placeholder:"Select format",class:u(["w-100",{"is-invalid":l.formErrors?.date_format}]),onChange:n},null,8,["modelValue","class"]),l.formErrors?.date_format?(i(),c("small",O,f(l.formErrors.date_format[0]),1)):m("",!0)]),a("div",D,[e[8]||(e[8]=a("label",{class:"form-label"},"Number Format*",-1)),b(y(d),{modelValue:t.number_format,"onUpdate:modelValue":e[3]||(e[3]=r=>t.number_format=r),options:M,pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},placeholder:"Select format",class:u(["w-100",{"is-invalid":l.formErrors?.number_format}]),onChange:n},null,8,["modelValue","class"]),l.formErrors?.number_format?(i(),c("small",P,f(l.formErrors.number_format[0]),1)):m("",!0)]),a("div",L,[e[9]||(e[9]=a("label",{class:"form-label"},"Time Format*",-1)),b(y(d),{modelValue:t.time_format,"onUpdate:modelValue":e[4]||(e[4]=r=>t.time_format=r),options:R,pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},optionLabel:"label",optionValue:"value",placeholder:"Select format",class:u(["w-100",{"is-invalid":l.formErrors?.time_format}]),onChange:n},null,8,["modelValue","class"]),l.formErrors?.time_format?(i(),c("small",Z,f(l.formErrors.time_format[0]),1)):m("",!0)])])]))}};export{Q as default};

import{_ as B,S as T,w as E,c as O,g as r,b as c,l as w,f as a,m,Z as g,j as _,t as x,F as y,i as V,e as h,u as v,p as C,Y as j}from"./app-Cc-dChBz.js";import{s as k}from"./index-BK43Mpbs.js";import"./index-DZnH082G.js";import"./index-UELNzy9_.js";import"./index-CBr-ZXxh.js";import"./index-Bf0AmDlV.js";import"./index-gfnLJ7EX.js";const L={key:0,class:"fw-bold mb-3"},M={class:"mb-3 d-flex align-items-center justify-content-between"},N={class:"segmented"},A={key:1,class:"text-danger d-block mb-3"},D={class:"vstack gap-3"},R={class:"col-md-2 fw-semibold"},H={class:"col-md-3"},Y={class:"col-md-3"},z={class:"col-md-2"},P={class:"segmented"},W=["id","onUpdate:modelValue"],Z=["for"],q=["id","onUpdate:modelValue"],G=["for"],J={class:"col-md-2 d-flex justify-content-end"},K=["disabled","onClick"],Q={class:"d-flex align-items-center gap-2"},X=["onClick"],ee={__name:"Step8",props:{model:Object,formErrors:Object,isOnboarding:{type:Boolean,default:!1}},emits:["save"],setup(F,{emit:$}){const u=F,f=$,i=s=>({name:s,open:!0,start:"09:00",end:"17:00",breaks:[]}),o=T({auto_disable:u.model?.auto_disable??"yes",hours:u.model?.hours?.map(s=>({...s,name:s.name??s.day,open:s.open??s.is_open??!0,start:s.start??s.from?.slice(0,5)??"09:00",end:s.end??s.to?.slice(0,5)??"17:00",breaks:s.breaks?.map(t=>({...t,start:t.start?.slice(0,5)??"13:00",end:t.end?.slice(0,5)??"14:00"}))||[]}))??[i("Monday"),i("Tuesday"),i("Wednesday"),i("Thursday"),i("Friday"),i("Saturday"),i("Sunday")]});E(o,()=>{const s={step:8,data:{auto_disable:o.auto_disable,hours:o.hours.map(t=>({name:t.name,open:t.open,start:t.start,end:t.end,breaks:t.breaks.map(e=>({start:e.start,end:e.end}))}))}};f("save",s)},{deep:!0,immediate:!0});function n(){f("save",{step:8,data:j(o)})}function S(s){s.breaks.push({start:"13:00",end:"14:00"}),n()}function U(s,t){s.breaks.splice(t,1),n()}const b=O(()=>{const s=[],t=u.model?.time_format==="12-hour";for(let e=0;e<48;e++){const l=Math.floor(e/2),p=e%2?"30":"00";let d=`${String(l).padStart(2,"0")}:${p}`;if(t){let I=l>=12?"PM":"AM";d=`${l%12||12}:${p} ${I}`}s.push({label:d,value:`${String(l).padStart(2,"0")}:${p}`})}return s});return(s,t)=>(c(),r("div",null,[u.isOnboarding?(c(),r("h5",L,"Step 8 of 9 - Business Hours")):w("",!0),a("div",M,[t[2]||(t[2]=a("span",null,"Auto-disable ordering after hours",-1)),a("div",N,[m(a("input",{class:"segmented__input",type:"radio",id:"ad-yes",value:"yes","onUpdate:modelValue":t[0]||(t[0]=e=>o.auto_disable=e),onChange:n},null,544),[[g,o.auto_disable]]),a("label",{class:_(["segmented__btn",{"is-active":o.auto_disable==="yes"}]),for:"ad-yes"},"YES",2),m(a("input",{class:"segmented__input",type:"radio",id:"ad-no",value:"no","onUpdate:modelValue":t[1]||(t[1]=e=>o.auto_disable=e),onChange:n},null,544),[[g,o.auto_disable]]),a("label",{class:_(["segmented__btn",{"is-active":o.auto_disable==="no"}]),for:"ad-no"},"NO",2)])]),u.formErrors?.attendance_policy?(c(),r("small",A,x(u.formErrors.attendance_policy[0]),1)):w("",!0),a("div",D,[(c(!0),r(y,null,V(o.hours,e=>(c(),r("div",{key:e.name,class:"day-row row g-2 align-items-center"},[a("div",R,x(e.name),1),a("div",H,[h(v(k),{class:"w-100",modelValue:e.start,"onUpdate:modelValue":l=>e.start=l,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n,placeholder:"Start"},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),a("div",Y,[h(v(k),{class:"w-100",modelValue:e.end,"onUpdate:modelValue":l=>e.end=l,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n,placeholder:"End"},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),a("div",z,[a("div",P,[m(a("input",{class:"segmented__input",type:"radio",id:`${e.name}-open`,value:!0,"onUpdate:modelValue":l=>e.open=l,onChange:n},null,40,W),[[g,e.open]]),a("label",{class:_(["segmented__btn",{"is-active":e.open===!0}]),for:`${e.name}-open`},"Open",10,Z),m(a("input",{class:"segmented__input",type:"radio",id:`${e.name}-close`,value:!1,"onUpdate:modelValue":l=>e.open=l,onChange:n},null,40,q),[[g,e.open]]),a("label",{class:_(["segmented__btn",{"is-active":e.open===!1}]),for:`${e.name}-close`},"Close",10,G)])]),a("div",J,[a("button",{class:"btn btn-sm btn-success rounded-pill px-3",disabled:!e.open,onClick:l=>S(e)},[...t[3]||(t[3]=[a("i",{class:"bi bi-plus-lg me-1"},null,-1),C(" Add break ",-1)])],8,K)]),(c(!0),r(y,null,V(e.breaks,(l,p)=>(c(),r("div",{key:`${e.name}-b${p}`,class:"offset-md-2 col-md-8"},[a("div",Q,[t[5]||(t[5]=a("small",{class:"text-muted"},"Break",-1)),h(v(k),{class:"w-auto",modelValue:l.start,"onUpdate:modelValue":d=>l.start=d,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),h(v(k),{class:"w-auto",modelValue:l.end,"onUpdate:modelValue":d=>l.end=d,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),a("button",{class:"btn btn-outline-danger btn-sm rounded-pill ms-auto",onClick:d=>U(e,p)},[...t[4]||(t[4]=[a("i",{class:"bi bi-trash me-1"},null,-1),C(" Remove ",-1)])],8,X)])]))),128))]))),128))])]))}},re=B(ee,[["__scopeId","data-v-05d53932"]]);export{re as default};

import{_ as B,R as T,y as E,c as O,f as r,b as c,m as w,e as a,k as m,Y as g,i as _,t as y,F as x,g as V,d as h,u as v,l as C,$ as L}from"./app-0e2Q59ss.js";import{s as k}from"./index-fQcbTmmg.js";import"./index-C6cyPD58.js";import"./index-CCvZmP4b.js";import"./index-BeO4kSwe.js";import"./index-B3aUD-ws.js";const M={key:0,class:"fw-bold mb-3"},N={class:"mb-3 d-flex align-items-center justify-content-between"},j={class:"segmented"},R={key:1,class:"text-danger d-block mb-3"},A={class:"vstack gap-3"},D={class:"col-md-2 fw-semibold"},H={class:"col-md-3"},Y={class:"col-md-3"},z={class:"col-md-2"},P={class:"segmented"},W=["id","onUpdate:modelValue"],q=["for"],G=["id","onUpdate:modelValue"],J=["for"],K={class:"col-md-2 d-flex justify-content-end"},Q=["disabled","onClick"],X={class:"d-flex align-items-center gap-2"},Z=["onClick"],ee={__name:"Step8",props:{model:Object,formErrors:Object,isOnboarding:{type:Boolean,default:!1}},emits:["save"],setup($,{emit:F}){const u=$,f=F,i=s=>({name:s,open:!0,start:"09:00",end:"17:00",breaks:[]}),o=T({auto_disable:u.model?.auto_disable??"yes",hours:u.model?.hours?.map(s=>({...s,name:s.name??s.day,open:s.open??s.is_open??!0,start:s.start??s.from?.slice(0,5)??"09:00",end:s.end??s.to?.slice(0,5)??"17:00",breaks:s.breaks?.map(t=>({...t,start:t.start?.slice(0,5)??"13:00",end:t.end?.slice(0,5)??"14:00"}))||[]}))??[i("Monday"),i("Tuesday"),i("Wednesday"),i("Thursday"),i("Friday"),i("Saturday"),i("Sunday")]});E(o,()=>{const s={step:8,data:{auto_disable:o.auto_disable,hours:o.hours.map(t=>({name:t.name,open:t.open,start:t.start,end:t.end,breaks:t.breaks.map(e=>({start:e.start,end:e.end}))}))}};f("save",s)},{deep:!0,immediate:!0});function n(){f("save",{step:8,data:L(o)})}function U(s){s.breaks.push({start:"13:00",end:"14:00"}),n()}function S(s,t){s.breaks.splice(t,1),n()}const b=O(()=>{const s=[],t=u.model?.time_format==="12-hour";for(let e=0;e<48;e++){const l=Math.floor(e/2),p=e%2?"30":"00";let d=`${String(l).padStart(2,"0")}:${p}`;if(t){let I=l>=12?"PM":"AM";d=`${l%12||12}:${p} ${I}`}s.push({label:d,value:`${String(l).padStart(2,"0")}:${p}`})}return s});return(s,t)=>(c(),r("div",null,[u.isOnboarding?(c(),r("h5",M,"Step 8 of 9 - Business Hours")):w("",!0),a("div",N,[t[2]||(t[2]=a("span",null,"Auto-disable ordering after hours",-1)),a("div",j,[m(a("input",{class:"segmented__input",type:"radio",id:"ad-yes",value:"yes","onUpdate:modelValue":t[0]||(t[0]=e=>o.auto_disable=e),onChange:n},null,544),[[g,o.auto_disable]]),a("label",{class:_(["segmented__btn",{"is-active":o.auto_disable==="yes"}]),for:"ad-yes"},"YES",2),m(a("input",{class:"segmented__input",type:"radio",id:"ad-no",value:"no","onUpdate:modelValue":t[1]||(t[1]=e=>o.auto_disable=e),onChange:n},null,544),[[g,o.auto_disable]]),a("label",{class:_(["segmented__btn",{"is-active":o.auto_disable==="no"}]),for:"ad-no"},"NO",2)])]),u.formErrors?.attendance_policy?(c(),r("small",R,y(u.formErrors.attendance_policy[0]),1)):w("",!0),a("div",A,[(c(!0),r(x,null,V(o.hours,e=>(c(),r("div",{key:e.name,class:"day-row row g-2 align-items-center"},[a("div",D,y(e.name),1),a("div",H,[h(v(k),{class:"w-100",modelValue:e.start,"onUpdate:modelValue":l=>e.start=l,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n,placeholder:"Start"},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),a("div",Y,[h(v(k),{class:"w-100",modelValue:e.end,"onUpdate:modelValue":l=>e.end=l,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n,placeholder:"End"},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),a("div",z,[a("div",P,[m(a("input",{class:"segmented__input",type:"radio",id:`${e.name}-open`,value:!0,"onUpdate:modelValue":l=>e.open=l,onChange:n},null,40,W),[[g,e.open]]),a("label",{class:_(["segmented__btn",{"is-active":e.open===!0}]),for:`${e.name}-open`},"Open",10,q),m(a("input",{class:"segmented__input",type:"radio",id:`${e.name}-close`,value:!1,"onUpdate:modelValue":l=>e.open=l,onChange:n},null,40,G),[[g,e.open]]),a("label",{class:_(["segmented__btn",{"is-active":e.open===!1}]),for:`${e.name}-close`},"Close",10,J)])]),a("div",K,[a("button",{class:"btn btn-sm btn-success rounded-pill px-3",disabled:!e.open,onClick:l=>U(e)},[...t[3]||(t[3]=[a("i",{class:"bi bi-plus-lg me-1"},null,-1),C(" Add break ",-1)])],8,Q)]),(c(!0),r(x,null,V(e.breaks,(l,p)=>(c(),r("div",{key:`${e.name}-b${p}`,class:"offset-md-2 col-md-8"},[a("div",X,[t[5]||(t[5]=a("small",{class:"text-muted"},"Break",-1)),h(v(k),{class:"w-auto",modelValue:l.start,"onUpdate:modelValue":d=>l.start=d,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),h(v(k),{class:"w-auto",modelValue:l.end,"onUpdate:modelValue":d=>l.end=d,options:b.value,optionLabel:"label",optionValue:"value",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},disabled:!e.open,onChange:n},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),a("button",{class:"btn btn-outline-danger btn-sm rounded-pill ms-auto",onClick:d=>S(e,p)},[...t[4]||(t[4]=[a("i",{class:"bi bi-trash me-1"},null,-1),C(" Remove ",-1)])],8,Z)])]))),128))]))),128))])]))}},de=B(ee,[["__scopeId","data-v-05d53932"]]);export{de as default};

import{_ as pe,r as u,o as z,n as ve,c as b,f as m,b as p,d as y,u as x,h as he,w as R,e as t,t as c,k as E,v as be,l as U,F as T,g as V,S as X,m as H,i as ye,x as ge,q as v}from"./app-BHYyRJnL.js";import{_ as fe}from"./Master-CXzRQq-r.js";import{u as _e}from"./useFormatters-wi1aVjp-.js";import{F as we}from"./FilterModal-D0LkefGG.js";import{E as xe,a as Ce,X as Te,u as $,w as $e}from"./xlsx-CpHCO-2F.js";import{C as ke}from"./clock-L7zyYvx5.js";import{c as De}from"./createLucideIcon-DmJxs4Lg.js";import{C as Ie}from"./circle-check-big-D0fL37vY.js";import{C as Oe}from"./circle-x-Cr4_Uh6n.js";import{P as Se}from"./printer-C7VfPCGs.js";import"./index-B0N7947y.js";import"./index-CpMR2yR9.js";import"./index-Bs9GfHmp.js";import"./sun-soDtTQcu.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=De("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Ne={class:"page-wrapper"},je={class:"row g-4"},Pe={class:"col-md-6 col-xl-3"},Ee={class:"card border-0 shadow-sm rounded-4"},Ve={class:"card-body d-flex align-items-center justify-content-between"},Ke={class:"mb-0 fw-bold"},Le={class:"col-md-6 col-xl-3"},Be={class:"card border-0 shadow-sm rounded-4"},Ae={class:"card-body d-flex align-items-center justify-content-between"},Me={class:"mb-0 fw-bold"},We={class:"col-md-6 col-xl-3"},qe={class:"card border-0 shadow-sm rounded-4"},ze={class:"card-body d-flex align-items-center justify-content-between"},Re={class:"mb-0 fw-bold"},Ue={class:"col-md-6 col-xl-3"},Xe={class:"card border-0 shadow-sm rounded-4"},He={class:"card-body d-flex align-items-center justify-content-between"},Qe={class:"mb-0 fw-bold"},Ge={class:"col-md-6 col-xl-3"},Je={class:"card border-0 shadow-sm rounded-4"},Ze={class:"card-body d-flex align-items-center justify-content-between"},Ye={class:"mb-0 fw-bold"},et={class:"card border-0 shadow-lg rounded-4"},tt={class:"card-body"},st={class:"d-flex flex-wrap gap-2 justify-content-between align-items-center mb-3"},at={class:"d-flex flex-wrap gap-2 align-items-center"},rt={class:"search-wrap"},ot={key:1,class:"form-control search-input",placeholder:"Search",disabled:"",type:"text"},nt={class:"col-md-6"},lt=["onUpdate:modelValue"],dt=["value"],it={class:"col-md-6 mt-3"},ct=["onUpdate:modelValue"],ut=["value"],mt={class:"dropdown"},pt={class:"dropdown-menu dropdown-menu-end shadow rounded-4 py-2"},vt={class:"table-responsive"},ht={class:"table table-hover align-middle mb-0"},bt={key:0},yt={class:"d-flex justify-content-center align-items-center gap-2"},gt=["onClick"],ft=["onClick"],_t=["onClick"],wt=["onClick"],xt=["onClick"],Ct={key:0},Tt={__name:"Index",setup($t){const{dateFmt:Q}=_e(),h=u([]),k=u(!1),G=async()=>{k.value=!0;try{const a=await axios.get("/api/kots/all-orders");h.value=(a.data.data||[]).map(e=>{const s=e.pos_order_type?.order,r=s?.items||[];return{id:s?.id||e.id,created_at:s?.created_at||e.created_at,customer_name:s?.customer_name||"Walk In",total_amount:s?.total_amount||0,sub_total:s?.sub_total||0,status:e.status||"Waiting",type:{order_type:e.pos_order_type?.order_type,table_number:e.pos_order_type?.table_number},payment:s?.payment,items:(e.items||[]).map(o=>{const d=r.find(l=>l.title===o.item_name||l.product_id===o.product_id);return{...o,title:o.item_name,price:d?.price||0,quantity:o.quantity||1,variant_name:o.variant_name||"-",ingredients:o.ingredients||[]}}),orderIndex:e.id}})}catch(a){console.error("Error fetching orders:",a),h.value=[]}finally{k.value=!1}};z(async()=>{_.value="",K.value=Date.now(),await ve(),setTimeout(()=>{L.value=!0;const e=document.getElementById(S);e&&(e.value="",_.value="")},100),G();const a=document.getElementById("kotFilterModal");a&&a.addEventListener("hidden.bs.modal",()=>{i.value={sortBy:g.value.sortBy||"",orderType:g.value.orderType||"",status:g.value.status||"",dateFrom:g.value.dateFrom||"",dateTo:g.value.dateTo||""}})});const _=u(""),K=u(Date.now()),S=`search-${Math.random().toString(36).substr(2,9)}`,L=u(!1),i=u({sortBy:"",orderType:"",status:"",dateFrom:"",dateTo:""}),g=u({sortBy:"",orderType:"",status:"",dateFrom:"",dateTo:""});u("All"),u("All"),u(["All","Eat In","Delivery","Takeaway","Collection"]),u(["All","Waiting","In Progress","Done","Cancelled"]);const C=b(()=>!h.value||h.value.length===0?[]:h.value.flatMap((e,s)=>e.items?.map((r,o)=>({...r,status:r.status,orderIndex:s,order:e,uniqueId:`${e.id}-${o}`}))||[])),B=b(()=>{const a=_.value.trim().toLowerCase();let e=[...C.value];return a&&(e=e.filter(s=>[String(s.order?.id),s.item_name??"",s.variant_name??"",s.ingredients?.join(", ")??"",s.status??""].join(" ").toLowerCase().includes(a))),i.value.orderType&&(e=e.filter(s=>(s.order?.type?.order_type??"").toLowerCase()===i.value.orderType.toLowerCase())),i.value.status&&(e=e.filter(s=>s.status?.toLowerCase()===i.value.status.toLowerCase())),i.value.dateFrom&&(e=e.filter(s=>{const r=new Date(s.order?.created_at),o=new Date(i.value.dateFrom);return r>=o})),i.value.dateTo&&(e=e.filter(s=>{const r=new Date(s.order?.created_at),o=new Date(i.value.dateTo);return o.setHours(23,59,59,999),r<=o})),e}),J=a=>{i.value={...i.value,...a},g.value={...i.value},console.log("Filters applied:",i.value)},Z=()=>{i.value={sortBy:"",orderType:"",status:"",dateFrom:"",dateTo:""},g.value={sortBy:"",orderType:"",status:"",dateFrom:"",dateTo:""},console.log("Filters cleared")},A=b(()=>{const a=[...B.value];switch(i.value.sortBy){case"date_desc":return a.sort((s,r)=>new Date(r.order?.created_at)-new Date(s.order?.created_at));case"date_asc":return a.sort((s,r)=>new Date(s.order?.created_at)-new Date(r.order?.created_at));case"item_asc":return a.sort((s,r)=>(s.item_name||"").localeCompare(r.item_name||""));case"item_desc":return a.sort((s,r)=>(r.item_name||"").localeCompare(s.item_name||""));case"order_asc":return a.sort((s,r)=>(s.order?.id||0)-(r.order?.id||0));case"order_desc":return a.sort((s,r)=>(r.order?.id||0)-(s.order?.id||0));default:return a.sort((s,r)=>new Date(r.order?.created_at)-new Date(s.order?.created_at))}}),F=b(()=>({sortOptions:[{value:"item_asc",label:"Item: A to Z"},{value:"item_desc",label:"Item: Z to A"},{value:"order_asc",label:"Order ID: Low to High"},{value:"order_desc",label:"Order ID: High to Low"}],orderTypeOptions:[{value:"Eat In",label:"Eat In"},{value:"Delivery",label:"Delivery"},{value:"Takeaway",label:"Takeaway"},{value:"Collection",label:"Collection"}],statusOptions:[{value:"Waiting",label:"Waiting"},{value:"In Progress",label:"In Progress"},{value:"Done",label:"Done"},{value:"Cancelled",label:"Cancelled"}]})),Y=b(()=>new Set(h.value.map(e=>e.type?.table_number).filter(e=>e)).size),ee=b(()=>C.value.length),te=b(()=>h.value.filter(a=>a.status==="Waiting").length),se=b(()=>h.value.filter(a=>a.status==="Cancelled").length),ae=b(()=>h.value.filter(a=>a.status==="In Progress").length),re=a=>{switch(a){case"Done":return"bg-success";case"Cancelled":return"bg-danger";case"Waiting":return"bg-warning text-dark";case"In Progress":return"bg-info text-white";default:return"bg-secondary"}},D=async(a,e)=>{try{const s=await axios.put(`/api/pos/kot-item/${a.id}/status`,{status:e}),r=h.value.find(o=>o.id===a.order.id);if(r&&r.items){const o=r.items.find(d=>d.id===a.id);o&&(o.status=s.data.status||e,r.items=[...r.items])}v.success(`"${a.item_name}" marked as ${e}`)}catch(s){console.error("Failed to update KOT item status:",s),v.error(s.response?.data?.message||"Failed to update status")}},oe=a=>{const e=JSON.parse(JSON.stringify(a)),s=e?.customer_name||"Walk-in Customer",r=e?.type?.order_type||"Eat In",o=e?.type?.table_number,d=e?.payment,l=e?.items||[],n=l.reduce((w,O)=>w+Number(O.price||0)*Number(O.quantity||0),0),j=e?.total_amount||n,q=e?.created_at?new Date(e.created_at):new Date,ie=q.toISOString().split("T")[0],ce=q.toTimeString().split(" ")[0],P=(d?.payment_method||"cash").toLowerCase();let I="";P==="split"?I=`Payment Type: Split (Cash: £${Number(d?.cash_amount??0).toFixed(2)}, Card: £${Number(d?.card_amount??0).toFixed(2)})`:P==="card"||P==="stripe"?I=`Payment Type: Card${d?.card_brand?` (${d.card_brand}`:""}${d?.last4?` •••• ${d.last4}`:""}${d?.card_brand?")":""}`:I=`Payment Type: ${d?.payment_method||"Cash"}`;const ue=`
    <html>
    <head>
      <title>Kitchen Order Ticket</title>
      <style>
        @page { size: 80mm auto; margin: 0; }
        html, body {
          width: 80mm;
          margin: 0;
          padding: 8px;
          font-family: monospace, Arial, sans-serif;
          font-size: 12px;
          line-height: 1.4;
        }
        .header { text-align: center; margin-bottom: 10px; }
        .order-info { margin: 10px 0; }
        .order-info div { margin-bottom: 3px; }
        .payment-info { margin-top: 8px; margin-bottom: 8px; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { padding: 4px 0; text-align: left; }
        th { border-bottom: 1px solid #000; }
        td:last-child, th:last-child { text-align: right; }
        .totals { margin-top: 10px; border-top: 1px dashed #000; padding-top: 8px; }
        .footer { text-align: center; margin-top: 10px; font-size: 11px; }
      </style>
    </head>
    <body>
      <div class="header">
        <h2>KITCHEN ORDER TICKET</h2>
      </div>
      
      <div class="order-info">
        <div>KOT ID: #${e.id}</div>
        <div>Date: ${ie}</div>
        <div>Time: ${ce}</div>
        <div>Customer: ${s}</div>
        <div>Order Type: ${r}</div>
        ${o?`<div>Table: ${o}</div>`:""}
        
        <div class="payment-info">
          <div>${I}</div>
        </div>
        
        <div>Status: ${e.status}</div>
      </div>

      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Qty</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
         ${l.map(w=>{const O=Number(w.quantity)||1,me=Number(w.price)||0;return`
      <tr>
        <td>${w.title||w.item_name||"Unknown Item"}</td>
        <td>${O}</td>
        <td>£${me.toFixed(2)}</td>
      </tr>
    `}).join("")}
        </tbody>
      </table>

      <div class="totals">
        <div>Subtotal: £${Number(n).toFixed(2)}</div>
        <div>Total: £${Number(j).toFixed(2)}</div>
        ${d?.cash_received?`<div>Cash Received: £${Number(d.cash_received).toFixed(2)}</div>`:""}
        ${d?.change?`<div>Change: £${Number(d.change).toFixed(2)}</div>`:""}
      </div>

      <div class="footer">
        Kitchen Copy - Thank you!
      </div>
    </body>
    </html>
  `,f=window.open("","_blank","width=400,height=600");if(!f){alert("Please allow popups for this site to print KOT");return}f.document.open(),f.document.write(ue),f.document.close(),f.onload=()=>{f.print(),f.close()}},M=u([]),W=u(!1);z(async()=>{W.value=!0;try{const a=await axios.get("/api/printers");console.log("Printers:",a.data.data),M.value=a.data.data.filter(e=>e.is_connected===!0||e.status==="OK").map(e=>({label:`${e.name}`,value:e.name,driver:e.driver,port:e.port}))}catch(a){console.error("Failed to fetch printers:",a)}finally{W.value=!1}});const N=a=>{if(!C.value||C.value.length===0){v.error("No kitchen orders data to download");return}const e=_.value.trim()?A.value:C.value;if(e.length===0){v.error("No kitchen orders found to download");return}try{a==="pdf"?le(e):a==="excel"?de(e):a==="csv"?ne(e):v.error("Invalid download type")}catch(s){console.error("Download failed:",s),v.error(`Download failed: ${s.message}`)}},ne=a=>{try{const e=["Order ID","Item Name","Variant","Quantity","Order Type","Table Number","Ingredients","Status","Customer","Date"],s=a.map(n=>[`"${n.order?.id||""}"`,`"${n.item_name||""}"`,`"${n.variant_name||"-"}"`,`"${n.quantity||1}"`,`"${n.order?.type?.order_type||"-"}"`,`"${n.order?.type?.table_number||"-"}"`,`"${n.ingredients?.join(", ")||"-"}"`,`"${n.status||""}"`,`"${n.order?.customer_name||"Walk In"}"`,`"${n.order?.created_at?Q(n.order.created_at):""}"`]),r=[e.join(","),...s.map(n=>n.join(","))].join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(o),l=document.createElement("a");l.setAttribute("href",d),l.setAttribute("download",`Kitchen_Orders_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(l),l.click(),document.body.removeChild(l),v.success("CSV downloaded successfully")}catch(e){console.error("CSV generation error:",e),v.error(`CSV generation failed: ${e.message}`)}},le=a=>{try{const e=new xe("l","mm","a4");e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Kitchen Orders Report",14,20),e.setFontSize(10),e.setFont("helvetica","normal");const s=new Date().toLocaleString();e.text(`Generated on: ${s}`,14,28),e.text(`Total Items: ${a.length}`,14,34);const r=["Order ID","Item","Variant","Qty","Type","Table","Status","Customer"],o=a.map(l=>[l.order?.id||"",l.item_name||"",l.variant_name||"-",l.quantity||1,l.order?.type?.order_type||"-",l.order?.type?.table_number||"-",l.status||"",l.order?.customer_name||"Walk In"]);Ce(e,{head:[r],body:o,startY:40,styles:{fontSize:8,cellPadding:2,halign:"left",lineColor:[0,0,0],lineWidth:.1},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:14},didDrawPage:l=>{const n=e.internal.getNumberOfPages(),j=e.internal.pageSize.height;e.setFontSize(8),e.text(`Page ${l.pageNumber} of ${n}`,l.settings.margin.left,j-10)}});const d=`Kitchen_Orders_${new Date().toISOString().split("T")[0]}.pdf`;e.save(d),v.success("PDF downloaded successfully")}catch(e){console.error("PDF generation error:",e),v.error(`PDF generation failed: ${e.message}`)}},de=a=>{try{if(typeof Te>"u")throw new Error("XLSX library is not loaded");const e=a.map(n=>({"Order ID":n.order?.id||"","Item Name":n.item_name||"",Variant:n.variant_name||"-",Quantity:n.quantity||1,"Order Type":n.order?.type?.order_type||"-","Table Number":n.order?.type?.table_number||"-",Ingredients:n.ingredients?.join(", ")||"-",Status:n.status||"",Customer:n.order?.customer_name||"Walk In",Date:n.order?.created_at||""})),s=$.book_new(),r=$.json_to_sheet(e);r["!cols"]=[{wch:10},{wch:25},{wch:15},{wch:8},{wch:12},{wch:12},{wch:30},{wch:10},{wch:20},{wch:10},{wch:18}],$.book_append_sheet(s,r,"Kitchen Orders");const o=[{Info:"Generated On",Value:new Date().toLocaleString()},{Info:"Total Items",Value:a.length},{Info:"Exported By",Value:"Kitchen Management System"}],d=$.json_to_sheet(o);$.book_append_sheet(s,d,"Report Info");const l=`Kitchen_Orders_${new Date().toISOString().split("T")[0]}.xlsx`;$e(s,l),v.success("Excel file downloaded successfully")}catch(e){console.error("Excel generation error:",e),v.error(`Excel generation failed: ${e.message}`)}};return(a,e)=>(p(),m(T,null,[y(x(he),{title:"Kitchen Orders"}),y(fe,null,{default:R(()=>[t("div",Ne,[e[27]||(e[27]=t("h4",{class:"fw-semibold mb-3"},"Kitchen Order Tickets",-1)),t("div",je,[t("div",Pe,[t("div",Ee,[t("div",Ve,[t("div",null,[t("h3",Ke,c(Y.value),1),e[6]||(e[6]=t("p",{class:"text-muted mb-0 small"},"Total Tables",-1))]),e[7]||(e[7]=t("div",{class:"rounded-circle p-3 bg-primary-subtle text-primary d-flex align-items-center justify-content-center",style:{width:"56px",height:"56px"}},[t("i",{class:"bi bi-table fs-4"})],-1))])])]),t("div",Le,[t("div",Be,[t("div",Ae,[t("div",null,[t("h3",Me,c(ee.value),1),e[8]||(e[8]=t("p",{class:"text-muted mb-0 small"},"Total Items",-1))]),e[9]||(e[9]=t("div",{class:"rounded-circle p-3 bg-success-subtle text-success d-flex align-items-center justify-content-center",style:{width:"56px",height:"56px"}},[t("i",{class:"bi bi-basket fs-4"})],-1))])])]),t("div",We,[t("div",qe,[t("div",ze,[t("div",null,[t("h3",Re,c(te.value),1),e[10]||(e[10]=t("p",{class:"text-muted mb-0 small"},"Pending Orders",-1))]),e[11]||(e[11]=t("div",{class:"rounded-circle p-3 bg-warning-subtle text-warning d-flex align-items-center justify-content-center",style:{width:"56px",height:"56px"}},[t("i",{class:"bi bi-hourglass-split fs-4"})],-1))])])]),t("div",Ue,[t("div",Xe,[t("div",He,[t("div",null,[t("h3",Qe,c(ae.value),1),e[12]||(e[12]=t("p",{class:"text-muted mb-0 small"},"In Progress",-1))]),e[13]||(e[13]=t("div",{class:"rounded-circle p-3 bg-info-subtle text-info d-flex align-items-center justify-content-center",style:{width:"56px",height:"56px"}},[t("i",{class:"bi bi-hourglass-split fs-4"})],-1))])])]),t("div",Ge,[t("div",Je,[t("div",Ze,[t("div",null,[t("h3",Ye,c(se.value),1),e[14]||(e[14]=t("p",{class:"text-muted mb-0 small"},"Cancelled Orders",-1))]),e[15]||(e[15]=t("div",{class:"rounded-circle p-3 bg-danger-subtle text-danger d-flex align-items-center justify-content-center",style:{width:"56px",height:"56px"}},[t("i",{class:"bi bi-x-circle fs-4"})],-1))])])])]),t("div",et,[t("div",tt,[t("div",st,[e[23]||(e[23]=t("h5",{class:"mb-0 fw-semibold"},"Kitchen Orders",-1)),t("div",at,[t("div",rt,[e[16]||(e[16]=t("i",{class:"bi bi-search"},null,-1)),e[17]||(e[17]=t("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),L.value?E((p(),m("input",{id:S,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),key:K.value,class:"form-control search-input",placeholder:"Search",type:"search",autocomplete:"new-password",name:S,role:"presentation",onFocus:e[1]||(e[1]=(...s)=>a.handleFocus&&a.handleFocus(...s))},null,32)),[[be,_.value]]):(p(),m("input",ot))]),y(we,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),title:"Kitchen Orders","modal-id":"kotFilterModal","modal-size":"modal-lg","sort-options":F.value.sortOptions,"show-date-range":!0,onApply:J,showDateRange:!1,"show-stock-status":!1,onClear:Z},{customFilters:R(({filters:s})=>[t("div",nt,[e[19]||(e[19]=t("label",{class:"form-label fw-semibold text-dark"},[t("i",{class:"fas fa-concierge-bell me-2 text-muted"}),U("Order Type ")],-1)),E(t("select",{"onUpdate:modelValue":r=>s.orderType=r,class:"form-select"},[e[18]||(e[18]=t("option",{value:""},"All",-1)),(p(!0),m(T,null,V(F.value.orderTypeOptions,r=>(p(),m("option",{key:r.value,value:r.value},c(r.label),9,dt))),128))],8,lt),[[X,s.orderType]])]),t("div",it,[e[21]||(e[21]=t("label",{class:"form-label fw-semibold text-dark"},[t("i",{class:"fas fa-tasks me-2 text-muted"}),U("Order Status ")],-1)),E(t("select",{"onUpdate:modelValue":r=>s.status=r,class:"form-select"},[e[20]||(e[20]=t("option",{value:""},"All",-1)),(p(!0),m(T,null,V(F.value.statusOptions,r=>(p(),m("option",{key:r.value,value:r.value},c(r.label),9,ut))),128))],8,ct),[[X,s.status]])])]),_:1},8,["modelValue","sort-options"]),t("div",mt,[e[22]||(e[22]=t("button",{class:"btn btn-outline-secondary rounded-pill px-4 dropdown-toggle","data-bs-toggle":"dropdown"}," Export ",-1)),t("ul",pt,[t("li",null,[t("a",{class:"dropdown-item py-2",href:"javascript:;",onClick:e[3]||(e[3]=s=>N("pdf"))}," Export as PDF ")]),t("li",null,[t("a",{class:"dropdown-item py-2",href:"javascript:;",onClick:e[4]||(e[4]=s=>N("excel"))}," Export as Excel ")]),t("li",null,[t("a",{class:"dropdown-item py-2",href:"javascript:;",onClick:e[5]||(e[5]=s=>N("csv"))}," Export as CSV ")])])])])]),t("div",vt,[t("table",ht,[e[26]||(e[26]=t("thead",{class:"border-top small text-muted"},[t("tr",null,[t("th",null,"#"),t("th",null,"Order ID"),t("th",null,"Item Name"),t("th",null,"Variant"),t("th",null,"Order Type"),t("th",null,"Ingredients"),t("th",null,"Status"),t("th",{class:"text-center"},"Actions")])],-1)),t("tbody",null,[k.value?(p(),m("tr",bt,[...e[24]||(e[24]=[t("td",{colspan:"11",class:"text-center py-5"},[t("div",{class:"d-flex flex-column align-items-center justify-content-center"},[t("div",{class:"spinner-border mb-3",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},[t("span",{class:"visually-hidden"},"Loading...")]),t("div",{class:"fw-semibold text-muted"},"Loading KOT orders...")])],-1)])])):(p(),m(T,{key:1},[(p(!0),m(T,null,V(A.value,(s,r)=>(p(),m("tr",{key:s.uniqueId||r},[t("td",null,c(r+1),1),t("td",null,c(s.order?.id),1),t("td",null,c(s.item_name),1),t("td",null,c(s.variant_name),1),t("td",null,c(s.order?.type?.order_type||"-"),1),t("td",null,c(s.ingredients?.join(", ")||"-"),1),t("td",null,[t("span",{class:ye(["badge","rounded-pill",re(s.status)]),style:{width:"80px",display:"inline-flex","justify-content":"center","align-items":"center",height:"25px"}},c(s.status),3)]),t("td",null,[t("div",yt,[t("button",{onClick:o=>D(s,"Waiting"),title:"Waiting",class:"p-2 rounded-full text-warning hover:bg-gray-100"},[y(x(ke),{class:"w-5 h-5"})],8,gt),t("button",{onClick:o=>D(s,"In Progress"),title:"In Progress",class:"p-2 rounded-full text-info hover:bg-gray-100"},[y(x(Fe),{class:"w-5 h-5"})],8,ft),t("button",{onClick:o=>D(s,"Done"),title:"Done",class:"p-2 rounded-full text-success hover:bg-gray-100"},[y(x(Ie),{class:"w-5 h-5"})],8,_t),t("button",{onClick:o=>D(s,"Cancelled"),title:"Cancelled",class:"p-2 rounded-full text-danger hover:bg-gray-100"},[y(x(Oe),{class:"w-5 h-5"})],8,wt),M.value.length>0?(p(),m("button",{key:0,class:"p-2 rounded-full text-gray-600 hover:bg-gray-100",onClick:ge(o=>oe(s.order),["prevent"]),title:"Print"},[y(x(Se),{class:"w-5 h-5"})],8,xt)):H("",!0)])])]))),128)),!k.value&&B.value.length===0?(p(),m("tr",Ct,[...e[25]||(e[25]=[t("td",{colspan:"8",class:"text-center text-muted py-4"}," No KOT Order found. ",-1)])])):H("",!0)],64))])])])])])])]),_:1})],64))}},Wt=pe(Tt,[["__scopeId","data-v-8586817c"]]);export{Wt as default};

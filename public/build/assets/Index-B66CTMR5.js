import{g as O,b as x,f as c,a3 as mt,a0 as Ga,a as ln,H as li,d as Pt,m as at,l as G,k as lr,ae as Lr,V as Hb,j as nt,a6 as Ub,aS as nf,ag as Vb,a4 as zb,E as Iu,F as We,i as ht,e as tt,t as N,b5 as ka,w as Pi,c as be,p as fe,_ as Kb,o as gs,n as Ou,r as H,A as Yb,z as Gb,s as V,u as ce,h as jb,v as ar,y as $i,K as Eo,T as Qb}from"./app-CCSEjIT4.js";import{_ as Xb}from"./Master-Byc-9el0.js";import rf from"./ConfirmOrderModal-CIrwUL39.js";import Zb from"./ReceiptModal-DxHGcIfz.js";import Jb from"./PromoModal-DuR1mYjG.js";import ey from"./KotModal-BujElmCd.js";import{u as ty}from"./useFormatters-DQEMZb3n.js";import ny from"./PosOrdersModal--Nokbpzd.js";import{F as ry}from"./FilterModal-Dz_N-XP4.js";import{s as iy}from"./index-oZPXpnFD.js";import{a as sy,s as ja,f as oy}from"./index-BQdLG6Qw.js";import{s as ay}from"./index-DIvh2939.js";import{R as ly}from"./index-Bm9uMUox.js";import uy from"./DiscountModal-HJdfWSgR.js";import cy from"./PendingOrdersModal-CphKgwuS.js";import{P as sf}from"./pencil-CyazALLb.js";import{E as dy}from"./eye-BdaCAh3y.js";import"./index-B5eCIMEK.js";import"./createLucideIcon-bhPlb3RE.js";import"./sun-BVEIikp2.js";import"./StripePayment-D-4eXxlb.js";import"./SplitPayment-SIxyhYtN.js";import"./Receipt-QCZwPmvg.js";import"./clock-CNL_4wEv.js";import"./circle-check-big-DmkLSedv.js";import"./circle-x-jZcRr4OU.js";import"./printer-Bj-hunYa.js";var ec={name:"ChevronUpIcon",extends:sy};function fy(o){return _y(o)||vy(o)||hy(o)||py()}function py(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(o,n){if(o){if(typeof o=="string")return Ku(o,n);var i={}.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ku(o,n):void 0}}function vy(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _y(o){if(Array.isArray(o))return Ku(o)}function Ku(o,n){(n==null||n>o.length)&&(n=o.length);for(var i=0,f=Array(n);i<n;i++)f[i]=o[i];return f}function my(o,n,i,f,v,g){return x(),O("svg",mt({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),fy(n[0]||(n[0]=[c("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)])),16)}ec.render=my;var gy={root:"p-accordioncontent",content:"p-accordioncontent-content"},by=Ga.extend({name:"accordioncontent",classes:gy}),yy={name:"BaseAccordionContent",extends:ja,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:by,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},Wa={name:"AccordionContent",extends:yy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return mt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function wy(o,n,i,f,v,g){return o.asChild?li(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs}):(x(),ln(Hb,mt({key:0,name:"p-toggleable-content"},o.ptm("transition",g.ptParams)),{default:Pt(function(){return[!g.$pcAccordion.lazy||g.$pcAccordionPanel.active?at((x(),ln(lr(o.as),mt({key:0,class:o.cx("root")},g.attrs),{default:Pt(function(){return[c("div",mt({class:o.cx("content")},o.ptm("content",g.ptParams)),[li(o.$slots,"default")],16)]}),_:3},16,["class"])),[[Lr,g.$pcAccordion.lazy?!0:g.$pcAccordionPanel.active]]):G("",!0)]}),_:3},16))}Wa.render=wy;var Ey={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},Ay=Ga.extend({name:"accordionheader",classes:Ey}),xy={name:"BaseAccordionHeader",extends:ja,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:Ay,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},Ha={name:"AccordionHeader",extends:xy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){!this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onKeydown:function(n){switch(n.code){case"ArrowDown":this.onArrowDownKey(n);break;case"ArrowUp":this.onArrowUpKey(n);break;case"Home":this.onHomeKey(n);break;case"End":this.onEndKey(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDownKey:function(n){var i=this.findNextPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onHomeKey(n),n.preventDefault()},onArrowUpKey:function(n){var i=this.findPrevPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onEndKey(n),n.preventDefault()},onHomeKey:function(n){var i=this.findFirstPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEndKey:function(n){var i=this.findLastPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEnterKey:function(n){this.changeActiveValue(),n.preventDefault()},findPanel:function(n){return n?.closest('[data-pc-name="accordionpanel"]')},findHeader:function(n){return Vb(n,'[data-pc-name="accordionheader"]')},findNextPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.nextElementSibling;return f?nf(f,"data-p-disabled")?this.findNextPanel(f):this.findHeader(f):null},findPrevPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.previousElementSibling;return f?nf(f,"data-p-disabled")?this.findPrevPanel(f):this.findHeader(f):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(n,i){Ub(this.findHeader(i))}},computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return mt(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}},dataP:function(){return oy({active:this.$pcAccordionPanel.active})}},components:{ChevronUpIcon:ec,ChevronDownIcon:ay},directives:{ripple:ly}};function Cy(o,n,i,f,v,g){var E=zb("ripple");return o.asChild?li(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs,onClick:g.onClick}):at((x(),ln(lr(o.as),mt({key:0,"data-p":g.dataP,class:o.cx("root"),onClick:g.onClick},g.attrs),{default:Pt(function(){return[li(o.$slots,"default",{active:g.$pcAccordionPanel.active}),li(o.$slots,"toggleicon",{active:g.$pcAccordionPanel.active,class:nt(o.cx("toggleicon"))},function(){return[g.$pcAccordionPanel.active?(x(),ln(lr(g.$pcAccordion.$slots.collapseicon?g.$pcAccordion.$slots.collapseicon:g.$pcAccordion.collapseIcon?"span":"ChevronUpIcon"),mt({key:0,class:[g.$pcAccordion.collapseIcon,o.cx("toggleicon")],"aria-hidden":"true"},o.ptm("toggleicon",g.ptParams)),null,16,["class"])):(x(),ln(lr(g.$pcAccordion.$slots.expandicon?g.$pcAccordion.$slots.expandicon:g.$pcAccordion.expandIcon?"span":"ChevronDownIcon"),mt({key:1,class:[g.$pcAccordion.expandIcon,o.cx("toggleicon")],"aria-hidden":"true"},o.ptm("toggleicon",g.ptParams)),null,16,["class"]))]})]}),_:3},16,["data-p","class","onClick"])),[[E]])}Ha.render=Cy;var Ty={root:function(n){var i=n.instance,f=n.props;return["p-accordionpanel",{"p-accordionpanel-active":i.active,"p-disabled":f.disabled}]}},Sy=Ga.extend({name:"accordionpanel",classes:Ty}),Iy={name:"BaseAccordionPanel",extends:ja,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Sy,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},Ua={name:"AccordionPanel",extends:Iy,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return mt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function Oy(o,n,i,f,v,g){return o.asChild?li(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.active,a11yAttrs:g.a11yAttrs}):(x(),ln(lr(o.as),mt({key:0,class:o.cx("root")},g.attrs),{default:Pt(function(){return[li(o.$slots,"default")]}),_:3},16,["class"]))}Ua.render=Oy;var ky=`
    .p-accordionpanel {
        display: flex;
        flex-direction: column;
        border-style: solid;
        border-width: dt('accordion.panel.border.width');
        border-color: dt('accordion.panel.border.color');
    }

    .p-accordionheader {
        all: unset;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('accordion.header.padding');
        color: dt('accordion.header.color');
        background: dt('accordion.header.background');
        border-style: solid;
        border-width: dt('accordion.header.border.width');
        border-color: dt('accordion.header.border.color');
        font-weight: dt('accordion.header.font.weight');
        border-radius: dt('accordion.header.border.radius');
        transition:
            background dt('accordion.transition.duration'),
            color dt('accordion.transition.duration'),
            outline-color dt('accordion.transition.duration'),
            box-shadow dt('accordion.transition.duration');
        outline-color: transparent;
    }

    .p-accordionpanel:first-child > .p-accordionheader {
        border-width: dt('accordion.header.first.border.width');
        border-start-start-radius: dt('accordion.header.first.top.border.radius');
        border-start-end-radius: dt('accordion.header.first.top.border.radius');
    }

    .p-accordionpanel:last-child > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.bottom.border.radius');
    }

    .p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.active.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.active.bottom.border.radius');
    }

    .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.color');
    }

    .p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
        box-shadow: dt('accordion.header.focus.ring.shadow');
        outline: dt('accordion.header.focus.ring.width') dt('accordion.header.focus.ring.style') dt('accordion.header.focus.ring.color');
        outline-offset: dt('accordion.header.focus.ring.offset');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
        background: dt('accordion.header.hover.background');
        color: dt('accordion.header.hover.color');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
        background: dt('accordion.header.active.background');
        color: dt('accordion.header.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
        background: dt('accordion.header.active.hover.background');
        color: dt('accordion.header.active.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.hover.color');
    }

    .p-accordioncontent-content {
        border-style: solid;
        border-width: dt('accordion.content.border.width');
        border-color: dt('accordion.content.border.color');
        background-color: dt('accordion.content.background');
        color: dt('accordion.content.color');
        padding: dt('accordion.content.padding');
    }
`,Dy={root:"p-accordion p-component"},Ny=Ga.extend({name:"accordion",style:ky,classes:Dy}),$y={name:"BaseAccordion",extends:ja,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:Ny,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},Uf={name:"Accordion",extends:$y,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{d_value:this.value}},watch:{value:function(n){this.d_value=n},activeIndex:{immediate:!0,handler:function(n){this.hasAccordionTab&&(this.d_value=this.multiple?n?.map(String):n?.toString())}}},methods:{isItemActive:function(n){var i;return this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.includes(n):this.d_value===n},updateValue:function(n){var i,f=this.isItemActive(n);this.multiple?f?this.d_value=this.d_value.filter(function(v){return v!==n}):this.d_value?this.d_value.push(n):this.d_value=[n]:this.d_value=f?null:n,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.map(Number):Number(this.d_value)),this.$emit(f?"tab-close":"tab-open",{originalEvent:void 0,index:Number(n)})},isAccordionTab:function(n){return n.type.name==="AccordionTab"},getTabProp:function(n,i){return n.props?n.props[i]:void 0},getKey:function(n,i){return this.getTabProp(n,"header")||i},getHeaderPT:function(n,i){var f=this;return{root:mt({onClick:function(g){return f.onTabClick(g,i)}},this.getTabProp(n,"headerProps"),this.getTabPT(n,"header",i)),toggleicon:mt(this.getTabProp(n,"headeractionprops"),this.getTabPT(n,"headeraction",i))}},getContentPT:function(n,i){return{root:mt(this.getTabProp(n,"contentProps"),this.getTabPT(n,"toggleablecontent",i)),transition:this.getTabPT(n,"transition",i),content:this.getTabPT(n,"content",i)}},getTabPT:function(n,i,f){var v=this.tabs.length,g={props:n.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:f,count:v,first:f===0,last:f===v-1,active:this.isItemActive("".concat(f))}};return mt(this.ptm("accordiontab.".concat(i),g),this.ptmo(this.getTabProp(n,"pt"),i,g))},onTabClick:function(n,i){this.$emit("tab-click",{originalEvent:n,index:i})}},computed:{tabs:function(){var n=this;return this.$slots.default().reduce(function(i,f){return n.isAccordionTab(f)?i.push(f):f.children&&f.children instanceof Array&&f.children.forEach(function(v){n.isAccordionTab(v)&&i.push(v)}),i},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:Ua,AccordionHeader:Ha,AccordionContent:Wa,ChevronUpIcon:ec,ChevronRightIcon:iy}};function Py(o,n,i,f,v,g){var E=Iu("AccordionHeader"),S=Iu("AccordionContent"),C=Iu("AccordionPanel");return x(),O("div",mt({class:o.cx("root")},o.ptmi("root")),[g.hasAccordionTab?(x(!0),O(We,{key:0},ht(g.tabs,function(M,L){return x(),ln(C,{key:g.getKey(M,L),value:"".concat(L),pt:{root:g.getTabPT(M,"root",L)},disabled:g.getTabProp(M,"disabled")},{default:Pt(function(){return[tt(E,{class:nt(g.getTabProp(M,"headerClass")),pt:g.getHeaderPT(M,L)},{toggleicon:Pt(function(U){return[U.active?(x(),ln(lr(o.$slots.collapseicon?o.$slots.collapseicon:o.collapseIcon?"span":"ChevronDownIcon"),mt({key:0,class:[o.collapseIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",L)),null,16,["class"])):(x(),ln(lr(o.$slots.expandicon?o.$slots.expandicon:o.expandIcon?"span":"ChevronUpIcon"),mt({key:1,class:[o.expandIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",L)),null,16,["class"]))]}),default:Pt(function(){return[M.children&&M.children.headericon?(x(),ln(lr(M.children.headericon),{key:0,isTabActive:g.isItemActive("".concat(L)),active:g.isItemActive("".concat(L)),index:L},null,8,["isTabActive","active","index"])):G("",!0),M.props&&M.props.header?(x(),O("span",mt({key:1,ref_for:!0},g.getTabPT(M,"headertitle",L)),N(M.props.header),17)):G("",!0),M.children&&M.children.header?(x(),ln(lr(M.children.header),{key:2})):G("",!0)]}),_:2},1032,["class","pt"]),tt(S,{pt:g.getContentPT(M,L)},{default:Pt(function(){return[(x(),ln(lr(M)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):li(o.$slots,"default",{key:1})],16)}Uf.render=Py;var Wt="top",_n="bottom",mn="right",Ht="left",Qa="auto",Ns=[Wt,_n,mn,Ht],Fi="start",Cs="end",Vf="clippingParents",tc="viewport",ws="popper",zf="reference",Yu=Ns.reduce(function(o,n){return o.concat([n+"-"+Fi,n+"-"+Cs])},[]),nc=[].concat(Ns,[Qa]).reduce(function(o,n){return o.concat([n,n+"-"+Fi,n+"-"+Cs])},[]),Kf="beforeRead",Yf="read",Gf="afterRead",jf="beforeMain",Qf="main",Xf="afterMain",Zf="beforeWrite",Jf="write",ep="afterWrite",tp=[Kf,Yf,Gf,jf,Qf,Xf,Zf,Jf,ep];function dr(o){return o?(o.nodeName||"").toLowerCase():null}function gn(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var n=o.ownerDocument;return n&&n.defaultView||window}return o}function qi(o){var n=gn(o).Element;return o instanceof n||o instanceof Element}function Tn(o){var n=gn(o).HTMLElement;return o instanceof n||o instanceof HTMLElement}function rc(o){if(typeof ShadowRoot>"u")return!1;var n=gn(o).ShadowRoot;return o instanceof n||o instanceof ShadowRoot}function Ly(o){var n=o.state;Object.keys(n.elements).forEach(function(i){var f=n.styles[i]||{},v=n.attributes[i]||{},g=n.elements[i];!Tn(g)||!dr(g)||(Object.assign(g.style,f),Object.keys(v).forEach(function(E){var S=v[E];S===!1?g.removeAttribute(E):g.setAttribute(E,S===!0?"":S)}))})}function My(o){var n=o.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(f){var v=n.elements[f],g=n.attributes[f]||{},E=Object.keys(n.styles.hasOwnProperty(f)?n.styles[f]:i[f]),S=E.reduce(function(C,M){return C[M]="",C},{});!Tn(v)||!dr(v)||(Object.assign(v.style,S),Object.keys(g).forEach(function(C){v.removeAttribute(C)}))})}}const ic={name:"applyStyles",enabled:!0,phase:"write",fn:Ly,effect:My,requires:["computeStyles"]};function ur(o){return o.split("-")[0]}var Ri=Math.max,Va=Math.min,Ts=Math.round;function Gu(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function np(){return!/^((?!chrome|android).)*safari/i.test(Gu())}function Ss(o,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var f=o.getBoundingClientRect(),v=1,g=1;n&&Tn(o)&&(v=o.offsetWidth>0&&Ts(f.width)/o.offsetWidth||1,g=o.offsetHeight>0&&Ts(f.height)/o.offsetHeight||1);var E=qi(o)?gn(o):window,S=E.visualViewport,C=!np()&&i,M=(f.left+(C&&S?S.offsetLeft:0))/v,L=(f.top+(C&&S?S.offsetTop:0))/g,U=f.width/v,Z=f.height/g;return{width:U,height:Z,top:L,right:M+U,bottom:L+Z,left:M,x:M,y:L}}function sc(o){var n=Ss(o),i=o.offsetWidth,f=o.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-f)<=1&&(f=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:f}}function rp(o,n){var i=n.getRootNode&&n.getRootNode();if(o.contains(n))return!0;if(i&&rc(i)){var f=n;do{if(f&&o.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Fr(o){return gn(o).getComputedStyle(o)}function Ry(o){return["table","td","th"].indexOf(dr(o))>=0}function fi(o){return((qi(o)?o.ownerDocument:o.document)||window.document).documentElement}function Xa(o){return dr(o)==="html"?o:o.assignedSlot||o.parentNode||(rc(o)?o.host:null)||fi(o)}function of(o){return!Tn(o)||Fr(o).position==="fixed"?null:o.offsetParent}function Fy(o){var n=/firefox/i.test(Gu()),i=/Trident/i.test(Gu());if(i&&Tn(o)){var f=Fr(o);if(f.position==="fixed")return null}var v=Xa(o);for(rc(v)&&(v=v.host);Tn(v)&&["html","body"].indexOf(dr(v))<0;){var g=Fr(v);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||n&&g.willChange==="filter"||n&&g.filter&&g.filter!=="none")return v;v=v.parentNode}return null}function ko(o){for(var n=gn(o),i=of(o);i&&Ry(i)&&Fr(i).position==="static";)i=of(i);return i&&(dr(i)==="html"||dr(i)==="body"&&Fr(i).position==="static")?n:i||Fy(o)||n}function oc(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function To(o,n,i){return Ri(o,Va(n,i))}function qy(o,n,i){var f=To(o,n,i);return f>i?i:f}function ip(){return{top:0,right:0,bottom:0,left:0}}function sp(o){return Object.assign({},ip(),o)}function op(o,n){return n.reduce(function(i,f){return i[f]=o,i},{})}var By=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,sp(typeof n!="number"?n:op(n,Ns))};function Wy(o){var n,i=o.state,f=o.name,v=o.options,g=i.elements.arrow,E=i.modifiersData.popperOffsets,S=ur(i.placement),C=oc(S),M=[Ht,mn].indexOf(S)>=0,L=M?"height":"width";if(!(!g||!E)){var U=By(v.padding,i),Z=sc(g),z=C==="y"?Wt:Ht,Q=C==="y"?_n:mn,te=i.rects.reference[L]+i.rects.reference[C]-E[C]-i.rects.popper[L],ie=E[C]-i.rects.reference[C],le=ko(g),Ne=le?C==="y"?le.clientHeight||0:le.clientWidth||0:0,$e=te/2-ie/2,J=U[z],_e=Ne-Z[L]-U[Q],Ae=Ne/2-Z[L]/2+$e,we=To(J,Ae,_e),Oe=C;i.modifiersData[f]=(n={},n[Oe]=we,n.centerOffset=we-Ae,n)}}function Hy(o){var n=o.state,i=o.options,f=i.element,v=f===void 0?"[data-popper-arrow]":f;v!=null&&(typeof v=="string"&&(v=n.elements.popper.querySelector(v),!v)||rp(n.elements.popper,v)&&(n.elements.arrow=v))}const ap={name:"arrow",enabled:!0,phase:"main",fn:Wy,effect:Hy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Is(o){return o.split("-")[1]}var Uy={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vy(o,n){var i=o.x,f=o.y,v=n.devicePixelRatio||1;return{x:Ts(i*v)/v||0,y:Ts(f*v)/v||0}}function af(o){var n,i=o.popper,f=o.popperRect,v=o.placement,g=o.variation,E=o.offsets,S=o.position,C=o.gpuAcceleration,M=o.adaptive,L=o.roundOffsets,U=o.isFixed,Z=E.x,z=Z===void 0?0:Z,Q=E.y,te=Q===void 0?0:Q,ie=typeof L=="function"?L({x:z,y:te}):{x:z,y:te};z=ie.x,te=ie.y;var le=E.hasOwnProperty("x"),Ne=E.hasOwnProperty("y"),$e=Ht,J=Wt,_e=window;if(M){var Ae=ko(i),we="clientHeight",Oe="clientWidth";if(Ae===gn(i)&&(Ae=fi(i),Fr(Ae).position!=="static"&&S==="absolute"&&(we="scrollHeight",Oe="scrollWidth")),Ae=Ae,v===Wt||(v===Ht||v===mn)&&g===Cs){J=_n;var qe=U&&Ae===_e&&_e.visualViewport?_e.visualViewport.height:Ae[we];te-=qe-f.height,te*=C?1:-1}if(v===Ht||(v===Wt||v===_n)&&g===Cs){$e=mn;var Ke=U&&Ae===_e&&_e.visualViewport?_e.visualViewport.width:Ae[Oe];z-=Ke-f.width,z*=C?1:-1}}var Ze=Object.assign({position:S},M&&Uy),Le=L===!0?Vy({x:z,y:te},gn(i)):{x:z,y:te};if(z=Le.x,te=Le.y,C){var je;return Object.assign({},Ze,(je={},je[J]=Ne?"0":"",je[$e]=le?"0":"",je.transform=(_e.devicePixelRatio||1)<=1?"translate("+z+"px, "+te+"px)":"translate3d("+z+"px, "+te+"px, 0)",je))}return Object.assign({},Ze,(n={},n[J]=Ne?te+"px":"",n[$e]=le?z+"px":"",n.transform="",n))}function zy(o){var n=o.state,i=o.options,f=i.gpuAcceleration,v=f===void 0?!0:f,g=i.adaptive,E=g===void 0?!0:g,S=i.roundOffsets,C=S===void 0?!0:S,M={placement:ur(n.placement),variation:Is(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:v,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,af(Object.assign({},M,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:E,roundOffsets:C})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,af(Object.assign({},M,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:C})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const ac={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zy,data:{}};var Da={passive:!0};function Ky(o){var n=o.state,i=o.instance,f=o.options,v=f.scroll,g=v===void 0?!0:v,E=f.resize,S=E===void 0?!0:E,C=gn(n.elements.popper),M=[].concat(n.scrollParents.reference,n.scrollParents.popper);return g&&M.forEach(function(L){L.addEventListener("scroll",i.update,Da)}),S&&C.addEventListener("resize",i.update,Da),function(){g&&M.forEach(function(L){L.removeEventListener("scroll",i.update,Da)}),S&&C.removeEventListener("resize",i.update,Da)}}const lc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ky,data:{}};var Yy={left:"right",right:"left",bottom:"top",top:"bottom"};function Fa(o){return o.replace(/left|right|bottom|top/g,function(n){return Yy[n]})}var Gy={start:"end",end:"start"};function lf(o){return o.replace(/start|end/g,function(n){return Gy[n]})}function uc(o){var n=gn(o),i=n.pageXOffset,f=n.pageYOffset;return{scrollLeft:i,scrollTop:f}}function cc(o){return Ss(fi(o)).left+uc(o).scrollLeft}function jy(o,n){var i=gn(o),f=fi(o),v=i.visualViewport,g=f.clientWidth,E=f.clientHeight,S=0,C=0;if(v){g=v.width,E=v.height;var M=np();(M||!M&&n==="fixed")&&(S=v.offsetLeft,C=v.offsetTop)}return{width:g,height:E,x:S+cc(o),y:C}}function Qy(o){var n,i=fi(o),f=uc(o),v=(n=o.ownerDocument)==null?void 0:n.body,g=Ri(i.scrollWidth,i.clientWidth,v?v.scrollWidth:0,v?v.clientWidth:0),E=Ri(i.scrollHeight,i.clientHeight,v?v.scrollHeight:0,v?v.clientHeight:0),S=-f.scrollLeft+cc(o),C=-f.scrollTop;return Fr(v||i).direction==="rtl"&&(S+=Ri(i.clientWidth,v?v.clientWidth:0)-g),{width:g,height:E,x:S,y:C}}function dc(o){var n=Fr(o),i=n.overflow,f=n.overflowX,v=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+v+f)}function lp(o){return["html","body","#document"].indexOf(dr(o))>=0?o.ownerDocument.body:Tn(o)&&dc(o)?o:lp(Xa(o))}function So(o,n){var i;n===void 0&&(n=[]);var f=lp(o),v=f===((i=o.ownerDocument)==null?void 0:i.body),g=gn(f),E=v?[g].concat(g.visualViewport||[],dc(f)?f:[]):f,S=n.concat(E);return v?S:S.concat(So(Xa(E)))}function ju(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function Xy(o,n){var i=Ss(o,!1,n==="fixed");return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function uf(o,n,i){return n===tc?ju(jy(o,i)):qi(n)?Xy(n,i):ju(Qy(fi(o)))}function Zy(o){var n=So(Xa(o)),i=["absolute","fixed"].indexOf(Fr(o).position)>=0,f=i&&Tn(o)?ko(o):o;return qi(f)?n.filter(function(v){return qi(v)&&rp(v,f)&&dr(v)!=="body"}):[]}function Jy(o,n,i,f){var v=n==="clippingParents"?Zy(o):[].concat(n),g=[].concat(v,[i]),E=g[0],S=g.reduce(function(C,M){var L=uf(o,M,f);return C.top=Ri(L.top,C.top),C.right=Va(L.right,C.right),C.bottom=Va(L.bottom,C.bottom),C.left=Ri(L.left,C.left),C},uf(o,E,f));return S.width=S.right-S.left,S.height=S.bottom-S.top,S.x=S.left,S.y=S.top,S}function up(o){var n=o.reference,i=o.element,f=o.placement,v=f?ur(f):null,g=f?Is(f):null,E=n.x+n.width/2-i.width/2,S=n.y+n.height/2-i.height/2,C;switch(v){case Wt:C={x:E,y:n.y-i.height};break;case _n:C={x:E,y:n.y+n.height};break;case mn:C={x:n.x+n.width,y:S};break;case Ht:C={x:n.x-i.width,y:S};break;default:C={x:n.x,y:n.y}}var M=v?oc(v):null;if(M!=null){var L=M==="y"?"height":"width";switch(g){case Fi:C[M]=C[M]-(n[L]/2-i[L]/2);break;case Cs:C[M]=C[M]+(n[L]/2-i[L]/2);break}}return C}function Os(o,n){n===void 0&&(n={});var i=n,f=i.placement,v=f===void 0?o.placement:f,g=i.strategy,E=g===void 0?o.strategy:g,S=i.boundary,C=S===void 0?Vf:S,M=i.rootBoundary,L=M===void 0?tc:M,U=i.elementContext,Z=U===void 0?ws:U,z=i.altBoundary,Q=z===void 0?!1:z,te=i.padding,ie=te===void 0?0:te,le=sp(typeof ie!="number"?ie:op(ie,Ns)),Ne=Z===ws?zf:ws,$e=o.rects.popper,J=o.elements[Q?Ne:Z],_e=Jy(qi(J)?J:J.contextElement||fi(o.elements.popper),C,L,E),Ae=Ss(o.elements.reference),we=up({reference:Ae,element:$e,placement:v}),Oe=ju(Object.assign({},$e,we)),qe=Z===ws?Oe:Ae,Ke={top:_e.top-qe.top+le.top,bottom:qe.bottom-_e.bottom+le.bottom,left:_e.left-qe.left+le.left,right:qe.right-_e.right+le.right},Ze=o.modifiersData.offset;if(Z===ws&&Ze){var Le=Ze[v];Object.keys(Ke).forEach(function(je){var Ut=[mn,_n].indexOf(je)>=0?1:-1,kn=[Wt,_n].indexOf(je)>=0?"y":"x";Ke[je]+=Le[kn]*Ut})}return Ke}function e1(o,n){n===void 0&&(n={});var i=n,f=i.placement,v=i.boundary,g=i.rootBoundary,E=i.padding,S=i.flipVariations,C=i.allowedAutoPlacements,M=C===void 0?nc:C,L=Is(f),U=L?S?Yu:Yu.filter(function(Q){return Is(Q)===L}):Ns,Z=U.filter(function(Q){return M.indexOf(Q)>=0});Z.length===0&&(Z=U);var z=Z.reduce(function(Q,te){return Q[te]=Os(o,{placement:te,boundary:v,rootBoundary:g,padding:E})[ur(te)],Q},{});return Object.keys(z).sort(function(Q,te){return z[Q]-z[te]})}function t1(o){if(ur(o)===Qa)return[];var n=Fa(o);return[lf(o),n,lf(n)]}function n1(o){var n=o.state,i=o.options,f=o.name;if(!n.modifiersData[f]._skip){for(var v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,S=E===void 0?!0:E,C=i.fallbackPlacements,M=i.padding,L=i.boundary,U=i.rootBoundary,Z=i.altBoundary,z=i.flipVariations,Q=z===void 0?!0:z,te=i.allowedAutoPlacements,ie=n.options.placement,le=ur(ie),Ne=le===ie,$e=C||(Ne||!Q?[Fa(ie)]:t1(ie)),J=[ie].concat($e).reduce(function(Yn,yt){return Yn.concat(ur(yt)===Qa?e1(n,{placement:yt,boundary:L,rootBoundary:U,padding:M,flipVariations:Q,allowedAutoPlacements:te}):yt)},[]),_e=n.rects.reference,Ae=n.rects.popper,we=new Map,Oe=!0,qe=J[0],Ke=0;Ke<J.length;Ke++){var Ze=J[Ke],Le=ur(Ze),je=Is(Ze)===Fi,Ut=[Wt,_n].indexOf(Le)>=0,kn=Ut?"width":"height",gt=Os(n,{placement:Ze,boundary:L,rootBoundary:U,altBoundary:Z,padding:M}),pe=Ut?je?mn:Ht:je?_n:Wt;_e[kn]>Ae[kn]&&(pe=Fa(pe));var It=Fa(pe),Vt=[];if(g&&Vt.push(gt[Le]<=0),S&&Vt.push(gt[pe]<=0,gt[It]<=0),Vt.every(function(Yn){return Yn})){qe=Ze,Oe=!1;break}we.set(Ze,Vt)}if(Oe)for(var Dn=Q?3:1,Ot=function(yt){var bn=J.find(function(Br){var Lt=we.get(Br);if(Lt)return Lt.slice(0,yt).every(function(Nn){return Nn})});if(bn)return qe=bn,"break"},lt=Dn;lt>0;lt--){var fr=Ot(lt);if(fr==="break")break}n.placement!==qe&&(n.modifiersData[f]._skip=!0,n.placement=qe,n.reset=!0)}}const cp={name:"flip",enabled:!0,phase:"main",fn:n1,requiresIfExists:["offset"],data:{_skip:!1}};function cf(o,n,i){return i===void 0&&(i={x:0,y:0}),{top:o.top-n.height-i.y,right:o.right-n.width+i.x,bottom:o.bottom-n.height+i.y,left:o.left-n.width-i.x}}function df(o){return[Wt,mn,_n,Ht].some(function(n){return o[n]>=0})}function r1(o){var n=o.state,i=o.name,f=n.rects.reference,v=n.rects.popper,g=n.modifiersData.preventOverflow,E=Os(n,{elementContext:"reference"}),S=Os(n,{altBoundary:!0}),C=cf(E,f),M=cf(S,v,g),L=df(C),U=df(M);n.modifiersData[i]={referenceClippingOffsets:C,popperEscapeOffsets:M,isReferenceHidden:L,hasPopperEscaped:U},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":L,"data-popper-escaped":U})}const dp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:r1};function i1(o,n,i){var f=ur(o),v=[Ht,Wt].indexOf(f)>=0?-1:1,g=typeof i=="function"?i(Object.assign({},n,{placement:o})):i,E=g[0],S=g[1];return E=E||0,S=(S||0)*v,[Ht,mn].indexOf(f)>=0?{x:S,y:E}:{x:E,y:S}}function s1(o){var n=o.state,i=o.options,f=o.name,v=i.offset,g=v===void 0?[0,0]:v,E=nc.reduce(function(L,U){return L[U]=i1(U,n.rects,g),L},{}),S=E[n.placement],C=S.x,M=S.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=C,n.modifiersData.popperOffsets.y+=M),n.modifiersData[f]=E}const fp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s1};function o1(o){var n=o.state,i=o.name;n.modifiersData[i]=up({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const fc={name:"popperOffsets",enabled:!0,phase:"read",fn:o1,data:{}};function a1(o){return o==="x"?"y":"x"}function l1(o){var n=o.state,i=o.options,f=o.name,v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,S=E===void 0?!1:E,C=i.boundary,M=i.rootBoundary,L=i.altBoundary,U=i.padding,Z=i.tether,z=Z===void 0?!0:Z,Q=i.tetherOffset,te=Q===void 0?0:Q,ie=Os(n,{boundary:C,rootBoundary:M,padding:U,altBoundary:L}),le=ur(n.placement),Ne=Is(n.placement),$e=!Ne,J=oc(le),_e=a1(J),Ae=n.modifiersData.popperOffsets,we=n.rects.reference,Oe=n.rects.popper,qe=typeof te=="function"?te(Object.assign({},n.rects,{placement:n.placement})):te,Ke=typeof qe=="number"?{mainAxis:qe,altAxis:qe}:Object.assign({mainAxis:0,altAxis:0},qe),Ze=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Le={x:0,y:0};if(Ae){if(g){var je,Ut=J==="y"?Wt:Ht,kn=J==="y"?_n:mn,gt=J==="y"?"height":"width",pe=Ae[J],It=pe+ie[Ut],Vt=pe-ie[kn],Dn=z?-Oe[gt]/2:0,Ot=Ne===Fi?we[gt]:Oe[gt],lt=Ne===Fi?-Oe[gt]:-we[gt],fr=n.elements.arrow,Yn=z&&fr?sc(fr):{width:0,height:0},yt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:ip(),bn=yt[Ut],Br=yt[kn],Lt=To(0,we[gt],Yn[gt]),Nn=$e?we[gt]/2-Dn-Lt-bn-Ke.mainAxis:Ot-Lt-bn-Ke.mainAxis,Ms=$e?-we[gt]/2+Dn+Lt+Br+Ke.mainAxis:lt+Lt+Br+Ke.mainAxis,Gn=n.elements.arrow&&ko(n.elements.arrow),Wr=Gn?J==="y"?Gn.clientTop||0:Gn.clientLeft||0:0,Hr=(je=Ze?.[J])!=null?je:0,Mt=pe+Nn-Hr-Wr,zt=pe+Ms-Hr,Hi=To(z?Va(It,Mt):It,pe,z?Ri(Vt,zt):Vt);Ae[J]=Hi,Le[J]=Hi-pe}if(S){var wt,Ui=J==="x"?Wt:Ht,Vi=J==="x"?_n:mn,kt=Ae[_e],Ye=_e==="y"?"height":"width",ye=kt+ie[Ui],Je=kt-ie[Vi],Et=[Wt,Ht].indexOf(le)!==-1,ut=(wt=Ze?.[_e])!=null?wt:0,zi=Et?ye:kt-we[Ye]-Oe[Ye]-ut+Ke.altAxis,Kt=Et?kt+we[Ye]+Oe[Ye]-ut-Ke.altAxis:Je,$n=z&&Et?qy(zi,kt,Kt):To(z?zi:ye,kt,z?Kt:Je);Ae[_e]=$n,Le[_e]=$n-kt}n.modifiersData[f]=Le}}const pp={name:"preventOverflow",enabled:!0,phase:"main",fn:l1,requiresIfExists:["offset"]};function u1(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function c1(o){return o===gn(o)||!Tn(o)?uc(o):u1(o)}function d1(o){var n=o.getBoundingClientRect(),i=Ts(n.width)/o.offsetWidth||1,f=Ts(n.height)/o.offsetHeight||1;return i!==1||f!==1}function f1(o,n,i){i===void 0&&(i=!1);var f=Tn(n),v=Tn(n)&&d1(n),g=fi(n),E=Ss(o,v,i),S={scrollLeft:0,scrollTop:0},C={x:0,y:0};return(f||!f&&!i)&&((dr(n)!=="body"||dc(g))&&(S=c1(n)),Tn(n)?(C=Ss(n,!0),C.x+=n.clientLeft,C.y+=n.clientTop):g&&(C.x=cc(g))),{x:E.left+S.scrollLeft-C.x,y:E.top+S.scrollTop-C.y,width:E.width,height:E.height}}function p1(o){var n=new Map,i=new Set,f=[];o.forEach(function(g){n.set(g.name,g)});function v(g){i.add(g.name);var E=[].concat(g.requires||[],g.requiresIfExists||[]);E.forEach(function(S){if(!i.has(S)){var C=n.get(S);C&&v(C)}}),f.push(g)}return o.forEach(function(g){i.has(g.name)||v(g)}),f}function h1(o){var n=p1(o);return tp.reduce(function(i,f){return i.concat(n.filter(function(v){return v.phase===f}))},[])}function v1(o){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(o())})})),n}}function _1(o){var n=o.reduce(function(i,f){var v=i[f.name];return i[f.name]=v?Object.assign({},v,f,{options:Object.assign({},v.options,f.options),data:Object.assign({},v.data,f.data)}):f,i},{});return Object.keys(n).map(function(i){return n[i]})}var ff={placement:"bottom",modifiers:[],strategy:"absolute"};function pf(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return!n.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Za(o){o===void 0&&(o={});var n=o,i=n.defaultModifiers,f=i===void 0?[]:i,v=n.defaultOptions,g=v===void 0?ff:v;return function(S,C,M){M===void 0&&(M=g);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},ff,g),modifiersData:{},elements:{reference:S,popper:C},attributes:{},styles:{}},U=[],Z=!1,z={state:L,setOptions:function(le){var Ne=typeof le=="function"?le(L.options):le;te(),L.options=Object.assign({},g,L.options,Ne),L.scrollParents={reference:qi(S)?So(S):S.contextElement?So(S.contextElement):[],popper:So(C)};var $e=h1(_1([].concat(f,L.options.modifiers)));return L.orderedModifiers=$e.filter(function(J){return J.enabled}),Q(),z.update()},forceUpdate:function(){if(!Z){var le=L.elements,Ne=le.reference,$e=le.popper;if(pf(Ne,$e)){L.rects={reference:f1(Ne,ko($e),L.options.strategy==="fixed"),popper:sc($e)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(Ke){return L.modifiersData[Ke.name]=Object.assign({},Ke.data)});for(var J=0;J<L.orderedModifiers.length;J++){if(L.reset===!0){L.reset=!1,J=-1;continue}var _e=L.orderedModifiers[J],Ae=_e.fn,we=_e.options,Oe=we===void 0?{}:we,qe=_e.name;typeof Ae=="function"&&(L=Ae({state:L,options:Oe,name:qe,instance:z})||L)}}}},update:v1(function(){return new Promise(function(ie){z.forceUpdate(),ie(L)})}),destroy:function(){te(),Z=!0}};if(!pf(S,C))return z;z.setOptions(M).then(function(ie){!Z&&M.onFirstUpdate&&M.onFirstUpdate(ie)});function Q(){L.orderedModifiers.forEach(function(ie){var le=ie.name,Ne=ie.options,$e=Ne===void 0?{}:Ne,J=ie.effect;if(typeof J=="function"){var _e=J({state:L,name:le,instance:z,options:$e}),Ae=function(){};U.push(_e||Ae)}})}function te(){U.forEach(function(ie){return ie()}),U=[]}return z}}var m1=Za(),g1=[lc,fc,ac,ic],b1=Za({defaultModifiers:g1}),y1=[lc,fc,ac,ic,fp,cp,pp,ap,dp],pc=Za({defaultModifiers:y1});const hp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Xf,afterRead:Gf,afterWrite:ep,applyStyles:ic,arrow:ap,auto:Qa,basePlacements:Ns,beforeMain:jf,beforeRead:Kf,beforeWrite:Zf,bottom:_n,clippingParents:Vf,computeStyles:ac,createPopper:pc,createPopperBase:m1,createPopperLite:b1,detectOverflow:Os,end:Cs,eventListeners:lc,flip:cp,hide:dp,left:Ht,main:Qf,modifierPhases:tp,offset:fp,placements:nc,popper:ws,popperGenerator:Za,popperOffsets:fc,preventOverflow:pp,read:Yf,reference:zf,right:mn,start:Fi,top:Wt,variationPlacements:Yu,viewport:tc,write:Jf},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ai=new Map,ku={set(o,n,i){ai.has(o)||ai.set(o,new Map);const f=ai.get(o);if(!f.has(n)&&f.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`);return}f.set(n,i)},get(o,n){return ai.has(o)&&ai.get(o).get(n)||null},remove(o,n){if(!ai.has(o))return;const i=ai.get(o);i.delete(n),i.size===0&&ai.delete(o)}},w1=1e6,E1=1e3,Qu="transitionend",vp=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),o),A1=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),x1=o=>{do o+=Math.floor(Math.random()*w1);while(document.getElementById(o));return o},C1=o=>{if(!o)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(o);const f=Number.parseFloat(n),v=Number.parseFloat(i);return!f&&!v?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*E1)},_p=o=>{o.dispatchEvent(new Event(Qu))},Mr=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),ui=o=>Mr(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(vp(o)):null,$s=o=>{if(!Mr(o)||o.getClientRects().length===0)return!1;const n=getComputedStyle(o).getPropertyValue("visibility")==="visible",i=o.closest("details:not([open])");if(!i)return n;if(i!==o){const f=o.closest("summary");if(f&&f.parentNode!==i||f===null)return!1}return n},ci=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",mp=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const n=o.getRootNode();return n instanceof ShadowRoot?n:null}return o instanceof ShadowRoot?o:o.parentNode?mp(o.parentNode):null},za=()=>{},Do=o=>{o.offsetHeight},gp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Du=[],T1=o=>{document.readyState==="loading"?(Du.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Du)n()}),Du.push(o)):o()},Sn=()=>document.documentElement.dir==="rtl",On=o=>{T1(()=>{const n=gp();if(n){const i=o.NAME,f=n.fn[i];n.fn[i]=o.jQueryInterface,n.fn[i].Constructor=o,n.fn[i].noConflict=()=>(n.fn[i]=f,o.jQueryInterface)}})},un=(o,n=[],i=o)=>typeof o=="function"?o.call(...n):i,bp=(o,n,i=!0)=>{if(!i){un(o);return}const v=C1(n)+5;let g=!1;const E=({target:S})=>{S===n&&(g=!0,n.removeEventListener(Qu,E),un(o))};n.addEventListener(Qu,E),setTimeout(()=>{g||_p(n)},v)},hc=(o,n,i,f)=>{const v=o.length;let g=o.indexOf(n);return g===-1?!i&&f?o[v-1]:o[0]:(g+=i?1:-1,f&&(g=(g+v)%v),o[Math.max(0,Math.min(g,v-1))])},S1=/[^.]*(?=\..*)\.|.*/,I1=/\..*/,O1=/::\d+$/,Nu={};let hf=1;const yp={mouseenter:"mouseover",mouseleave:"mouseout"},k1=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wp(o,n){return n&&`${n}::${hf++}`||o.uidEvent||hf++}function Ep(o){const n=wp(o);return o.uidEvent=n,Nu[n]=Nu[n]||{},Nu[n]}function D1(o,n){return function i(f){return vc(f,{delegateTarget:o}),i.oneOff&&F.off(o,f.type,n),n.apply(o,[f])}}function N1(o,n,i){return function f(v){const g=o.querySelectorAll(n);for(let{target:E}=v;E&&E!==this;E=E.parentNode)for(const S of g)if(S===E)return vc(v,{delegateTarget:E}),f.oneOff&&F.off(o,v.type,n,i),i.apply(E,[v])}}function Ap(o,n,i=null){return Object.values(o).find(f=>f.callable===n&&f.delegationSelector===i)}function xp(o,n,i){const f=typeof n=="string",v=f?i:n||i;let g=Cp(o);return k1.has(g)||(g=o),[f,v,g]}function vf(o,n,i,f,v){if(typeof n!="string"||!o)return;let[g,E,S]=xp(n,i,f);n in yp&&(E=(Q=>function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return Q.call(this,te)})(E));const C=Ep(o),M=C[S]||(C[S]={}),L=Ap(M,E,g?i:null);if(L){L.oneOff=L.oneOff&&v;return}const U=wp(E,n.replace(S1,"")),Z=g?N1(o,i,E):D1(o,E);Z.delegationSelector=g?i:null,Z.callable=E,Z.oneOff=v,Z.uidEvent=U,M[U]=Z,o.addEventListener(S,Z,g)}function Xu(o,n,i,f,v){const g=Ap(n[i],f,v);g&&(o.removeEventListener(i,g,!!v),delete n[i][g.uidEvent])}function $1(o,n,i,f){const v=n[i]||{};for(const[g,E]of Object.entries(v))g.includes(f)&&Xu(o,n,i,E.callable,E.delegationSelector)}function Cp(o){return o=o.replace(I1,""),yp[o]||o}const F={on(o,n,i,f){vf(o,n,i,f,!1)},one(o,n,i,f){vf(o,n,i,f,!0)},off(o,n,i,f){if(typeof n!="string"||!o)return;const[v,g,E]=xp(n,i,f),S=E!==n,C=Ep(o),M=C[E]||{},L=n.startsWith(".");if(typeof g<"u"){if(!Object.keys(M).length)return;Xu(o,C,E,g,v?i:null);return}if(L)for(const U of Object.keys(C))$1(o,C,U,n.slice(1));for(const[U,Z]of Object.entries(M)){const z=U.replace(O1,"");(!S||n.includes(z))&&Xu(o,C,E,Z.callable,Z.delegationSelector)}},trigger(o,n,i){if(typeof n!="string"||!o)return null;const f=gp(),v=Cp(n),g=n!==v;let E=null,S=!0,C=!0,M=!1;g&&f&&(E=f.Event(n,i),f(o).trigger(E),S=!E.isPropagationStopped(),C=!E.isImmediatePropagationStopped(),M=E.isDefaultPrevented());const L=vc(new Event(n,{bubbles:S,cancelable:!0}),i);return M&&L.preventDefault(),C&&o.dispatchEvent(L),L.defaultPrevented&&E&&E.preventDefault(),L}};function vc(o,n={}){for(const[i,f]of Object.entries(n))try{o[i]=f}catch{Object.defineProperty(o,i,{configurable:!0,get(){return f}})}return o}function _f(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function $u(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Rr={setDataAttribute(o,n,i){o.setAttribute(`data-bs-${$u(n)}`,i)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${$u(n)}`)},getDataAttributes(o){if(!o)return{};const n={},i=Object.keys(o.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of i){let v=f.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1),n[v]=_f(o.dataset[f])}return n},getDataAttribute(o,n){return _f(o.getAttribute(`data-bs-${$u(n)}`))}};class No{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const f=Mr(i)?Rr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...Mr(i)?Rr.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[f,v]of Object.entries(i)){const g=n[f],E=Mr(g)?"element":A1(g);if(!new RegExp(v).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${f}" provided type "${E}" but expected type "${v}".`)}}}const P1="5.3.8";class Kn extends No{constructor(n,i){super(),n=ui(n),n&&(this._element=n,this._config=this._getConfig(i),ku.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ku.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,f=!0){bp(n,i,f)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return ku.get(ui(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return P1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Pu=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>vp(i)).join(","):null},ee={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(i=>i.matches(n))},parents(o,n){const i=[];let f=o.parentNode.closest(n);for(;f;)i.push(f),f=f.parentNode.closest(n);return i},prev(o,n){let i=o.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(o,n){let i=o.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(i=>!ci(i)&&$s(i))},getSelectorFromElement(o){const n=Pu(o);return n&&ee.findOne(n)?n:null},getElementFromSelector(o){const n=Pu(o);return n?ee.findOne(n):null},getMultipleElementsFromSelector(o){const n=Pu(o);return n?ee.find(n):[]}},Ja=(o,n="hide")=>{const i=`click.dismiss${o.EVENT_KEY}`,f=o.NAME;F.on(document,i,`[data-bs-dismiss="${f}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),ci(this))return;const g=ee.getElementFromSelector(this)||this.closest(`.${f}`);o.getOrCreateInstance(g)[n]()})},L1="alert",M1="bs.alert",Tp=`.${M1}`,R1=`close${Tp}`,F1=`closed${Tp}`,q1="fade",B1="show";class el extends Kn{static get NAME(){return L1}close(){if(F.trigger(this._element,R1).defaultPrevented)return;this._element.classList.remove(B1);const i=this._element.classList.contains(q1);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),F.trigger(this._element,F1),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=el.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}Ja(el,"close");On(el);const W1="button",H1="bs.button",U1=`.${H1}`,V1=".data-api",z1="active",mf='[data-bs-toggle="button"]',K1=`click${U1}${V1}`;class tl extends Kn{static get NAME(){return W1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(z1))}static jQueryInterface(n){return this.each(function(){const i=tl.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}F.on(document,K1,mf,o=>{o.preventDefault();const n=o.target.closest(mf);tl.getOrCreateInstance(n).toggle()});On(tl);const Y1="swipe",Ps=".bs.swipe",G1=`touchstart${Ps}`,j1=`touchmove${Ps}`,Q1=`touchend${Ps}`,X1=`pointerdown${Ps}`,Z1=`pointerup${Ps}`,J1="touch",e0="pen",t0="pointer-event",n0=40,r0={endCallback:null,leftCallback:null,rightCallback:null},i0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ka extends No{constructor(n,i){super(),this._element=n,!(!n||!Ka.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return r0}static get DefaultType(){return i0}static get NAME(){return Y1}dispose(){F.off(this._element,Ps)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),un(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=n0)return;const i=n/this._deltaX;this._deltaX=0,i&&un(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,X1,n=>this._start(n)),F.on(this._element,Z1,n=>this._end(n)),this._element.classList.add(t0)):(F.on(this._element,G1,n=>this._start(n)),F.on(this._element,j1,n=>this._move(n)),F.on(this._element,Q1,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===e0||n.pointerType===J1)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const s0="carousel",o0="bs.carousel",pi=`.${o0}`,Sp=".data-api",a0="ArrowLeft",l0="ArrowRight",u0=500,Ao="next",bs="prev",Es="left",qa="right",c0=`slide${pi}`,Lu=`slid${pi}`,d0=`keydown${pi}`,f0=`mouseenter${pi}`,p0=`mouseleave${pi}`,h0=`dragstart${pi}`,v0=`load${pi}${Sp}`,_0=`click${pi}${Sp}`,Ip="carousel",Na="active",m0="slide",g0="carousel-item-end",b0="carousel-item-start",y0="carousel-item-next",w0="carousel-item-prev",Op=".active",kp=".carousel-item",E0=Op+kp,A0=".carousel-item img",x0=".carousel-indicators",C0="[data-bs-slide], [data-bs-slide-to]",T0='[data-bs-ride="carousel"]',S0={[a0]:qa,[l0]:Es},I0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},O0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $o extends Kn{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ee.findOne(x0,this._element),this._addEventListeners(),this._config.ride===Ip&&this.cycle()}static get Default(){return I0}static get DefaultType(){return O0}static get NAME(){return s0}next(){this._slide(Ao)}nextWhenVisible(){!document.hidden&&$s(this._element)&&this.next()}prev(){this._slide(bs)}pause(){this._isSliding&&_p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){F.one(this._element,Lu,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){F.one(this._element,Lu,()=>this.to(n));return}const f=this._getItemIndex(this._getActive());if(f===n)return;const v=n>f?Ao:bs;this._slide(v,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&F.on(this._element,d0,n=>this._keydown(n)),this._config.pause==="hover"&&(F.on(this._element,f0,()=>this.pause()),F.on(this._element,p0,()=>this._maybeEnableCycle())),this._config.touch&&Ka.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of ee.find(A0,this._element))F.on(f,h0,v=>v.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Es)),rightCallback:()=>this._slide(this._directionToOrder(qa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),u0+this._config.interval))}};this._swipeHelper=new Ka(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=S0[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=ee.findOne(Op,this._indicatorsElement);i.classList.remove(Na),i.removeAttribute("aria-current");const f=ee.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);f&&(f.classList.add(Na),f.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const f=this._getActive(),v=n===Ao,g=i||hc(this._getItems(),f,v,this._config.wrap);if(g===f)return;const E=this._getItemIndex(g),S=z=>F.trigger(this._element,z,{relatedTarget:g,direction:this._orderToDirection(n),from:this._getItemIndex(f),to:E});if(S(c0).defaultPrevented||!f||!g)return;const M=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(E),this._activeElement=g;const L=v?b0:g0,U=v?y0:w0;g.classList.add(U),Do(g),f.classList.add(L),g.classList.add(L);const Z=()=>{g.classList.remove(L,U),g.classList.add(Na),f.classList.remove(Na,U,L),this._isSliding=!1,S(Lu)};this._queueCallback(Z,f,this._isAnimated()),M&&this.cycle()}_isAnimated(){return this._element.classList.contains(m0)}_getActive(){return ee.findOne(E0,this._element)}_getItems(){return ee.find(kp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return Sn()?n===Es?bs:Ao:n===Es?Ao:bs}_orderToDirection(n){return Sn()?n===bs?Es:qa:n===bs?qa:Es}static jQueryInterface(n){return this.each(function(){const i=$o.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,_0,C0,function(o){const n=ee.getElementFromSelector(this);if(!n||!n.classList.contains(Ip))return;o.preventDefault();const i=$o.getOrCreateInstance(n),f=this.getAttribute("data-bs-slide-to");if(f){i.to(f),i._maybeEnableCycle();return}if(Rr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});F.on(window,v0,()=>{const o=ee.find(T0);for(const n of o)$o.getOrCreateInstance(n)});On($o);const k0="collapse",D0="bs.collapse",Po=`.${D0}`,N0=".data-api",$0=`show${Po}`,P0=`shown${Po}`,L0=`hide${Po}`,M0=`hidden${Po}`,R0=`click${Po}${N0}`,Mu="show",xs="collapse",$a="collapsing",F0="collapsed",q0=`:scope .${xs} .${xs}`,B0="collapse-horizontal",W0="width",H0="height",U0=".collapse.show, .collapse.collapsing",Zu='[data-bs-toggle="collapse"]',V0={parent:null,toggle:!0},z0={parent:"(null|element)",toggle:"boolean"};class Oo extends Kn{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const f=ee.find(Zu);for(const v of f){const g=ee.getSelectorFromElement(v),E=ee.find(g).filter(S=>S===this._element);g!==null&&E.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return V0}static get DefaultType(){return z0}static get NAME(){return k0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(U0).filter(S=>S!==this._element).map(S=>Oo.getOrCreateInstance(S,{toggle:!1}))),n.length&&n[0]._isTransitioning||F.trigger(this._element,$0).defaultPrevented)return;for(const S of n)S.hide();const f=this._getDimension();this._element.classList.remove(xs),this._element.classList.add($a),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove($a),this._element.classList.add(xs,Mu),this._element.style[f]="",F.trigger(this._element,P0)},E=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(v,this._element,!0),this._element.style[f]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,L0).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Do(this._element),this._element.classList.add($a),this._element.classList.remove(xs,Mu);for(const v of this._triggerArray){const g=ee.getElementFromSelector(v);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove($a),this._element.classList.add(xs),F.trigger(this._element,M0)};this._element.style[i]="",this._queueCallback(f,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Mu)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=ui(n.parent),n}_getDimension(){return this._element.classList.contains(B0)?W0:H0}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Zu);for(const i of n){const f=ee.getElementFromSelector(i);f&&this._addAriaAndCollapsedClass([i],this._isShown(f))}}_getFirstLevelChildren(n){const i=ee.find(q0,this._config.parent);return ee.find(n,this._config.parent).filter(f=>!i.includes(f))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const f of n)f.classList.toggle(F0,!i),f.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const f=Oo.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n]()}})}}F.on(document,R0,Zu,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(const n of ee.getMultipleElementsFromSelector(this))Oo.getOrCreateInstance(n,{toggle:!1}).toggle()});On(Oo);const gf="dropdown",K0="bs.dropdown",Bi=`.${K0}`,_c=".data-api",Y0="Escape",bf="Tab",G0="ArrowUp",yf="ArrowDown",j0=2,Q0=`hide${Bi}`,X0=`hidden${Bi}`,Z0=`show${Bi}`,J0=`shown${Bi}`,Dp=`click${Bi}${_c}`,Np=`keydown${Bi}${_c}`,ew=`keyup${Bi}${_c}`,As="show",tw="dropup",nw="dropend",rw="dropstart",iw="dropup-center",sw="dropdown-center",Li='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ow=`${Li}.${As}`,Ba=".dropdown-menu",aw=".navbar",lw=".navbar-nav",uw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",cw=Sn()?"top-end":"top-start",dw=Sn()?"top-start":"top-end",fw=Sn()?"bottom-end":"bottom-start",pw=Sn()?"bottom-start":"bottom-end",hw=Sn()?"left-start":"right-start",vw=Sn()?"right-start":"left-start",_w="top",mw="bottom",gw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class cr extends Kn{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=ee.next(this._element,Ba)[0]||ee.prev(this._element,Ba)[0]||ee.findOne(Ba,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return gw}static get DefaultType(){return bw}static get NAME(){return gf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ci(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!F.trigger(this._element,Z0,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(lw))for(const f of[].concat(...document.body.children))F.on(f,"mouseover",za);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(As),this._element.classList.add(As),F.trigger(this._element,J0,n)}}hide(){if(ci(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!F.trigger(this._element,Q0,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))F.off(f,"mouseover",za);this._popper&&this._popper.destroy(),this._menu.classList.remove(As),this._element.classList.remove(As),this._element.setAttribute("aria-expanded","false"),Rr.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,X0,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!Mr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${gf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof hp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:Mr(this._config.reference)?n=ui(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=pc(n,this._menu,i)}_isShown(){return this._menu.classList.contains(As)}_getPlacement(){const n=this._parent;if(n.classList.contains(nw))return hw;if(n.classList.contains(rw))return vw;if(n.classList.contains(iw))return _w;if(n.classList.contains(sw))return mw;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(tw)?i?dw:cw:i?pw:fw}_detectNavbar(){return this._element.closest(aw)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...un(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const f=ee.find(uw,this._menu).filter(v=>$s(v));f.length&&hc(f,i,n===yf,!f.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=cr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===j0||n.type==="keyup"&&n.key!==bf)return;const i=ee.find(ow);for(const f of i){const v=cr.getInstance(f);if(!v||v._config.autoClose===!1)continue;const g=n.composedPath(),E=g.includes(v._menu);if(g.includes(v._element)||v._config.autoClose==="inside"&&!E||v._config.autoClose==="outside"&&E||v._menu.contains(n.target)&&(n.type==="keyup"&&n.key===bf||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const S={relatedTarget:v._element};n.type==="click"&&(S.clickEvent=n),v._completeHide(S)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),f=n.key===Y0,v=[G0,yf].includes(n.key);if(!v&&!f||i&&!f)return;n.preventDefault();const g=this.matches(Li)?this:ee.prev(this,Li)[0]||ee.next(this,Li)[0]||ee.findOne(Li,n.delegateTarget.parentNode),E=cr.getOrCreateInstance(g);if(v){n.stopPropagation(),E.show(),E._selectMenuItem(n);return}E._isShown()&&(n.stopPropagation(),E.hide(),g.focus())}}F.on(document,Np,Li,cr.dataApiKeydownHandler);F.on(document,Np,Ba,cr.dataApiKeydownHandler);F.on(document,Dp,cr.clearMenus);F.on(document,ew,cr.clearMenus);F.on(document,Dp,Li,function(o){o.preventDefault(),cr.getOrCreateInstance(this).toggle()});On(cr);const $p="backdrop",yw="fade",wf="show",Ef=`mousedown.bs.${$p}`,ww={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ew={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Pp extends No{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return ww}static get DefaultType(){return Ew}static get NAME(){return $p}show(n){if(!this._config.isVisible){un(n);return}this._append();const i=this._getElement();this._config.isAnimated&&Do(i),i.classList.add(wf),this._emulateAnimation(()=>{un(n)})}hide(n){if(!this._config.isVisible){un(n);return}this._getElement().classList.remove(wf),this._emulateAnimation(()=>{this.dispose(),un(n)})}dispose(){this._isAppended&&(F.off(this._element,Ef),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(yw),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=ui(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),F.on(n,Ef,()=>{un(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){bp(n,this._getElement(),this._config.isAnimated)}}const Aw="focustrap",xw="bs.focustrap",Ya=`.${xw}`,Cw=`focusin${Ya}`,Tw=`keydown.tab${Ya}`,Sw="Tab",Iw="forward",Af="backward",Ow={autofocus:!0,trapElement:null},kw={autofocus:"boolean",trapElement:"element"};class Lp extends No{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ow}static get DefaultType(){return kw}static get NAME(){return Aw}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,Ya),F.on(document,Cw,n=>this._handleFocusin(n)),F.on(document,Tw,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,Ya))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const f=ee.focusableChildren(i);f.length===0?i.focus():this._lastTabNavDirection===Af?f[f.length-1].focus():f[0].focus()}_handleKeydown(n){n.key===Sw&&(this._lastTabNavDirection=n.shiftKey?Af:Iw)}}const xf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Cf=".sticky-top",Pa="padding-right",Tf="margin-right";class Ju{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pa,i=>i+n),this._setElementAttributes(xf,Pa,i=>i+n),this._setElementAttributes(Cf,Tf,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pa),this._resetElementAttributes(xf,Pa),this._resetElementAttributes(Cf,Tf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,f){const v=this.getWidth(),g=E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+v)return;this._saveInitialAttribute(E,i);const S=window.getComputedStyle(E).getPropertyValue(i);E.style.setProperty(i,`${f(Number.parseFloat(S))}px`)};this._applyManipulationCallback(n,g)}_saveInitialAttribute(n,i){const f=n.style.getPropertyValue(i);f&&Rr.setDataAttribute(n,i,f)}_resetElementAttributes(n,i){const f=v=>{const g=Rr.getDataAttribute(v,i);if(g===null){v.style.removeProperty(i);return}Rr.removeDataAttribute(v,i),v.style.setProperty(i,g)};this._applyManipulationCallback(n,f)}_applyManipulationCallback(n,i){if(Mr(n)){i(n);return}for(const f of ee.find(n,this._element))i(f)}}const Dw="modal",Nw="bs.modal",In=`.${Nw}`,$w=".data-api",Pw="Escape",Lw=`hide${In}`,Mw=`hidePrevented${In}`,Mp=`hidden${In}`,Rp=`show${In}`,Rw=`shown${In}`,Fw=`resize${In}`,qw=`click.dismiss${In}`,Bw=`mousedown.dismiss${In}`,Ww=`keydown.dismiss${In}`,Hw=`click${In}${$w}`,Sf="modal-open",Uw="fade",If="show",Ru="modal-static",Vw=".modal.show",zw=".modal-dialog",Kw=".modal-body",Yw='[data-bs-toggle="modal"]',Gw={backdrop:!0,focus:!0,keyboard:!0},jw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ks extends Kn{constructor(n,i){super(n,i),this._dialog=ee.findOne(zw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ju,this._addEventListeners()}static get Default(){return Gw}static get DefaultType(){return jw}static get NAME(){return Dw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||F.trigger(this._element,Rp,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Sf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||F.trigger(this._element,Lw).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(If),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){F.off(window,In),F.off(this._dialog,In),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Lp({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=ee.findOne(Kw,this._dialog);i&&(i.scrollTop=0),Do(this._element),this._element.classList.add(If);const f=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Rw,{relatedTarget:n})};this._queueCallback(f,this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Ww,n=>{if(n.key===Pw){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),F.on(window,Fw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,Bw,n=>{F.one(this._element,qw,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Sf),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Mp)})}_isAnimated(){return this._element.classList.contains(Uw)}_triggerBackdropTransition(){if(F.trigger(this._element,Mw).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(Ru)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Ru),this._queueCallback(()=>{this._element.classList.remove(Ru),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),f=i>0;if(f&&!n){const v=Sn()?"paddingLeft":"paddingRight";this._element.style[v]=`${i}px`}if(!f&&n){const v=Sn()?"paddingRight":"paddingLeft";this._element.style[v]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const f=ks.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n](i)}})}}F.on(document,Hw,Yw,function(o){const n=ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),F.one(n,Rp,v=>{v.defaultPrevented||F.one(n,Mp,()=>{$s(this)&&this.focus()})});const i=ee.findOne(Vw);i&&ks.getInstance(i).hide(),ks.getOrCreateInstance(n).toggle(this)});Ja(ks);On(ks);const Qw="offcanvas",Xw="bs.offcanvas",qr=`.${Xw}`,Fp=".data-api",Zw=`load${qr}${Fp}`,Jw="Escape",Of="show",kf="showing",Df="hiding",eE="offcanvas-backdrop",qp=".offcanvas.show",tE=`show${qr}`,nE=`shown${qr}`,rE=`hide${qr}`,Nf=`hidePrevented${qr}`,Bp=`hidden${qr}`,iE=`resize${qr}`,sE=`click${qr}${Fp}`,oE=`keydown.dismiss${qr}`,aE='[data-bs-toggle="offcanvas"]',lE={backdrop:!0,keyboard:!0,scroll:!1},uE={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class di extends Kn{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lE}static get DefaultType(){return uE}static get NAME(){return Qw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||F.trigger(this._element,tE,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ju().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(kf);const f=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Of),this._element.classList.remove(kf),F.trigger(this._element,nE,{relatedTarget:n})};this._queueCallback(f,this._element,!0)}hide(){if(!this._isShown||F.trigger(this._element,rE).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Df),this._backdrop.hide();const i=()=>{this._element.classList.remove(Of,Df),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ju().reset(),F.trigger(this._element,Bp)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){F.trigger(this._element,Nf);return}this.hide()},i=!!this._config.backdrop;return new Pp({className:eE,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Lp({trapElement:this._element})}_addEventListeners(){F.on(this._element,oE,n=>{if(n.key===Jw){if(this._config.keyboard){this.hide();return}F.trigger(this._element,Nf)}})}static jQueryInterface(n){return this.each(function(){const i=di.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}F.on(document,sE,aE,function(o){const n=ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),ci(this))return;F.one(n,Bp,()=>{$s(this)&&this.focus()});const i=ee.findOne(qp);i&&i!==n&&di.getInstance(i).hide(),di.getOrCreateInstance(n).toggle(this)});F.on(window,Zw,()=>{for(const o of ee.find(qp))di.getOrCreateInstance(o).show()});F.on(window,iE,()=>{for(const o of ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&di.getOrCreateInstance(o).hide()});Ja(di);On(di);const cE=/^aria-[\w-]*$/i,Wp={"*":["class","dir","id","lang","role",cE],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pE=(o,n)=>{const i=o.nodeName.toLowerCase();return n.includes(i)?dE.has(i)?!!fE.test(o.nodeValue):!0:n.filter(f=>f instanceof RegExp).some(f=>f.test(i))};function hE(o,n,i){if(!o.length)return o;if(i&&typeof i=="function")return i(o);const v=new window.DOMParser().parseFromString(o,"text/html"),g=[].concat(...v.body.querySelectorAll("*"));for(const E of g){const S=E.nodeName.toLowerCase();if(!Object.keys(n).includes(S)){E.remove();continue}const C=[].concat(...E.attributes),M=[].concat(n["*"]||[],n[S]||[]);for(const L of C)pE(L,M)||E.removeAttribute(L.nodeName)}return v.body.innerHTML}const vE="TemplateFactory",_E={allowList:Wp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mE={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gE={entry:"(string|element|function|null)",selector:"(string|element)"};class bE extends No{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return _E}static get DefaultType(){return mE}static get NAME(){return vE}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[v,g]of Object.entries(this._config.content))this._setContent(n,g,v);const i=n.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&i.classList.add(...f.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,f]of Object.entries(n))super._typeCheckConfig({selector:i,entry:f},gE)}_setContent(n,i,f){const v=ee.findOne(f,n);if(v){if(i=this._resolvePossibleFunction(i),!i){v.remove();return}if(Mr(i)){this._putElementInTemplate(ui(i),v);return}if(this._config.html){v.innerHTML=this._maybeSanitize(i);return}v.textContent=i}}_maybeSanitize(n){return this._config.sanitize?hE(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return un(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const yE="tooltip",wE=new Set(["sanitize","allowList","sanitizeFn"]),Fu="fade",EE="modal",La="show",AE=".tooltip-inner",$f=`.${EE}`,Pf="hide.bs.modal",xo="hover",qu="focus",Bu="click",xE="manual",CE="hide",TE="hidden",SE="show",IE="shown",OE="inserted",kE="click",DE="focusin",NE="focusout",$E="mouseenter",PE="mouseleave",LE={AUTO:"auto",TOP:"top",RIGHT:Sn()?"left":"right",BOTTOM:"bottom",LEFT:Sn()?"right":"left"},ME={allowList:Wp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},RE={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ls extends Kn{constructor(n,i){if(typeof hp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ME}static get DefaultType(){return RE}static get NAME(){return yE}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),F.off(this._element.closest($f),Pf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=F.trigger(this._element,this.constructor.eventName(SE)),f=(mp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!f)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:g}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(g.append(v),F.trigger(this._element,this.constructor.eventName(OE))),this._popper=this._createPopper(v),v.classList.add(La),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))F.on(S,"mouseover",za);const E=()=>{F.trigger(this._element,this.constructor.eventName(IE)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(E,this.tip,this._isAnimated())}hide(){if(!this._isShown()||F.trigger(this._element,this.constructor.eventName(CE)).defaultPrevented)return;if(this._getTipElement().classList.remove(La),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))F.off(v,"mouseover",za);this._activeTrigger[Bu]=!1,this._activeTrigger[qu]=!1,this._activeTrigger[xo]=!1,this._isHovered=null;const f=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName(TE)))};this._queueCallback(f,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(Fu,La),i.classList.add(`bs-${this.constructor.NAME}-auto`);const f=x1(this.constructor.NAME).toString();return i.setAttribute("id",f),this._isAnimated()&&i.classList.add(Fu),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new bE({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[AE]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fu)}_isShown(){return this.tip&&this.tip.classList.contains(La)}_createPopper(n){const i=un(this._config.placement,[this,n,this._element]),f=LE[i.toUpperCase()];return pc(this._element,n,this._getPopperConfig(f))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return un(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...i,...un(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")F.on(this._element,this.constructor.eventName(kE),this._config.selector,f=>{const v=this._initializeOnDelegatedTarget(f);v._activeTrigger[Bu]=!(v._isShown()&&v._activeTrigger[Bu]),v.toggle()});else if(i!==xE){const f=i===xo?this.constructor.eventName($E):this.constructor.eventName(DE),v=i===xo?this.constructor.eventName(PE):this.constructor.eventName(NE);F.on(this._element,f,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusin"?qu:xo]=!0,E._enter()}),F.on(this._element,v,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusout"?qu:xo]=E._element.contains(g.relatedTarget),E._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest($f),Pf,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=Rr.getDataAttributes(this._element);for(const f of Object.keys(i))wE.has(f)&&delete i[f];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:ui(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,f]of Object.entries(this._config))this.constructor.Default[i]!==f&&(n[i]=f);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=Ls.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}On(Ls);const FE="popover",qE=".popover-header",BE=".popover-body",WE={...Ls.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},HE={...Ls.DefaultType,content:"(null|string|element|function)"};class nl extends Ls{static get Default(){return WE}static get DefaultType(){return HE}static get NAME(){return FE}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[qE]:this._getTitle(),[BE]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=nl.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}On(nl);const UE="scrollspy",VE="bs.scrollspy",mc=`.${VE}`,zE=".data-api",KE=`activate${mc}`,Lf=`click${mc}`,YE=`load${mc}${zE}`,GE="dropdown-item",ys="active",jE='[data-bs-spy="scroll"]',Wu="[href]",QE=".nav, .list-group",Mf=".nav-link",XE=".nav-item",ZE=".list-group-item",JE=`${Mf}, ${XE} > ${Mf}, ${ZE}`,eA=".dropdown",tA=".dropdown-toggle",nA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rl extends Kn{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nA}static get DefaultType(){return rA}static get NAME(){return UE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=ui(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Lf),F.on(this._config.target,Lf,Wu,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const f=this._rootElement||window,v=i.offsetTop-this._element.offsetTop;if(f.scrollTo){f.scrollTo({top:v,behavior:"smooth"});return}f.scrollTop=v}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=E=>this._targetLinks.get(`#${E.target.id}`),f=E=>{this._previousScrollData.visibleEntryTop=E.target.offsetTop,this._process(i(E))},v=(this._rootElement||document.documentElement).scrollTop,g=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const E of n){if(!E.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(E));continue}const S=E.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(g&&S){if(f(E),!v)return;continue}!g&&!S&&f(E)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=ee.find(Wu,this._config.target);for(const i of n){if(!i.hash||ci(i))continue;const f=ee.findOne(decodeURI(i.hash),this._element);$s(f)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,f))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(ys),this._activateParents(n),F.trigger(this._element,KE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(GE)){ee.findOne(tA,n.closest(eA)).classList.add(ys);return}for(const i of ee.parents(n,QE))for(const f of ee.prev(i,JE))f.classList.add(ys)}_clearActiveClass(n){n.classList.remove(ys);const i=ee.find(`${Wu}.${ys}`,n);for(const f of i)f.classList.remove(ys)}static jQueryInterface(n){return this.each(function(){const i=rl.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(window,YE,()=>{for(const o of ee.find(jE))rl.getOrCreateInstance(o)});On(rl);const iA="tab",sA="bs.tab",Wi=`.${sA}`,oA=`hide${Wi}`,aA=`hidden${Wi}`,lA=`show${Wi}`,uA=`shown${Wi}`,cA=`click${Wi}`,dA=`keydown${Wi}`,fA=`load${Wi}`,pA="ArrowLeft",Rf="ArrowRight",hA="ArrowUp",Ff="ArrowDown",Hu="Home",qf="End",Mi="active",Bf="fade",Uu="show",vA="dropdown",Hp=".dropdown-toggle",_A=".dropdown-menu",Vu=`:not(${Hp})`,mA='.list-group, .nav, [role="tablist"]',gA=".nav-item, .list-group-item",bA=`.nav-link${Vu}, .list-group-item${Vu}, [role="tab"]${Vu}`,Up='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zu=`${bA}, ${Up}`,yA=`.${Mi}[data-bs-toggle="tab"], .${Mi}[data-bs-toggle="pill"], .${Mi}[data-bs-toggle="list"]`;class Ds extends Kn{constructor(n){super(n),this._parent=this._element.closest(mA),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,dA,i=>this._keydown(i)))}static get NAME(){return iA}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),f=i?F.trigger(i,oA,{relatedTarget:n}):null;F.trigger(n,lA,{relatedTarget:i}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(Mi),this._activate(ee.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Uu);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),F.trigger(n,uA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Bf))}_deactivate(n,i){if(!n)return;n.classList.remove(Mi),n.blur(),this._deactivate(ee.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Uu);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),F.trigger(n,aA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Bf))}_keydown(n){if(![pA,Rf,hA,Ff,Hu,qf].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(v=>!ci(v));let f;if([Hu,qf].includes(n.key))f=i[n.key===Hu?0:i.length-1];else{const v=[Rf,Ff].includes(n.key);f=hc(i,n.target,v,!0)}f&&(f.focus({preventScroll:!0}),Ds.getOrCreateInstance(f).show())}_getChildren(){return ee.find(zu,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const f of i)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),f=this._getOuterElement(n);n.setAttribute("aria-selected",i),f!==n&&this._setAttributeIfNotExists(f,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=ee.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const f=this._getOuterElement(n);if(!f.classList.contains(vA))return;const v=(g,E)=>{const S=ee.findOne(g,f);S&&S.classList.toggle(E,i)};v(Hp,Mi),v(_A,Uu),f.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,f){n.hasAttribute(i)||n.setAttribute(i,f)}_elemIsActive(n){return n.classList.contains(Mi)}_getInnerElement(n){return n.matches(zu)?n:ee.findOne(zu,n)}_getOuterElement(n){return n.closest(gA)||n}static jQueryInterface(n){return this.each(function(){const i=Ds.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,cA,Up,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!ci(this)&&Ds.getOrCreateInstance(this).show()});F.on(window,fA,()=>{for(const o of ee.find(yA))Ds.getOrCreateInstance(o)});On(Ds);const wA="toast",EA="bs.toast",hi=`.${EA}`,AA=`mouseover${hi}`,xA=`mouseout${hi}`,CA=`focusin${hi}`,TA=`focusout${hi}`,SA=`hide${hi}`,IA=`hidden${hi}`,OA=`show${hi}`,kA=`shown${hi}`,DA="fade",Wf="hide",Ma="show",Ra="showing",NA={animation:"boolean",autohide:"boolean",delay:"number"},$A={animation:!0,autohide:!0,delay:5e3};class il extends Kn{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $A}static get DefaultType(){return NA}static get NAME(){return wA}show(){if(F.trigger(this._element,OA).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(DA);const i=()=>{this._element.classList.remove(Ra),F.trigger(this._element,kA),this._maybeScheduleHide()};this._element.classList.remove(Wf),Do(this._element),this._element.classList.add(Ma,Ra),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||F.trigger(this._element,SA).defaultPrevented)return;const i=()=>{this._element.classList.add(Wf),this._element.classList.remove(Ra,Ma),F.trigger(this._element,IA)};this._element.classList.add(Ra),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ma),super.dispose()}isShown(){return this._element.classList.contains(Ma)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const f=n.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,AA,n=>this._onInteraction(n,!0)),F.on(this._element,xA,n=>this._onInteraction(n,!1)),F.on(this._element,CA,n=>this._onInteraction(n,!0)),F.on(this._element,TA,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=il.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}Ja(il);On(il);var Co={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var PA=Co.exports,Hf;function LA(){return Hf||(Hf=1,(function(o,n){(function(){var i,f="4.17.21",v=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",S="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",M=500,L="__lodash_placeholder__",U=1,Z=2,z=4,Q=1,te=2,ie=1,le=2,Ne=4,$e=8,J=16,_e=32,Ae=64,we=128,Oe=256,qe=512,Ke=30,Ze="...",Le=800,je=16,Ut=1,kn=2,gt=3,pe=1/0,It=9007199254740991,Vt=17976931348623157e292,Dn=NaN,Ot=4294967295,lt=Ot-1,fr=Ot>>>1,Yn=[["ary",we],["bind",ie],["bindKey",le],["curry",$e],["curryRight",J],["flip",qe],["partial",_e],["partialRight",Ae],["rearg",Oe]],yt="[object Arguments]",bn="[object Array]",Br="[object AsyncFunction]",Lt="[object Boolean]",Nn="[object Date]",Ms="[object DOMException]",Gn="[object Error]",Wr="[object Function]",Hr="[object GeneratorFunction]",Mt="[object Map]",zt="[object Number]",Hi="[object Null]",wt="[object Object]",Ui="[object Promise]",Vi="[object Proxy]",kt="[object RegExp]",Ye="[object Set]",ye="[object String]",Je="[object Symbol]",Et="[object Undefined]",ut="[object WeakMap]",zi="[object WeakSet]",Kt="[object ArrayBuffer]",$n="[object DataView]",jn="[object Float32Array]",Rs="[object Float64Array]",Fs="[object Int8Array]",pr="[object Int16Array]",Qn="[object Int32Array]",At="[object Uint8Array]",qs="[object Uint8ClampedArray]",Bs="[object Uint16Array]",ct="[object Uint32Array]",Lo=/\b__p \+= '';/g,Ws=/\b(__p \+=) '' \+/g,sl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hr=/&(?:amp|lt|gt|quot|#39);/g,Mo=/[&<>"']/g,Ro=RegExp(hr.source),ol=RegExp(Mo.source),Hs=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Fo=/<%=([\s\S]+?)%>/g,Us=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,al=/^\w*$/,ll=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/[\\^$.*+?()[\]{}|]/g,Xn=RegExp(xt.source),yn=/^\s+/,Vs=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vt=/\{\n\/\* \[wrapped with (.+)\] \*/,zs=/,? & /,Zn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,Pn=/\\(\\)?/g,ul=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vi=/\w*$/,cl=/^[-+]0x[0-9a-f]+$/i,dl=/^0b[01]+$/i,Ct=/^\[object .+?Constructor\]$/,Ki=/^0o[0-7]+$/i,Ln=/^(?:0|[1-9]\d*)$/,cn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ur=/($^)/,_i=/['\n\r\u2028\u2029\\]/g,vr="\\ud800-\\udfff",Vr="\\u0300-\\u036f",fl="\\ufe20-\\ufe2f",Ks="\\u20d0-\\u20ff",qo=Vr+fl+Ks,Bo="\\u2700-\\u27bf",Ys="a-z\\xdf-\\xf6\\xf8-\\xff",Yt="\\xac\\xb1\\xd7\\xf7",zr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wo="\\u2000-\\u206f",ft=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kr="A-Z\\xc0-\\xd6\\xd8-\\xde",Ho="\\ufe0e\\ufe0f",Uo=Yt+zr+Wo+ft,Yi="[']",_r="["+vr+"]",Vo="["+Uo+"]",Mn="["+qo+"]",Yr="\\d+",pl="["+Bo+"]",Rn="["+Ys+"]",Gt="[^"+vr+Uo+Yr+Bo+Ys+Kr+"]",jt="\\ud83c[\\udffb-\\udfff]",Gi="(?:"+Mn+"|"+jt+")",mi="[^"+vr+"]",Gr="(?:\\ud83c[\\udde6-\\uddff]){2}",Gs="[\\ud800-\\udbff][\\udc00-\\udfff]",jr="["+Kr+"]",zo="\\u200d",Qt="(?:"+Rn+"|"+Gt+")",Ko="(?:"+jr+"|"+Gt+")",gi="(?:"+Yi+"(?:d|ll|m|re|s|t|ve))?",Yo="(?:"+Yi+"(?:D|LL|M|RE|S|T|VE))?",js=Gi+"?",bi="["+Ho+"]?",hl="(?:"+zo+"(?:"+[mi,Gr,Gs].join("|")+")"+bi+js+")*",ji="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qi=bi+js+hl,vl="(?:"+[pl,Gr,Gs].join("|")+")"+Qi,Xi="(?:"+[mi+Mn+"?",Mn,Gr,Gs,_r].join("|")+")",Zi=RegExp(Yi,"g"),Xs=RegExp(Mn,"g"),yi=RegExp(jt+"(?="+jt+")|"+Xi+Qi,"g"),Ji=RegExp([jr+"?"+Rn+"+"+gi+"(?="+[Vo,jr,"$"].join("|")+")",Ko+"+"+Yo+"(?="+[Vo,jr+Qt,"$"].join("|")+")",jr+"?"+Qt+"+"+gi,jr+"+"+Yo,Qs,ji,Yr,vl].join("|"),"g"),es=RegExp("["+zo+vr+qo+Ho+"]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_l=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ml=-1,He={};He[jn]=He[Rs]=He[Fs]=He[pr]=He[Qn]=He[At]=He[qs]=He[Bs]=He[ct]=!0,He[yt]=He[bn]=He[Kt]=He[Lt]=He[$n]=He[Nn]=He[Gn]=He[Wr]=He[Mt]=He[zt]=He[wt]=He[kt]=He[Ye]=He[ye]=He[ut]=!1;var Be={};Be[yt]=Be[bn]=Be[Kt]=Be[$n]=Be[Lt]=Be[Nn]=Be[jn]=Be[Rs]=Be[Fs]=Be[pr]=Be[Qn]=Be[Mt]=Be[zt]=Be[wt]=Be[kt]=Be[Ye]=Be[ye]=Be[Je]=Be[At]=Be[qs]=Be[Bs]=Be[ct]=!0,Be[Gn]=Be[Wr]=Be[ut]=!1;var gl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,mr=parseInt,tr=typeof ka=="object"&&ka&&ka.Object===Object&&ka,Go=typeof self=="object"&&self&&self.Object===Object&&self,pt=tr||Go||Function("return this")(),ts=n&&!n.nodeType&&n,gr=ts&&!0&&o&&!o.nodeType&&o,jo=gr&&gr.exports===ts,Fn=jo&&tr.process,Pe=(function(){try{var y=gr&&gr.require&&gr.require("util").types;return y||Fn&&Fn.binding&&Fn.binding("util")}catch{}})(),qn=Pe&&Pe.isArrayBuffer,br=Pe&&Pe.isDate,Qo=Pe&&Pe.isMap,Xo=Pe&&Pe.isRegExp,Zo=Pe&&Pe.isSet,Jo=Pe&&Pe.isTypedArray;function Dt(y,k,T){switch(T.length){case 0:return y.call(k);case 1:return y.call(k,T[0]);case 2:return y.call(k,T[0],T[1]);case 3:return y.call(k,T[0],T[1],T[2])}return y.apply(k,T)}function wl(y,k,T,Y){for(var ne=-1,Te=y==null?0:y.length;++ne<Te;){var rt=y[ne];k(Y,rt,T(rt),y)}return Y}function Xt(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y&&k(y[T],T,y)!==!1;);return y}function Zs(y,k){for(var T=y==null?0:y.length;T--&&k(y[T],T,y)!==!1;);return y}function Qr(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y;)if(!k(y[T],T,y))return!1;return!0}function Bn(y,k){for(var T=-1,Y=y==null?0:y.length,ne=0,Te=[];++T<Y;){var rt=y[T];k(rt,T,y)&&(Te[ne++]=rt)}return Te}function Xr(y,k){var T=y==null?0:y.length;return!!T&&Zr(y,k,0)>-1}function Js(y,k,T){for(var Y=-1,ne=y==null?0:y.length;++Y<ne;)if(T(k,y[Y]))return!0;return!1}function Ue(y,k){for(var T=-1,Y=y==null?0:y.length,ne=Array(Y);++T<Y;)ne[T]=k(y[T],T,y);return ne}function nr(y,k){for(var T=-1,Y=k.length,ne=y.length;++T<Y;)y[ne+T]=k[T];return y}function eo(y,k,T,Y){var ne=-1,Te=y==null?0:y.length;for(Y&&Te&&(T=y[++ne]);++ne<Te;)T=k(T,y[ne],ne,y);return T}function El(y,k,T,Y){var ne=y==null?0:y.length;for(Y&&ne&&(T=y[--ne]);ne--;)T=k(T,y[ne],ne,y);return T}function Rt(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y;)if(k(y[T],T,y))return!0;return!1}var yr=rs("length");function wi(y){return y.split("")}function Al(y){return y.match(Zn)||[]}function wr(y,k,T){var Y;return T(y,function(ne,Te,rt){if(k(ne,Te,rt))return Y=Te,!1}),Y}function ns(y,k,T,Y){for(var ne=y.length,Te=T+(Y?1:-1);Y?Te--:++Te<ne;)if(k(y[Te],Te,y))return Te;return-1}function Zr(y,k,T){return k===k?Ol(y,k,T):ns(y,to,T)}function Ei(y,k,T,Y){for(var ne=T-1,Te=y.length;++ne<Te;)if(Y(y[ne],k))return ne;return-1}function to(y){return y!==y}function ea(y,k){var T=y==null?0:y.length;return T?ro(y,k)/T:Dn}function rs(y){return function(k){return k==null?i:k[y]}}function no(y){return function(k){return y==null?i:y[k]}}function Ai(y,k,T,Y,ne){return ne(y,function(Te,rt,Se){T=Y?(Y=!1,Te):k(T,Te,rt,Se)}),T}function ta(y,k){var T=y.length;for(y.sort(k);T--;)y[T]=y[T].value;return y}function ro(y,k){for(var T,Y=-1,ne=y.length;++Y<ne;){var Te=k(y[Y]);Te!==i&&(T=T===i?Te:T+Te)}return T}function io(y,k){for(var T=-1,Y=Array(y);++T<y;)Y[T]=k(T);return Y}function Ge(y,k){return Ue(k,function(T){return[T,y[T]]})}function Ve(y){return y&&y.slice(0,so(y)+1).replace(yn,"")}function Ce(y){return function(k){return y(k)}}function dn(y,k){return Ue(k,function(T){return y[T]})}function Zt(y,k){return y.has(k)}function Er(y,k){for(var T=-1,Y=y.length;++T<Y&&Zr(k,y[T],0)>-1;);return T}function Wn(y,k){for(var T=y.length;T--&&Zr(k,y[T],0)>-1;);return T}function is(y,k){for(var T=y.length,Y=0;T--;)y[T]===k&&++Y;return Y}var ze=no(gl),xl=no(Jn);function Cl(y){return"\\"+yl[y]}function Jt(y,k){return y==null?i:y[k]}function Ar(y){return es.test(y)}function Tl(y){return Fe.test(y)}function Sl(y){for(var k,T=[];!(k=y.next()).done;)T.push(k.value);return T}function Jr(y){var k=-1,T=Array(y.size);return y.forEach(function(Y,ne){T[++k]=[ne,Y]}),T}function ss(y,k){return function(T){return y(k(T))}}function rr(y,k){for(var T=-1,Y=y.length,ne=0,Te=[];++T<Y;){var rt=y[T];(rt===k||rt===L)&&(y[T]=L,Te[ne++]=T)}return Te}function os(y){var k=-1,T=Array(y.size);return y.forEach(function(Y){T[++k]=Y}),T}function Il(y){var k=-1,T=Array(y.size);return y.forEach(function(Y){T[++k]=[Y,Y]}),T}function Ol(y,k,T){for(var Y=T-1,ne=y.length;++Y<ne;)if(y[Y]===k)return Y;return-1}function na(y,k,T){for(var Y=T+1;Y--;)if(y[Y]===k)return Y;return Y}function ei(y){return Ar(y)?Dl(y):yr(y)}function en(y){return Ar(y)?Nl(y):wi(y)}function so(y){for(var k=y.length;k--&&Vs.test(y.charAt(k)););return k}var kl=no(bl);function Dl(y){for(var k=yi.lastIndex=0;yi.test(y);)++k;return k}function Nl(y){return y.match(yi)||[]}function $l(y){return y.match(Ji)||[]}var ra=(function y(k){k=k==null?pt:xr.defaults(pt.Object(),k,xr.pick(pt,_l));var T=k.Array,Y=k.Date,ne=k.Error,Te=k.Function,rt=k.Math,Se=k.Object,oo=k.RegExp,Pl=k.String,tn=k.TypeError,Hn=T.prototype,as=Te.prototype,Cr=Se.prototype,xi=k["__core-js_shared__"],Ci=as.toString,ke=Cr.hasOwnProperty,it=0,ia=(function(){var e=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),ls=Cr.toString,Ll=Ci.call(Se),a=pt._,s=oo("^"+Ci.call(ke).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),u=jo?k.Buffer:i,_=k.Symbol,A=k.Uint8Array,D=u?u.allocUnsafe:i,I=ss(Se.getPrototypeOf,Se),W=Se.create,se=Cr.propertyIsEnumerable,B=Hn.splice,he=_?_.isConcatSpreadable:i,Me=_?_.iterator:i,X=_?_.toStringTag:i,Qe=(function(){try{var e=ki(Se,"defineProperty");return e({},"",{}),e}catch{}})(),De=k.clearTimeout!==pt.clearTimeout&&k.clearTimeout,Tt=Y&&Y.now!==pt.Date.now&&Y.now,nn=k.setTimeout!==pt.setTimeout&&k.setTimeout,ti=rt.ceil,us=rt.floor,ao=Se.getOwnPropertySymbols,Vp=u?u.isBuffer:i,gc=k.isFinite,zp=Hn.join,Kp=ss(Se.keys,Se),_t=rt.max,Nt=rt.min,Yp=Y.now,Gp=k.parseInt,bc=rt.random,jp=Hn.reverse,Ml=ki(k,"DataView"),lo=ki(k,"Map"),Rl=ki(k,"Promise"),cs=ki(k,"Set"),uo=ki(k,"WeakMap"),co=ki(Se,"create"),sa=uo&&new uo,ds={},Qp=Di(Ml),Xp=Di(lo),Zp=Di(Rl),Jp=Di(cs),eh=Di(uo),oa=_?_.prototype:i,fo=oa?oa.valueOf:i,yc=oa?oa.toString:i;function p(e){if(et(e)&&!de(e)&&!(e instanceof xe)){if(e instanceof wn)return e;if(ke.call(e,"__wrapped__"))return wd(e)}return new wn(e)}var fs=(function(){function e(){}return function(t){if(!Xe(t))return{};if(W)return W(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function aa(){}function wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}p.templateSettings={escape:Hs,evaluate:q,interpolate:Fo,variable:"",imports:{_:p}},p.prototype=aa.prototype,p.prototype.constructor=p,wn.prototype=fs(aa.prototype),wn.prototype.constructor=wn;function xe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function th(){var e=new xe(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e}function nh(){if(this.__filtered__){var e=new xe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function rh(){var e=this.__wrapped__.value(),t=this.__dir__,r=de(e),l=t<0,d=r?e.length:0,h=vv(0,d,this.__views__),m=h.start,b=h.end,w=b-m,$=l?b:m-1,P=this.__iteratees__,R=P.length,K=0,j=Nt(w,this.__takeCount__);if(!r||!l&&d==w&&j==w)return Vc(e,this.__actions__);var oe=[];e:for(;w--&&K<j;){$+=t;for(var me=-1,ae=e[$];++me<R;){var Ee=P[me],Ie=Ee.iteratee,hn=Ee.type,Bt=Ie(ae);if(hn==kn)ae=Bt;else if(!Bt){if(hn==Ut)continue e;break e}}oe[K++]=ae}return oe}xe.prototype=fs(aa.prototype),xe.prototype.constructor=xe;function Ti(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function ih(){this.__data__=co?co(null):{},this.size=0}function sh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function oh(e){var t=this.__data__;if(co){var r=t[e];return r===C?i:r}return ke.call(t,e)?t[e]:i}function ah(e){var t=this.__data__;return co?t[e]!==i:ke.call(t,e)}function lh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=co&&t===i?C:t,this}Ti.prototype.clear=ih,Ti.prototype.delete=sh,Ti.prototype.get=oh,Ti.prototype.has=ah,Ti.prototype.set=lh;function Tr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function uh(){this.__data__=[],this.size=0}function ch(e){var t=this.__data__,r=la(t,e);if(r<0)return!1;var l=t.length-1;return r==l?t.pop():B.call(t,r,1),--this.size,!0}function dh(e){var t=this.__data__,r=la(t,e);return r<0?i:t[r][1]}function fh(e){return la(this.__data__,e)>-1}function ph(e,t){var r=this.__data__,l=la(r,e);return l<0?(++this.size,r.push([e,t])):r[l][1]=t,this}Tr.prototype.clear=uh,Tr.prototype.delete=ch,Tr.prototype.get=dh,Tr.prototype.has=fh,Tr.prototype.set=ph;function Sr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function hh(){this.size=0,this.__data__={hash:new Ti,map:new(lo||Tr),string:new Ti}}function vh(e){var t=ya(this,e).delete(e);return this.size-=t?1:0,t}function _h(e){return ya(this,e).get(e)}function mh(e){return ya(this,e).has(e)}function gh(e,t){var r=ya(this,e),l=r.size;return r.set(e,t),this.size+=r.size==l?0:1,this}Sr.prototype.clear=hh,Sr.prototype.delete=vh,Sr.prototype.get=_h,Sr.prototype.has=mh,Sr.prototype.set=gh;function Si(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sr;++t<r;)this.add(e[t])}function bh(e){return this.__data__.set(e,C),this}function yh(e){return this.__data__.has(e)}Si.prototype.add=Si.prototype.push=bh,Si.prototype.has=yh;function Un(e){var t=this.__data__=new Tr(e);this.size=t.size}function wh(){this.__data__=new Tr,this.size=0}function Eh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Ah(e){return this.__data__.get(e)}function xh(e){return this.__data__.has(e)}function Ch(e,t){var r=this.__data__;if(r instanceof Tr){var l=r.__data__;if(!lo||l.length<v-1)return l.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sr(l)}return r.set(e,t),this.size=r.size,this}Un.prototype.clear=wh,Un.prototype.delete=Eh,Un.prototype.get=Ah,Un.prototype.has=xh,Un.prototype.set=Ch;function wc(e,t){var r=de(e),l=!r&&Ni(e),d=!r&&!l&&oi(e),h=!r&&!l&&!d&&_s(e),m=r||l||d||h,b=m?io(e.length,Pl):[],w=b.length;for(var $ in e)(t||ke.call(e,$))&&!(m&&($=="length"||d&&($=="offset"||$=="parent")||h&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Dr($,w)))&&b.push($);return b}function Ec(e){var t=e.length;return t?e[Gl(0,t-1)]:i}function Th(e,t){return wa(rn(e),Ii(t,0,e.length))}function Sh(e){return wa(rn(e))}function Fl(e,t,r){(r!==i&&!Vn(e[t],r)||r===i&&!(t in e))&&Ir(e,t,r)}function po(e,t,r){var l=e[t];(!(ke.call(e,t)&&Vn(l,r))||r===i&&!(t in e))&&Ir(e,t,r)}function la(e,t){for(var r=e.length;r--;)if(Vn(e[r][0],t))return r;return-1}function Ih(e,t,r,l){return ni(e,function(d,h,m){t(l,d,r(d),m)}),l}function Ac(e,t){return e&&sr(t,bt(t),e)}function Oh(e,t){return e&&sr(t,on(t),e)}function Ir(e,t,r){t=="__proto__"&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ql(e,t){for(var r=-1,l=t.length,d=T(l),h=e==null;++r<l;)d[r]=h?i:bu(e,t[r]);return d}function Ii(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function En(e,t,r,l,d,h){var m,b=t&U,w=t&Z,$=t&z;if(r&&(m=d?r(e,l,d,h):r(e)),m!==i)return m;if(!Xe(e))return e;var P=de(e);if(P){if(m=mv(e),!b)return rn(e,m)}else{var R=$t(e),K=R==Wr||R==Hr;if(oi(e))return Yc(e,b);if(R==wt||R==yt||K&&!d){if(m=w||K?{}:fd(e),!b)return w?ov(e,Oh(m,e)):sv(e,Ac(m,e))}else{if(!Be[R])return d?e:{};m=gv(e,R,b)}}h||(h=new Un);var j=h.get(e);if(j)return j;h.set(e,m),Wd(e)?e.forEach(function(ae){m.add(En(ae,t,r,ae,e,h))}):qd(e)&&e.forEach(function(ae,Ee){m.set(Ee,En(ae,t,r,Ee,e,h))});var oe=$?w?su:iu:w?on:bt,me=P?i:oe(e);return Xt(me||e,function(ae,Ee){me&&(Ee=ae,ae=e[Ee]),po(m,Ee,En(ae,t,r,Ee,e,h))}),m}function kh(e){var t=bt(e);return function(r){return xc(r,e,t)}}function xc(e,t,r){var l=r.length;if(e==null)return!l;for(e=Se(e);l--;){var d=r[l],h=t[d],m=e[d];if(m===i&&!(d in e)||!h(m))return!1}return!0}function Cc(e,t,r){if(typeof e!="function")throw new tn(E);return yo(function(){e.apply(i,r)},t)}function ho(e,t,r,l){var d=-1,h=Xr,m=!0,b=e.length,w=[],$=t.length;if(!b)return w;r&&(t=Ue(t,Ce(r))),l?(h=Js,m=!1):t.length>=v&&(h=Zt,m=!1,t=new Si(t));e:for(;++d<b;){var P=e[d],R=r==null?P:r(P);if(P=l||P!==0?P:0,m&&R===R){for(var K=$;K--;)if(t[K]===R)continue e;w.push(P)}else h(t,R,l)||w.push(P)}return w}var ni=Zc(ir),Tc=Zc(Wl,!0);function Dh(e,t){var r=!0;return ni(e,function(l,d,h){return r=!!t(l,d,h),r}),r}function ua(e,t,r){for(var l=-1,d=e.length;++l<d;){var h=e[l],m=t(h);if(m!=null&&(b===i?m===m&&!pn(m):r(m,b)))var b=m,w=h}return w}function Nh(e,t,r,l){var d=e.length;for(r=ve(r),r<0&&(r=-r>d?0:d+r),l=l===i||l>d?d:ve(l),l<0&&(l+=d),l=r>l?0:Ud(l);r<l;)e[r++]=t;return e}function Sc(e,t){var r=[];return ni(e,function(l,d,h){t(l,d,h)&&r.push(l)}),r}function St(e,t,r,l,d){var h=-1,m=e.length;for(r||(r=yv),d||(d=[]);++h<m;){var b=e[h];t>0&&r(b)?t>1?St(b,t-1,r,l,d):nr(d,b):l||(d[d.length]=b)}return d}var Bl=Jc(),Ic=Jc(!0);function ir(e,t){return e&&Bl(e,t,bt)}function Wl(e,t){return e&&Ic(e,t,bt)}function ca(e,t){return Bn(t,function(r){return Nr(e[r])})}function Oi(e,t){t=ii(t,e);for(var r=0,l=t.length;e!=null&&r<l;)e=e[or(t[r++])];return r&&r==l?e:i}function Oc(e,t,r){var l=t(e);return de(e)?l:nr(l,r(e))}function Ft(e){return e==null?e===i?Et:Hi:X&&X in Se(e)?hv(e):Sv(e)}function Hl(e,t){return e>t}function $h(e,t){return e!=null&&ke.call(e,t)}function Ph(e,t){return e!=null&&t in Se(e)}function Lh(e,t,r){return e>=Nt(t,r)&&e<_t(t,r)}function Ul(e,t,r){for(var l=r?Js:Xr,d=e[0].length,h=e.length,m=h,b=T(h),w=1/0,$=[];m--;){var P=e[m];m&&t&&(P=Ue(P,Ce(t))),w=Nt(P.length,w),b[m]=!r&&(t||d>=120&&P.length>=120)?new Si(m&&P):i}P=e[0];var R=-1,K=b[0];e:for(;++R<d&&$.length<w;){var j=P[R],oe=t?t(j):j;if(j=r||j!==0?j:0,!(K?Zt(K,oe):l($,oe,r))){for(m=h;--m;){var me=b[m];if(!(me?Zt(me,oe):l(e[m],oe,r)))continue e}K&&K.push(oe),$.push(j)}}return $}function Mh(e,t,r,l){return ir(e,function(d,h,m){t(l,r(d),h,m)}),l}function vo(e,t,r){t=ii(t,e),e=_d(e,t);var l=e==null?e:e[or(xn(t))];return l==null?i:Dt(l,e,r)}function kc(e){return et(e)&&Ft(e)==yt}function Rh(e){return et(e)&&Ft(e)==Kt}function Fh(e){return et(e)&&Ft(e)==Nn}function _o(e,t,r,l,d){return e===t?!0:e==null||t==null||!et(e)&&!et(t)?e!==e&&t!==t:qh(e,t,r,l,_o,d)}function qh(e,t,r,l,d,h){var m=de(e),b=de(t),w=m?bn:$t(e),$=b?bn:$t(t);w=w==yt?wt:w,$=$==yt?wt:$;var P=w==wt,R=$==wt,K=w==$;if(K&&oi(e)){if(!oi(t))return!1;m=!0,P=!1}if(K&&!P)return h||(h=new Un),m||_s(e)?ud(e,t,r,l,d,h):fv(e,t,w,r,l,d,h);if(!(r&Q)){var j=P&&ke.call(e,"__wrapped__"),oe=R&&ke.call(t,"__wrapped__");if(j||oe){var me=j?e.value():e,ae=oe?t.value():t;return h||(h=new Un),d(me,ae,r,l,h)}}return K?(h||(h=new Un),pv(e,t,r,l,d,h)):!1}function Bh(e){return et(e)&&$t(e)==Mt}function Vl(e,t,r,l){var d=r.length,h=d,m=!l;if(e==null)return!h;for(e=Se(e);d--;){var b=r[d];if(m&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++d<h;){b=r[d];var w=b[0],$=e[w],P=b[1];if(m&&b[2]){if($===i&&!(w in e))return!1}else{var R=new Un;if(l)var K=l($,P,w,e,t,R);if(!(K===i?_o(P,$,Q|te,l,R):K))return!1}}return!0}function Dc(e){if(!Xe(e)||Ev(e))return!1;var t=Nr(e)?s:Ct;return t.test(Di(e))}function Wh(e){return et(e)&&Ft(e)==kt}function Hh(e){return et(e)&&$t(e)==Ye}function Uh(e){return et(e)&&Sa(e.length)&&!!He[Ft(e)]}function Nc(e){return typeof e=="function"?e:e==null?an:typeof e=="object"?de(e)?Lc(e[0],e[1]):Pc(e):ef(e)}function zl(e){if(!bo(e))return Kp(e);var t=[];for(var r in Se(e))ke.call(e,r)&&r!="constructor"&&t.push(r);return t}function Vh(e){if(!Xe(e))return Tv(e);var t=bo(e),r=[];for(var l in e)l=="constructor"&&(t||!ke.call(e,l))||r.push(l);return r}function Kl(e,t){return e<t}function $c(e,t){var r=-1,l=sn(e)?T(e.length):[];return ni(e,function(d,h,m){l[++r]=t(d,h,m)}),l}function Pc(e){var t=au(e);return t.length==1&&t[0][2]?hd(t[0][0],t[0][1]):function(r){return r===e||Vl(r,e,t)}}function Lc(e,t){return uu(e)&&pd(t)?hd(or(e),t):function(r){var l=bu(r,e);return l===i&&l===t?yu(r,e):_o(t,l,Q|te)}}function da(e,t,r,l,d){e!==t&&Bl(t,function(h,m){if(d||(d=new Un),Xe(h))zh(e,t,m,r,da,l,d);else{var b=l?l(du(e,m),h,m+"",e,t,d):i;b===i&&(b=h),Fl(e,m,b)}},on)}function zh(e,t,r,l,d,h,m){var b=du(e,r),w=du(t,r),$=m.get(w);if($){Fl(e,r,$);return}var P=h?h(b,w,r+"",e,t,m):i,R=P===i;if(R){var K=de(w),j=!K&&oi(w),oe=!K&&!j&&_s(w);P=w,K||j||oe?de(b)?P=b:st(b)?P=rn(b):j?(R=!1,P=Yc(w,!0)):oe?(R=!1,P=Gc(w,!0)):P=[]:wo(w)||Ni(w)?(P=b,Ni(b)?P=Vd(b):(!Xe(b)||Nr(b))&&(P=fd(w))):R=!1}R&&(m.set(w,P),d(P,w,l,h,m),m.delete(w)),Fl(e,r,P)}function Mc(e,t){var r=e.length;if(r)return t+=t<0?r:0,Dr(t,r)?e[t]:i}function Rc(e,t,r){t.length?t=Ue(t,function(h){return de(h)?function(m){return Oi(m,h.length===1?h[0]:h)}:h}):t=[an];var l=-1;t=Ue(t,Ce(re()));var d=$c(e,function(h,m,b){var w=Ue(t,function($){return $(h)});return{criteria:w,index:++l,value:h}});return ta(d,function(h,m){return iv(h,m,r)})}function Kh(e,t){return Fc(e,t,function(r,l){return yu(e,l)})}function Fc(e,t,r){for(var l=-1,d=t.length,h={};++l<d;){var m=t[l],b=Oi(e,m);r(b,m)&&mo(h,ii(m,e),b)}return h}function Yh(e){return function(t){return Oi(t,e)}}function Yl(e,t,r,l){var d=l?Ei:Zr,h=-1,m=t.length,b=e;for(e===t&&(t=rn(t)),r&&(b=Ue(e,Ce(r)));++h<m;)for(var w=0,$=t[h],P=r?r($):$;(w=d(b,P,w,l))>-1;)b!==e&&B.call(b,w,1),B.call(e,w,1);return e}function qc(e,t){for(var r=e?t.length:0,l=r-1;r--;){var d=t[r];if(r==l||d!==h){var h=d;Dr(d)?B.call(e,d,1):Xl(e,d)}}return e}function Gl(e,t){return e+us(bc()*(t-e+1))}function Gh(e,t,r,l){for(var d=-1,h=_t(ti((t-e)/(r||1)),0),m=T(h);h--;)m[l?h:++d]=e,e+=r;return m}function jl(e,t){var r="";if(!e||t<1||t>It)return r;do t%2&&(r+=e),t=us(t/2),t&&(e+=e);while(t);return r}function ge(e,t){return fu(vd(e,t,an),e+"")}function jh(e){return Ec(ms(e))}function Qh(e,t){var r=ms(e);return wa(r,Ii(t,0,r.length))}function mo(e,t,r,l){if(!Xe(e))return e;t=ii(t,e);for(var d=-1,h=t.length,m=h-1,b=e;b!=null&&++d<h;){var w=or(t[d]),$=r;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(d!=m){var P=b[w];$=l?l(P,w,b):i,$===i&&($=Xe(P)?P:Dr(t[d+1])?[]:{})}po(b,w,$),b=b[w]}return e}var Bc=sa?function(e,t){return sa.set(e,t),e}:an,Xh=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:Eu(t),writable:!0})}:an;function Zh(e){return wa(ms(e))}function An(e,t,r){var l=-1,d=e.length;t<0&&(t=-t>d?0:d+t),r=r>d?d:r,r<0&&(r+=d),d=t>r?0:r-t>>>0,t>>>=0;for(var h=T(d);++l<d;)h[l]=e[l+t];return h}function Jh(e,t){var r;return ni(e,function(l,d,h){return r=t(l,d,h),!r}),!!r}function fa(e,t,r){var l=0,d=e==null?l:e.length;if(typeof t=="number"&&t===t&&d<=fr){for(;l<d;){var h=l+d>>>1,m=e[h];m!==null&&!pn(m)&&(r?m<=t:m<t)?l=h+1:d=h}return d}return Ql(e,t,an,r)}function Ql(e,t,r,l){var d=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var m=t!==t,b=t===null,w=pn(t),$=t===i;d<h;){var P=us((d+h)/2),R=r(e[P]),K=R!==i,j=R===null,oe=R===R,me=pn(R);if(m)var ae=l||oe;else $?ae=oe&&(l||K):b?ae=oe&&K&&(l||!j):w?ae=oe&&K&&!j&&(l||!me):j||me?ae=!1:ae=l?R<=t:R<t;ae?d=P+1:h=P}return Nt(h,lt)}function Wc(e,t){for(var r=-1,l=e.length,d=0,h=[];++r<l;){var m=e[r],b=t?t(m):m;if(!r||!Vn(b,w)){var w=b;h[d++]=m===0?0:m}}return h}function Hc(e){return typeof e=="number"?e:pn(e)?Dn:+e}function fn(e){if(typeof e=="string")return e;if(de(e))return Ue(e,fn)+"";if(pn(e))return yc?yc.call(e):"";var t=e+"";return t=="0"&&1/e==-pe?"-0":t}function ri(e,t,r){var l=-1,d=Xr,h=e.length,m=!0,b=[],w=b;if(r)m=!1,d=Js;else if(h>=v){var $=t?null:cv(e);if($)return os($);m=!1,d=Zt,w=new Si}else w=t?[]:b;e:for(;++l<h;){var P=e[l],R=t?t(P):P;if(P=r||P!==0?P:0,m&&R===R){for(var K=w.length;K--;)if(w[K]===R)continue e;t&&w.push(R),b.push(P)}else d(w,R,r)||(w!==b&&w.push(R),b.push(P))}return b}function Xl(e,t){return t=ii(t,e),e=_d(e,t),e==null||delete e[or(xn(t))]}function Uc(e,t,r,l){return mo(e,t,r(Oi(e,t)),l)}function pa(e,t,r,l){for(var d=e.length,h=l?d:-1;(l?h--:++h<d)&&t(e[h],h,e););return r?An(e,l?0:h,l?h+1:d):An(e,l?h+1:0,l?d:h)}function Vc(e,t){var r=e;return r instanceof xe&&(r=r.value()),eo(t,function(l,d){return d.func.apply(d.thisArg,nr([l],d.args))},r)}function Zl(e,t,r){var l=e.length;if(l<2)return l?ri(e[0]):[];for(var d=-1,h=T(l);++d<l;)for(var m=e[d],b=-1;++b<l;)b!=d&&(h[d]=ho(h[d]||m,e[b],t,r));return ri(St(h,1),t,r)}function zc(e,t,r){for(var l=-1,d=e.length,h=t.length,m={};++l<d;){var b=l<h?t[l]:i;r(m,e[l],b)}return m}function Jl(e){return st(e)?e:[]}function eu(e){return typeof e=="function"?e:an}function ii(e,t){return de(e)?e:uu(e,t)?[e]:yd(Re(e))}var ev=ge;function si(e,t,r){var l=e.length;return r=r===i?l:r,!t&&r>=l?e:An(e,t,r)}var Kc=De||function(e){return pt.clearTimeout(e)};function Yc(e,t){if(t)return e.slice();var r=e.length,l=D?D(r):new e.constructor(r);return e.copy(l),l}function tu(e){var t=new e.constructor(e.byteLength);return new A(t).set(new A(e)),t}function tv(e,t){var r=t?tu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function nv(e){var t=new e.constructor(e.source,vi.exec(e));return t.lastIndex=e.lastIndex,t}function rv(e){return fo?Se(fo.call(e)):{}}function Gc(e,t){var r=t?tu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function jc(e,t){if(e!==t){var r=e!==i,l=e===null,d=e===e,h=pn(e),m=t!==i,b=t===null,w=t===t,$=pn(t);if(!b&&!$&&!h&&e>t||h&&m&&w&&!b&&!$||l&&m&&w||!r&&w||!d)return 1;if(!l&&!h&&!$&&e<t||$&&r&&d&&!l&&!h||b&&r&&d||!m&&d||!w)return-1}return 0}function iv(e,t,r){for(var l=-1,d=e.criteria,h=t.criteria,m=d.length,b=r.length;++l<m;){var w=jc(d[l],h[l]);if(w){if(l>=b)return w;var $=r[l];return w*($=="desc"?-1:1)}}return e.index-t.index}function Qc(e,t,r,l){for(var d=-1,h=e.length,m=r.length,b=-1,w=t.length,$=_t(h-m,0),P=T(w+$),R=!l;++b<w;)P[b]=t[b];for(;++d<m;)(R||d<h)&&(P[r[d]]=e[d]);for(;$--;)P[b++]=e[d++];return P}function Xc(e,t,r,l){for(var d=-1,h=e.length,m=-1,b=r.length,w=-1,$=t.length,P=_t(h-b,0),R=T(P+$),K=!l;++d<P;)R[d]=e[d];for(var j=d;++w<$;)R[j+w]=t[w];for(;++m<b;)(K||d<h)&&(R[j+r[m]]=e[d++]);return R}function rn(e,t){var r=-1,l=e.length;for(t||(t=T(l));++r<l;)t[r]=e[r];return t}function sr(e,t,r,l){var d=!r;r||(r={});for(var h=-1,m=t.length;++h<m;){var b=t[h],w=l?l(r[b],e[b],b,r,e):i;w===i&&(w=e[b]),d?Ir(r,b,w):po(r,b,w)}return r}function sv(e,t){return sr(e,lu(e),t)}function ov(e,t){return sr(e,cd(e),t)}function ha(e,t){return function(r,l){var d=de(r)?wl:Ih,h=t?t():{};return d(r,e,re(l,2),h)}}function ps(e){return ge(function(t,r){var l=-1,d=r.length,h=d>1?r[d-1]:i,m=d>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(d--,h):i,m&&qt(r[0],r[1],m)&&(h=d<3?i:h,d=1),t=Se(t);++l<d;){var b=r[l];b&&e(t,b,l,h)}return t})}function Zc(e,t){return function(r,l){if(r==null)return r;if(!sn(r))return e(r,l);for(var d=r.length,h=t?d:-1,m=Se(r);(t?h--:++h<d)&&l(m[h],h,m)!==!1;);return r}}function Jc(e){return function(t,r,l){for(var d=-1,h=Se(t),m=l(t),b=m.length;b--;){var w=m[e?b:++d];if(r(h[w],w,h)===!1)break}return t}}function av(e,t,r){var l=t&ie,d=go(e);function h(){var m=this&&this!==pt&&this instanceof h?d:e;return m.apply(l?r:this,arguments)}return h}function ed(e){return function(t){t=Re(t);var r=Ar(t)?en(t):i,l=r?r[0]:t.charAt(0),d=r?si(r,1).join(""):t.slice(1);return l[e]()+d}}function hs(e){return function(t){return eo(Zd(Xd(t).replace(Zi,"")),e,"")}}function go(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=fs(e.prototype),l=e.apply(r,t);return Xe(l)?l:r}}function lv(e,t,r){var l=go(e);function d(){for(var h=arguments.length,m=T(h),b=h,w=vs(d);b--;)m[b]=arguments[b];var $=h<3&&m[0]!==w&&m[h-1]!==w?[]:rr(m,w);if(h-=$.length,h<r)return sd(e,t,va,d.placeholder,i,m,$,i,i,r-h);var P=this&&this!==pt&&this instanceof d?l:e;return Dt(P,this,m)}return d}function td(e){return function(t,r,l){var d=Se(t);if(!sn(t)){var h=re(r,3);t=bt(t),r=function(b){return h(d[b],b,d)}}var m=e(t,r,l);return m>-1?d[h?t[m]:m]:i}}function nd(e){return kr(function(t){var r=t.length,l=r,d=wn.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new tn(E);if(d&&!m&&ba(h)=="wrapper")var m=new wn([],!0)}for(l=m?l:r;++l<r;){h=t[l];var b=ba(h),w=b=="wrapper"?ou(h):i;w&&cu(w[0])&&w[1]==(we|$e|_e|Oe)&&!w[4].length&&w[9]==1?m=m[ba(w[0])].apply(m,w[3]):m=h.length==1&&cu(h)?m[b]():m.thru(h)}return function(){var $=arguments,P=$[0];if(m&&$.length==1&&de(P))return m.plant(P).value();for(var R=0,K=r?t[R].apply(this,$):P;++R<r;)K=t[R].call(this,K);return K}})}function va(e,t,r,l,d,h,m,b,w,$){var P=t&we,R=t&ie,K=t&le,j=t&($e|J),oe=t&qe,me=K?i:go(e);function ae(){for(var Ee=arguments.length,Ie=T(Ee),hn=Ee;hn--;)Ie[hn]=arguments[hn];if(j)var Bt=vs(ae),vn=is(Ie,Bt);if(l&&(Ie=Qc(Ie,l,d,j)),h&&(Ie=Xc(Ie,h,m,j)),Ee-=vn,j&&Ee<$){var ot=rr(Ie,Bt);return sd(e,t,va,ae.placeholder,r,Ie,ot,b,w,$-Ee)}var zn=R?r:this,Pr=K?zn[e]:e;return Ee=Ie.length,b?Ie=Iv(Ie,b):oe&&Ee>1&&Ie.reverse(),P&&w<Ee&&(Ie.length=w),this&&this!==pt&&this instanceof ae&&(Pr=me||go(Pr)),Pr.apply(zn,Ie)}return ae}function rd(e,t){return function(r,l){return Mh(r,e,t(l),{})}}function _a(e,t){return function(r,l){var d;if(r===i&&l===i)return t;if(r!==i&&(d=r),l!==i){if(d===i)return l;typeof r=="string"||typeof l=="string"?(r=fn(r),l=fn(l)):(r=Hc(r),l=Hc(l)),d=e(r,l)}return d}}function nu(e){return kr(function(t){return t=Ue(t,Ce(re())),ge(function(r){var l=this;return e(t,function(d){return Dt(d,l,r)})})})}function ma(e,t){t=t===i?" ":fn(t);var r=t.length;if(r<2)return r?jl(t,e):t;var l=jl(t,ti(e/ei(t)));return Ar(t)?si(en(l),0,e).join(""):l.slice(0,e)}function uv(e,t,r,l){var d=t&ie,h=go(e);function m(){for(var b=-1,w=arguments.length,$=-1,P=l.length,R=T(P+w),K=this&&this!==pt&&this instanceof m?h:e;++$<P;)R[$]=l[$];for(;w--;)R[$++]=arguments[++b];return Dt(K,d?r:this,R)}return m}function id(e){return function(t,r,l){return l&&typeof l!="number"&&qt(t,r,l)&&(r=l=i),t=$r(t),r===i?(r=t,t=0):r=$r(r),l=l===i?t<r?1:-1:$r(l),Gh(t,r,l,e)}}function ga(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Cn(t),r=Cn(r)),e(t,r)}}function sd(e,t,r,l,d,h,m,b,w,$){var P=t&$e,R=P?m:i,K=P?i:m,j=P?h:i,oe=P?i:h;t|=P?_e:Ae,t&=~(P?Ae:_e),t&Ne||(t&=-4);var me=[e,t,d,j,R,oe,K,b,w,$],ae=r.apply(i,me);return cu(e)&&md(ae,me),ae.placeholder=l,gd(ae,e,t)}function ru(e){var t=rt[e];return function(r,l){if(r=Cn(r),l=l==null?0:Nt(ve(l),292),l&&gc(r)){var d=(Re(r)+"e").split("e"),h=t(d[0]+"e"+(+d[1]+l));return d=(Re(h)+"e").split("e"),+(d[0]+"e"+(+d[1]-l))}return t(r)}}var cv=cs&&1/os(new cs([,-0]))[1]==pe?function(e){return new cs(e)}:Cu;function od(e){return function(t){var r=$t(t);return r==Mt?Jr(t):r==Ye?Il(t):Ge(t,e(t))}}function Or(e,t,r,l,d,h,m,b){var w=t&le;if(!w&&typeof e!="function")throw new tn(E);var $=l?l.length:0;if($||(t&=-97,l=d=i),m=m===i?m:_t(ve(m),0),b=b===i?b:ve(b),$-=d?d.length:0,t&Ae){var P=l,R=d;l=d=i}var K=w?i:ou(e),j=[e,t,r,l,d,P,R,h,m,b];if(K&&Cv(j,K),e=j[0],t=j[1],r=j[2],l=j[3],d=j[4],b=j[9]=j[9]===i?w?0:e.length:_t(j[9]-$,0),!b&&t&($e|J)&&(t&=-25),!t||t==ie)var oe=av(e,t,r);else t==$e||t==J?oe=lv(e,t,b):(t==_e||t==(ie|_e))&&!d.length?oe=uv(e,t,r,l):oe=va.apply(i,j);var me=K?Bc:md;return gd(me(oe,j),e,t)}function ad(e,t,r,l){return e===i||Vn(e,Cr[r])&&!ke.call(l,r)?t:e}function ld(e,t,r,l,d,h){return Xe(e)&&Xe(t)&&(h.set(t,e),da(e,t,i,ld,h),h.delete(t)),e}function dv(e){return wo(e)?i:e}function ud(e,t,r,l,d,h){var m=r&Q,b=e.length,w=t.length;if(b!=w&&!(m&&w>b))return!1;var $=h.get(e),P=h.get(t);if($&&P)return $==t&&P==e;var R=-1,K=!0,j=r&te?new Si:i;for(h.set(e,t),h.set(t,e);++R<b;){var oe=e[R],me=t[R];if(l)var ae=m?l(me,oe,R,t,e,h):l(oe,me,R,e,t,h);if(ae!==i){if(ae)continue;K=!1;break}if(j){if(!Rt(t,function(Ee,Ie){if(!Zt(j,Ie)&&(oe===Ee||d(oe,Ee,r,l,h)))return j.push(Ie)})){K=!1;break}}else if(!(oe===me||d(oe,me,r,l,h))){K=!1;break}}return h.delete(e),h.delete(t),K}function fv(e,t,r,l,d,h,m){switch(r){case $n:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kt:return!(e.byteLength!=t.byteLength||!h(new A(e),new A(t)));case Lt:case Nn:case zt:return Vn(+e,+t);case Gn:return e.name==t.name&&e.message==t.message;case kt:case ye:return e==t+"";case Mt:var b=Jr;case Ye:var w=l&Q;if(b||(b=os),e.size!=t.size&&!w)return!1;var $=m.get(e);if($)return $==t;l|=te,m.set(e,t);var P=ud(b(e),b(t),l,d,h,m);return m.delete(e),P;case Je:if(fo)return fo.call(e)==fo.call(t)}return!1}function pv(e,t,r,l,d,h){var m=r&Q,b=iu(e),w=b.length,$=iu(t),P=$.length;if(w!=P&&!m)return!1;for(var R=w;R--;){var K=b[R];if(!(m?K in t:ke.call(t,K)))return!1}var j=h.get(e),oe=h.get(t);if(j&&oe)return j==t&&oe==e;var me=!0;h.set(e,t),h.set(t,e);for(var ae=m;++R<w;){K=b[R];var Ee=e[K],Ie=t[K];if(l)var hn=m?l(Ie,Ee,K,t,e,h):l(Ee,Ie,K,e,t,h);if(!(hn===i?Ee===Ie||d(Ee,Ie,r,l,h):hn)){me=!1;break}ae||(ae=K=="constructor")}if(me&&!ae){var Bt=e.constructor,vn=t.constructor;Bt!=vn&&"constructor"in e&&"constructor"in t&&!(typeof Bt=="function"&&Bt instanceof Bt&&typeof vn=="function"&&vn instanceof vn)&&(me=!1)}return h.delete(e),h.delete(t),me}function kr(e){return fu(vd(e,i,xd),e+"")}function iu(e){return Oc(e,bt,lu)}function su(e){return Oc(e,on,cd)}var ou=sa?function(e){return sa.get(e)}:Cu;function ba(e){for(var t=e.name+"",r=ds[t],l=ke.call(ds,t)?r.length:0;l--;){var d=r[l],h=d.func;if(h==null||h==e)return d.name}return t}function vs(e){var t=ke.call(p,"placeholder")?p:e;return t.placeholder}function re(){var e=p.iteratee||Au;return e=e===Au?Nc:e,arguments.length?e(arguments[0],arguments[1]):e}function ya(e,t){var r=e.__data__;return wv(t)?r[typeof t=="string"?"string":"hash"]:r.map}function au(e){for(var t=bt(e),r=t.length;r--;){var l=t[r],d=e[l];t[r]=[l,d,pd(d)]}return t}function ki(e,t){var r=Jt(e,t);return Dc(r)?r:i}function hv(e){var t=ke.call(e,X),r=e[X];try{e[X]=i;var l=!0}catch{}var d=ls.call(e);return l&&(t?e[X]=r:delete e[X]),d}var lu=ao?function(e){return e==null?[]:(e=Se(e),Bn(ao(e),function(t){return se.call(e,t)}))}:Tu,cd=ao?function(e){for(var t=[];e;)nr(t,lu(e)),e=I(e);return t}:Tu,$t=Ft;(Ml&&$t(new Ml(new ArrayBuffer(1)))!=$n||lo&&$t(new lo)!=Mt||Rl&&$t(Rl.resolve())!=Ui||cs&&$t(new cs)!=Ye||uo&&$t(new uo)!=ut)&&($t=function(e){var t=Ft(e),r=t==wt?e.constructor:i,l=r?Di(r):"";if(l)switch(l){case Qp:return $n;case Xp:return Mt;case Zp:return Ui;case Jp:return Ye;case eh:return ut}return t});function vv(e,t,r){for(var l=-1,d=r.length;++l<d;){var h=r[l],m=h.size;switch(h.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Nt(t,e+m);break;case"takeRight":e=_t(e,t-m);break}}return{start:e,end:t}}function _v(e){var t=e.match(vt);return t?t[1].split(zs):[]}function dd(e,t,r){t=ii(t,e);for(var l=-1,d=t.length,h=!1;++l<d;){var m=or(t[l]);if(!(h=e!=null&&r(e,m)))break;e=e[m]}return h||++l!=d?h:(d=e==null?0:e.length,!!d&&Sa(d)&&Dr(m,d)&&(de(e)||Ni(e)))}function mv(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ke.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function fd(e){return typeof e.constructor=="function"&&!bo(e)?fs(I(e)):{}}function gv(e,t,r){var l=e.constructor;switch(t){case Kt:return tu(e);case Lt:case Nn:return new l(+e);case $n:return tv(e,r);case jn:case Rs:case Fs:case pr:case Qn:case At:case qs:case Bs:case ct:return Gc(e,r);case Mt:return new l;case zt:case ye:return new l(e);case kt:return nv(e);case Ye:return new l;case Je:return rv(e)}}function bv(e,t){var r=t.length;if(!r)return e;var l=r-1;return t[l]=(r>1?"& ":"")+t[l],t=t.join(r>2?", ":" "),e.replace(ue,`{
/* [wrapped with `+t+`] */
`)}function yv(e){return de(e)||Ni(e)||!!(he&&e&&e[he])}function Dr(e,t){var r=typeof e;return t=t??It,!!t&&(r=="number"||r!="symbol"&&Ln.test(e))&&e>-1&&e%1==0&&e<t}function qt(e,t,r){if(!Xe(r))return!1;var l=typeof t;return(l=="number"?sn(r)&&Dr(t,r.length):l=="string"&&t in r)?Vn(r[t],e):!1}function uu(e,t){if(de(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||pn(e)?!0:al.test(e)||!Us.test(e)||t!=null&&e in Se(t)}function wv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cu(e){var t=ba(e),r=p[t];if(typeof r!="function"||!(t in xe.prototype))return!1;if(e===r)return!0;var l=ou(r);return!!l&&e===l[0]}function Ev(e){return!!ia&&ia in e}var Av=xi?Nr:Su;function bo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Cr;return e===r}function pd(e){return e===e&&!Xe(e)}function hd(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in Se(r))}}function xv(e){var t=Ca(e,function(l){return r.size===M&&r.clear(),l}),r=t.cache;return t}function Cv(e,t){var r=e[1],l=t[1],d=r|l,h=d<(ie|le|we),m=l==we&&r==$e||l==we&&r==Oe&&e[7].length<=t[8]||l==(we|Oe)&&t[7].length<=t[8]&&r==$e;if(!(h||m))return e;l&ie&&(e[2]=t[2],d|=r&ie?0:Ne);var b=t[3];if(b){var w=e[3];e[3]=w?Qc(w,b,t[4]):b,e[4]=w?rr(e[3],L):t[4]}return b=t[5],b&&(w=e[5],e[5]=w?Xc(w,b,t[6]):b,e[6]=w?rr(e[5],L):t[6]),b=t[7],b&&(e[7]=b),l&we&&(e[8]=e[8]==null?t[8]:Nt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}function Tv(e){var t=[];if(e!=null)for(var r in Se(e))t.push(r);return t}function Sv(e){return ls.call(e)}function vd(e,t,r){return t=_t(t===i?e.length-1:t,0),function(){for(var l=arguments,d=-1,h=_t(l.length-t,0),m=T(h);++d<h;)m[d]=l[t+d];d=-1;for(var b=T(t+1);++d<t;)b[d]=l[d];return b[t]=r(m),Dt(e,this,b)}}function _d(e,t){return t.length<2?e:Oi(e,An(t,0,-1))}function Iv(e,t){for(var r=e.length,l=Nt(t.length,r),d=rn(e);l--;){var h=t[l];e[l]=Dr(h,r)?d[h]:i}return e}function du(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var md=bd(Bc),yo=nn||function(e,t){return pt.setTimeout(e,t)},fu=bd(Xh);function gd(e,t,r){var l=t+"";return fu(e,bv(l,Ov(_v(l),r)))}function bd(e){var t=0,r=0;return function(){var l=Yp(),d=je-(l-r);if(r=l,d>0){if(++t>=Le)return arguments[0]}else t=0;return e.apply(i,arguments)}}function wa(e,t){var r=-1,l=e.length,d=l-1;for(t=t===i?l:t;++r<t;){var h=Gl(r,d),m=e[h];e[h]=e[r],e[r]=m}return e.length=t,e}var yd=xv(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ll,function(r,l,d,h){t.push(d?h.replace(Pn,"$1"):l||r)}),t});function or(e){if(typeof e=="string"||pn(e))return e;var t=e+"";return t=="0"&&1/e==-pe?"-0":t}function Di(e){if(e!=null){try{return Ci.call(e)}catch{}try{return e+""}catch{}}return""}function Ov(e,t){return Xt(Yn,function(r){var l="_."+r[0];t&r[1]&&!Xr(e,l)&&e.push(l)}),e.sort()}function wd(e){if(e instanceof xe)return e.clone();var t=new wn(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function kv(e,t,r){(r?qt(e,t,r):t===i)?t=1:t=_t(ve(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var d=0,h=0,m=T(ti(l/t));d<l;)m[h++]=An(e,d,d+=t);return m}function Dv(e){for(var t=-1,r=e==null?0:e.length,l=0,d=[];++t<r;){var h=e[t];h&&(d[l++]=h)}return d}function Nv(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),r=arguments[0],l=e;l--;)t[l-1]=arguments[l];return nr(de(r)?rn(r):[r],St(t,1))}var $v=ge(function(e,t){return st(e)?ho(e,St(t,1,st,!0)):[]}),Pv=ge(function(e,t){var r=xn(t);return st(r)&&(r=i),st(e)?ho(e,St(t,1,st,!0),re(r,2)):[]}),Lv=ge(function(e,t){var r=xn(t);return st(r)&&(r=i),st(e)?ho(e,St(t,1,st,!0),i,r):[]});function Mv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),An(e,t<0?0:t,l)):[]}function Rv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),t=l-t,An(e,0,t<0?0:t)):[]}function Fv(e,t){return e&&e.length?pa(e,re(t,3),!0,!0):[]}function qv(e,t){return e&&e.length?pa(e,re(t,3),!0):[]}function Bv(e,t,r,l){var d=e==null?0:e.length;return d?(r&&typeof r!="number"&&qt(e,t,r)&&(r=0,l=d),Nh(e,t,r,l)):[]}function Ed(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:ve(r);return d<0&&(d=_t(l+d,0)),ns(e,re(t,3),d)}function Ad(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l-1;return r!==i&&(d=ve(r),d=r<0?_t(l+d,0):Nt(d,l-1)),ns(e,re(t,3),d,!0)}function xd(e){var t=e==null?0:e.length;return t?St(e,1):[]}function Wv(e){var t=e==null?0:e.length;return t?St(e,pe):[]}function Hv(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:ve(t),St(e,t)):[]}function Uv(e){for(var t=-1,r=e==null?0:e.length,l={};++t<r;){var d=e[t];l[d[0]]=d[1]}return l}function Cd(e){return e&&e.length?e[0]:i}function Vv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:ve(r);return d<0&&(d=_t(l+d,0)),Zr(e,t,d)}function zv(e){var t=e==null?0:e.length;return t?An(e,0,-1):[]}var Kv=ge(function(e){var t=Ue(e,Jl);return t.length&&t[0]===e[0]?Ul(t):[]}),Yv=ge(function(e){var t=xn(e),r=Ue(e,Jl);return t===xn(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Ul(r,re(t,2)):[]}),Gv=ge(function(e){var t=xn(e),r=Ue(e,Jl);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Ul(r,i,t):[]});function jv(e,t){return e==null?"":zp.call(e,t)}function xn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function Qv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l;return r!==i&&(d=ve(r),d=d<0?_t(l+d,0):Nt(d,l-1)),t===t?na(e,t,d):ns(e,to,d,!0)}function Xv(e,t){return e&&e.length?Mc(e,ve(t)):i}var Zv=ge(Td);function Td(e,t){return e&&e.length&&t&&t.length?Yl(e,t):e}function Jv(e,t,r){return e&&e.length&&t&&t.length?Yl(e,t,re(r,2)):e}function e_(e,t,r){return e&&e.length&&t&&t.length?Yl(e,t,i,r):e}var t_=kr(function(e,t){var r=e==null?0:e.length,l=ql(e,t);return qc(e,Ue(t,function(d){return Dr(d,r)?+d:d}).sort(jc)),l});function n_(e,t){var r=[];if(!(e&&e.length))return r;var l=-1,d=[],h=e.length;for(t=re(t,3);++l<h;){var m=e[l];t(m,l,e)&&(r.push(m),d.push(l))}return qc(e,d),r}function pu(e){return e==null?e:jp.call(e)}function r_(e,t,r){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&qt(e,t,r)?(t=0,r=l):(t=t==null?0:ve(t),r=r===i?l:ve(r)),An(e,t,r)):[]}function i_(e,t){return fa(e,t)}function s_(e,t,r){return Ql(e,t,re(r,2))}function o_(e,t){var r=e==null?0:e.length;if(r){var l=fa(e,t);if(l<r&&Vn(e[l],t))return l}return-1}function a_(e,t){return fa(e,t,!0)}function l_(e,t,r){return Ql(e,t,re(r,2),!0)}function u_(e,t){var r=e==null?0:e.length;if(r){var l=fa(e,t,!0)-1;if(Vn(e[l],t))return l}return-1}function c_(e){return e&&e.length?Wc(e):[]}function d_(e,t){return e&&e.length?Wc(e,re(t,2)):[]}function f_(e){var t=e==null?0:e.length;return t?An(e,1,t):[]}function p_(e,t,r){return e&&e.length?(t=r||t===i?1:ve(t),An(e,0,t<0?0:t)):[]}function h_(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),t=l-t,An(e,t<0?0:t,l)):[]}function v_(e,t){return e&&e.length?pa(e,re(t,3),!1,!0):[]}function __(e,t){return e&&e.length?pa(e,re(t,3)):[]}var m_=ge(function(e){return ri(St(e,1,st,!0))}),g_=ge(function(e){var t=xn(e);return st(t)&&(t=i),ri(St(e,1,st,!0),re(t,2))}),b_=ge(function(e){var t=xn(e);return t=typeof t=="function"?t:i,ri(St(e,1,st,!0),i,t)});function y_(e){return e&&e.length?ri(e):[]}function w_(e,t){return e&&e.length?ri(e,re(t,2)):[]}function E_(e,t){return t=typeof t=="function"?t:i,e&&e.length?ri(e,i,t):[]}function hu(e){if(!(e&&e.length))return[];var t=0;return e=Bn(e,function(r){if(st(r))return t=_t(r.length,t),!0}),io(t,function(r){return Ue(e,rs(r))})}function Sd(e,t){if(!(e&&e.length))return[];var r=hu(e);return t==null?r:Ue(r,function(l){return Dt(t,i,l)})}var A_=ge(function(e,t){return st(e)?ho(e,t):[]}),x_=ge(function(e){return Zl(Bn(e,st))}),C_=ge(function(e){var t=xn(e);return st(t)&&(t=i),Zl(Bn(e,st),re(t,2))}),T_=ge(function(e){var t=xn(e);return t=typeof t=="function"?t:i,Zl(Bn(e,st),i,t)}),S_=ge(hu);function I_(e,t){return zc(e||[],t||[],po)}function O_(e,t){return zc(e||[],t||[],mo)}var k_=ge(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,Sd(e,r)});function Id(e){var t=p(e);return t.__chain__=!0,t}function D_(e,t){return t(e),e}function Ea(e,t){return t(e)}var N_=kr(function(e){var t=e.length,r=t?e[0]:0,l=this.__wrapped__,d=function(h){return ql(h,e)};return t>1||this.__actions__.length||!(l instanceof xe)||!Dr(r)?this.thru(d):(l=l.slice(r,+r+(t?1:0)),l.__actions__.push({func:Ea,args:[d],thisArg:i}),new wn(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function $_(){return Id(this)}function P_(){return new wn(this.value(),this.__chain__)}function L_(){this.__values__===i&&(this.__values__=Hd(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function M_(){return this}function R_(e){for(var t,r=this;r instanceof aa;){var l=wd(r);l.__index__=0,l.__values__=i,t?d.__wrapped__=l:t=l;var d=l;r=r.__wrapped__}return d.__wrapped__=e,t}function F_(){var e=this.__wrapped__;if(e instanceof xe){var t=e;return this.__actions__.length&&(t=new xe(this)),t=t.reverse(),t.__actions__.push({func:Ea,args:[pu],thisArg:i}),new wn(t,this.__chain__)}return this.thru(pu)}function q_(){return Vc(this.__wrapped__,this.__actions__)}var B_=ha(function(e,t,r){ke.call(e,r)?++e[r]:Ir(e,r,1)});function W_(e,t,r){var l=de(e)?Qr:Dh;return r&&qt(e,t,r)&&(t=i),l(e,re(t,3))}function H_(e,t){var r=de(e)?Bn:Sc;return r(e,re(t,3))}var U_=td(Ed),V_=td(Ad);function z_(e,t){return St(Aa(e,t),1)}function K_(e,t){return St(Aa(e,t),pe)}function Y_(e,t,r){return r=r===i?1:ve(r),St(Aa(e,t),r)}function Od(e,t){var r=de(e)?Xt:ni;return r(e,re(t,3))}function kd(e,t){var r=de(e)?Zs:Tc;return r(e,re(t,3))}var G_=ha(function(e,t,r){ke.call(e,r)?e[r].push(t):Ir(e,r,[t])});function j_(e,t,r,l){e=sn(e)?e:ms(e),r=r&&!l?ve(r):0;var d=e.length;return r<0&&(r=_t(d+r,0)),Ia(e)?r<=d&&e.indexOf(t,r)>-1:!!d&&Zr(e,t,r)>-1}var Q_=ge(function(e,t,r){var l=-1,d=typeof t=="function",h=sn(e)?T(e.length):[];return ni(e,function(m){h[++l]=d?Dt(t,m,r):vo(m,t,r)}),h}),X_=ha(function(e,t,r){Ir(e,r,t)});function Aa(e,t){var r=de(e)?Ue:$c;return r(e,re(t,3))}function Z_(e,t,r,l){return e==null?[]:(de(t)||(t=t==null?[]:[t]),r=l?i:r,de(r)||(r=r==null?[]:[r]),Rc(e,t,r))}var J_=ha(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function em(e,t,r){var l=de(e)?eo:Ai,d=arguments.length<3;return l(e,re(t,4),r,d,ni)}function tm(e,t,r){var l=de(e)?El:Ai,d=arguments.length<3;return l(e,re(t,4),r,d,Tc)}function nm(e,t){var r=de(e)?Bn:Sc;return r(e,Ta(re(t,3)))}function rm(e){var t=de(e)?Ec:jh;return t(e)}function im(e,t,r){(r?qt(e,t,r):t===i)?t=1:t=ve(t);var l=de(e)?Th:Qh;return l(e,t)}function sm(e){var t=de(e)?Sh:Zh;return t(e)}function om(e){if(e==null)return 0;if(sn(e))return Ia(e)?ei(e):e.length;var t=$t(e);return t==Mt||t==Ye?e.size:zl(e).length}function am(e,t,r){var l=de(e)?Rt:Jh;return r&&qt(e,t,r)&&(t=i),l(e,re(t,3))}var lm=ge(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qt(e,t[0],t[1])?t=[]:r>2&&qt(t[0],t[1],t[2])&&(t=[t[0]]),Rc(e,St(t,1),[])}),xa=Tt||function(){return pt.Date.now()};function um(e,t){if(typeof t!="function")throw new tn(E);return e=ve(e),function(){if(--e<1)return t.apply(this,arguments)}}function Dd(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,Or(e,we,i,i,i,i,t)}function Nd(e,t){var r;if(typeof t!="function")throw new tn(E);return e=ve(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var vu=ge(function(e,t,r){var l=ie;if(r.length){var d=rr(r,vs(vu));l|=_e}return Or(e,l,t,r,d)}),$d=ge(function(e,t,r){var l=ie|le;if(r.length){var d=rr(r,vs($d));l|=_e}return Or(t,l,e,r,d)});function Pd(e,t,r){t=r?i:t;var l=Or(e,$e,i,i,i,i,i,t);return l.placeholder=Pd.placeholder,l}function Ld(e,t,r){t=r?i:t;var l=Or(e,J,i,i,i,i,i,t);return l.placeholder=Ld.placeholder,l}function Md(e,t,r){var l,d,h,m,b,w,$=0,P=!1,R=!1,K=!0;if(typeof e!="function")throw new tn(E);t=Cn(t)||0,Xe(r)&&(P=!!r.leading,R="maxWait"in r,h=R?_t(Cn(r.maxWait)||0,t):h,K="trailing"in r?!!r.trailing:K);function j(ot){var zn=l,Pr=d;return l=d=i,$=ot,m=e.apply(Pr,zn),m}function oe(ot){return $=ot,b=yo(Ee,t),P?j(ot):m}function me(ot){var zn=ot-w,Pr=ot-$,tf=t-zn;return R?Nt(tf,h-Pr):tf}function ae(ot){var zn=ot-w,Pr=ot-$;return w===i||zn>=t||zn<0||R&&Pr>=h}function Ee(){var ot=xa();if(ae(ot))return Ie(ot);b=yo(Ee,me(ot))}function Ie(ot){return b=i,K&&l?j(ot):(l=d=i,m)}function hn(){b!==i&&Kc(b),$=0,l=w=d=b=i}function Bt(){return b===i?m:Ie(xa())}function vn(){var ot=xa(),zn=ae(ot);if(l=arguments,d=this,w=ot,zn){if(b===i)return oe(w);if(R)return Kc(b),b=yo(Ee,t),j(w)}return b===i&&(b=yo(Ee,t)),m}return vn.cancel=hn,vn.flush=Bt,vn}var cm=ge(function(e,t){return Cc(e,1,t)}),dm=ge(function(e,t,r){return Cc(e,Cn(t)||0,r)});function fm(e){return Or(e,qe)}function Ca(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new tn(E);var r=function(){var l=arguments,d=t?t.apply(this,l):l[0],h=r.cache;if(h.has(d))return h.get(d);var m=e.apply(this,l);return r.cache=h.set(d,m)||h,m};return r.cache=new(Ca.Cache||Sr),r}Ca.Cache=Sr;function Ta(e){if(typeof e!="function")throw new tn(E);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function pm(e){return Nd(2,e)}var hm=ev(function(e,t){t=t.length==1&&de(t[0])?Ue(t[0],Ce(re())):Ue(St(t,1),Ce(re()));var r=t.length;return ge(function(l){for(var d=-1,h=Nt(l.length,r);++d<h;)l[d]=t[d].call(this,l[d]);return Dt(e,this,l)})}),_u=ge(function(e,t){var r=rr(t,vs(_u));return Or(e,_e,i,t,r)}),Rd=ge(function(e,t){var r=rr(t,vs(Rd));return Or(e,Ae,i,t,r)}),vm=kr(function(e,t){return Or(e,Oe,i,i,i,t)});function _m(e,t){if(typeof e!="function")throw new tn(E);return t=t===i?t:ve(t),ge(e,t)}function mm(e,t){if(typeof e!="function")throw new tn(E);return t=t==null?0:_t(ve(t),0),ge(function(r){var l=r[t],d=si(r,0,t);return l&&nr(d,l),Dt(e,this,d)})}function gm(e,t,r){var l=!0,d=!0;if(typeof e!="function")throw new tn(E);return Xe(r)&&(l="leading"in r?!!r.leading:l,d="trailing"in r?!!r.trailing:d),Md(e,t,{leading:l,maxWait:t,trailing:d})}function bm(e){return Dd(e,1)}function ym(e,t){return _u(eu(t),e)}function wm(){if(!arguments.length)return[];var e=arguments[0];return de(e)?e:[e]}function Em(e){return En(e,z)}function Am(e,t){return t=typeof t=="function"?t:i,En(e,z,t)}function xm(e){return En(e,U|z)}function Cm(e,t){return t=typeof t=="function"?t:i,En(e,U|z,t)}function Tm(e,t){return t==null||xc(e,t,bt(t))}function Vn(e,t){return e===t||e!==e&&t!==t}var Sm=ga(Hl),Im=ga(function(e,t){return e>=t}),Ni=kc((function(){return arguments})())?kc:function(e){return et(e)&&ke.call(e,"callee")&&!se.call(e,"callee")},de=T.isArray,Om=qn?Ce(qn):Rh;function sn(e){return e!=null&&Sa(e.length)&&!Nr(e)}function st(e){return et(e)&&sn(e)}function km(e){return e===!0||e===!1||et(e)&&Ft(e)==Lt}var oi=Vp||Su,Dm=br?Ce(br):Fh;function Nm(e){return et(e)&&e.nodeType===1&&!wo(e)}function $m(e){if(e==null)return!0;if(sn(e)&&(de(e)||typeof e=="string"||typeof e.splice=="function"||oi(e)||_s(e)||Ni(e)))return!e.length;var t=$t(e);if(t==Mt||t==Ye)return!e.size;if(bo(e))return!zl(e).length;for(var r in e)if(ke.call(e,r))return!1;return!0}function Pm(e,t){return _o(e,t)}function Lm(e,t,r){r=typeof r=="function"?r:i;var l=r?r(e,t):i;return l===i?_o(e,t,i,r):!!l}function mu(e){if(!et(e))return!1;var t=Ft(e);return t==Gn||t==Ms||typeof e.message=="string"&&typeof e.name=="string"&&!wo(e)}function Mm(e){return typeof e=="number"&&gc(e)}function Nr(e){if(!Xe(e))return!1;var t=Ft(e);return t==Wr||t==Hr||t==Br||t==Vi}function Fd(e){return typeof e=="number"&&e==ve(e)}function Sa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=It}function Xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function et(e){return e!=null&&typeof e=="object"}var qd=Qo?Ce(Qo):Bh;function Rm(e,t){return e===t||Vl(e,t,au(t))}function Fm(e,t,r){return r=typeof r=="function"?r:i,Vl(e,t,au(t),r)}function qm(e){return Bd(e)&&e!=+e}function Bm(e){if(Av(e))throw new ne(g);return Dc(e)}function Wm(e){return e===null}function Hm(e){return e==null}function Bd(e){return typeof e=="number"||et(e)&&Ft(e)==zt}function wo(e){if(!et(e)||Ft(e)!=wt)return!1;var t=I(e);if(t===null)return!0;var r=ke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ci.call(r)==Ll}var gu=Xo?Ce(Xo):Wh;function Um(e){return Fd(e)&&e>=-It&&e<=It}var Wd=Zo?Ce(Zo):Hh;function Ia(e){return typeof e=="string"||!de(e)&&et(e)&&Ft(e)==ye}function pn(e){return typeof e=="symbol"||et(e)&&Ft(e)==Je}var _s=Jo?Ce(Jo):Uh;function Vm(e){return e===i}function zm(e){return et(e)&&$t(e)==ut}function Km(e){return et(e)&&Ft(e)==zi}var Ym=ga(Kl),Gm=ga(function(e,t){return e<=t});function Hd(e){if(!e)return[];if(sn(e))return Ia(e)?en(e):rn(e);if(Me&&e[Me])return Sl(e[Me]());var t=$t(e),r=t==Mt?Jr:t==Ye?os:ms;return r(e)}function $r(e){if(!e)return e===0?e:0;if(e=Cn(e),e===pe||e===-pe){var t=e<0?-1:1;return t*Vt}return e===e?e:0}function ve(e){var t=$r(e),r=t%1;return t===t?r?t-r:t:0}function Ud(e){return e?Ii(ve(e),0,Ot):0}function Cn(e){if(typeof e=="number")return e;if(pn(e))return Dn;if(Xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ve(e);var r=dl.test(e);return r||Ki.test(e)?mr(e.slice(2),r?2:8):cl.test(e)?Dn:+e}function Vd(e){return sr(e,on(e))}function jm(e){return e?Ii(ve(e),-It,It):e===0?e:0}function Re(e){return e==null?"":fn(e)}var Qm=ps(function(e,t){if(bo(t)||sn(t)){sr(t,bt(t),e);return}for(var r in t)ke.call(t,r)&&po(e,r,t[r])}),zd=ps(function(e,t){sr(t,on(t),e)}),Oa=ps(function(e,t,r,l){sr(t,on(t),e,l)}),Xm=ps(function(e,t,r,l){sr(t,bt(t),e,l)}),Zm=kr(ql);function Jm(e,t){var r=fs(e);return t==null?r:Ac(r,t)}var eg=ge(function(e,t){e=Se(e);var r=-1,l=t.length,d=l>2?t[2]:i;for(d&&qt(t[0],t[1],d)&&(l=1);++r<l;)for(var h=t[r],m=on(h),b=-1,w=m.length;++b<w;){var $=m[b],P=e[$];(P===i||Vn(P,Cr[$])&&!ke.call(e,$))&&(e[$]=h[$])}return e}),tg=ge(function(e){return e.push(i,ld),Dt(Kd,i,e)});function ng(e,t){return wr(e,re(t,3),ir)}function rg(e,t){return wr(e,re(t,3),Wl)}function ig(e,t){return e==null?e:Bl(e,re(t,3),on)}function sg(e,t){return e==null?e:Ic(e,re(t,3),on)}function og(e,t){return e&&ir(e,re(t,3))}function ag(e,t){return e&&Wl(e,re(t,3))}function lg(e){return e==null?[]:ca(e,bt(e))}function ug(e){return e==null?[]:ca(e,on(e))}function bu(e,t,r){var l=e==null?i:Oi(e,t);return l===i?r:l}function cg(e,t){return e!=null&&dd(e,t,$h)}function yu(e,t){return e!=null&&dd(e,t,Ph)}var dg=rd(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ls.call(t)),e[t]=r},Eu(an)),fg=rd(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ls.call(t)),ke.call(e,t)?e[t].push(r):e[t]=[r]},re),pg=ge(vo);function bt(e){return sn(e)?wc(e):zl(e)}function on(e){return sn(e)?wc(e,!0):Vh(e)}function hg(e,t){var r={};return t=re(t,3),ir(e,function(l,d,h){Ir(r,t(l,d,h),l)}),r}function vg(e,t){var r={};return t=re(t,3),ir(e,function(l,d,h){Ir(r,d,t(l,d,h))}),r}var _g=ps(function(e,t,r){da(e,t,r)}),Kd=ps(function(e,t,r,l){da(e,t,r,l)}),mg=kr(function(e,t){var r={};if(e==null)return r;var l=!1;t=Ue(t,function(h){return h=ii(h,e),l||(l=h.length>1),h}),sr(e,su(e),r),l&&(r=En(r,U|Z|z,dv));for(var d=t.length;d--;)Xl(r,t[d]);return r});function gg(e,t){return Yd(e,Ta(re(t)))}var bg=kr(function(e,t){return e==null?{}:Kh(e,t)});function Yd(e,t){if(e==null)return{};var r=Ue(su(e),function(l){return[l]});return t=re(t),Fc(e,r,function(l,d){return t(l,d[0])})}function yg(e,t,r){t=ii(t,e);var l=-1,d=t.length;for(d||(d=1,e=i);++l<d;){var h=e==null?i:e[or(t[l])];h===i&&(l=d,h=r),e=Nr(h)?h.call(e):h}return e}function wg(e,t,r){return e==null?e:mo(e,t,r)}function Eg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:mo(e,t,r,l)}var Gd=od(bt),jd=od(on);function Ag(e,t,r){var l=de(e),d=l||oi(e)||_s(e);if(t=re(t,4),r==null){var h=e&&e.constructor;d?r=l?new h:[]:Xe(e)?r=Nr(h)?fs(I(e)):{}:r={}}return(d?Xt:ir)(e,function(m,b,w){return t(r,m,b,w)}),r}function xg(e,t){return e==null?!0:Xl(e,t)}function Cg(e,t,r){return e==null?e:Uc(e,t,eu(r))}function Tg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:Uc(e,t,eu(r),l)}function ms(e){return e==null?[]:dn(e,bt(e))}function Sg(e){return e==null?[]:dn(e,on(e))}function Ig(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=Cn(r),r=r===r?r:0),t!==i&&(t=Cn(t),t=t===t?t:0),Ii(Cn(e),t,r)}function Og(e,t,r){return t=$r(t),r===i?(r=t,t=0):r=$r(r),e=Cn(e),Lh(e,t,r)}function kg(e,t,r){if(r&&typeof r!="boolean"&&qt(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=$r(e),t===i?(t=e,e=0):t=$r(t)),e>t){var l=e;e=t,t=l}if(r||e%1||t%1){var d=bc();return Nt(e+d*(t-e+er("1e-"+((d+"").length-1))),t)}return Gl(e,t)}var Dg=hs(function(e,t,r){return t=t.toLowerCase(),e+(r?Qd(t):t)});function Qd(e){return wu(Re(e).toLowerCase())}function Xd(e){return e=Re(e),e&&e.replace(cn,ze).replace(Xs,"")}function Ng(e,t,r){e=Re(e),t=fn(t);var l=e.length;r=r===i?l:Ii(ve(r),0,l);var d=r;return r-=t.length,r>=0&&e.slice(r,d)==t}function $g(e){return e=Re(e),e&&ol.test(e)?e.replace(Mo,xl):e}function Pg(e){return e=Re(e),e&&Xn.test(e)?e.replace(xt,"\\$&"):e}var Lg=hs(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Mg=hs(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Rg=ed("toLowerCase");function Fg(e,t,r){e=Re(e),t=ve(t);var l=t?ei(e):0;if(!t||l>=t)return e;var d=(t-l)/2;return ma(us(d),r)+e+ma(ti(d),r)}function qg(e,t,r){e=Re(e),t=ve(t);var l=t?ei(e):0;return t&&l<t?e+ma(t-l,r):e}function Bg(e,t,r){e=Re(e),t=ve(t);var l=t?ei(e):0;return t&&l<t?ma(t-l,r)+e:e}function Wg(e,t,r){return r||t==null?t=0:t&&(t=+t),Gp(Re(e).replace(yn,""),t||0)}function Hg(e,t,r){return(r?qt(e,t,r):t===i)?t=1:t=ve(t),jl(Re(e),t)}function Ug(){var e=arguments,t=Re(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Vg=hs(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function zg(e,t,r){return r&&typeof r!="number"&&qt(e,t,r)&&(t=r=i),r=r===i?Ot:r>>>0,r?(e=Re(e),e&&(typeof t=="string"||t!=null&&!gu(t))&&(t=fn(t),!t&&Ar(e))?si(en(e),0,r):e.split(t,r)):[]}var Kg=hs(function(e,t,r){return e+(r?" ":"")+wu(t)});function Yg(e,t,r){return e=Re(e),r=r==null?0:Ii(ve(r),0,e.length),t=fn(t),e.slice(r,r+t.length)==t}function Gg(e,t,r){var l=p.templateSettings;r&&qt(e,t,r)&&(t=i),e=Re(e),t=Oa({},t,l,ad);var d=Oa({},t.imports,l.imports,ad),h=bt(d),m=dn(d,h),b,w,$=0,P=t.interpolate||Ur,R="__p += '",K=oo((t.escape||Ur).source+"|"+P.source+"|"+(P===Fo?ul:Ur).source+"|"+(t.evaluate||Ur).source+"|$","g"),j="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ml+"]")+`
`;e.replace(K,function(ae,Ee,Ie,hn,Bt,vn){return Ie||(Ie=hn),R+=e.slice($,vn).replace(_i,Cl),Ee&&(b=!0,R+=`' +
__e(`+Ee+`) +
'`),Bt&&(w=!0,R+=`';
`+Bt+`;
__p += '`),Ie&&(R+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),$=vn+ae.length,ae}),R+=`';
`;var oe=ke.call(t,"variable")&&t.variable;if(!oe)R=`with (obj) {
`+R+`
}
`;else if(dt.test(oe))throw new ne(S);R=(w?R.replace(Lo,""):R).replace(Ws,"$1").replace(sl,"$1;"),R="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var me=Jd(function(){return Te(h,j+"return "+R).apply(i,m)});if(me.source=R,mu(me))throw me;return me}function jg(e){return Re(e).toLowerCase()}function Qg(e){return Re(e).toUpperCase()}function Xg(e,t,r){if(e=Re(e),e&&(r||t===i))return Ve(e);if(!e||!(t=fn(t)))return e;var l=en(e),d=en(t),h=Er(l,d),m=Wn(l,d)+1;return si(l,h,m).join("")}function Zg(e,t,r){if(e=Re(e),e&&(r||t===i))return e.slice(0,so(e)+1);if(!e||!(t=fn(t)))return e;var l=en(e),d=Wn(l,en(t))+1;return si(l,0,d).join("")}function Jg(e,t,r){if(e=Re(e),e&&(r||t===i))return e.replace(yn,"");if(!e||!(t=fn(t)))return e;var l=en(e),d=Er(l,en(t));return si(l,d).join("")}function eb(e,t){var r=Ke,l=Ze;if(Xe(t)){var d="separator"in t?t.separator:d;r="length"in t?ve(t.length):r,l="omission"in t?fn(t.omission):l}e=Re(e);var h=e.length;if(Ar(e)){var m=en(e);h=m.length}if(r>=h)return e;var b=r-ei(l);if(b<1)return l;var w=m?si(m,0,b).join(""):e.slice(0,b);if(d===i)return w+l;if(m&&(b+=w.length-b),gu(d)){if(e.slice(b).search(d)){var $,P=w;for(d.global||(d=oo(d.source,Re(vi.exec(d))+"g")),d.lastIndex=0;$=d.exec(P);)var R=$.index;w=w.slice(0,R===i?b:R)}}else if(e.indexOf(fn(d),b)!=b){var K=w.lastIndexOf(d);K>-1&&(w=w.slice(0,K))}return w+l}function tb(e){return e=Re(e),e&&Ro.test(e)?e.replace(hr,kl):e}var nb=hs(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),wu=ed("toUpperCase");function Zd(e,t,r){return e=Re(e),t=r?i:t,t===i?Tl(e)?$l(e):Al(e):e.match(t)||[]}var Jd=ge(function(e,t){try{return Dt(e,i,t)}catch(r){return mu(r)?r:new ne(r)}}),rb=kr(function(e,t){return Xt(t,function(r){r=or(r),Ir(e,r,vu(e[r],e))}),e});function ib(e){var t=e==null?0:e.length,r=re();return e=t?Ue(e,function(l){if(typeof l[1]!="function")throw new tn(E);return[r(l[0]),l[1]]}):[],ge(function(l){for(var d=-1;++d<t;){var h=e[d];if(Dt(h[0],this,l))return Dt(h[1],this,l)}})}function sb(e){return kh(En(e,U))}function Eu(e){return function(){return e}}function ob(e,t){return e==null||e!==e?t:e}var ab=nd(),lb=nd(!0);function an(e){return e}function Au(e){return Nc(typeof e=="function"?e:En(e,U))}function ub(e){return Pc(En(e,U))}function cb(e,t){return Lc(e,En(t,U))}var db=ge(function(e,t){return function(r){return vo(r,e,t)}}),fb=ge(function(e,t){return function(r){return vo(e,r,t)}});function xu(e,t,r){var l=bt(t),d=ca(t,l);r==null&&!(Xe(t)&&(d.length||!l.length))&&(r=t,t=e,e=this,d=ca(t,bt(t)));var h=!(Xe(r)&&"chain"in r)||!!r.chain,m=Nr(e);return Xt(d,function(b){var w=t[b];e[b]=w,m&&(e.prototype[b]=function(){var $=this.__chain__;if(h||$){var P=e(this.__wrapped__),R=P.__actions__=rn(this.__actions__);return R.push({func:w,args:arguments,thisArg:e}),P.__chain__=$,P}return w.apply(e,nr([this.value()],arguments))})}),e}function pb(){return pt._===this&&(pt._=a),this}function Cu(){}function hb(e){return e=ve(e),ge(function(t){return Mc(t,e)})}var vb=nu(Ue),_b=nu(Qr),mb=nu(Rt);function ef(e){return uu(e)?rs(or(e)):Yh(e)}function gb(e){return function(t){return e==null?i:Oi(e,t)}}var bb=id(),yb=id(!0);function Tu(){return[]}function Su(){return!1}function wb(){return{}}function Eb(){return""}function Ab(){return!0}function xb(e,t){if(e=ve(e),e<1||e>It)return[];var r=Ot,l=Nt(e,Ot);t=re(t),e-=Ot;for(var d=io(l,t);++r<e;)t(r);return d}function Cb(e){return de(e)?Ue(e,or):pn(e)?[e]:rn(yd(Re(e)))}function Tb(e){var t=++it;return Re(e)+t}var Sb=_a(function(e,t){return e+t},0),Ib=ru("ceil"),Ob=_a(function(e,t){return e/t},1),kb=ru("floor");function Db(e){return e&&e.length?ua(e,an,Hl):i}function Nb(e,t){return e&&e.length?ua(e,re(t,2),Hl):i}function $b(e){return ea(e,an)}function Pb(e,t){return ea(e,re(t,2))}function Lb(e){return e&&e.length?ua(e,an,Kl):i}function Mb(e,t){return e&&e.length?ua(e,re(t,2),Kl):i}var Rb=_a(function(e,t){return e*t},1),Fb=ru("round"),qb=_a(function(e,t){return e-t},0);function Bb(e){return e&&e.length?ro(e,an):0}function Wb(e,t){return e&&e.length?ro(e,re(t,2)):0}return p.after=um,p.ary=Dd,p.assign=Qm,p.assignIn=zd,p.assignInWith=Oa,p.assignWith=Xm,p.at=Zm,p.before=Nd,p.bind=vu,p.bindAll=rb,p.bindKey=$d,p.castArray=wm,p.chain=Id,p.chunk=kv,p.compact=Dv,p.concat=Nv,p.cond=ib,p.conforms=sb,p.constant=Eu,p.countBy=B_,p.create=Jm,p.curry=Pd,p.curryRight=Ld,p.debounce=Md,p.defaults=eg,p.defaultsDeep=tg,p.defer=cm,p.delay=dm,p.difference=$v,p.differenceBy=Pv,p.differenceWith=Lv,p.drop=Mv,p.dropRight=Rv,p.dropRightWhile=Fv,p.dropWhile=qv,p.fill=Bv,p.filter=H_,p.flatMap=z_,p.flatMapDeep=K_,p.flatMapDepth=Y_,p.flatten=xd,p.flattenDeep=Wv,p.flattenDepth=Hv,p.flip=fm,p.flow=ab,p.flowRight=lb,p.fromPairs=Uv,p.functions=lg,p.functionsIn=ug,p.groupBy=G_,p.initial=zv,p.intersection=Kv,p.intersectionBy=Yv,p.intersectionWith=Gv,p.invert=dg,p.invertBy=fg,p.invokeMap=Q_,p.iteratee=Au,p.keyBy=X_,p.keys=bt,p.keysIn=on,p.map=Aa,p.mapKeys=hg,p.mapValues=vg,p.matches=ub,p.matchesProperty=cb,p.memoize=Ca,p.merge=_g,p.mergeWith=Kd,p.method=db,p.methodOf=fb,p.mixin=xu,p.negate=Ta,p.nthArg=hb,p.omit=mg,p.omitBy=gg,p.once=pm,p.orderBy=Z_,p.over=vb,p.overArgs=hm,p.overEvery=_b,p.overSome=mb,p.partial=_u,p.partialRight=Rd,p.partition=J_,p.pick=bg,p.pickBy=Yd,p.property=ef,p.propertyOf=gb,p.pull=Zv,p.pullAll=Td,p.pullAllBy=Jv,p.pullAllWith=e_,p.pullAt=t_,p.range=bb,p.rangeRight=yb,p.rearg=vm,p.reject=nm,p.remove=n_,p.rest=_m,p.reverse=pu,p.sampleSize=im,p.set=wg,p.setWith=Eg,p.shuffle=sm,p.slice=r_,p.sortBy=lm,p.sortedUniq=c_,p.sortedUniqBy=d_,p.split=zg,p.spread=mm,p.tail=f_,p.take=p_,p.takeRight=h_,p.takeRightWhile=v_,p.takeWhile=__,p.tap=D_,p.throttle=gm,p.thru=Ea,p.toArray=Hd,p.toPairs=Gd,p.toPairsIn=jd,p.toPath=Cb,p.toPlainObject=Vd,p.transform=Ag,p.unary=bm,p.union=m_,p.unionBy=g_,p.unionWith=b_,p.uniq=y_,p.uniqBy=w_,p.uniqWith=E_,p.unset=xg,p.unzip=hu,p.unzipWith=Sd,p.update=Cg,p.updateWith=Tg,p.values=ms,p.valuesIn=Sg,p.without=A_,p.words=Zd,p.wrap=ym,p.xor=x_,p.xorBy=C_,p.xorWith=T_,p.zip=S_,p.zipObject=I_,p.zipObjectDeep=O_,p.zipWith=k_,p.entries=Gd,p.entriesIn=jd,p.extend=zd,p.extendWith=Oa,xu(p,p),p.add=Sb,p.attempt=Jd,p.camelCase=Dg,p.capitalize=Qd,p.ceil=Ib,p.clamp=Ig,p.clone=Em,p.cloneDeep=xm,p.cloneDeepWith=Cm,p.cloneWith=Am,p.conformsTo=Tm,p.deburr=Xd,p.defaultTo=ob,p.divide=Ob,p.endsWith=Ng,p.eq=Vn,p.escape=$g,p.escapeRegExp=Pg,p.every=W_,p.find=U_,p.findIndex=Ed,p.findKey=ng,p.findLast=V_,p.findLastIndex=Ad,p.findLastKey=rg,p.floor=kb,p.forEach=Od,p.forEachRight=kd,p.forIn=ig,p.forInRight=sg,p.forOwn=og,p.forOwnRight=ag,p.get=bu,p.gt=Sm,p.gte=Im,p.has=cg,p.hasIn=yu,p.head=Cd,p.identity=an,p.includes=j_,p.indexOf=Vv,p.inRange=Og,p.invoke=pg,p.isArguments=Ni,p.isArray=de,p.isArrayBuffer=Om,p.isArrayLike=sn,p.isArrayLikeObject=st,p.isBoolean=km,p.isBuffer=oi,p.isDate=Dm,p.isElement=Nm,p.isEmpty=$m,p.isEqual=Pm,p.isEqualWith=Lm,p.isError=mu,p.isFinite=Mm,p.isFunction=Nr,p.isInteger=Fd,p.isLength=Sa,p.isMap=qd,p.isMatch=Rm,p.isMatchWith=Fm,p.isNaN=qm,p.isNative=Bm,p.isNil=Hm,p.isNull=Wm,p.isNumber=Bd,p.isObject=Xe,p.isObjectLike=et,p.isPlainObject=wo,p.isRegExp=gu,p.isSafeInteger=Um,p.isSet=Wd,p.isString=Ia,p.isSymbol=pn,p.isTypedArray=_s,p.isUndefined=Vm,p.isWeakMap=zm,p.isWeakSet=Km,p.join=jv,p.kebabCase=Lg,p.last=xn,p.lastIndexOf=Qv,p.lowerCase=Mg,p.lowerFirst=Rg,p.lt=Ym,p.lte=Gm,p.max=Db,p.maxBy=Nb,p.mean=$b,p.meanBy=Pb,p.min=Lb,p.minBy=Mb,p.stubArray=Tu,p.stubFalse=Su,p.stubObject=wb,p.stubString=Eb,p.stubTrue=Ab,p.multiply=Rb,p.nth=Xv,p.noConflict=pb,p.noop=Cu,p.now=xa,p.pad=Fg,p.padEnd=qg,p.padStart=Bg,p.parseInt=Wg,p.random=kg,p.reduce=em,p.reduceRight=tm,p.repeat=Hg,p.replace=Ug,p.result=yg,p.round=Fb,p.runInContext=y,p.sample=rm,p.size=om,p.snakeCase=Vg,p.some=am,p.sortedIndex=i_,p.sortedIndexBy=s_,p.sortedIndexOf=o_,p.sortedLastIndex=a_,p.sortedLastIndexBy=l_,p.sortedLastIndexOf=u_,p.startCase=Kg,p.startsWith=Yg,p.subtract=qb,p.sum=Bb,p.sumBy=Wb,p.template=Gg,p.times=xb,p.toFinite=$r,p.toInteger=ve,p.toLength=Ud,p.toLower=jg,p.toNumber=Cn,p.toSafeInteger=jm,p.toString=Re,p.toUpper=Qg,p.trim=Xg,p.trimEnd=Zg,p.trimStart=Jg,p.truncate=eb,p.unescape=tb,p.uniqueId=Tb,p.upperCase=nb,p.upperFirst=wu,p.each=Od,p.eachRight=kd,p.first=Cd,xu(p,(function(){var e={};return ir(p,function(t,r){ke.call(p.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),p.VERSION=f,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Xt(["drop","take"],function(e,t){xe.prototype[e]=function(r){r=r===i?1:_t(ve(r),0);var l=this.__filtered__&&!t?new xe(this):this.clone();return l.__filtered__?l.__takeCount__=Nt(r,l.__takeCount__):l.__views__.push({size:Nt(r,Ot),type:e+(l.__dir__<0?"Right":"")}),l},xe.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Xt(["filter","map","takeWhile"],function(e,t){var r=t+1,l=r==Ut||r==gt;xe.prototype[e]=function(d){var h=this.clone();return h.__iteratees__.push({iteratee:re(d,3),type:r}),h.__filtered__=h.__filtered__||l,h}}),Xt(["head","last"],function(e,t){var r="take"+(t?"Right":"");xe.prototype[e]=function(){return this[r](1).value()[0]}}),Xt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");xe.prototype[e]=function(){return this.__filtered__?new xe(this):this[r](1)}}),xe.prototype.compact=function(){return this.filter(an)},xe.prototype.find=function(e){return this.filter(e).head()},xe.prototype.findLast=function(e){return this.reverse().find(e)},xe.prototype.invokeMap=ge(function(e,t){return typeof e=="function"?new xe(this):this.map(function(r){return vo(r,e,t)})}),xe.prototype.reject=function(e){return this.filter(Ta(re(e)))},xe.prototype.slice=function(e,t){e=ve(e);var r=this;return r.__filtered__&&(e>0||t<0)?new xe(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=ve(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},xe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},xe.prototype.toArray=function(){return this.take(Ot)},ir(xe.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),d=p[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);d&&(p.prototype[t]=function(){var m=this.__wrapped__,b=l?[1]:arguments,w=m instanceof xe,$=b[0],P=w||de(m),R=function(Ee){var Ie=d.apply(p,nr([Ee],b));return l&&K?Ie[0]:Ie};P&&r&&typeof $=="function"&&$.length!=1&&(w=P=!1);var K=this.__chain__,j=!!this.__actions__.length,oe=h&&!K,me=w&&!j;if(!h&&P){m=me?m:new xe(this);var ae=e.apply(m,b);return ae.__actions__.push({func:Ea,args:[R],thisArg:i}),new wn(ae,K)}return oe&&me?e.apply(this,b):(ae=this.thru(R),oe?l?ae.value()[0]:ae.value():ae)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Hn[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var d=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(de(h)?h:[],d)}return this[r](function(m){return t.apply(de(m)?m:[],d)})}}),ir(xe.prototype,function(e,t){var r=p[t];if(r){var l=r.name+"";ke.call(ds,l)||(ds[l]=[]),ds[l].push({name:t,func:r})}}),ds[va(i,le).name]=[{name:"wrapper",func:i}],xe.prototype.clone=th,xe.prototype.reverse=nh,xe.prototype.value=rh,p.prototype.at=N_,p.prototype.chain=$_,p.prototype.commit=P_,p.prototype.next=L_,p.prototype.plant=R_,p.prototype.reverse=F_,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=q_,p.prototype.first=p.prototype.head,Me&&(p.prototype[Me]=M_),p}),xr=ra();gr?((gr.exports=xr)._=xr,ts._=xr):pt._=xr}).call(PA)})(Co,Co.exports)),Co.exports}var Io=LA();function MA(o){let n=null,i=null,f=new Map;const v=U=>JSON.stringify(U),g=async(U,Z,z,Q)=>{if(Q===(z==="cart"?n:i))return{success:!0,skipped:!0};if(f.has(z))return console.log(` Skipping duplicate ${z} request`),{success:!1,skipped:!0};const te=new AbortController,ie=setTimeout(()=>te.abort(),5e3);f.set(z,!0);try{const le=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(Z),signal:te.signal});if(clearTimeout(ie),!le.ok)throw new Error(`HTTP ${le.status}`);const Ne=await le.json();return z==="cart"?n=Q:i=Q,console.log(` ${z} updated - v${Ne.version}`),{success:!0,data:Ne}}catch(le){return le.name==="AbortError"?console.warn(` ${z} update timeout`):console.error(` Failed to update ${z}:`,le.message),{success:!1,error:le}}finally{f.delete(z)}},E=Io.debounce(async U=>{const Z=v(U);await g("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",Z)},800),S=Io.debounce(async U=>{const Z=v(U);await g("/api/pos/terminal/update-ui",{terminal_id:o,ui:U},"ui",Z)},300),C=async U=>{const Z=v(U);return await g("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",Z)},M=Io.debounce(async(U,Z)=>{const z=v(U),Q=v(Z);if(z===n&&Q===i)return{success:!0,skipped:!0};const te=new AbortController,ie=setTimeout(()=>te.abort(),5e3);try{const le=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:o,cart:U,ui:Z}),signal:te.signal});if(clearTimeout(ie),!le.ok)throw new Error(`HTTP ${le.status}`);const Ne=await le.json();return n=z,i=Q,console.log(` Batch update successful - v${Ne.version}`),{success:!0,data:Ne}}catch(le){return console.error(" Batch update failed:",le.message),{success:!1,error:le}}},500);return{broadcastCartUpdate:E,broadcastUIUpdate:S,broadcastImmediateCartUpdate:C,broadcastBatchUpdate:M,clearBroadcastCache:()=>{n=null,i=null,f.clear(),console.log(" Broadcast cache cleared")}}}const RA={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)","z-index":"9999"}},FA={class:"modal-dialog modal-lg modal-dialog-centered"},qA={class:"modal-content"},BA={class:"modal-header bg-warning text-dark"},WA={class:"modal-body"},HA={key:0,class:"alert alert-info mb-3"},UA={class:"mb-0"},VA={key:1,class:"alert alert-danger"},zA={class:"text-muted"},KA={key:2},YA={class:"fw-bold"},GA={key:0,class:"badge bg-secondary ms-2"},jA={class:"table table-sm table-bordered"},QA={class:"text-end"},XA={class:"text-end"},ZA={class:"text-end text-danger fw-bold"},JA={class:"modal-footer"},ex={__name:"ConfirmMissingIngredientsModal",props:{show:Boolean,missingIngredients:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(o,{emit:n}){const i=o,f=n;Pi(()=>i.show,S=>{console.log(" Modal show changed:",S),S&&console.log(" Missing ingredients:",i.missingIngredients)},{immediate:!0}),Pi(()=>i.missingIngredients,S=>{console.log(" Missing ingredients changed:",S),console.log(" Array length:",S?.length),console.log(" Is array?:",Array.isArray(S))},{immediate:!0,deep:!0});const v=be(()=>{if(console.log(" Computing groupedByItem"),console.log(" Input missingIngredients:",i.missingIngredients),!Array.isArray(i.missingIngredients)||i.missingIngredients.length===0)return console.log(" No ingredients to group (not array or empty)"),{};const S={};return i.missingIngredients.forEach((C,M)=>{console.log(` Processing ingredient ${M}:`,C);const L=`${C.item_id}-${C.variant_id||"default"}`;S[L]||(S[L]={item_title:C.item_title,variant_name:C.variant_name,ingredients:[]}),S[L].ingredients.push(C)}),console.log(" Final grouped data:",S),S}),g=be(()=>i.missingIngredients&&i.missingIngredients.length>0),E=be(()=>Object.keys(v.value).length);return(S,C)=>o.show?at((x(),O("div",RA,[c("div",FA,[c("div",qA,[c("div",BA,[C[4]||(C[4]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-exclamation-triangle-fill me-2"}),fe(" Ingredient Shortage Warning ")],-1)),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:C[0]||(C[0]=M=>f("close"))},[...C[3]||(C[3]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",WA,[g.value?G("",!0):(x(),O("div",HA,[C[5]||(C[5]=c("strong",null,"Debug Info:",-1)),c("ul",UA,[c("li",null,"Has data: "+N(g.value),1),c("li",null,"Array length: "+N(o.missingIngredients?.length||0),1),c("li",null,"Is array: "+N(Array.isArray(o.missingIngredients)),1),c("li",null,"Group count: "+N(E.value),1)])])),C[10]||(C[10]=c("div",{class:"alert alert-warning"},[c("strong",null,"Warning:"),fe(" The following items have ingredient shortages. The order can still be placed, but pending ingredient deductions will be recorded and automatically deducted when stock arrives. ")],-1)),g.value?(x(),O("div",KA,[(x(!0),O(We,null,ht(v.value,(M,L)=>(x(),O("div",{key:L,class:"mb-4"},[c("h6",YA,[fe(N(M.item_title)+" ",1),M.variant_name?(x(),O("span",GA,N(M.variant_name),1)):G("",!0)]),c("table",jA,[C[9]||(C[9]=c("thead",{class:"table-light"},[c("tr",null,[c("th",null,"Ingredient"),c("th",{class:"text-end"},"Required"),c("th",{class:"text-end"},"Available"),c("th",{class:"text-end"},"Short")])],-1)),c("tbody",null,[(x(!0),O(We,null,ht(M.ingredients,U=>(x(),O("tr",{key:U.inventory_item_id},[c("td",null,N(U.inventory_item_name),1),c("td",QA,N(U.required_quantity)+" "+N(U.unit),1),c("td",XA,N(U.available_quantity)+" "+N(U.unit),1),c("td",ZA,N(U.shortage_quantity)+" "+N(U.unit),1)]))),128))])])]))),128))])):(x(),O("div",VA,[C[6]||(C[6]=c("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),C[7]||(C[7]=fe(" No missing ingredient data available. ",-1)),C[8]||(C[8]=c("br",null,null,-1)),c("small",zA," Received "+N(o.missingIngredients?.length||0)+" ingredient(s) ",1)]))]),c("div",JA,[c("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:C[1]||(C[1]=M=>f("close"))}," Cancel Order "),c("button",{type:"button",class:"btn btn-primary px-4 py-2",onClick:C[2]||(C[2]=M=>f("confirm"))}," Proceed Anyway ")])])])],512)),[[Lr,o.show]]):G("",!0)}},tx={class:"page-wrapper"},nx={class:"container-fluid px-3 py-3"},rx={class:"row gx-3 gy-3"},ix={key:0,class:"row g-3 tablet-screen"},sx={class:"d-flex justify-content-between justify align-items-center mb-3"},ox={style:{width:"250px",position:"relative"}},ax={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},lx={key:0,class:"col-12 text-center py-5"},ux=["onClick"],cx={class:"cat-icon-wrap"},dx={class:"cat-icon"},fx=["src"],px={key:1},hx={class:"cat-name"},vx={class:"cat-pill"},_x={key:0,class:"text-danger ms-1"},mx={key:0,class:"col-12"},gx={key:1},bx={class:"d-flex flex-wrap gap-2 align-items-center mb-4"},yx={class:"fw-bold mb-0"},wx={class:"d-flex gap-2 ms-auto align-items-center"},Ex={class:"search-wrap position-relative"},Ax={key:0,class:"col-12"},xx={class:"alert alert-warning border-0 rounded-4 text-center py-5"},Cx={class:"text-muted mb-3"},Tx={class:"row g-3"},Sx={key:0,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:{"border-color":"#dc3545"}},Ix={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},Ox=["src"],kx={class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold bg-danger",style:{"font-size":"0.58rem","letter-spacing":"0.3px"}},Dx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},Nx={class:"h5 fw-bold mb-2 menu-name text-danger"},$x={class:"mt-2"},Px=["onClick"],Lx=["onClick","disabled"],Mx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},Rx=["onClick"],Fx={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},qx=["src"],Bx={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},Wx={key:0,class:"text-muted text-decoration-line-through me-1"},Hx={class:"fw-bold text-success me-2"},Ux={key:1,class:"text-muted text-decoration-line-through me-1"},Vx={class:"fw-bold text-success"},zx={class:"text-decoration-line-through opacity-75 me-1"},Kx={class:"fw-bold text-white"},Yx={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},Gx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},jx={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},Qx=["onClick"],Xx=["onClick","disabled"],Zx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},Jx=["onClick"],eC={key:0,class:"col-lg-4 right-cart"},tC={class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},nC={key:0,class:"badge bg-danger ms-1"},rC={class:"cart card border-0 shadow-lg rounded-4"},iC={class:"cart-header"},sC={class:"order-type"},oC=["onClick"],aC={class:"cart-body"},lC={class:"mb-3"},uC={key:0,class:"row g-2"},cC={class:"col-6 table-dropdown"},dC=["value"],fC={key:0,class:"invalid-feedback d-block"},pC={class:"col-6 table-dropdown"},hC={key:1},vC={key:0,class:"invalid-feedback d-block"},_C={key:2,class:"mt-2"},mC={key:0,class:"invalid-feedback d-block"},gC={key:1,class:"invalid-feedback d-block"},bC={class:"cart-lines"},yC={key:0,class:"empty"},wC={class:"line-left"},EC=["src"],AC={class:"meta"},xC=["title"],CC={key:0},TC={class:"badge bg-success",style:{"font-size":"0.65rem"}},SC={key:1,class:"addon-icons mt-1"},IC=["onClick","title"],OC={class:"text-muted small"},kC={key:2,class:"badge bg-success mt-1 ms-1",style:{"font-size":"0.65rem"}},DC={key:3,class:"mt-1"},NC={class:"badge",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},$C={key:4,class:"note"},PC={class:"line-right"},LC={class:"qty-controls"},MC=["onClick"],RC={class:"qty"},FC=["onClick"],qC={class:"price-delete"},BC={class:"price"},WC=["onClick"],HC={class:"totals"},UC={class:"trow"},VC={class:"sub-total"},zC={key:0,class:"trow"},KC={class:"text-info"},YC={key:1,class:"trow"},GC={class:"fw-semibold"},jC={key:2,class:"trow"},QC={class:"fw-semibold"},XC={key:3,class:"trow"},ZC={class:"text-danger"},JC={key:4,class:"promos-section mb-3"},eT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},tT={class:"d-flex justify-content-between align-items-center"},nT={class:"text-success fs-6"},rT={key:5,class:"pending-discounts-section mb-3"},iT={class:"d-flex align-items-center gap-2 text-warning"},sT={class:"text-warning"},oT={key:6,class:"approved-discounts-section mb-3"},aT={class:"trow border-top pt-2 mt-2"},lT={class:"text-success"},uT={class:"trow total"},cT={class:""},dT={class:"mb-3"},fT={class:"mb-3"},pT={class:"cart-footer"},hT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},vT={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},_T={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},mT={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},gT={class:"fw-bold mb-0"},bT={class:"px-1 pt-2 progress-bar"},yT={class:"stepper-container position-relative",style:{"min-height":"60px"}},wT=["onClick"],ET={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},AT={key:1,style:{"font-size":"0.75rem"}},xT=["onClick"],CT={class:"modal-body px-3 py-2"},TT={class:"row g-3 mb-3"},ST={class:"col-lg-5"},IT={class:"rounded-3 border shadow-sm p-3 bg-white"},OT={class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},kT={key:0,class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},DT={class:"text-success"},NT={class:"d-flex justify-content-between",style:{"font-size":"1rem"}},$T={class:"fw-bold text-primary"},PT={class:"col-lg-7"},LT={class:"px-1"},MT={class:"step-content"},RT={class:"row g-2"},FT=["onClick"],qT={class:"d-flex justify-content-between align-items-center"},BT={class:"fw-bold mb-0",style:{"font-size":"0.85rem"}},WT={class:"d-flex justify-content-between align-items-center gap-2"},HT={key:0,class:"text-primary"},UT={style:{"font-size":"0.9rem"}},VT={class:"step-content"},zT={class:"row g-2"},KT=["id","checked","disabled","onChange"],YT=["for"],GT={class:"step-content"},jT={key:0,class:"mb-3"},QT={class:"d-flex justify-content-between align-items-center mb-2"},XT={class:"text-muted",style:{"font-size":"0.75rem"}},ZT={class:"d-flex gap-1"},JT={key:1,class:"mb-3"},eS={class:"bg-light rounded-3 p-1 mb-3"},tS={class:"d-flex justify-content-between align-items-center mb-0"},nS={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},rS={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},iS={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},sS={class:"row g-2"},oS={class:"d-flex align-items-center flex-grow-1"},aS=["id","checked","onChange"],lS=["for"],uS={class:"text-success fw-semibold ms-1"},cS={key:0,class:"d-flex align-items-center gap-1"},dS=["onClick","disabled"],fS={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},pS=["onClick"],hS={key:2,class:"d-flex justify-content-between gap-2 mt-3"},vS=["disabled"],_S=["disabled"],mS={class:"step-content"},gS={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},bS={key:0,class:"summary-item"},yS={class:"summary-value"},wS={key:1,class:"summary-item"},ES={class:"summary-value"},AS={key:2,class:"summary-item"},xS={class:"summary-value"},CS={class:"d-flex align-items-center mb-3"},TS={class:"qty-group gap-1"},SS=["disabled"],IS={class:"qty-box rounded-pill"},OS={class:"mb-2"},kS={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},DS={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end gap-2"},NS={class:"modal fade",id:"customizeDealModal",tabindex:"-1","aria-hidden":"true"},$S={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},PS={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},LS={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},MS={class:"fw-bold mb-0"},RS={class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},FS={class:"px-3 pt-3 progress-bar"},qS={class:"stepper-container position-relative",style:{"min-height":"60px"}},BS=["onClick"],WS={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},HS={key:1,style:{"font-size":"0.75rem"}},US=["onClick"],VS={class:"modal-body px-3 py-2"},zS={class:"row g-3 mb-3"},KS={class:"col-lg-4"},YS={class:"rounded-3 border shadow-sm p-3 bg-white mb-3"},GS={class:"fw-bold mb-2 d-flex align-content-center",style:{"font-size":"0.9rem"}},jS={class:"d-flex align-items-center"},QS={class:"flex-grow-1"},XS={class:"text-muted small"},ZS={key:0,class:"text-success small fw-semibold"},JS={class:"fw-bold text-primary"},e2={class:"rounded-3 border shadow-sm p-3 bg-white"},t2={class:"list-group list-group-flush"},n2={class:"d-flex align-items-center"},r2={key:0,class:"bi bi-check-circle-fill text-success me-2"},i2={key:2,class:"bi bi-circle text-muted me-2"},s2={class:"col-lg-8"},o2={class:"px-1"},a2={class:"step-content"},l2={class:"d-flex align-items-start mb-2"},u2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},c2={class:"row g-2"},d2=["id","checked","disabled","onChange"],f2=["for"],p2={class:"step-content"},h2={class:"d-flex align-items-start mb-3"},v2={class:"flex-grow-1"},_2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},m2={key:0,class:"mb-3"},g2={class:"d-flex justify-content-between align-items-center mb-2"},b2={class:"text-muted",style:{"font-size":"0.75rem"}},y2={class:"d-flex gap-1"},w2={key:1,class:"mb-3"},E2={class:"bg-light rounded-3 p-1 mb-3"},A2={class:"d-flex justify-content-between align-items-center mb-0"},x2={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},C2={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},T2={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},S2={class:"row g-2"},I2={class:"d-flex align-items-center flex-grow-1"},O2=["id","checked","onChange"],k2=["for"],D2={class:"text-success fw-semibold ms-1"},N2={key:0,class:"d-flex align-items-center gap-1"},$2=["onClick","disabled"],P2={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},L2=["onClick"],M2={key:2,class:"d-flex justify-content-between gap-2 mt-3"},R2=["disabled"],F2=["disabled"],q2={class:"step-content"},B2={class:"d-flex align-items-start mb-2"},W2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},H2={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},U2={class:"summary-item"},V2={class:"summary-value"},z2={class:"summary-item"},K2={class:"summary-value"},Y2={key:0,class:"summary-item"},G2={class:"summary-value text-danger"},j2={key:1,class:"summary-item"},Q2={class:"summary-value text-success"},X2={key:2,class:"summary-item"},Z2={class:"summary-value text-success fw-bold"},J2={class:"summary-item border-top pt-2 mt-2"},eI={class:"summary-value fw-bold text-primary"},tI={class:"mb-2"},nI={class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},rI={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},iI={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end"},sI={class:"d-flex gap-2"},oI={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},aI={class:"modal-dialog modal-lg modal-dialog-centered"},lI={class:"modal-content rounded-4 border-0 shadow-lg"},uI={key:0,class:"modal-body pt-2"},cI={class:"alert alert-light border rounded-3 mb-3"},dI={class:"d-flex align-items-center gap-3"},fI=["src"],pI={class:"flex-grow-1"},hI={class:"fw-bold fs-6"},vI={class:"d-flex gap-3 mt-1"},_I={class:"text-muted"},mI={class:"fw-semibold"},gI={class:"text-muted"},bI={class:"fw-semibold"},yI={key:0,class:"table-responsive"},wI={class:"table table-hover align-middle mb-0"},EI={class:"text-center"},AI={class:"form-check d-flex justify-content-center"},xI=["checked","onChange"],CI={class:"d-flex align-items-center gap-2"},TI={class:"fw-semibold"},SI={key:0,class:"text-muted"},II={class:"text-center"},OI={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},kI={class:"d-flex align-items-center justify-content-center gap-2"},DI=["onClick","disabled"],NI={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},$I=["onClick","disabled"],PI={key:1,class:"text-center text-muted py-5"},LI={class:"mt-3 p-3 rounded-3"},MI={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},RI={class:"text-success fw-semibold"},FI={__name:"Index",props:["client_secret","order_code"],setup(o){const{formatCurrencySymbol:n}=ty();gs(()=>{Ou(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>{new nl(a)})})});const i=H([]),f=H(!0),v=H(""),g=H(Date.now()),E=`category-search-${Math.random().toString(36).substr(2,9)}`,S=H(!1),C=H(0),M=be(()=>!ue.value?.addon_groups||ue.value.addon_groups.length===0?null:ue.value.addon_groups[C.value]),L=()=>{C.value<ue.value?.addon_groups?.length-1&&C.value++},U=()=>{C.value>0&&C.value--},Z=()=>{pe.value=fr.value},z=H(0),Q=be(()=>!ze.value?.addon_groups||ze.value.addon_groups.length===0?null:ze.value.addon_groups[z.value]),te=()=>{z.value<ze.value?.addon_groups?.length-1&&z.value++},ie=()=>{z.value>0&&z.value--},le=()=>{Ce.value=Ar.value},Ne=be(()=>{const a=v.value.trim().toLowerCase();return a?Bn.value.filter(s=>s.name.toLowerCase().includes(a)):Bn.value}),$e=async()=>{f.value=!0;try{const a=await axios.get("/api/pos/fetch-menu-categories");i.value=a.data,i.value.length>0&&(Kt.value=i.value[0].id)}catch(a){console.error("Error fetching categories:",a)}finally{f.value=!1}},J=H([]),_e=async()=>{try{const a=await axios.get("/api/pos/fetch-menu-items");J.value=a.data.data}catch(a){console.error("Error fetching inventory:",a)}},Ae=be(()=>{const a={};return J.value.forEach(s=>{const u=s.category?.id||"uncategorized",_=s.category?.name||"Uncategorized";a[u]||(a[u]=[]);const A={id:s.id,title:s.name,img:s.image_url||"/assets/img/default.png",stock:0,price:Number(s.price),label_color:s.label_color||"#1B1670",family:_,description:s.description,nutrition:s.nutrition,tags:s.tags,allergies:s.allergies,ingredients:s.ingredients??[],variants:s.variants??[],addon_groups:s.addon_groups??[],is_saleable:s.is_saleable,resale_type:s.resale_type,resale_value:s.resale_value,isDeal:!1};a[u].push(A)}),Ei.value.forEach(s=>{const u=s.category_id||"uncategorized";a[u]||(a[u]=[]);const _={id:s.id,dealId:s.id,title:s.title,img:s.img,stock:999999,price:Number(s.price),label_color:"#dc3545",family:"Deal",description:s.description,nutrition:{},tags:[],allergies:[],ingredients:[],variants:[],addon_groups:[],is_saleable:!1,resale_type:null,resale_value:null,isDeal:!0,category_id:s.category_id,menu_items:s.menu_items||[]};a[u].push(_)}),a}),we=H({});Pi(()=>J.value,a=>{a&&a.length>0&&a.forEach(s=>{s.variants&&s.variants.length>0&&(we.value[s.id]||(we.value[s.id]=s.variants[0].id))})},{immediate:!0,deep:!0});const Oe=a=>{if(!a.variants||a.variants.length===0)return null;const s=we.value[a.id];return s&&a.variants.find(u=>u.id===s)||a.variants[0]},qe=H({}),Ke=a=>{const s=a.id;if(!qe.value[s])return 0;let u=0;return Object.values(qe.value[s]).forEach(_=>{_.forEach(A=>{u+=parseFloat(A.price||0)})}),u},Ze=a=>{const s=a.id;if(!qe.value[s])return[];const u=[];return Object.values(qe.value[s]).forEach(_=>{_.forEach(A=>{u.push({id:A.id,name:A.name,price:parseFloat(A.price),group_id:A.group_id||A.pivot?.addon_group_id})})}),u},Le=H([]),je=()=>{if(!ue.value)return[];const a=zt();return a&&a.ingredients&&a.ingredients.length>0?a.ingredients:ue.value.ingredients||[]},Ut=a=>Le.value.includes(a),kn=a=>{const s=Le.value.indexOf(a);s>-1?(Le.value.splice(s,1),V.info("Ingredient added back")):(Le.value.push(a),V.info("Ingredient removed"))},gt=()=>{if(Le.value.length===0)return null;const a=je(),s=Le.value.map(u=>{const _=a.find(A=>A.id===u||A.inventory_item_id===u);return _?_.product_name||_.name:null}).filter(Boolean);return s.length===0?null:`No ${s.join(", ")}`},pe=H(1),It=a=>{(a<=pe.value||a===pe.value+1)&&(pe.value=a)},Vt=be(()=>ue.value?.variants&&ue.value.variants.length>0),Dn=be(()=>je().length>0),Ot=be(()=>ue.value?.addon_groups&&ue.value.addon_groups.length>0),lt=be(()=>{let a=[],s=1;return Vt.value&&(a.push({id:"variants",name:"Variant",stepNumber:s,actualStep:1}),s++),Dn.value&&(a.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:2}),s++),Ot.value&&(a.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:3}),s++),a.push({id:"review",name:"Review",stepNumber:s,actualStep:4}),a}),fr=be(()=>lt.value[lt.value.length-1]?.stepNumber||1),Yn=be(()=>{if(pe.value===1)return"0%";const a=lt.value.length,s=(pe.value-1)/(a-1);return`calc(${s*100}% - ${14-s*28}px)`}),yt=a=>a<pe.value?"stepper-circle-completed":a===pe.value?"stepper-circle-active":"stepper-circle-inactive",bn=()=>{const a=je(),s=Le.value||[];return a.filter(u=>!s.includes(u.id||u.inventory_item_id)).length},Br=()=>{const a=lt.value.findIndex(s=>s.stepNumber===pe.value);a<lt.value.length-1&&(pe.value=lt.value[a+1].stepNumber)},Lt=()=>{const a=lt.value.findIndex(s=>s.stepNumber===pe.value);a>0&&(pe.value=lt.value[a-1].stepNumber)},Nn=a=>{Zn.value=a,Mt()},Ms=()=>Vt.value&&ue.value?.variants?.find(s=>s.id===Zn.value)?.name||"",Gn=()=>{const a=[];return Object.values(dt.value).forEach(s=>{s.forEach(u=>{const _=u.quantity>1?` x${u.quantity}`:"";a.push(`${u.name}${_} (+${n(u.price*(u.quantity||1))})`)})}),a.join(", ")},Wr=async a=>{ue.value=a,zs.value="",Pn.value="",Zn.value=null,dt.value={},C.value=0,Le.value=[],pe.value=1,a.variants&&a.variants.length>0&&(Zn.value=a.variants[0].id);const s=a.variants&&a.variants.length>0?a.variants[0]:null,u=s?s.id:null,_=Fn(a,u),A=Hr(a,u,_);vt.value=A>0?1:0,Le.value=[];const D=document.getElementById("chooseItem"),I=new bootstrap.Modal(D);D.addEventListener("shown.bs.modal",async()=>{await Ou()},{once:!0}),I.show()},Hr=(a,s,u)=>{if(!gi.value)return 999999;const _=u.filter(I=>!Le.value.includes(I.id||I.inventory_item_id));if(!_||_.length===0)return 999999;const A={};for(const I of q.value)Fn(I,I.variant_id).filter(B=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(B.id||B.inventory_item_id)).forEach(B=>{const he=B.inventory_item_id,Me=Number(B.inventory_stock??B.inventory_item?.stock??0);A[he]||(A[he]={totalStock:Me,used:0});const X=Number(B.quantity??B.qty??1)*I.qty;A[he].used+=X});let D=999999;for(const I of _){const W=I.inventory_item_id,se=Number(I.inventory_stock??I.inventory_item?.stock??0),B=Number(I.quantity??I.qty??1);if(A[W]){const he=A[W].totalStock-A[W].used,Me=Math.floor(he/B);D=Math.min(D,Me)}else{const he=Math.floor(se/B);D=Math.min(D,he)}}return D},Mt=()=>{const a=zt(),s=a?a.id:null,u=Fn(ue.value,s),_=Hr(ue.value,s,u);if(_<=0){V.error("No stock available for this variant. Please remove items from cart first."),vt.value=0;return}vt.value=Math.min(1,_)},zt=()=>{if(!ue.value||!ue.value.variants||ue.value.variants.length===0)return null;const a=Zn.value;return a&&ue.value.variants.find(s=>s.id===a)||ue.value.variants[0]},Hi=()=>{if(!ue.value)return 0;const a=zt();return parseFloat(a?a.price:ue.value.price||0)},wt=()=>{let a=0;return Object.values(dt.value).forEach(s=>{s.forEach(u=>{a+=parseFloat(u.price||0)*(u.quantity||1)})}),a},Ui=()=>{const a=[];return Object.values(dt.value).forEach(s=>{s.forEach(u=>{a.push({id:u.id,name:u.name,price:parseFloat(u.price),group_id:u.group_id||u.pivot?.addon_group_id})})}),a},Vi=a=>{if(!a)return 0;if(!gi.value)return 999999;const s=Oe(a),u=s?s.id:null,_=Fn(a,u);if(!_.length)return 999999;let A=1/0;return _.forEach(D=>{const I=Number(D.quantity??D.qty??1),W=Number(D.inventory_stock??D.inventory_item?.stock??0);if(I<=0)return;const se=Math.floor(W/I);A=Math.min(A,se)}),A===1/0?0:A},kt=a=>Vi(a),Ye=H(""),ye=H("dine"),Je=H("Walk In"),Et=H(" "),ut=H(" "),zi=H(10),Kt=H(null),$n=a=>Kt.value=a,jn=H(!0),Rs=a=>{$n(a.id),jn.value=!1},Fs=()=>jn.value=!0,pr=H({}),Qn=H([]),At=H(null),qs=async()=>{try{const a=await axios.get("/api/pos/fetch-profile-tables");if(pr.value=a.data,pr.value.order_types){Qn.value=pr.value.order_types.map(u=>u.charAt(0).toUpperCase()+u.slice(1));const s=localStorage.getItem("quickOrderType");if(s){const u=Qn.value.find(_=>_.toLowerCase().replace(/_/g," ")===s.toLowerCase().replace(/_/g," "));u?ye.value=u:ye.value=Qn.value[0]}else ye.value=Qn.value[0]}}catch(a){console.error("Error fetching profile tables:",a)}},Bs=be(()=>Ae.value[Kt.value]??[]),ct=H({sortBy:"",priceMin:null,priceMax:null}),Lo=be(()=>{let a=Bs.value;const s=Ye.value.trim().toLowerCase();if(s&&(a=a.filter(u=>u.title.toLowerCase().includes(s)||(u.family||"").toLowerCase().includes(s)||(u.description||"").toLowerCase().includes(s)||(u.tags?.map(_=>_.name.toLowerCase()).join(", ")||"").includes(s))),ct.value.priceMin!==null&&ct.value.priceMin!==""&&(a=a.filter(u=>u.price>=ct.value.priceMin)),ct.value.priceMax!==null&&ct.value.priceMax!==""&&(a=a.filter(u=>u.price<=ct.value.priceMax)),ct.value.sortBy)switch(a=[...a],ct.value.sortBy){case"name_asc":a.sort((u,_)=>u.title.localeCompare(_.title));break;case"name_desc":a.sort((u,_)=>_.title.localeCompare(u.title));break;case"price_asc":a.sort((u,_)=>u.price-_.price);break;case"price_desc":a.sort((u,_)=>_.price-u.price);break;case"stock_asc":a.sort((u,_)=>(u.stock??0)-(_.stock??0));break;case"stock_desc":a.sort((u,_)=>(_.stock??0)-(u.stock??0));break}return a}),Ws=H(!1),sl=a=>{ct.value={...a},Ws.value=!0},hr=H(""),Mo=()=>{const a=localStorage.getItem("pos_walkin_counter");a?hr.value=parseInt(a):(hr.value=1,localStorage.setItem("pos_walkin_counter","1"))},Ro=()=>`Walk In-${String(hr.value).padStart(3,"0")}`,ol=()=>{hr.value++,localStorage.setItem("pos_walkin_counter",hr.value.toString())},Hs=()=>{ct.value={sortBy:"",priceMin:null,priceMax:null}},q=H([]),Fo=async a=>{const s=q.value[a];if(!s)return;if(s.isDeal){const _=ta({id:s.dealId,title:s.title,menu_items:s.menu_items},s.qty+1);if(!_.canAdd){console.log(" Missing ingredients for deal (cart increment)"),jt.value={itemIndex:a,item:s,newQty:s.qty+1,isDeal:!0},Gt.value=_.missing,Rn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}s.qty++,s.price=s.unit_price*s.qty,V.success("Deal quantity updated");return}const u=Us(s,s.qty+1);if(!u.canAdd){console.log(" Missing ingredients detected (client-side)"),jt.value={itemIndex:a,item:s,newQty:s.qty+1,isDeal:!1},Gt.value=u.missing,Rn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}s.outOfStock=!1,s.qty++,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty)},Us=(a,s)=>{if(!gi.value)return{canAdd:!0,missing:[]};const u=a.ingredients||[];if(u.length===0)return{canAdd:!0,missing:[]};const _=[],A={};return q.value.forEach(I=>{(I.ingredients||[]).filter(B=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(B.id||B.inventory_item_id)).forEach(B=>{const he=B.inventory_item_id,Me=Number(B.inventory_stock??B.inventory_item?.stock??0);A[he]||(A[he]={totalStock:Me,used:0,name:B.product_name||B.name,unit:B.unit||"unit"});const X=Number(B.quantity??B.qty??1)*I.qty;A[he].used+=X})}),u.filter(I=>!a.removed_ingredients||a.removed_ingredients.length===0?!0:!a.removed_ingredients.includes(I.id||I.inventory_item_id)).forEach(I=>{const W=I.inventory_item_id,se=Number(I.quantity??I.qty??1)*s,B=Number(I.inventory_stock??I.inventory_item?.stock??0);if(!A[W])B<se&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:se,available_quantity:B,shortage_quantity:se-B,unit:I.unit||"unit",order_quantity:s});else{const he=A[W].totalStock-A[W].used,Me=q.value.find(X=>X.id===a.id&&X.variant_id===a.variant_id&&JSON.stringify(X.addons?.map(Qe=>Qe.id).sort())===JSON.stringify(a.addons?.map(Qe=>Qe.id).sort()));if(Me){const X=Number(I.quantity??I.qty??1)*Me.qty,Qe=he+X;Qe<se&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:se,available_quantity:Qe,shortage_quantity:se-Qe,unit:I.unit||"unit",order_quantity:s})}else he<se&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:se,available_quantity:he,shortage_quantity:se-he,unit:I.unit||"unit",order_quantity:s})}}),{canAdd:_.length===0,missing:_}},al=async a=>{const s=q.value[a];if(!s||s.qty<=1){V.error("Cannot reduce below 1.");return}s.qty--,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty),s.outOfStock=!1},ll=a=>{if(q.value[a],q.value.splice(a,1),q.value.length===0){ft.value=[],Fe.value=[],Yt.value=[],_r();return}Fe.value.length>0&&(Fe.value=Fe.value.filter(u=>{if(!u.menu_items||u.menu_items.length===0)return!0;const _=u.menu_items.map(D=>D.id);return q.value.some(D=>_.includes(D.id))}));const s=[];ft.value.forEach(u=>{u.min_purchase&&xt.value<u.min_purchase?V.info(`Discount "${u.name}" removed  subtotal is lower than minimum required (${n(u.min_purchase)}).`):s.push(u)}),ft.value=s},xt=be(()=>q.value.reduce((a,s)=>a+s.price,0)),Xn=be(()=>{if(ye.value!=="Delivery")return 0;const a=Qt.props.onboarding.tax_and_vat;return a.has_delivery_charges?a.delivery_charge_flat?parseFloat(a.delivery_charge_flat):a.delivery_charge_percentage?xt.value*parseFloat(a.delivery_charge_percentage)/100:0:0}),yn=be(()=>{if(q.value.length===0)return 0;const a=Qt.props.onboarding.tax_and_vat;return a.has_service_charges?a.service_charge_flat?parseFloat(a.service_charge_flat):a.service_charge_percentage?xt.value*parseFloat(a.service_charge_percentage)/100:0:0}),Vs=a=>`${(Math.round(a*100)/100).toFixed(2)}`,ue=H(null),vt=H(0),zs=H(""),Zn=H(null),dt=H({}),Pn=H(""),ul=async()=>{if(!ue.value)return;if(vt.value<=0){V.error("Please select at least 1 item to add to cart");return}const a=zt(),s=a?a.id:null;a&&`${a.name}`;const u=a?a.name:null,_=parseFloat(a?a.price:ue.value.price),A=Ui(),D=wt(),I=_+D,W=a?Rt(a,!0):Rt(ue.value,!1),se=Fn(ue.value,s),B=gt();try{const he=A.map(De=>De.id).sort((De,Tt)=>De-Tt).join("-"),Me=se.length>0?vi(se):999999,X=q.value.findIndex(De=>{if(De.variant_id!==s)return!1;const Tt=(De.addons||[]).map(nn=>nn.id).sort((nn,ti)=>nn-ti).join("-");return De.id===ue.value.id&&Tt===he});if(X>=0){if(q.value[X].qty+=vt.value,q.value[X].price=q.value[X].unit_price*q.value[X].qty,q.value[X].total_resale_discount=W*q.value[X].qty,Pn.value&&Pn.value.trim()){const De=q.value[X].item_kitchen_note||"",Tt=Pn.value.trim(),nn=[De,Tt,B].filter(Boolean).filter((ti,us,ao)=>ao.indexOf(ti)===us);q.value[X].item_kitchen_note=nn.join("; ")}else if(B){const De=q.value[X].item_kitchen_note||"";q.value[X].item_kitchen_note=[De,B].filter(Boolean).join("; ")}Le.value.length>0&&(q.value[X].removed_ingredients=[...Le.value]),V.success(`Quantity updated to ${q.value[X].qty}`)}else{const De=[Pn.value.trim(),B].filter(Boolean).join(". ");q.value.push({id:ue.value.id,title:ue.value.title,img:ue.value.img,price:I*vt.value,unit_price:Number(I),qty:vt.value,note:zs.value||"",item_kitchen_note:De,stock:Me,ingredients:se,variant_id:s,variant_name:u,addons:A,removed_ingredients:[...Le.value],resale_discount_per_item:W,total_resale_discount:W*vt.value}),V.success(`${ue.value.title} added to cart`)}bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),vt.value=0,zs.value="",Pn.value="",Zn.value=null,dt.value={},Le.value=[]}catch(he){V.error("Failed to add item: "+(he.response?.data?.message||he.message))}},vi=a=>{if(!a||a.length===0)return 999999;let s=1/0;return a.forEach(u=>{const _=Number(u.quantity??u.qty??1),A=Number(u.inventory_stock??u.inventory_item?.stock??0);if(_<=0)return;const D=Math.floor(A/_);s=Math.min(s,D)}),s===1/0?0:s},cl=async()=>{if(!ue.value)return;const a=zt(),s=a?a.id:null,u=je(),_=Us({id:ue.value.id,title:ue.value.title,variant_id:s,variant_name:a?a.name:null,ingredients:u,removed_ingredients:Le.value||[]},vt.value+1);if(!_.canAdd){console.log(" Missing ingredients for modal increment (client-side)"),mi.value={currentQty:vt.value},Gt.value=_.missing,Rn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}vt.value++},dl=()=>{vt.value>1&&vt.value--},Ct=H({}),Ki=()=>{q.value=[],Je.value=Ro(),ut.value="",Et.value="",At.value=null,ye.value=Qn.value[0]||"eat_in",Ln.value="",cn.value="",zi.value=0,Fe.value=[],ft.value=[],Yt.value=[],Kr.value=[],_r()};Pi(ye,()=>Ct.value={});const Ln=H(""),cn=H(""),Ur=H(!1),_i=H(null),vr=H(!1),Vr=H(0),fl=()=>{if(q.value.length===0){V.error("Please add at least one item to the cart.");return}if(ye.value==="Eat_in"&&!At.value){Ct.value.table_number=["Table number is required for dine-in orders."],V.error("Please select a table number for Dine In orders.");return}if((ye.value==="Delivery"||ye.value==="Takeaway")&&!Je.value){Ct.value.customer=["Customer name is required."],V.error("Customer name is required.");return}if(ye.value==="Delivery"&&!Et.value){Ct.value.phoneNumber=["Phone number is required for delivery."],V.error("Phone number is required for delivery.");return}if(ye.value==="Delivery"&&!ut.value){Ct.value.deliveryLocation=["Delivery location is required."],V.error("Delivery location is required.");return}Vr.value=parseFloat(tr.value).toFixed(2),vr.value=!0};async function Ks(a,s){const u=s?"yes":"no";console.log(" printReceiptN called"),console.log(" shouldPrint (boolean):",s),console.log(" print value sent to printer:",u);try{const _=await axios.post("http://localhost:8085/print",{order:a,type:"customer",print:u},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(_){console.error("Print failed:",_),V.error("Unable to connect to the customer printer. Please ensure it is properly connected.")}}const qo=H("cash"),Bo=H(0);async function Ys(a){try{const s=await axios.post("http://localhost:8085/print",{order:a,type:"KOT"},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(s){console.error("KOT print failed:",s),V.error("Unable to connect to the kitchen printer. Please ensure it is properly connected.")}}const Yt=H([]),zr=H(null),Wo=H(!1),ft=H([]),Kr=H([]),Ho=async a=>{if(!a||a.length===0){V.warning("No discounts selected.");return}const s=Kr.value.map(_=>_.id),u=a.filter(_=>!s.includes(_.id));if(u.length===0){V.error("All selected discounts have been rejected for this order.");return}if(u.length<a.length){const _=a.length-u.length;V.warning(`${_} discount(s) were previously rejected and cannot be requested again.`)}try{const _=await axios.post("/api/discount-approvals/request",{discounts:a.map(A=>({discount_id:A.id,discount_percentage:parseFloat(A.discount_amount),discount_name:A.name})),order_items:q.value.map(A=>({id:A.id,title:A.title,qty:A.qty,unit_price:A.unit_price,price:A.price})),order_subtotal:xt.value,request_note:`Discount approval request from ${Qr.value?.name||"Cashier"}`});_.data.success&&(Yt.value=_.data.data.map(A=>({...A,discountData:a.find(D=>D.id===A.discount_id),percentage:parseFloat(A.discount_percentage),status:"pending"})),Zi.value=!1,Wo.value=!0,V.info("Discount approval request sent to Super Admin. Waiting for approval..."),Uo())}catch(_){console.error("Error requesting discount approval:",_),V.error(_.response?.data?.message||"Failed to request discount approval")}},Uo=()=>{zr.value&&clearInterval(zr.value),zr.value=setInterval(async()=>{await Yi()},3e3)},Yi=async()=>{if(Yt.value.length===0){_r();return}try{const a=Yt.value.map(u=>u.id),s=await axios.post("/api/discount-approvals/check-status",{approval_ids:a});s.data.success&&(s.data.data.forEach(_=>{if(_.status!=="pending"){const A=Yt.value.findIndex(D=>D.id===_.id);if(A>=0){if(_.status==="approved"){const D={id:_.discount_id,name:_.discount_name||_.discount?.name,percentage:parseFloat(_.discount_percentage),approval_id:_.id};Vo(D),V.success(`Discount "${D.name}" (${D.percentage}%) approved!`)}else _.status==="rejected"&&(Kr.value.push({id:_.discount_id,name:_.discount_name,percentage:parseFloat(_.discount_percentage),rejection_reason:_.approval_note}),V.error(`Discount "${_.discount_name}" rejected.`+(_.approval_note?` Reason: ${_.approval_note}`:"")));Yt.value.splice(A,1)}}}),Yt.value.length===0&&(Wo.value=!1,_r()))}catch(a){console.error("Error checking approval status:",a)}},_r=()=>{zr.value&&(clearInterval(zr.value),zr.value=null)},Vo=a=>{ft.value.push(a)};Gb(()=>{_r()}),gs(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",a=>{Yi()})});const Mn=be(()=>!ft.value||ft.value.length===0?0:ft.value.reduce((a,s)=>{const u=parseFloat(s.percentage||0),_=xt.value*u/100;return a+_},0)),Yr=a=>xt.value*a/100,pl=()=>{ft.value=[],Yt.value=[],Kr.value=[],_r()},Rn=H(!1),Gt=H([]),jt=H(null),Gi=H(null),mi=H(null),Gr=H(null),Gs=H(null),jr=async({paymentMethod:a,cashReceived:s,cardAmount:u,changeAmount:_,items:A,autoPrintKot:D,done:I})=>{Ct.value={};try{const W={customer_name:Je.value,phone_number:Et.value,delivery_location:ut.value,sub_total:xt.value,tax:er.value,service_charges:yn.value,delivery_charges:Xn.value,sales_discount:mr.value,approved_discounts:Mn.value,approved_discount_details:ft.value.map(B=>({discount_id:B.id,discount_name:B.name,discount_percentage:B.percentage,discount_amount:Yr(B.percentage),approval_id:B.approval_id})),promo_discount:Jn.value,applied_promos:Fe.value.map(B=>({promo_id:B.id,promo_name:B.name,promo_type:B.type,discount_amount:B.applied_discount||0,applied_to_items:B.applied_to_items||[]})),total_amount:tr.value,note:Ln.value,kitchen_note:cn.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:ye.value==="Eat_in"?"Eat In":ye.value==="Delivery"?"Delivery":ye.value==="Takeaway"?"Takeaway":"Collection",table_number:At.value?.name||null,payment_method:a,auto_print_kot:D,cash_received:s,change:_,...a==="Split"&&{payment_type:"split",cash_amount:s,card_amount:u},items:(q.value??[]).map(B=>{if(B.isDeal)return{product_id:B.dealId,title:B.title,quantity:B.qty,price:B.price,note:B.note??"",kitchen_note:cn.value??"",unit_price:B.unit_price,item_kitchen_note:B.item_kitchen_note??"",tax_percentage:0,tax_amount:0,variant_id:null,variant_name:null,addons:[],sale_discount_per_item:0,removed_ingredients:[],is_deal:!0,deal_id:B.dealId,menu_items:B.menu_items||[]};const he=J.value.find(De=>De.id===B.id);let Me=he;if(B.variant_id&&he?.variants){const De=he.variants.find(Tt=>Tt.id===B.variant_id);De&&(Me=De)}const X=Me?Rt(Me,!!B.variant_id):0,Qe=(B.removed_ingredients||[]).map(De=>{const Tt=(B.ingredients||[]).find(nn=>nn.id===De||nn.inventory_item_id===De);return{id:De,name:Tt?Tt.product_name||Tt.name:"Unknown Ingredient"}});return{product_id:B.id,title:B.title,quantity:B.qty,price:B.price,note:B.note??"",kitchen_note:cn.value??"",unit_price:B.unit_price,item_kitchen_note:B.item_kitchen_note??"",tax_percentage:pt(B),tax_amount:Go(B),variant_id:B.variant_id||null,variant_name:B.variant_name||null,addons:B.addons||[],sale_discount_per_item:X,removed_ingredients:Qe||[],is_deal:!1}}),confirm_missing_ingredients:!0};console.log(" Sending order");const se=await axios.post("/pos/order",W);if(console.log(" Order created successfully:",se.data),se.data.logout===!0){V.success(se.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=se.data.redirect||"/login"},1e3),I&&I();return}ol(),Ki(),vr.value=!1,V.success(se.data.message||"Order placed successfully!"),_i.value={...se.data.order,...W,items:W.items,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?s:null,card_amount:a==="Split"?u:null},console.log(" Preparing to print receipt..."),console.log(" autoPrintKot value:",D),Ks(JSON.parse(JSON.stringify(_i.value)),D===!0),bi.value=await vl(),Ys(JSON.parse(JSON.stringify(_i.value))),Fe.value=[],ft.value=[],Yt.value=[],_r()}catch(W){console.error(" Order submission error:",W),V.error(W.response?.data?.message||"Failed to place order")}finally{I&&I()}},zo=async()=>{if(console.log(" User confirmed missing ingredients"),Rn.value=!1,jt.value&&!jt.value.isDeal){const{itemIndex:a,newQty:s}=jt.value,u=q.value[a];u&&(u.outOfStock=!1,u.qty=s,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty),V.success("Quantity updated")),jt.value=null,Gt.value=[];return}if(jt.value&&jt.value.isDeal){const{itemIndex:a,newQty:s}=jt.value,u=q.value[a];u&&u.isDeal&&(u.qty=s,u.price=u.unit_price*u.qty,V.success("Deal quantity updated")),jt.value=null,Gt.value=[];return}if(Gr.value){const{deal:a,existingIndex:s,newQty:u}=Gr.value;if(s>=0)q.value[s].qty=u,q.value[s].price=q.value[s].unit_price*u,V.success("Deal quantity updated");else{const A=[];a.menu_items.forEach(I=>{I.ingredients&&I.ingredients.length>0&&A.push(...I.ingredients.map(W=>({...W,menu_item_id:I.id,menu_item_name:I.name})))});const D={id:a.id,title:a.title,price:xr.value,unit_price:parseFloat(a.price),img:a.img,qty:1,stock:999999,ingredients:A,isDeal:!0,dealId:a.id,menu_items:a.menu_items.map(I=>({id:I.id,name:I.name,price:I.price,ingredients:(I.ingredients||[]).map(W=>({inventory_item_id:W.id,inventory_item_id:W.inventory_item_id,product_name:W.product_name||W.name,quantity:W.quantity||W.qty||"1.00",inventory_stock:W.inventory_stock||W.stock||0,unit:W.unit||"unit",category_id:W.category_id,supplier_id:W.supplier_id})),stock:vi(I.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(D),V.success(`${a.title} added to cart!`)}Gr.value=null,Gt.value=[];return}if(Gi.value){const{product:a,variantId:s,variantName:u,variantPrice:_,selectedAddons:A,addonsPrice:D,resaleDiscountPerItem:I,existingIndex:W,newQty:se}=Gi.value,B=_+D;if(W>=0)q.value[W].qty=se,q.value[W].price=q.value[W].unit_price*se,q.value[W].total_resale_discount=I*se,q.value[W].outOfStock=!1,V.success("Quantity updated");else{const he=Fn(a,s),Me=kt(a);q.value.push({id:a.id,title:a.title,img:a.img,price:B,unit_price:Number(B),qty:1,note:"",stock:Me,ingredients:he,variant_id:s,variant_name:u,addons:A,outOfStock:!1,resale_discount_per_item:I,total_resale_discount:I}),V.success("Item added to cart")}Gi.value=null,Gt.value=[];return}if(mi.value){vt.value=mi.value.currentQty+1,V.success("Quantity increased"),mi.value=null,Gt.value=[];return}};gs(async()=>{Mo();const a=String(hr.value).padStart(3,"0");if(Je.value=`Walk In-${a}`,window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(_=>new window.bootstrap.Tooltip(_));const u=document.getElementById("chooseItem");u&&new window.bootstrap.Modal(u,{backdrop:"static"})}v.value="",g.value=Date.now(),await Ou(),setTimeout(()=>{S.value=!0;const u=document.getElementById(E);u&&(u.value="",v.value="")},100),$e(),_e(),qs();const s=document.getElementById("menuFilterModal");s&&s.addEventListener("hidden.bs.modal",()=>{Ws.value||Hs(),Ws.value=!1})});const Qt=Yb();function Ko(){const a=Qt.props.flash?.success,s=Qt.props.flash?.error;a&&V.success(a,{autoClose:4e3}),s&&V.error(s,{autoClose:6e3})}gs(()=>Ko()),gs(()=>{Qt.props.flash?.success;const a=Qt.props.flash?.error;a&&V.error(a);const s=Qt.props.flash?.print_payload;s&&setTimeout(()=>Ks(s),250),s&&setTimeout(()=>Ys(s),250)}),Pi(()=>Qt.props.flash,()=>Ko(),{deep:!0});const gi=be(()=>Qt.props.onboarding?.optional_features?.enable_inventory_tracking??!0),Yo=({id:a,status:s,message:u})=>{bi.value=bi.value.map(_=>_.id===a?{..._,status:s}:_)},js=H(!1),bi=H([]),hl=H(!1),ji=H(!1),Qs=H([]),Qi=H(!1),vl=async()=>{ji.value=!1,Qs.value=[],Qi.value=!0;try{const a=await axios.get("/api/pos/orders/today");Qs.value=a.data.orders}catch(a){console.error("Failed to fetch POS orders:",a),V.error(a.response?.data?.message||"Failed to fetch POS orders")}finally{Qi.value=!1}},Xi=H(!1),Zi=H(!1),Xs=H(!0),yi=H(!0),Ji=H([]),es=H([]),Fe=H([]),_l=a=>{if(Fe.value=a,!a||a.length===0){V.warning("No promos selected.");return}const s=a.reduce((_,A)=>_+parseFloat(A.applied_discount||0),0);if(s<=0){V.warning("Selected promos don't provide any discount for current cart items."),Fe.value=[];return}const u=new Set(a.flatMap(_=>_.applied_to_items||[])).size;V.success(`${a.length} promo(s) applied! Applied to ${u} item(s). You saved ${n(s)}`),Xi.value=!1},ml=async()=>{Xs.value=!0,Xi.value=!0;try{const a=await axios.get("/api/promos/current");a.data?.success?Ji.value=a.data.data||[]:(console.warn("Failed to fetch promos:",a.data),Ji.value=[],V.warning("No promos available at the moment"))}catch(a){console.error("Error fetching current meal promos:",a),Ji.value=[],V.error("Failed to load promotions")}finally{Xs.value=!1}},He=async()=>{yi.value=!0,Zi.value=!0;try{const a=await axios.get("/api/discounts/all");a.data?.success?es.value=a.data.data||[]:(console.warn("Failed to fetch discounts:",a.data),es.value=[],V.warning("No discounts available at the moment"))}catch(a){console.error("Error fetching current meal discounts:",a),es.value=[],V.error("Failed to load discounts")}finally{yi.value=!1}},Be=a=>!Fe.value||Fe.value.length===0?!1:Fe.value.some(s=>!s.menu_items||s.menu_items.length===0?!0:s.menu_items.map(_=>_.id).includes(a.id)),gl=a=>{_i.value=a,Ur.value=!0,ji.value=!1},Jn=be(()=>!Fe.value||Fe.value.length===0?0:Fe.value.reduce((a,s)=>{const u=parseFloat(s.discount_amount??0)||0;if(s.applied_discount!==void 0)return a+parseFloat(s.applied_discount);const _=bl(s);if(s.min_purchase&&_<parseFloat(s.min_purchase))return a;if(s.type==="flat")return a+u;if(s.type==="percent"){const A=_*u/100,D=parseFloat(s.max_discount??0)||0;return D>0&&A>D?a+D:a+A}return a},0)),bl=a=>{if(!a.menu_items||a.menu_items.length===0)return q.value.reduce((u,_)=>u+_.unit_price*_.qty,0);const s=a.menu_items.map(u=>u.id);return q.value.filter(u=>s.includes(u.id)).reduce((u,_)=>u+_.unit_price*_.qty,0)},yl=be(()=>!Fe.value||Fe.value.length===0?[]:Fe.value.map(a=>({promo_id:a.id,promo_name:a.name,promo_type:a.type,discount_amount:a.applied_discount||0,applied_to_items:a.applied_to_items||[]}))),er=be(()=>{let a=0;const s=parseFloat(Qt.props.onboarding.tax_and_vat.tax_rate)||0;return q.value.forEach(u=>{const _=J.value.find(A=>A.id===u.id);if(_&&_.is_taxable){const D=u.unit_price*u.qty*s/100;a+=D}}),a}),mr=be(()=>q.value.reduce((a,s)=>a+(s.total_resale_discount||0),0)),tr=be(()=>{const a=xt.value+er.value+Xn.value+yn.value-mr.value-Jn.value-Mn.value;return Math.max(0,a)}),Go=a=>{const s=J.value.find(u=>u.id===a.id);return s&&s.is_taxable&&s.tax_percentage?a.unit_price*a.qty*parseFloat(s.tax_percentage)/100:0},pt=a=>{const s=J.value.find(u=>u.id===a.id);return s&&s.is_taxable&&s.tax_percentage?parseFloat(s.tax_percentage):0},ts=a=>{const s=Oe(a),u=s?s.id:null,A=Ze(a).map(I=>I.id).sort().join("-"),D=q.value.find(I=>{const W=(I.addons||[]).map(se=>se.id).sort().join("-");return I.id===a.id&&I.variant_id===u&&W===A});return D?D.qty:0},gr=async a=>{const s=Oe(a),u=s?s.id:null,_=Ze(a),A=_.map(De=>De.id).sort().join("-"),D=q.value.findIndex(De=>{const Tt=(De.addons||[]).map(nn=>nn.id).sort().join("-");return De.id===a.id&&De.variant_id===u&&Tt===A});let I=1,W=null;const se=Fn(a,u);D>=0&&(W=q.value[D],I=W.qty+1);const B=Us({id:a.id,title:a.title,variant_id:u,variant_name:s?s.name:null,ingredients:se,removed_ingredients:W?.removed_ingredients||[],addons:_},I);if(!B.canAdd){console.log(" Missing ingredients for card increment (client-side)");const De=parseFloat(s?s.price:a.price),Tt=Ke(a),nn=s?Rt(s,!0):Rt(a,!1);Gi.value={product:a,variant:s,variantId:u,variantName:s?s.name:null,variantPrice:De,selectedAddons:_,addonsPrice:Tt,resaleDiscountPerItem:nn,existingIndex:D,newQty:I},Gt.value=B.missing,Rn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}const he=parseFloat(s?s.price:a.price),Me=Ke(a),X=he+Me,Qe=s?Rt(s,!0):Rt(a,!1);if(D>=0)q.value[D].qty++,q.value[D].price=q.value[D].unit_price*q.value[D].qty,q.value[D].total_resale_discount=Qe*q.value[D].qty,q.value[D].outOfStock=!1;else{const De=kt(a);q.value.push({id:a.id,title:a.title,img:a.img,price:X,unit_price:Number(X),qty:1,note:"",stock:De,ingredients:se,variant_id:u,variant_name:s?s.name:null,addons:_,outOfStock:!1,resale_discount_per_item:Qe,total_resale_discount:Qe})}},jo=a=>{const s=Oe(a),u=s?s.id:null,A=Ze(a).map(W=>W.id).sort().join("-"),D=q.value.findIndex(W=>{const se=(W.addons||[]).map(B=>B.id).sort().join("-");return W.id===a.id&&W.variant_id===u&&se===A});if(D<0)return;const I=q.value[D];I.qty<=1?q.value.splice(D,1):(I.qty--,I.price=I.unit_price*I.qty,I.outOfStock=!1)},Fn=(a,s)=>!s||!a.variants?.length?a.ingredients??[]:a.variants.find(_=>_.id===s)?.ingredients??a.ingredients??[],Pe=H(null),qn=H(null);let br=null;const Qo=(a,s)=>{Pe.value=JSON.parse(JSON.stringify(a)),qn.value=s;const u=J.value.find(_=>_.id===a.id);if(u&&u.addon_groups&&u.addon_groups.length>0){const _=new Map;a.addons&&a.addons.forEach(D=>{_.set(D.id,{quantity:D.quantity||1,selected:!0})});const A=[];u.addon_groups.forEach(D=>{D.addons&&D.addons.length>0&&D.addons.forEach(I=>{const W=_.get(I.id);A.push({id:I.id,name:I.name,price:parseFloat(I.price||0),group_id:D.group_id,group_name:D.group_name,quantity:W?.quantity||1,selected:W?.selected||!1})})}),Pe.value.addons=A}else Pe.value.addons=[];if(!br){const _=document.getElementById("addonManagementModal");_&&(br=new bootstrap.Modal(_))}br&&br.show()},Xo=a=>{a.selected=!a.selected,a.selected||(a.quantity=1)},Zo=a=>{a.selected&&(a.quantity=(a.quantity||1)+1)},Jo=a=>{a.selected&&(a.quantity||1)>1&&(a.quantity-=1)},Dt=a=>a.addons?a.addons.reduce((s,u)=>u.selected!==!1?s+parseFloat(u.price)*(u.quantity||1):s,0):0,wl=()=>{if(qn.value===null)return;const a=Pe.value.addons.filter(D=>D.selected!==!1),s=Pe.value.variant_id?J.value.find(D=>D.id===Pe.value.id)?.variants?.find(D=>D.id===Pe.value.variant_id):null,u=parseFloat(s?s.price:Pe.value.unit_price),_=a.reduce((D,I)=>D+parseFloat(I.price)*(I.quantity||1),0),A=u+_;q.value[qn.value].addons=a,q.value[qn.value].unit_price=A,q.value[qn.value].price=A*q.value[qn.value].qty,V.success("Addons updated successfully!"),br&&br.hide(),Pe.value=null,qn.value=null},Xt=a=>!a.addons||a.addons.length===0?"":a.addons.map(s=>s.name).join(", "),Zs=()=>{let a=0;return dt.value&&typeof dt.value=="object"&&Object.values(dt.value).forEach(s=>{Array.isArray(s)&&(a+=s.length)}),a},Qr=be(()=>Qt.props.current_user),Bn=be(()=>i.value.filter(a=>{const s=a.menu_items_count&&a.menu_items_count>0,u=a.deals_count&&a.deals_count>0;return s||u}));be(()=>Qr.value?.roles?.includes("Cashier")||Qr.value?.roles?.includes("Admin")||Qr.value?.roles?.includes("Manager"));const Xr=H(`terminal-${Qr.value?.id}`),{broadcastCartUpdate:Js,broadcastUIUpdate:Ue}=MA(Xr.value),nr=Io.debounce(a=>{console.log(" Broadcasting cart:",a.items.length,"items"),Js(a)},300),eo=Io.debounce(a=>{console.log(" Broadcasting UI"),Ue(a)},100);Pi(()=>({items:q.value.map(a=>({id:a.id,title:a.name||a.title,img:a.image_url||a.img||"/assets/img/default.png",price:parseFloat(a.total||a.price||0),qty:parseInt(a.qty||1),variant_name:a.variant?.name||null,addons:(a.addons||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0)})),resale_discount_per_item:parseFloat(a.resale_discount_per_item||0)})),customer:Je.value||"Walk In",phone_number:Et.value||"",delivery_location:ut.value||"",orderType:ye.value||"Dine In",table:At.value?{id:At.value.id,name:At.value.name}:null,subtotal:parseFloat(xt.value||0),tax:parseFloat(er.value||0),serviceCharges:parseFloat(yn.value||0),deliveryCharges:parseFloat(Xn.value||0),saleDiscount:parseFloat(mr.value||0),promoDiscount:parseFloat(Jn.value||0),total:parseFloat(tr.value||0),note:Ln.value||"",appliedPromos:(Fe.value||[]).map(a=>({id:a.id,name:a.name,discount:parseFloat(a.discount||0),applied_to_items:a.applied_to_items||[]}))}),a=>{console.log(" Cart changed:",a.items.length,"items, Total:",a.total),nr(a)},{deep:!0,immediate:!0}),Pi(()=>({showCategories:jn.value??!0,activeCat:Kt.value||null,menuCategories:(i.value||[]).map(a=>({id:a.id,name:a.name,menu_items_count:a.menu_items_count||0})),menuItems:(J.value||[]).map(a=>({id:a.id,name:a.name,price:parseFloat(a.price||0),image_url:a.image_url||null,description:a.description||"",label_color:a.label_color||"#1B1670",category:a.category?{id:a.category.id,name:a.category.name}:null,variants:(a.variants||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0),is_saleable:s.is_saleable??!1,resale_type:s.resale_type||null,resale_value:parseFloat(s.resale_value||0)})),addon_groups:(a.addon_groups||[]).map(s=>({id:s.id,name:s.name,addons:(s.addons||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0)}))})),is_saleable:a.is_saleable??!1,resale_type:a.resale_type||null,resale_value:parseFloat(a.resale_value||0)})),searchQuery:Ye.value||"",selectedCardVariant:we.value||{},selectedCardAddons:qe.value||{}}),a=>{console.log(" UI changed - Categories:",a.menuCategories.length,"Items:",a.menuItems.length),eo(a)},{deep:!0,immediate:!0});const El=()=>{const a=route("customer-display.index",{terminal:Xr.value});window.open(a,"_blank","width=1920,height=1080")},Rt=(a,s=!1)=>{if(!a)return 0;const u=a.is_saleable??a?.menu_item?.is_saleable,_=a.resale_type??a?.menu_item?.resale_type,A=a.resale_value??a?.menu_item?.resale_value,D=parseFloat(a.price||0);return!u||!_||!A?0:_==="flat"?parseFloat(A):_==="percentage"?D*parseFloat(A)/100:0},yr=(a,s=!1)=>{const u=parseFloat(a.price||0),_=Rt(a,s);return Math.max(0,u-_)},wi=(a,s=!1)=>{if(!a)return null;const u=a.is_saleable??a?.menu_item?.is_saleable,_=a.resale_type??a?.menu_item?.resale_type,A=a.resale_value??a?.menu_item?.resale_value,D=Rt(a,s);return!u||!_||!A||D<=0?null:{type:_,value:A,amount:D,display:_==="flat"?`Sale ${n(D)}`:`${A}% OFF`}},Al=a=>{const s=Oe(a);let u;s?u=yr(s,!0):u=yr(a,!1);const _=Ke(a);return u+_},wr=a=>{if(!a.variants||a.variants.length===0){const A=Rt(a,!1)>0;return{min:yr(a,!1),max:yr(a,!1),minOriginal:A?parseFloat(a.price||0):null,maxOriginal:A?parseFloat(a.price||0):null}}const s=a.variants.map(A=>yr(A,!0)),u=a.variants.map(A=>parseFloat(A.price||0)),_=a.variants.some(A=>Rt(A,!0)>0);return{min:Math.min(...s),max:Math.max(...s),minOriginal:_?Math.min(...u):null,maxOriginal:_?Math.max(...u):null}},ns=()=>{if(!ue.value)return 0;const a=zt();return a?yr(a,!0):yr(ue.value,!1)},Zr=()=>ns()+wt(),Ei=H([]),to=H(!1),ea=async()=>{to.value=!0;try{const a=await axios.get("/api/deals",{params:{status:1,per_page:100}});console.log("Fetched deals:",a.data.data),Ei.value=a.data.data.map(s=>({id:s.id,title:s.name,price:s.price,img:s.image_url||"/assets/img/product/product29.jpg",description:s.description,menu_items:s.menu_items||[],status:s.status,category_id:s.category_id,category:s.category}))}catch(a){console.error("Error fetching deals:",a),V.error("Failed to load deals")}finally{to.value=!1}},rs=a=>{const s=q.value.find(u=>u.isDeal&&u.dealId===(a.dealId||a.id));return s?s.qty:0},no=a=>{const u=+(i.value.find(A=>A.id===a)?.menu_items_count||0),_=Ai(a);return u+_},Ai=a=>!Ei.value||Ei.value.length===0?0:Ei.value.filter(s=>s.category_id===a).length,ta=(a,s)=>{if(!gi.value)return{canAdd:!0,missing:[]};const u=[],_={};return q.value.forEach(A=>{let D=[];A.isDeal?A.menu_items?.forEach(I=>{D.push(...I.ingredients||[])}):D=A.ingredients||[],D.forEach(I=>{const W=I.inventory_item_id||I.id,se=Number(I.inventory_stock??I.stock??0),B=Number(I.quantity??I.qty??1)*A.qty;_[W]||(_[W]={totalStock:se,used:0,name:I.product_name||I.name,unit:I.unit||"unit"}),_[W].used+=B})}),a.menu_items.forEach(A=>{const D=A.ingredients||[];D.length!==0&&D.forEach(I=>{const W=I.inventory_item_id||I.id,se=Number(I.quantity??I.qty??1)*s;let he=Number(I.inventory_stock??I.stock??0);_[W]&&(he=_[W].totalStock-_[W].used);const Me=q.value.find(X=>X.isDeal&&X.dealId===a.id);if(Me){const X=Number(I.quantity??I.qty??1)*Me.qty;he+=X}he<se&&u.push({deal_id:a.id,deal_title:a.title,menu_item_id:A.id,menu_item_name:A.name,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:se,available_quantity:Math.max(0,he),shortage_quantity:se-he,unit:I.unit||"unit",order_quantity:s})})}),{canAdd:u.length===0,missing:u}},ro=async a=>{const s=q.value.findIndex(A=>A.isDeal&&A.dealId===a.id),u=s>=0?q.value[s].qty+1:1,_=ta(a,u);if(!_.canAdd){console.log(" Missing ingredients for deal (client-side)"),Gr.value={deal:a,existingIndex:s,newQty:u},Gt.value=_.missing,Rn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}if(s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,V.success("Deal quantity updated");else{const D=[];a.menu_items.forEach(W=>{W.ingredients&&W.ingredients.length>0&&D.push(...W.ingredients.map(se=>({...se,menu_item_id:W.id,menu_item_name:W.name})))});const I={id:a.id,title:a.title,price:parseFloat(a.price),unit_price:parseFloat(a.price),img:a.img,qty:1,stock:999999,ingredients:D,isDeal:!0,dealId:a.id,menu_items:a.menu_items.map(W=>({id:W.id,name:W.name,price:W.price,ingredients:W.ingredients||[],stock:vi(W.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(I),V.success(`${a.title} added to cart!`)}},io=a=>{const s=q.value.findIndex(_=>_.isDeal&&_.dealId===a.id);if(s<0)return;const u=q.value[s];u.qty<=1?(q.value.splice(s,1),V.info("Deal removed from cart")):(u.qty--,u.price=u.unit_price*u.qty,V.success("Deal quantity decreased"))};gs(()=>{ea(),Se()});const Ge=H(null),Ve=H(0),Ce=H(1),dn=H({}),Zt=H({}),Er=H({}),Wn=H([]);let is=null;const ze=be(()=>!Ge.value||!Ge.value.menu_items?null:Ge.value.menu_items[Ve.value]),xl=be(()=>Jr().length>0),Cl=be(()=>ze.value?.addon_groups&&ze.value.addon_groups.length>0),Jt=be(()=>{let a=[],s=1;return xl.value&&(a.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:1}),s++),Cl.value&&(a.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:2}),s++),a.push({id:"review",name:"Review",stepNumber:s,actualStep:3}),a}),Ar=be(()=>Jt.value.length),Tl=be(()=>{if(Ce.value===1)return"0%";const a=Jt.value.length,s=(Ce.value-1)/(a-1);return`calc(${s*100}% - ${14-s*28}px)`}),Sl=be(()=>Ve.value===Ge.value?.menu_items?.length-1);be(()=>Ge.value?.menu_items?.length?Wn.value.length/Ge.value.menu_items.length*100:0);const Jr=()=>ze.value?ze.value.ingredients||[]:[],ss=a=>(dn.value[Ve.value]||[]).includes(a),rr=a=>{const s=Ve.value;dn.value[s]||(dn.value[s]=[]);const u=dn.value[s],_=u.indexOf(a);_>-1?(u.splice(_,1),V.info("Ingredient added back")):(u.push(a),V.info("Ingredient removed"))},os=()=>{const a=Jr(),s=dn.value[Ve.value]||[];return a.filter(u=>!s.includes(u.id)).length},Il=()=>{const a=Ve.value,s=Zt.value[a];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{u+=_.length}),u},Ol=()=>{const a=Ve.value,s=Zt.value[a];if(!s)return"";const u=[];return Object.values(s).forEach(_=>{_.forEach(A=>{u.push(`${A.name} (+${n(A.price)})`)})}),u.join(", ")},na=()=>{const a=Ve.value,s=dn.value[a]||[];if(s.length===0)return"";const u=Jr(),_=s.map(A=>{const D=u.find(I=>I.id===A);return D?D.product_name||D.name:null}).filter(Boolean);return _.length===0?"":`No ${_.join(", ")}`},ei=a=>a<Ce.value?"stepper-circle-completed":a===Ce.value?"stepper-circle-active":"stepper-circle-inactive",en=a=>{(a<=Ce.value||a===Ce.value+1)&&(Ce.value=a)},so=()=>{Ce.value=Jt.value[0]?.stepNumber||1},kl=()=>{const a=Jt.value.findIndex(s=>s.stepNumber===Ce.value);a<Jt.value.length-1&&(Ce.value=Jt.value[a+1].stepNumber)},Dl=()=>{const a=Jt.value.findIndex(s=>s.stepNumber===Ce.value);a>0&&(Ce.value=Jt.value[a-1].stepNumber)},Nl=()=>{Wn.value.includes(Ve.value)||Wn.value.push(Ve.value),Ve.value++,z.value=0,so(),V.success("Item customized! Configure next item.")},$l=async()=>{if(!Ge.value)return;Wn.value.includes(Ve.value)||Wn.value.push(Ve.value);const a=Ge.value.menu_items.map((D,I)=>{const W=dn.value[I]||[],se=Zt.value[I]||{},B=Er.value[I]||"",he=[];Object.values(se).forEach(X=>{X.forEach(Qe=>{he.push({id:Qe.id,name:Qe.name,price:parseFloat(Qe.price||0)})})});const Me=(D.ingredients||[]).filter(X=>!W.includes(X.id)).map(X=>({id:X.id,inventory_item_id:X.inventory_item_id||X.id,product_name:X.product_name||X.name,quantity:X.quantity||X.qty||"1.00",stock:X.stock||0,unit:X.unit||"unit"}));return{id:D.id,name:D.name,price:D.price,ingredients:Me,addons:he,kitchen_note:B,removed_ingredients:W,stock:vi(Me)}}),s=q.value.findIndex(D=>D.isDeal&&D.dealId===Ge.value.id),u=999999,_=[];if(a.forEach(D=>{D.ingredients&&D.ingredients.length>0&&_.push(...D.ingredients.map(I=>({...I,menu_item_id:D.id,menu_item_name:D.name})))}),s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,V.success("Deal quantity updated!");else{const D={id:Ge.value.id,title:Ge.value.title,price:xr.value,unit_price:parseFloat(Ge.value.price),img:Ge.value.img,qty:1,stock:u,ingredients:_,isDeal:!0,dealId:Ge.value.id,menu_items:a,resale_discount_per_item:0,total_resale_discount:0};q.value.push(D),V.success(`${Ge.value.title} added to cart!`)}const A=bootstrap.Modal.getInstance(document.getElementById("customizeDealModal"));A&&A.hide(),T()},ra=be(()=>{if(!ze.value)return 0;const a=parseFloat(ze.value.price||0),s=Ve.value,u=Zt.value[s];if(!u)return a;let _=0;return Object.values(u).forEach(A=>{A.forEach(D=>{_+=parseFloat(D.price||0)})}),a+_}),xr=be(()=>{if(!Ge.value)return 0;const a=parseFloat(Ge.value.price||0);let s=0;return Object.values(Zt.value).forEach(u=>{Object.values(u).forEach(_=>{_.forEach(A=>{s+=parseFloat(A.price||0)})})}),a+s}),y=be(()=>{const a=Ve.value,s=Zt.value[a];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{_.forEach(A=>{u+=parseFloat(A.price||0)})}),u}),k=a=>{if(Ge.value=a,Ve.value=0,dn.value={},Zt.value={},Er.value={},Wn.value=[],so(),!is){const s=document.getElementById("customizeDealModal");s&&(is=new bootstrap.Modal(s,{backdrop:"static"}))}is&&is.show()},T=()=>{Ge.value=null,Ve.value=0,Ce.value=1,dn.value={},Zt.value={},Er.value={},Wn.value=[],z.value=0},Y=H(!1),ne=H([]),Te=H(!1),rt=async()=>{if(q.value.length===0){V.error("No items in cart to hold");return}try{const a={customer_name:Je.value,phone_number:Et.value,delivery_location:ut.value,order_type:ye.value,table_number:At.value?.name||null,sub_total:xt.value,tax:er.value,service_charges:yn.value,delivery_charges:Xn.value,sale_discount:mr.value,promo_discount:Jn.value,approved_discounts:Mn.value,total_amount:tr.value,note:Ln.value,kitchen_note:cn.value,order_items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,unit_price:u.unit_price,note:u.note||"",item_kitchen_note:u.item_kitchen_note||"",variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],ingredients:u.ingredients||[],removed_ingredients:u.removed_ingredients||[],sale_discount_per_item:u.resale_discount_per_item||0,total_resale_discount:u.total_resale_discount||0,isDeal:u.isDeal||!1,dealId:u.dealId||null,menu_items:u.menu_items||[]})),applied_promos:Fe.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),approved_discount_details:ft.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Yr(u.percentage),approval_id:u.approval_id})),selected_discounts:ft.value,terminal_id:Xr.value};(await axios.post("/pending-orders",a)).data.success&&(V.success("Order held successfully!"),Ki(),await Se())}catch(a){V.error(a.response?.data?.message||"Failed to hold order")}},Se=async()=>{Te.value=!0;try{const a=await axios.get("/pending-orders");a.data.success?ne.value=a.data.data:ne.value=[]}catch(a){console.error("Error fetching pending orders:",a),V.error("Failed to load pending orders"),ne.value=[]}finally{Te.value=!1}},oo=async()=>{Y.value=!0,await Se()},Pl=async a=>{try{if(Je.value=a.customer_name||Ro(),Et.value=a.phone_number||"",ut.value=a.delivery_location||"",ye.value=a.order_type,Ln.value=a.note||"",cn.value=a.kitchen_note||"",a.table_number){const s=pr.value.table_details?.find(u=>u.name===a.table_number);At.value=s||null}q.value=a.order_items.map(s=>({id:s.product_id,title:s.title,qty:s.quantity,price:s.price,unit_price:s.unit_price,note:s.note||"",item_kitchen_note:s.item_kitchen_note||"",img:s.img||"/assets/img/default.png",variant_id:s.variant_id||null,variant_name:s.variant_name||null,addons:s.addons||[],ingredients:s.ingredients||[],removed_ingredients:s.removed_ingredients||[],resale_discount_per_item:s.sale_discount_per_item||0,total_resale_discount:s.total_resale_discount||0,stock:s.stock||999999,isDeal:s.isDeal||!1,dealId:s.dealId||null,menu_items:s.menu_items||[]})),Fe.value=a.applied_promos||[],ft.value=a.selected_discounts||[],await axios.delete(`/pending-orders/${a.id}`),V.success("Order resumed successfully!"),Y.value=!1,await Se()}catch{V.error("Failed to resume order")}},tn=async a=>{try{let s="",u={};a.type==="unpaid"?(s=`/pending-orders/${a.id}`,u={order_type:"unpaid"}):(s=`/pending-orders/${a.id}`,u={order_type:"held"}),await axios.delete(s,{data:u}),V.success("Order rejected successfully"),await Se()}catch(s){console.error("Error rejecting order:",s),V.error("Failed to reject order")}},Hn=(a,s)=>dt.value[a]?.some(u=>u.id===s),as=(a,s)=>dt.value[a]?.find(_=>_.id===s)?.quantity||1,Cr=(a,s)=>{dt.value[a]||(dt.value[a]=[]);const u=dt.value[a].findIndex(_=>_.id===s.id);if(u>-1)dt.value[a].splice(u,1);else{const _=ue.value.addon_groups.find(A=>A.group_id===a);if(_&&_.max_select>0&&dt.value[a].length>=_.max_select){V.warning(`You can only select up to ${_.max_select} ${_.group_name}`);return}dt.value[a].push({id:s.id,name:s.name,price:parseFloat(s.price),group_id:a,quantity:1})}},xi=(a,s)=>{const u=dt.value[a]?.find(_=>_.id===s);u&&u.quantity++},Ci=(a,s)=>{const u=dt.value[a]?.find(_=>_.id===s);u&&u.quantity>1&&u.quantity--},ke=H(!1),it=H(null),ia=async()=>{if(q.value.length===0){V.error("Please add at least one item to the cart.");return}if(ye.value==="Eat_in"&&!At.value){V.error("Please select a table number for Dine In orders.");return}if((ye.value==="Delivery"||ye.value==="Takeaway")&&!Je.value){V.error("Customer name is required.");return}if(ye.value==="Delivery"&&!Et.value){V.error("Phone number is required for delivery.");return}if(ye.value==="Delivery"&&!ut.value){V.error("Delivery location is required.");return}try{const a={customer_name:Je.value,phone_number:Et.value,delivery_location:ut.value,sub_total:xt.value,tax:er.value,service_charges:yn.value,delivery_charges:Xn.value,sales_discount:mr.value,approved_discounts:Mn.value,approved_discount_details:ft.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Yr(u.percentage),approval_id:u.approval_id})),promo_discount:Jn.value,applied_promos:Fe.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),total_amount:tr.value,note:Ln.value,kitchen_note:cn.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:ye.value==="Eat_in"?"Eat In":ye.value,table_number:At.value?.name||null,items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,note:u.note??"",kitchen_note:cn.value??"",unit_price:u.unit_price,item_kitchen_note:u.item_kitchen_note??"",tax_percentage:pt(u),tax_amount:Go(u),variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],sale_discount_per_item:u.resale_discount_per_item||0,removed_ingredients:u.removed_ingredients||[],is_deal:u.isDeal||!1,deal_id:u.dealId||null,menu_items:u.menu_items||[]})),confirm_missing_ingredients:!0};(await axios.post("/pos/order-without-payment",a)).data.success&&(V.success("Order placed successfully! Payment pending."),Ki(),await Se())}catch(a){console.error("Error placing order:",a),V.error(a.response?.data?.message||"Failed to place order")}},ls=a=>{it.value=a,Vr.value=parseFloat(a.total_amount).toFixed(2),ke.value=!0},Ll=async({paymentMethod:a,cashReceived:s,cardAmount:u,changeAmount:_,done:A})=>{try{const D={payment_method:a,cash_received:s,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?s:null,card_amount:a==="Split"?u:null},I=await axios.post(`/pos/orders/${it.value.pos_order_id}/complete-payment`,D);I.data.success&&(V.success("Payment completed successfully!"),Ks(JSON.parse(JSON.stringify(I.data.order))),ke.value=!1,it.value=null,await Se())}catch(D){console.error("Payment error:",D),V.error(D.response?.data?.message||"Failed to complete payment")}finally{A&&A()}};return(a,s)=>(x(),O(We,null,[tt(ce(jb),{title:"Sale"}),tt(Xb,null,{default:Pt(()=>[c("div",tx,[c("div",nx,[c("div",rx,[c("div",{class:nt(jn.value?"col-md-12":"col-lg-8")},[jn.value?(x(),O("div",ix,[c("div",sx,[s[29]||(s[29]=c("h4",{class:"mb-0"},"Categories",-1)),c("button",{onClick:El,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...s[27]||(s[27]=[c("i",{class:"bi bi-tv"},null,-1),c("span",null,"Customer View",-1)])]),c("div",ox,[s[28]||(s[28]=c("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),S.value?at((x(),O("input",{id:E,"onUpdate:modelValue":s[0]||(s[0]=u=>v.value=u),key:g.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:E,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[ar,v.value]]):(x(),O("input",ax))])]),s[32]||(s[32]=c("hr",null,null,-1)),f.value?(x(),O("div",lx,[...s[30]||(s[30]=[c("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),c("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(x(),O(We,{key:1},[(x(!0),O(We,null,ht(Ne.value,u=>(x(),O("div",{key:u.id,class:"col-6 col-md-4 col-lg-4 category-cards"},[c("div",{class:"cat-card",onClick:_=>Rs(u)},[c("div",cx,[c("span",dx,[u.image_url?(x(),O("img",{key:0,src:u.image_url,alt:"Category Image",class:"cat-image"},null,8,fx)):(x(),O("span",px,""))])]),c("div",hx,N(u.name),1),c("div",vx,[fe(N(no(u.id))+" Items ",1),Ai(u.id)>0?(x(),O("span",_x," ("+N(Ai(u.id))+" Deal"+N(Ai(u.id)>1?"s":"")+") ",1)):G("",!0)])],8,ux)]))),128)),!f.value&&Ne.value.length===0?(x(),O("div",mx,[...s[31]||(s[31]=[c("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):G("",!0)],64))])):(x(),O("div",gx,[c("div",bx,[c("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:s[1]||(s[1]=u=>Fs())},[...s[33]||(s[33]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),fe(" Back ",-1)])]),c("h5",yx,N(i.value.find(u=>u.id===Kt.value)?.name||"Items"),1),c("div",wx,[tt(ry,{modelValue:ct.value,"onUpdate:modelValue":s[2]||(s[2]=u=>ct.value=u),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:sl,onClear:Hs},null,8,["modelValue"]),c("div",Ex,[s[34]||(s[34]=c("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),at(c("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>Ye.value=u),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[ar,Ye.value]])])])]),Lo.value.length===0?(x(),O("div",Ax,[c("div",xx,[s[38]||(s[38]=c("i",{class:"bi bi-search me-2",style:{"font-size":"2rem",opacity:"0.5"}},null,-1)),s[39]||(s[39]=c("h5",{class:"mt-2 mb-2 text-dark fw-semibold"},"No Menu Found",-1)),c("p",Cx,[Ye.value&&ct.value.priceRange&&ct.value.priceRange.length>0?(x(),O(We,{key:0},[fe(" No items match your search and filter criteria. ")],64)):Ye.value?(x(),O(We,{key:1},[s[35]||(s[35]=fe(' No items found matching "',-1)),c("strong",null,N(Ye.value),1),s[36]||(s[36]=fe('" ',-1))],64)):ct.value.priceRange&&ct.value.priceRange.length>0?(x(),O(We,{key:2},[fe(" No items match the selected price range. ")],64)):(x(),O(We,{key:3},[fe(" No Menu available in this category. ")],64))]),c("button",{class:"btn btn-sm btn-outline-secondary rounded-pill",onClick:Hs},[...s[37]||(s[37]=[c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),fe("Clear Filters ",-1)])])])])):G("",!0),c("div",Tx,[(x(!0),O(We,null,ht(Lo.value,u=>(x(),O("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:u.id},[u.isDeal?(x(),O("div",Sx,[c("div",Ix,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,Ox),c("span",kx,[s[40]||(s[40]=c("i",{class:"bi bi-gift-fill me-1"},null,-1)),fe(" "+N(ce(n)(u.price)),1)])]),c("div",Dx,[c("div",null,[c("div",Nx,N(u.title),1)]),c("div",$x,[c("button",{class:"btn btn-primary customize-deal btn-sm w-75 mb-2",onClick:$i(_=>k(u),["stop"])}," Customize Deal ",8,Px),c("div",{class:"d-flex align-items-center justify-content-start gap-2",onClick:s[4]||(s[4]=$i(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:$i(_=>io(u),["stop"]),disabled:rs(u)<=0},[...s[41]||(s[41]=[c("strong",null,"",-1)])],8,Lx),c("div",Mx,N(rs(u)),1),c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:$i(_=>ro(u),["stop"])},[...s[42]||(s[42]=[c("strong",null,"+",-1)])],8,Rx)])])])])):(x(),O("div",{key:1,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:Eo({borderColor:u.label_color||"#1B1670"})},[c("div",Fx,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,qx),u.variants&&u.variants.length>0?(x(),O("div",Bx,[wr(u).minOriginal!==null?(x(),O("span",Wx,N(ce(n)(wr(u).minOriginal)),1)):G("",!0),c("span",Hx,N(ce(n)(wr(u).min))+" - ",1),wr(u).maxOriginal!==null?(x(),O("span",Ux,N(ce(n)(wr(u).maxOriginal)),1)):G("",!0),c("span",Vx,N(ce(n)(wr(u).max)),1)])):G("",!0),c("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:Eo({background:u.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[wi(Oe(u)||u,!!u.variants?.length)?(x(),O(We,{key:0},[c("span",zx,N(ce(n)(Oe(u)?.price||u.price)),1),c("span",Kx,N(ce(n)(Al(u))),1)],64)):(x(),O(We,{key:1},[fe(N(ce(n)(Oe(u)?.price||u.price)),1)],64))],4),Vi(u)<=0?(x(),O("span",Yx," OUT OF STOCK ")):G("",!0)]),c("div",Gx,[u.variants&&u.variants.length>0&&wi(Oe(u),!0)||(!u.variants||u.variants.length===0)&&wi(u,!1)?(x(),O("span",jx,N(u.variants&&u.variants.length>0?wi(Oe(u),!0).display:wi(u,!1).display),1)):G("",!0),c("div",null,[c("div",{class:"h5 fw-bold mb-2 menu-name",style:Eo({color:u.label_color||"#1B1670"})},N(u.title),5),c("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:_=>Wr(u)}," Customization ",8,Qx)]),c("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:s[5]||(s[5]=$i(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:$i(_=>jo(u),["stop"]),disabled:ts(u)<=0},[...s[43]||(s[43]=[c("strong",null,"",-1)])],8,Xx),c("div",Zx,N(ts(u)),1),c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:$i(_=>gr(u),["stop"])},[...s[44]||(s[44]=[c("strong",null,"+",-1)])],8,Jx)])])],4))]))),128))])]))],2),jn.value?G("",!0):(x(),O("div",eC,[c("div",tC,[c("button",{class:"btn pending btn-info px-3 py-2",onClick:oo},[s[45]||(s[45]=fe(" Pending ",-1)),ne.value.length>0?(x(),O("span",nC,N(ne.value.length),1)):G("",!0)]),c("button",{class:"btn btn-warning px-3 py-2 promos-btn",onClick:ml}," Promos "),c("button",{class:"btn btn-warning px-3 py-2 discount-btn",onClick:He}," Discounts ")]),c("div",rC,[c("div",iC,[c("div",sC,[(x(!0),O(We,null,ht(Qn.value,(u,_)=>(x(),O("button",{key:_,class:nt(["ot-pill btn cart-header-buttons",{active:ye.value===u}]),onClick:A=>ye.value=u},N(u.replace(/_/g," ")),11,oC))),128)),s[46]||(s[46]=c("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),c("div",aC,[c("div",lC,[ye.value==="Eat_in"?(x(),O("div",uC,[c("div",cC,[s[48]||(s[48]=c("label",{class:"form-label small"},"Table",-1)),at(c("select",{"onUpdate:modelValue":s[6]||(s[6]=u=>At.value=u),class:"form-select form-select-sm"},[s[47]||(s[47]=c("option",{value:null},"Select Table",-1)),(x(!0),O(We,null,ht(pr.value.table_details,(u,_)=>(x(),O("option",{key:_,value:u},N(u.name),9,dC))),128))],512),[[Qb,At.value]]),Ct.value.table_number?(x(),O("div",fC,N(Ct.value.table_number[0]),1)):G("",!0)]),c("div",pC,[s[49]||(s[49]=c("label",{class:"form-label small"},"Customer",-1)),at(c("input",{"onUpdate:modelValue":s[7]||(s[7]=u=>Je.value=u),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[ar,Je.value]])])])):(x(),O("div",hC,[s[50]||(s[50]=c("label",{class:"form-label small"},"Customer",-1)),at(c("input",{"onUpdate:modelValue":s[8]||(s[8]=u=>Je.value=u),class:nt(["form-control form-control-sm",{"is-invalid":Ct.value.customer}]),placeholder:"Walk In"},null,2),[[ar,Je.value]]),Ct.value.customer?(x(),O("div",vC,N(Ct.value.customer[0]),1)):G("",!0)])),ye.value==="Delivery"?(x(),O("div",_C,[s[51]||(s[51]=c("label",{class:"form-label small"},"Delivery Location",-1)),at(c("input",{"onUpdate:modelValue":s[9]||(s[9]=u=>ut.value=u),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[ar,ut.value]]),Ct.value.delivery_location?(x(),O("div",mC,N(Ct.value.delivery_location[0]),1)):G("",!0),s[52]||(s[52]=c("label",{class:"form-label small mt-2"},"Phone Number",-1)),at(c("input",{"onUpdate:modelValue":s[10]||(s[10]=u=>Et.value=u),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[ar,Et.value]]),Ct.value.phone_number?(x(),O("div",gC,N(Ct.value.phone_number[0]),1)):G("",!0)])):G("",!0)]),c("div",bC,[q.value.length===0?(x(),O("div",yC," Add items from the left ")):G("",!0),(x(!0),O(We,null,ht(q.value,(u,_)=>(x(),O("div",{key:u.title,class:"line"},[c("div",wC,[c("img",{src:u.img,alt:""},null,8,EC),c("div",AC,[c("div",{class:"name",title:u.title},N(u.title),9,xC),u.resale_discount_per_item>0?(x(),O("div",CC,[c("span",TC,[s[53]||(s[53]=c("i",{class:"bi bi-tag-fill"},null,-1)),fe(" Save "+N(ce(n)(u.resale_discount_per_item)),1)])])):G("",!0),u.addons&&u.addons.length>0?(x(),O("div",SC,[c("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:A=>Qo(u,_),title:Xt(u)},[s[54]||(s[54]=c("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),c("span",OC,N(u.addons.length)+" addon(s)",1)],8,IC)])):G("",!0),Be(u)?(x(),O("span",kC,[...s[55]||(s[55]=[c("i",{class:"bi bi-tag-fill"},null,-1)])])):G("",!0),u.variant_name?(x(),O("div",DC,[c("span",NC,N(u.variant_name),1)])):G("",!0),u.note?(x(),O("div",$C,N(u.note),1)):G("",!0)])]),c("div",PC,[c("div",LC,[c("button",{class:"qty-btn",onClick:A=>al(_)},"",8,MC),c("div",RC,N(u.qty),1),c("button",{class:"qty-btn",onClick:A=>Fo(_)},"+",8,FC)]),c("div",qC,[c("div",BC,N(ce(n)(u.price)),1),c("button",{class:"del",onClick:A=>ll(_)},[...s[56]||(s[56]=[c("i",{class:"bi bi-trash"},null,-1)])],8,WC)])])]))),128))]),c("div",HC,[c("div",UC,[s[57]||(s[57]=c("span",null,"Sub Total",-1)),c("b",VC,N(ce(n)(xt.value)),1)]),er.value>0?(x(),O("div",zC,[s[58]||(s[58]=c("span",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-receipt text-info"}),fe(" Tax ")],-1)),c("b",KC,N(ce(n)(er.value)),1)])):G("",!0),yn.value>0?(x(),O("div",YC,[s[59]||(s[59]=c("span",{class:"text-muted"},"Service Charges:",-1)),c("span",GC,N(ce(n)(yn.value)),1)])):G("",!0),Xn.value>0?(x(),O("div",jC,[s[60]||(s[60]=c("span",{class:"text-muted"},"Delivery Charges:",-1)),c("span",QC,N(ce(n)(Xn.value)),1)])):G("",!0),mr.value>0?(x(),O("div",XC,[s[61]||(s[61]=c("span",{class:"d-flex align-items-center gap-2"},[c("span",{class:"text-danger"},"Sale Discount:")],-1)),c("b",ZC,"-"+N(ce(n)(mr.value)),1)])):G("",!0),Fe.value&&Fe.value.length>0?(x(),O("div",JC,[c("div",eT,[c("div",tT,[s[62]||(s[62]=c("span",{class:"text-success"},"Promo Discount:",-1)),c("b",nT,"-"+N(ce(n)(Jn.value)),1)])])])):G("",!0),Yt.value.length>0?(x(),O("div",rT,[s[64]||(s[64]=c("div",{class:"alert alert-warning py-2 px-3 mb-2"},[c("div",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-clock-history"}),c("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(x(!0),O(We,null,ht(Yt.value,u=>(x(),O("div",{key:u.id,class:"trow"},[c("span",iT,[s[63]||(s[63]=c("i",{class:"bi bi-hourglass-split"},null,-1)),c("span",null,N(u.discountData?.name||"Discount")+" ("+N(u.percentage)+"%)",1)]),c("span",sT," -"+N(ce(n)(Yr(u.percentage))),1)]))),128)),s[65]||(s[65]=c("small",{class:"text-muted d-block mt-1 ms-4"},[c("i",{class:"bi bi-info-circle me-1"}),fe(" Will apply after Super Admin approval ")],-1))])):G("",!0),ft.value.length>0?(x(),O("div",oT,[c("div",aT,[s[66]||(s[66]=c("div",{class:"d-flex align-items-center text-success gap-2"},[c("i",{class:"bi bi-check-circle"}),c("small",{class:"fw-semibold"},"Approved Discounts"),c("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),c("b",lT,"-"+N(ce(n)(Mn.value)),1)])])):G("",!0),c("div",uT,[s[67]||(s[67]=c("span",null,"Total",-1)),c("b",null,N(ce(n)(tr.value)),1)])]),c("div",cT,[tt(ce(Uf),null,{default:Pt(()=>[tt(ce(Ua),{value:"0"},{default:Pt(()=>[tt(ce(Ha),null,{default:Pt(()=>[...s[68]||(s[68]=[fe("Front Note",-1)])]),_:1}),tt(ce(Wa),null,{default:Pt(()=>[c("div",dT,[at(c("textarea",{id:"frontNote","onUpdate:modelValue":s[11]||(s[11]=u=>Ln.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[ar,Ln.value]])])]),_:1})]),_:1}),tt(ce(Ua),{value:"1"},{default:Pt(()=>[tt(ce(Ha),null,{default:Pt(()=>[...s[69]||(s[69]=[fe("Kitchen Note",-1)])]),_:1}),tt(ce(Wa),null,{default:Pt(()=>[c("div",fT,[at(c("textarea",{id:"kitchenNote","onUpdate:modelValue":s[12]||(s[12]=u=>cn.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[ar,cn.value]])])]),_:1})]),_:1})]),_:1})])]),c("div",pT,[c("button",{class:"btn btn-secondary btn-clear",onClick:s[13]||(s[13]=u=>Ki())}," Clear "),c("button",{class:"btn btn-warning",onClick:rt}," Pending "),c("button",{class:"btn btn-primary btn-place",onClick:fl}," Place Order "),c("button",{class:"btn btn-info",onClick:ia},[...s[70]||(s[70]=[c("i",{class:"bi bi-clock me-1"},null,-1),fe(" Pay Later ",-1)])])])])]))])]),c("div",hT,[c("div",vT,[c("div",_T,[c("div",mT,[c("div",null,[c("h5",gT,N(ue.value?.title||"Choose Item"),1),s[71]||(s[71]=c("p",{class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},"Customize your order",-1))]),s[72]||(s[72]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",bT,[c("div",yT,[s[73]||(s[73]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:Eo({width:Yn.value})},null,4),(x(!0),O(We,null,ht(lt.value,(u,_)=>(x(),O("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:nt(["stepper-circle stepper-circle-sm",yt(u.stepNumber)]),onClick:A=>It(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<pe.value?(x(),O("i",ET)):(x(),O("span",AT,N(u.stepNumber),1))],10,wT),c("small",{class:nt(["stepper-label",{"stepper-label-active":u.stepNumber===pe.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:A=>It(u.stepNumber)},N(u.name),11,xT)]))),128))])]),c("div",CT,[c("div",TT,[c("div",ST,[c("div",IT,[s[77]||(s[77]=c("div",{class:"d-flex align-items-center mb-2"},[c("i",{class:"bi bi-receipt me-2 text-primary",style:{"font-size":"1rem"}}),c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Price Breakdown")],-1)),c("div",OT,[s[74]||(s[74]=c("span",{class:"text-muted"},"Base Price",-1)),c("strong",null,N(ce(n)(Hi())),1)]),wt()>0?(x(),O("div",kT,[s[75]||(s[75]=c("span",{class:"text-muted"},"Add-ons",-1)),c("strong",DT,"+ "+N(ce(n)(wt())),1)])):G("",!0),s[78]||(s[78]=c("hr",{class:"my-2"},null,-1)),c("div",NT,[s[76]||(s[76]=c("span",{class:"fw-bold"},"Total",-1)),c("span",$T,N(ce(n)(Zr())),1)])])]),c("div",PT,[c("div",LT,[at(c("div",MT,[s[80]||(s[80]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-grid-3x3-gap me-2 text-primary",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Choose Variant ")])],-1)),c("div",RT,[(x(!0),O(We,null,ht(ue.value?.variants,u=>(x(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-3 p-2 shadow-sm variant-card",Zn.value===u.id?"border-primary bg-light":""]),onClick:_=>Nn(u.id),style:{cursor:"pointer"}},[c("div",qT,[c("div",null,[c("h6",BT,N(u.name),1)]),c("div",WT,[Zn.value===u.id?(x(),O("div",HT,[...s[79]||(s[79]=[c("i",{class:"bi bi-check-circle-fill",style:{"font-size":"1rem"}},null,-1)])])):G("",!0),c("strong",UT,N(ce(n)(u.price)),1)])])],10,FT)]))),128))])],512),[[Lr,pe.value===1&&Vt.value]]),at(c("div",VT,[s[81]||(s[81]=c("div",{class:"d-flex align-items-start mb-2"},[c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Remove Ingredients")])],-1)),c("div",zT,[(x(!0),O(We,null,ht(je(),u=>(x(),O("div",{key:u.id||u.inventory_item_id,class:"col-md-6"},[c("div",{class:nt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":Ut(u.id||u.inventory_item_id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"ingredient-"+(u.id||u.inventory_item_id),checked:!Ut(u.id||u.inventory_item_id),disabled:!Ut(u.id||u.inventory_item_id)&&bn()===1,onChange:_=>kn(u.id||u.inventory_item_id)},null,40,KT),c("label",{for:"ingredient-"+(u.id||u.inventory_item_id),class:"form-check-label",style:{"font-size":"0.8rem"}},N(u.product_name||u.name),9,YT)],2)]))),128))])],512),[[Lr,lt.value[pe.value-1]?.id==="ingredients"]]),at(c("div",GT,[s[87]||(s[87]=c("div",{class:"d-flex align-items-start mb-3"},[c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",{class:"flex-grow-1"},[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Add Add-ons"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Enhance your meal")])],-1)),ue.value?.addon_groups?.length>1?(x(),O("div",jT,[c("div",QT,[c("small",XT," Group "+N(C.value+1)+" of "+N(ue.value?.addon_groups?.length),1),c("div",ZT,[(x(!0),O(We,null,ht(ue.value?.addon_groups,(u,_)=>(x(),O("span",{key:_,class:nt(["rounded-circle",_===C.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):G("",!0),M.value?(x(),O("div",JT,[c("div",eS,[c("div",tS,[c("h6",nS,N(M.value.group_name),1),M.value.max_select>0?(x(),O("span",rS," Max "+N(M.value.max_select),1)):G("",!0)]),M.value.description?(x(),O("p",iS,N(M.value.description),1)):G("",!0)]),c("div",sS,[(x(!0),O(We,null,ht(M.value.addons,u=>(x(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":Hn(M.value.group_id,u.id)}])},[c("div",oS,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"addon-"+u.id,checked:Hn(M.value.group_id,u.id),onChange:_=>Cr(M.value.group_id,u)},null,40,aS),c("label",{for:"addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[fe(N(u.name)+" ",1),c("span",uS," +"+N(ce(n)(u.price)),1)],8,lS)]),Hn(M.value.group_id,u.id)?(x(),O("div",cS,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>Ci(M.value.group_id,u.id),disabled:as(M.value.group_id,u.id)<=1},[...s[82]||(s[82]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,dS),c("span",fS,N(as(M.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>xi(M.value.group_id,u.id)},[...s[83]||(s[83]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,pS)])):G("",!0)],2)]))),128))])])):G("",!0),ue.value?.addon_groups?.length>1?(x(),O("div",hS,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:U,disabled:C.value===0},[...s[84]||(s[84]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),fe(" Previous ",-1)])],8,vS),c("button",{class:"btn btn-primary btn-sm px-3",onClick:L,disabled:C.value>=ue.value?.addon_groups?.length-1},[...s[85]||(s[85]=[fe(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,_S)])):G("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:Z},[...s[86]||(s[86]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Lr,lt.value[pe.value-1]?.id==="addons"]]),at(c("div",mS,[s[94]||(s[94]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-cart-check me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Review Your Order"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Confirm selections")])],-1)),c("div",gS,[s[91]||(s[91]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Order Summary",-1)),Vt.value?(x(),O("div",bS,[s[88]||(s[88]=c("span",{class:"summary-label"},"Variant:",-1)),c("span",yS,N(Ms()),1)])):G("",!0),Le.value.length>0?(x(),O("div",wS,[s[89]||(s[89]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",ES,N(gt()),1)])):G("",!0),Zs()>0?(x(),O("div",AS,[s[90]||(s[90]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",xS,N(Gn()),1)])):G("",!0)]),c("div",CS,[s[92]||(s[92]=c("label",{class:"me-3 fw-semibold",style:{"font-size":"0.85rem"}},"Quantity:",-1)),c("div",TS,[c("button",{class:"qty-btn",onClick:dl,disabled:vt.value<=1},"",8,SS),c("div",IS,N(vt.value),1),c("button",{class:"qty-btn",onClick:cl},"+")])]),c("div",OS,[s[93]||(s[93]=c("label",{class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},[c("i",{class:"bi bi-chat-left-text me-1"}),fe(" Kitchen Note (Optional) ")],-1)),at(c("textarea",{"onUpdate:modelValue":s[14]||(s[14]=u=>Pn.value=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions...",style:{"font-size":"0.8rem"}},null,512),[[ar,Pn.value]]),c("div",kS,N(Pn.value?.length||0)+"/200 ",1)])],512),[[Lr,lt.value[pe.value-1]?.id==="review"]])])])])]),c("div",DS,[pe.value>1?(x(),O("button",{key:0,class:"btn btn-light btn-sm px-4 py-2 shadow-sm",onClick:Lt},[...s[95]||(s[95]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),fe("Back ",-1)])])):G("",!0),pe.value<fr.value?(x(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Br},[...s[96]||(s[96]=[fe(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):(x(),O("button",{key:2,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:ul},[...s[97]||(s[97]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),fe("Add to Cart ",-1)])]))])])])]),c("div",NS,[c("div",$S,[c("div",PS,[c("div",LS,[c("div",null,[c("h5",MS,N(Ge.value?.title||"Customize Deal"),1),c("p",RS," Customizing "+N(ze.value?.name||"item")+" ("+N(Ve.value+1)+" of "+N(Ge.value?.menu_items?.length||0)+") ",1)]),s[98]||(s[98]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",FS,[c("div",qS,[s[99]||(s[99]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:Eo({width:Tl.value})},null,4),(x(!0),O(We,null,ht(Jt.value,(u,_)=>(x(),O("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:nt(["stepper-circle stepper-circle-sm",ei(u.stepNumber)]),onClick:A=>en(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<Ce.value?(x(),O("i",WS)):(x(),O("span",HS,N(u.stepNumber),1))],10,BS),c("small",{class:nt(["stepper-label",{"stepper-label-active":u.stepNumber===Ce.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:A=>en(u.stepNumber)},N(u.name),11,US)]))),128))])]),c("div",VS,[c("div",zS,[c("div",KS,[c("div",YS,[c("h6",GS,[tt(ce(sf),{class:"me-2 text-primary w-4"}),s[100]||(s[100]=fe(" Currently Customizing ",-1))]),c("div",jS,[c("div",QS,[c("strong",null,N(ze.value?.name),1),c("div",XS," Base Price: "+N(ce(n)(ze.value?.price||0)),1),y.value>0?(x(),O("div",ZS," + "+N(ce(n)(y.value))+" (Add-ons) ",1)):G("",!0),c("div",JS," Total: "+N(ce(n)(ra.value)),1)])])]),c("div",e2,[s[101]||(s[101]=c("h6",{class:"fw-bold mb-2",style:{"font-size":"0.9rem"}},[c("i",{class:"bi bi-list-check me-2 text-success"}),fe(" Items in Deal ")],-1)),c("div",t2,[(x(!0),O(We,null,ht(Ge.value?.menu_items,(u,_)=>(x(),O("div",{key:_,class:"list-group-item px-0 py-2 border-0"},[c("div",n2,[Wn.value.includes(_)?(x(),O("i",r2)):_===Ve.value?(x(),ln(ce(sf),{key:1,class:"text-primary me-2 w-4"})):(x(),O("i",i2)),c("small",{class:nt({"fw-bold":_===Ve.value})},N(u.name),3)])]))),128))])])]),c("div",s2,[c("div",o2,[at(c("div",a2,[c("div",l2,[s[103]||(s[103]=c("i",{class:"bi bi-dash-circle me-2 text-warning",style:{"font-size":"1.1rem"}},null,-1)),c("div",null,[c("h6",u2," Remove Ingredients from "+N(ze.value?.name),1),s[102]||(s[102]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Uncheck ingredients you don't want ",-1))])]),c("div",c2,[(x(!0),O(We,null,ht(Jr(),u=>(x(),O("div",{key:u.id,class:"col-md-6"},[c("div",{class:nt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":ss(u.id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"deal-ingredient-"+u.id,checked:!ss(u.id),disabled:!ss(u.id)&&os()===1,onChange:_=>rr(u.id)},null,40,d2),c("label",{for:"deal-ingredient-"+u.id,class:"form-check-label",style:{"font-size":"0.8rem"}},N(u.product_name||u.name),9,f2)],2)]))),128))])],512),[[Lr,Jt.value[Ce.value-1]?.id==="ingredients"]]),at(c("div",p2,[c("div",h2,[s[105]||(s[105]=c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}},null,-1)),c("div",v2,[c("h6",_2," Add Add-ons to "+N(ze.value?.name),1),s[104]||(s[104]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Enhance this item (charges may apply) ",-1))])]),ze.value?.addon_groups?.length>1?(x(),O("div",m2,[c("div",g2,[c("small",b2," Group "+N(z.value+1)+" of "+N(ze.value?.addon_groups?.length),1),c("div",y2,[(x(!0),O(We,null,ht(ze.value?.addon_groups,(u,_)=>(x(),O("span",{key:_,class:nt(["rounded-circle",_===z.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):G("",!0),Q.value?(x(),O("div",w2,[c("div",E2,[c("div",A2,[c("h6",x2,N(Q.value.group_name),1),Q.value.max_select>0?(x(),O("span",C2," Max "+N(Q.value.max_select),1)):G("",!0)]),Q.value.description?(x(),O("p",T2,N(Q.value.description),1)):G("",!0)]),c("div",S2,[(x(!0),O(We,null,ht(Q.value.addons,u=>(x(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":Hn(Q.value.group_id,u.id)}])},[c("div",I2,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"deal-addon-"+u.id,checked:Hn(Q.value.group_id,u.id),onChange:_=>Cr(Q.value.group_id,u)},null,40,O2),c("label",{for:"deal-addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[fe(N(u.name)+" ",1),c("span",D2," +"+N(ce(n)(u.price)),1)],8,k2)]),Hn(Q.value.group_id,u.id)?(x(),O("div",N2,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>Ci(Q.value.group_id,u.id),disabled:as(Q.value.group_id,u.id)<=1},[...s[106]||(s[106]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,$2),c("span",P2,N(as(Q.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>xi(Q.value.group_id,u.id)},[...s[107]||(s[107]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,L2)])):G("",!0)],2)]))),128))])])):G("",!0),ze.value?.addon_groups?.length>1?(x(),O("div",M2,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:ie,disabled:z.value===0},[...s[108]||(s[108]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),fe(" Previous ",-1)])],8,R2),c("button",{class:"btn btn-primary btn-sm px-3",onClick:te,disabled:z.value>=ze.value?.addon_groups?.length-1},[...s[109]||(s[109]=[fe(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,F2)])):G("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:le},[...s[110]||(s[110]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Lr,Jt.value[Ce.value-1]?.id==="addons"]]),at(c("div",q2,[c("div",B2,[tt(ce(dy),{class:"me-2 text-primary w-5",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",W2," Review "+N(ze.value?.name),1),s[111]||(s[111]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Confirm your customizations ",-1))])]),c("div",H2,[s[118]||(s[118]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Customization Summary",-1)),c("div",U2,[s[112]||(s[112]=c("span",{class:"summary-label"},"Item:",-1)),c("span",V2,N(ze.value?.name),1)]),c("div",z2,[s[113]||(s[113]=c("span",{class:"summary-label"},"Base Price:",-1)),c("span",K2,N(ce(n)(ze.value?.price||0)),1)]),na()?(x(),O("div",Y2,[s[114]||(s[114]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",G2,N(na()),1)])):G("",!0),Il()>0?(x(),O("div",j2,[s[115]||(s[115]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",Q2,N(Ol()),1)])):G("",!0),y.value>0?(x(),O("div",X2,[s[116]||(s[116]=c("span",{class:"summary-label"},"Add-ons Cost:",-1)),c("span",Z2," + "+N(ce(n)(y.value)),1)])):G("",!0),c("div",J2,[s[117]||(s[117]=c("span",{class:"summary-label fw-bold"},"Item Total:",-1)),c("span",eI,N(ce(n)(ra.value)),1)])]),c("div",tI,[c("label",nI,[s[119]||(s[119]=c("i",{class:"bi bi-chat-left-text me-1"},null,-1)),fe(" Kitchen Note for "+N(ze.value?.name)+" (Optional) ",1)]),at(c("textarea",{"onUpdate:modelValue":s[15]||(s[15]=u=>Er.value[Ve.value]=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions for this item...",style:{"font-size":"0.8rem"}},"                                    ",512),[[ar,Er.value[Ve.value]]]),c("div",rI,N((Er.value[Ve.value]||"").length)+"/200 ",1)])],512),[[Lr,Jt.value[Ce.value-1]?.id==="review"]])])])])]),c("div",iI,[c("div",sI,[Ce.value>1?(x(),O("button",{key:0,class:"btn btn-secondary btn-sm px-4 py-2 shadow-sm",onClick:Dl},[...s[120]||(s[120]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),fe("Back ",-1)])])):G("",!0),Ce.value<Ar.value?(x(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:kl},[...s[121]||(s[121]=[fe(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):Sl.value?(x(),O("button",{key:3,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:$l},[...s[123]||(s[123]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),fe("Add Deal to Cart ",-1)])])):(x(),O("button",{key:2,class:"btn btn-success btn-sm px-4 py-2 shadow-sm",onClick:Nl},[...s[122]||(s[122]=[c("i",{class:"bi bi-check2 me-1"},null,-1),fe("Next Item ",-1)])]))])])])])]),c("div",oI,[c("div",aI,[c("div",lI,[s[134]||(s[134]=c("div",{class:"modal-header border-0 pb-2"},[c("h5",{class:"modal-title fw-bold"},[c("i",{class:"bi bi-puzzle-fill text-primary me-2"}),fe(" Manage Add-ons ")]),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),Pe.value?(x(),O("div",uI,[c("div",cI,[c("div",dI,[c("img",{src:Pe.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,fI),c("div",pI,[c("div",hI,N(Pe.value.title),1),c("div",vI,[c("small",_I,[s[124]||(s[124]=c("i",{class:"bi bi-tag me-1"},null,-1)),s[125]||(s[125]=fe(" Base Price: ",-1)),c("span",mI,N(ce(n)(Pe.value?.unit_price-Dt(q.value[qn.value]||{addons:[]}))),1)]),c("small",gI,[s[126]||(s[126]=c("i",{class:"bi bi-box me-1"},null,-1)),s[127]||(s[127]=fe(" Quantity: ",-1)),c("span",bI,N(Pe.value.qty),1)])])])])]),Pe.value.addons&&Pe.value.addons.length>0?(x(),O("div",yI,[c("table",wI,[s[130]||(s[130]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"60px"},class:"text-center"},"Select"),c("th",null,"Items"),c("th",{style:{width:"120px"},class:"text-center"},"Price"),c("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),c("tbody",null,[(x(!0),O(We,null,ht(Pe.value.addons,u=>(x(),O("tr",{key:u.id,class:nt({"table-active":u.selected!==!1})},[c("td",EI,[c("div",AI,[c("input",{type:"checkbox",class:"form-check-input",checked:u.selected!==!1,onChange:_=>Xo(u),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,xI)])]),c("td",null,[c("div",CI,[c("div",{class:nt(["addon-status-indicator",u.selected!==!1?"bg-success":"bg-secondary"])},null,2),c("div",null,[c("div",TI,N(u.name),1),u.group_name?(x(),O("small",SI,N(u.group_name),1)):G("",!0)])])]),c("td",II,[c("span",OI," +"+N(ce(n)(u.price)),1)]),c("td",null,[c("div",kI,[c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>Jo(u),disabled:!u.selected||(u.quantity||1)<=1},[...s[128]||(s[128]=[c("i",{class:"bi bi-dash-lg"},null,-1)])],8,DI),c("span",NI,N(u.quantity||1),1),c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>Zo(u),disabled:!u.selected},[...s[129]||(s[129]=[c("i",{class:"bi bi-plus-lg"},null,-1)])],8,$I)])])],2))),128))])])])):(x(),O("div",PI,[...s[131]||(s[131]=[c("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),c("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),c("div",LI,[Zs()>0?(x(),O("div",MI,[c("small",RI,[s[132]||(s[132]=c("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),fe(" "+N(Zs())+" add-on(s) selected  Add-ons Total: "+N(ce(n)(Dt(Pe.value))),1)])])):G("",!0)])])):G("",!0),c("div",{class:"modal-footer border-0 pt-0 bg-light"},[s[133]||(s[133]=c("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),c("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:wl}," Save ")])])])]),tt(ey,{show:js.value,kot:bi.value,loading:hl.value,onClose:s[16]||(s[16]=u=>js.value=!1),onStatusUpdated:Yo},null,8,["show","kot","loading"]),tt(Zb,{show:Ur.value,order:_i.value,money:Vs,onClose:s[17]||(s[17]=u=>Ur.value=!1)},null,8,["show","order"]),tt(rf,{show:vr.value,customer:Je.value,"delivery-location":ut.value,phone:Et.value,"order-type":ye.value,"selected-table":At.value,"order-items":q.value,"grand-total":tr.value,money:Vs,cashReceived:Vr.value,"onUpdate:cashReceived":s[18]||(s[18]=u=>Vr.value=u),client_secret:o.client_secret,order_code:o.order_code,"sub-total":xt.value,tax:er.value,"service-charges":yn.value,"delivery-charges":Xn.value,"promo-discount":Jn.value,"promo-id":Fe.value?.id,"promo-name":Fe.value?.name,"promo-type":Fe.value?.type,"promo-discount-amount":Jn.value,note:Ln.value,"kitchen-note":cn.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":qo.value,change:Bo.value,onClose:s[19]||(s[19]=u=>vr.value=!1),onConfirm:jr,appliedPromos:yl.value,"approved-discounts":Mn.value,"approved-discount-details":ft.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Yr(u.percentage),approval_id:u.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),tt(ny,{show:ji.value,orders:Qs.value,onClose:s[20]||(s[20]=u=>ji.value=!1),onViewDetails:gl,loading:Qi.value},null,8,["show","orders","loading"]),tt(Jb,{show:Xi.value,loading:Xs.value,promos:Ji.value,"order-items":q.value,onApplyPromo:_l,onClose:s[21]||(s[21]=u=>Xi.value=!1)},null,8,["show","loading","promos","order-items"]),tt(uy,{show:Zi.value,discounts:es.value,"order-items":q.value,loading:yi.value,"applied-discounts":ft.value,"rejected-discounts":Kr.value,onClose:s[22]||(s[22]=u=>Zi.value=!1),onApplyDiscount:Ho,onClearDiscount:pl},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"]),tt(ex,{show:Rn.value,"missing-ingredients":Gt.value,onClose:s[23]||(s[23]=u=>{Rn.value=!1,Gs.value=null}),onConfirm:zo},null,8,["show","missing-ingredients"]),tt(cy,{show:Y.value,"pending-orders":ne.value,loading:Te.value,onClose:s[24]||(s[24]=u=>Y.value=!1),onResume:Pl,onReject:tn,onPayNow:ls},null,8,["show","pending-orders","loading"]),it.value?(x(),ln(rf,{key:0,show:ke.value,customer:it.value.customer_name,"delivery-location":it.value.delivery_location,phone:it.value.phone_number,"order-type":it.value.order_type,"selected-table":{name:it.value.table_number},"order-items":it.value.order_items,"grand-total":it.value.total_amount,"sub-total":it.value.sub_total,tax:it.value.tax,"service-charges":it.value.service_charges,"delivery-charges":it.value.delivery_charges,"promo-discount":it.value.promo_discount,note:it.value.note,"kitchen-note":it.value.kitchen_note,cashReceived:Vr.value,"onUpdate:cashReceived":s[25]||(s[25]=u=>Vr.value=u),money:Vs,onClose:s[26]||(s[26]=u=>{ke.value=!1,it.value=null}),onConfirm:Ll,"is-payment-only":!0},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","sub-total","tax","service-charges","delivery-charges","promo-discount","note","kitchen-note","cashReceived"])):G("",!0)])]),_:1})],64))}},fO=Kb(FI,[["__scopeId","data-v-1f097ba2"]]);export{fO as default};

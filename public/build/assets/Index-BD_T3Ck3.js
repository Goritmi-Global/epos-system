import{r as J,R as Nb,b6 as Ro,_ as Lb,o as ys,n as Il,c as yt,y as Es,A as Db,z as kb,q as ue,f as P,b as M,d as An,u as Te,h as $b,w as ws,e as _,m as pe,i as jn,k as un,v as Zn,F as Ke,g as Et,t as U,l as Ht,K as Nl,x as Po,T as Ll}from"./app-ecBcrIdu.js";import{_ as Rb}from"./Master-Cakngz2m.js";import Pb from"./ConfirmOrderModal-BbvVFuAD.js";import Mb from"./ReceiptModal-Bd9rRZme.js";import Fb from"./PromoModal-D3sDiIkg.js";import Bb from"./KotModal-BV9iPXdy.js";import{u as Ub}from"./useFormatters-BoG2LBUC.js";import Wb from"./PosOrdersModal-C_vbcIUw.js";import{F as qb}from"./FilterModal-ZbahYl2c.js";import{s as vd}from"./index-CDHXMmep.js";import Hb from"./DiscountModal-DBZbjWs0.js";import"./index-C-unVes8.js";import"./createLucideIcon-DMX4meg6.js";import"./index-CG47vI1y.js";import"./index-Bo6J0KiD.js";import"./sun-DxPITbHg.js";import"./StripePayment-HmTydZJQ.js";import"./SplitPayment-Bci7ehYi.js";import"./Receipt-COXhK8KR.js";import"./clock-DtDqnros.js";import"./circle-check-big-CQ2hYyW4.js";import"./circle-x-Db2YrSWS.js";import"./printer-BnXO0Cio.js";import"./index-VviPw0by.js";import"./index-Ps2i6lK_.js";import"./index-BYGYe-hV.js";const he=Nb({device:null,connected:!1,printerName:null,webUSBSupported:!1,lastError:null}),xe={INIT:[27,64],CUT:[29,86,0],PARTIAL_CUT:[29,86,1],FEED:[27,100],ALIGN_LEFT:[27,97,0],ALIGN_CENTER:[27,97,1],ALIGN_RIGHT:[27,97,2],BOLD_ON:[27,69,1],BOLD_OFF:[27,69,0],DOUBLE_ON:[29,33,17],DOUBLE_OFF:[29,33,0]},gd=[1155,1046,1049,1208,1317,1659,5380,6790,3540,4070,8401,5455];function Vb(){const n=J(!1),i=()=>(he.webUSBSupported="usb"in navigator,he.webUSBSupported),d=async()=>{if(!he.webUSBSupported)return[];try{return(await navigator.usb.getDevices()).filter(q=>gd.includes(q.vendorId)||q.productName?.toLowerCase().includes("printer")||q.productName?.toLowerCase().includes("pos")||q.productName?.toLowerCase().includes("thermal"))}catch(S){return console.error("Error getting USB devices:",S),[]}},p=async()=>{if(!he.webUSBSupported)return he.lastError="WebUSB not supported. Use Chrome or Edge.",!1;try{n.value=!0,he.lastError=null;const S=gd.map(ne=>({vendorId:ne}));he.device=await navigator.usb.requestDevice({filters:S}),await he.device.open(),he.device.configuration===null&&await he.device.selectConfiguration(1);const q=he.device.configuration.interfaces[0].interfaceNumber;return await he.device.claimInterface(q),he.connected=!0,he.printerName=he.device.productName||"USB Printer",localStorage.setItem("usb_printer_connected","true"),!0}catch(S){return he.lastError=S.message,he.connected=!1,!1}finally{n.value=!1}},w=async()=>{if(he.device&&he.connected){try{await he.device.close()}catch{}he.device=null,he.connected=!1,he.printerName=null,localStorage.removeItem("usb_printer_connected")}},b=async S=>{if(!he.connected||!he.device)throw new Error("Printer not connected");const q=he.device.configuration.interfaces[0].alternate.endpoints.find(k=>k.direction==="out");if(!q)throw new Error("No output endpoint found");const ne=S instanceof Uint8Array?S:new Uint8Array(S);await he.device.transferOut(q.endpointNumber,ne)},x=S=>new TextEncoder().encode(S+`
`),O=async S=>{await b(x(S))},B=async(S,q)=>{const ne=48-S.length-q.length,k=S+" ".repeat(Math.max(1,ne))+q;await O(k)},I=(S,q="£")=>q+parseFloat(S).toFixed(2),W=async(S="-")=>{await O(S.repeat(48))},ee=async(S,q)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").customer_printer||"browser")==="browser"||!he.connected)return te(S,q);try{n.value=!0,await b(new Uint8Array(xe.INIT)),await b(new Uint8Array(xe.ALIGN_CENTER)),await b(new Uint8Array(xe.BOLD_ON)),await b(new Uint8Array(xe.DOUBLE_ON)),await O((q.name||"Business").toUpperCase()),await b(new Uint8Array(xe.DOUBLE_OFF)),await b(new Uint8Array(xe.BOLD_OFF)),q.phone&&await O(q.phone),q.address&&await O(q.address),await W("="),await b(new Uint8Array(xe.BOLD_ON)),await O("CUSTOMER RECEIPT"),await b(new Uint8Array(xe.BOLD_OFF)),await W("="),await b(new Uint8Array(xe.ALIGN_LEFT)),await B("Date:",S.order_date||new Date().toLocaleDateString()),await B("Time:",S.order_time||new Date().toLocaleTimeString()),await B("Customer:",S.customer_name||"Walk In"),await B("Order Type:",S.order_type||"Collection"),S.note&&await B("Note:",S.note),await W("-"),await b(new Uint8Array(xe.BOLD_ON)),await O("Item                     Qty    Price    Total"),await b(new Uint8Array(xe.BOLD_OFF)),await W("-");const $=q.currency||"£";for(const X of S.items||[]){const ce=(X.title||"Item").substring(0,24).padEnd(24),Ie=(X.quantity||X.qty||1).toString().padStart(4),ke=I(X.unit_price||X.price||0,$).padStart(8),Ce=I((X.unit_price||X.price||0)*(X.quantity||X.qty||1),$).padStart(8);await O(ce+Ie+ke+Ce)}if(await W("-"),await B("Subtotal:",I(S.sub_total||0,$)),await b(new Uint8Array(xe.BOLD_ON)),await B("Total:",I(S.total_amount||S.sub_total||0,$)),await b(new Uint8Array(xe.BOLD_OFF)),S.payment_type&&(await b(new Uint8Array([...xe.FEED,1])),await B("Payment:",S.payment_type.toUpperCase()),S.payment_type==="cash"&&S.cash_received>0)){await B("Cash Received:",I(S.cash_received,$));const X=S.cash_received-(S.total_amount||S.sub_total||0);X>0&&await B("Change:",I(X,$))}return await b(new Uint8Array([...xe.FEED,2])),await b(new Uint8Array(xe.ALIGN_CENTER)),await O((q.footer||"Thank you!").toUpperCase()),await b(new Uint8Array([...xe.FEED,3])),await b(new Uint8Array(xe.CUT)),{success:!0,method:"usb"}}catch($){return console.error("USB print error:",$),te(S,q)}finally{n.value=!1}},V=async(S,q)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").kot_printer||"browser")==="browser"||!he.connected)return re(S,q);try{n.value=!0,await b(new Uint8Array(xe.INIT)),await b(new Uint8Array(xe.ALIGN_CENTER)),await b(new Uint8Array(xe.BOLD_ON)),await b(new Uint8Array(xe.DOUBLE_ON)),await O((q.name||"KITCHEN").toUpperCase()),await b(new Uint8Array(xe.DOUBLE_OFF)),await b(new Uint8Array(xe.BOLD_OFF)),await W("="),await b(new Uint8Array(xe.BOLD_ON)),await O("KITCHEN ORDER TICKET"),await b(new Uint8Array(xe.BOLD_OFF)),await W("="),await b(new Uint8Array(xe.ALIGN_LEFT)),await B("Date:",S.order_date||new Date().toLocaleDateString()),await B("Time:",S.order_time||new Date().toLocaleTimeString()),await B("Customer:",S.customer_name||"Walk In"),await B("Order Type:",S.order_type||"Dine In"),S.kitchen_note&&await B("Note:",S.kitchen_note),await W("-"),await b(new Uint8Array(xe.BOLD_ON)),await B("Item","Qty"),await b(new Uint8Array(xe.BOLD_OFF)),await W("-");for(const $ of S.items||[]){const X=($.title||"Item").substring(0,40),ce=($.quantity||$.qty||1).toString();await B(X,ce),$.item_kitchen_note&&await O("  Note: "+$.item_kitchen_note)}return await W("-"),await b(new Uint8Array([...xe.FEED,2])),await b(new Uint8Array(xe.ALIGN_CENTER)),await O((q.footer||"KITCHEN COPY").toUpperCase()),await b(new Uint8Array([...xe.FEED,3])),await b(new Uint8Array(xe.CUT)),{success:!0,method:"usb"}}catch($){return console.error("USB KOT print error:",$),re(S,q)}finally{n.value=!1}},te=(S,q)=>{const ne=q.currency||"£";let k="";for(const ce of S.items||[]){const Ie=ce.quantity||ce.qty||1,ke=ce.unit_price||ce.price||0,Ce=ke*Ie;k+="<tr>",k+="<td>"+(ce.title||"Item")+"</td>",k+='<td style="text-align:center">'+Ie+"</td>",k+='<td style="text-align:right">'+I(ke,ne)+"</td>",k+='<td style="text-align:right">'+I(Ce,ne)+"</td>",k+="</tr>"}let $='<!DOCTYPE html><html><head><meta charset="UTF-8">';$+="<title>Receipt</title>",$+="<style>",$+="@page { size: 80mm auto; margin: 0; }",$+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',$+=".header { text-align: center; margin-bottom: 10px; }",$+=".business-name { font-size: 16px; font-weight: bold; }",$+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",$+=".info-row { display: flex; justify-content: space-between; }",$+="table { width: 100%; border-collapse: collapse; }",$+="th, td { padding: 3px 0; }",$+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",$+="</style></head><body>",$+='<div class="header">',q.logo_url&&($+='<img src="'+q.logo_url+'" style="max-width:100px;max-height:60px;margin-bottom:5px">'),$+='<div class="business-name">'+(q.name||"Business").toUpperCase()+"</div>",$+="<div>"+(q.phone||"")+"</div>",$+="<div>"+(q.address||"")+"</div>",$+="</div>",$+='<div class="divider"></div>',$+='<div style="text-align:center;font-weight:bold">CUSTOMER RECEIPT</div>',$+='<div class="divider"></div>',$+='<div class="info-row"><span>Date:</span><span>'+(S.order_date||new Date().toLocaleDateString())+"</span></div>",$+='<div class="info-row"><span>Time:</span><span>'+(S.order_time||new Date().toLocaleTimeString())+"</span></div>",$+='<div class="info-row"><span>Customer:</span><span>'+(S.customer_name||"Walk In")+"</span></div>",$+='<div class="info-row"><span>Order Type:</span><span>'+(S.order_type||"Collection")+"</span></div>",$+='<div class="divider"></div>',$+="<table><thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead>",$+="<tbody>"+k+"</tbody></table>",$+='<div class="divider"></div>',$+='<div class="info-row"><span>Subtotal:</span><span>'+I(S.sub_total||0,ne)+"</span></div>",$+='<div class="info-row" style="font-weight:bold"><span>Total:</span><span>'+I(S.total_amount||S.sub_total||0,ne)+"</span></div>",$+='<div class="divider"></div>',$+='<div class="footer">'+(q.footer||"Thank you!").toUpperCase()+"</div>",$+="</body></html>";const X=window.open("","_blank","width=400,height=600");return X.document.write($),X.document.close(),setTimeout(function(){X.focus(),X.print()},500),{success:!0,method:"browser"}},re=(S,q)=>{let ne="";for(const X of S.items||[]){const ce=X.quantity||X.qty||1;ne+="<tr>",ne+="<td>"+(X.title||"Item")+"</td>",ne+='<td style="text-align:right">'+ce+"</td>",ne+="</tr>",X.item_kitchen_note&&(ne+='<tr><td colspan="2" style="padding-left:15px;font-style:italic">Note: '+X.item_kitchen_note+"</td></tr>")}let k='<!DOCTYPE html><html><head><meta charset="UTF-8">';k+="<title>Kitchen Order</title>",k+="<style>",k+="@page { size: 80mm auto; margin: 0; }",k+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',k+=".header { text-align: center; margin-bottom: 10px; }",k+=".business-name { font-size: 16px; font-weight: bold; }",k+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",k+=".info-row { display: flex; justify-content: space-between; }",k+="table { width: 100%; border-collapse: collapse; }",k+="th, td { padding: 3px 0; }",k+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",k+="</style></head><body>",k+='<div class="header">',k+='<div class="business-name">'+(q.name||"KITCHEN").toUpperCase()+"</div>",k+="</div>",k+='<div class="divider"></div>',k+='<div style="text-align:center;font-weight:bold;font-size:14px">KITCHEN ORDER TICKET</div>',k+='<div class="divider"></div>',k+='<div class="info-row"><span>Date:</span><span>'+(S.order_date||new Date().toLocaleDateString())+"</span></div>",k+='<div class="info-row"><span>Time:</span><span>'+(S.order_time||new Date().toLocaleTimeString())+"</span></div>",k+='<div class="info-row"><span>Customer:</span><span>'+(S.customer_name||"Walk In")+"</span></div>",k+='<div class="info-row"><span>Order Type:</span><span>'+(S.order_type||"Dine In")+"</span></div>",S.kitchen_note&&(k+='<div class="info-row"><span>Note:</span><span>'+S.kitchen_note+"</span></div>"),k+='<div class="divider"></div>',k+='<table><thead><tr><th>Item</th><th style="text-align:right">Qty</th></tr></thead>',k+="<tbody>"+ne+"</tbody></table>",k+='<div class="divider"></div>',k+='<div class="footer">KITCHEN COPY</div>',k+="</body></html>";const $=window.open("","_blank","width=400,height=600");return $.document.write(k),$.document.close(),setTimeout(function(){$.focus(),$.print()},500),{success:!0,method:"browser"}};return{isConnected:()=>he.connected,printerName:()=>he.printerName,isWebUSBSupported:()=>he.webUSBSupported,lastError:()=>he.lastError,loading:n,checkSupport:i,connectPrinter:p,disconnectPrinter:w,autoReconnect:async()=>{if(i(),he.webUSBSupported&&localStorage.getItem("usb_printer_connected")){const S=await d();if(S.length>0)try{he.device=S[0],await he.device.open(),he.device.configuration===null&&await he.device.selectConfiguration(1);const q=he.device.configuration.interfaces[0].interfaceNumber;await he.device.claimInterface(q),he.connected=!0,he.printerName=he.device.productName||"USB Printer"}catch(q){console.log("Auto-reconnect failed:",q.message)}}},getPairedDevices:d,printReceipt:ee,printKOT:V,browserPrintReceipt:te,browserPrintKOT:re}}var Lt="top",Zt="bottom",Jt="right",Dt="left",jo="auto",Fi=[Lt,Zt,Jt,Dt],zr="start",Li="end",tf="clippingParents",tu="viewport",Si="popper",nf="reference",zl=Fi.reduce(function(o,n){return o.concat([n+"-"+zr,n+"-"+Li])},[]),nu=[].concat(Fi,[jo]).reduce(function(o,n){return o.concat([n,n+"-"+zr,n+"-"+Li])},[]),rf="beforeRead",sf="read",of="afterRead",af="beforeMain",lf="main",uf="afterMain",cf="beforeWrite",df="write",ff="afterWrite",hf=[rf,sf,of,af,lf,uf,cf,df,ff];function Pn(o){return o?(o.nodeName||"").toLowerCase():null}function en(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var n=o.ownerDocument;return n&&n.defaultView||window}return o}function Xr(o){var n=en(o).Element;return o instanceof n||o instanceof Element}function cn(o){var n=en(o).HTMLElement;return o instanceof n||o instanceof HTMLElement}function ru(o){if(typeof ShadowRoot>"u")return!1;var n=en(o).ShadowRoot;return o instanceof n||o instanceof ShadowRoot}function Kb(o){var n=o.state;Object.keys(n.elements).forEach(function(i){var d=n.styles[i]||{},p=n.attributes[i]||{},w=n.elements[i];!cn(w)||!Pn(w)||(Object.assign(w.style,d),Object.keys(p).forEach(function(b){var x=p[b];x===!1?w.removeAttribute(b):w.setAttribute(b,x===!0?"":x)}))})}function Yb(o){var n=o.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(d){var p=n.elements[d],w=n.attributes[d]||{},b=Object.keys(n.styles.hasOwnProperty(d)?n.styles[d]:i[d]),x=b.reduce(function(O,B){return O[B]="",O},{});!cn(p)||!Pn(p)||(Object.assign(p.style,x),Object.keys(w).forEach(function(O){p.removeAttribute(O)}))})}}const iu={name:"applyStyles",enabled:!0,phase:"write",fn:Kb,effect:Yb,requires:["computeStyles"]};function $n(o){return o.split("-")[0]}var Gr=Math.max,Go=Math.min,Di=Math.round;function Xl(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function pf(){return!/^((?!chrome|android).)*safari/i.test(Xl())}function ki(o,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var d=o.getBoundingClientRect(),p=1,w=1;n&&cn(o)&&(p=o.offsetWidth>0&&Di(d.width)/o.offsetWidth||1,w=o.offsetHeight>0&&Di(d.height)/o.offsetHeight||1);var b=Xr(o)?en(o):window,x=b.visualViewport,O=!pf()&&i,B=(d.left+(O&&x?x.offsetLeft:0))/p,I=(d.top+(O&&x?x.offsetTop:0))/w,W=d.width/p,ee=d.height/w;return{width:W,height:ee,top:I,right:B+W,bottom:I+ee,left:B,x:B,y:I}}function su(o){var n=ki(o),i=o.offsetWidth,d=o.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-d)<=1&&(d=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:d}}function _f(o,n){var i=n.getRootNode&&n.getRootNode();if(o.contains(n))return!0;if(i&&ru(i)){var d=n;do{if(d&&o.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function tr(o){return en(o).getComputedStyle(o)}function Gb(o){return["table","td","th"].indexOf(Pn(o))>=0}function Tr(o){return((Xr(o)?o.ownerDocument:o.document)||window.document).documentElement}function Zo(o){return Pn(o)==="html"?o:o.assignedSlot||o.parentNode||(ru(o)?o.host:null)||Tr(o)}function md(o){return!cn(o)||tr(o).position==="fixed"?null:o.offsetParent}function zb(o){var n=/firefox/i.test(Xl()),i=/Trident/i.test(Xl());if(i&&cn(o)){var d=tr(o);if(d.position==="fixed")return null}var p=Zo(o);for(ru(p)&&(p=p.host);cn(p)&&["html","body"].indexOf(Pn(p))<0;){var w=tr(p);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||n&&w.willChange==="filter"||n&&w.filter&&w.filter!=="none")return p;p=p.parentNode}return null}function Ns(o){for(var n=en(o),i=md(o);i&&Gb(i)&&tr(i).position==="static";)i=md(i);return i&&(Pn(i)==="html"||Pn(i)==="body"&&tr(i).position==="static")?n:i||zb(o)||n}function ou(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Cs(o,n,i){return Gr(o,Go(n,i))}function Xb(o,n,i){var d=Cs(o,n,i);return d>i?i:d}function vf(){return{top:0,right:0,bottom:0,left:0}}function gf(o){return Object.assign({},vf(),o)}function mf(o,n){return n.reduce(function(i,d){return i[d]=o,i},{})}var Qb=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,gf(typeof n!="number"?n:mf(n,Fi))};function jb(o){var n,i=o.state,d=o.name,p=o.options,w=i.elements.arrow,b=i.modifiersData.popperOffsets,x=$n(i.placement),O=ou(x),B=[Dt,Jt].indexOf(x)>=0,I=B?"height":"width";if(!(!w||!b)){var W=Qb(p.padding,i),ee=su(w),V=O==="y"?Lt:Dt,te=O==="y"?Zt:Jt,re=i.rects.reference[I]+i.rects.reference[O]-b[O]-i.rects.popper[I],j=b[O]-i.rects.reference[O],S=Ns(w),q=S?O==="y"?S.clientHeight||0:S.clientWidth||0:0,ne=re/2-j/2,k=W[V],$=q-ee[I]-W[te],X=q/2-ee[I]/2+ne,ce=Cs(k,X,$),Ie=O;i.modifiersData[d]=(n={},n[Ie]=ce,n.centerOffset=ce-X,n)}}function Zb(o){var n=o.state,i=o.options,d=i.element,p=d===void 0?"[data-popper-arrow]":d;p!=null&&(typeof p=="string"&&(p=n.elements.popper.querySelector(p),!p)||_f(n.elements.popper,p)&&(n.elements.arrow=p))}const bf={name:"arrow",enabled:!0,phase:"main",fn:jb,effect:Zb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $i(o){return o.split("-")[1]}var Jb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function e0(o,n){var i=o.x,d=o.y,p=n.devicePixelRatio||1;return{x:Di(i*p)/p||0,y:Di(d*p)/p||0}}function bd(o){var n,i=o.popper,d=o.popperRect,p=o.placement,w=o.variation,b=o.offsets,x=o.position,O=o.gpuAcceleration,B=o.adaptive,I=o.roundOffsets,W=o.isFixed,ee=b.x,V=ee===void 0?0:ee,te=b.y,re=te===void 0?0:te,j=typeof I=="function"?I({x:V,y:re}):{x:V,y:re};V=j.x,re=j.y;var S=b.hasOwnProperty("x"),q=b.hasOwnProperty("y"),ne=Dt,k=Lt,$=window;if(B){var X=Ns(i),ce="clientHeight",Ie="clientWidth";if(X===en(i)&&(X=Tr(i),tr(X).position!=="static"&&x==="absolute"&&(ce="scrollHeight",Ie="scrollWidth")),X=X,p===Lt||(p===Dt||p===Jt)&&w===Li){k=Zt;var ke=W&&X===$&&$.visualViewport?$.visualViewport.height:X[ce];re-=ke-d.height,re*=O?1:-1}if(p===Dt||(p===Lt||p===Zt)&&w===Li){ne=Jt;var Ce=W&&X===$&&$.visualViewport?$.visualViewport.width:X[Ie];V-=Ce-d.width,V*=O?1:-1}}var je=Object.assign({position:x},B&&Jb),wt=I===!0?e0({x:V,y:re},en(i)):{x:V,y:re};if(V=wt.x,re=wt.y,O){var Se;return Object.assign({},je,(Se={},Se[k]=q?"0":"",Se[ne]=S?"0":"",Se.transform=($.devicePixelRatio||1)<=1?"translate("+V+"px, "+re+"px)":"translate3d("+V+"px, "+re+"px, 0)",Se))}return Object.assign({},je,(n={},n[k]=q?re+"px":"",n[ne]=S?V+"px":"",n.transform="",n))}function t0(o){var n=o.state,i=o.options,d=i.gpuAcceleration,p=d===void 0?!0:d,w=i.adaptive,b=w===void 0?!0:w,x=i.roundOffsets,O=x===void 0?!0:x,B={placement:$n(n.placement),variation:$i(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:p,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,bd(Object.assign({},B,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:b,roundOffsets:O})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,bd(Object.assign({},B,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const au={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:t0,data:{}};var Mo={passive:!0};function n0(o){var n=o.state,i=o.instance,d=o.options,p=d.scroll,w=p===void 0?!0:p,b=d.resize,x=b===void 0?!0:b,O=en(n.elements.popper),B=[].concat(n.scrollParents.reference,n.scrollParents.popper);return w&&B.forEach(function(I){I.addEventListener("scroll",i.update,Mo)}),x&&O.addEventListener("resize",i.update,Mo),function(){w&&B.forEach(function(I){I.removeEventListener("scroll",i.update,Mo)}),x&&O.removeEventListener("resize",i.update,Mo)}}const lu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n0,data:{}};var r0={left:"right",right:"left",bottom:"top",top:"bottom"};function Vo(o){return o.replace(/left|right|bottom|top/g,function(n){return r0[n]})}var i0={start:"end",end:"start"};function yd(o){return o.replace(/start|end/g,function(n){return i0[n]})}function uu(o){var n=en(o),i=n.pageXOffset,d=n.pageYOffset;return{scrollLeft:i,scrollTop:d}}function cu(o){return ki(Tr(o)).left+uu(o).scrollLeft}function s0(o,n){var i=en(o),d=Tr(o),p=i.visualViewport,w=d.clientWidth,b=d.clientHeight,x=0,O=0;if(p){w=p.width,b=p.height;var B=pf();(B||!B&&n==="fixed")&&(x=p.offsetLeft,O=p.offsetTop)}return{width:w,height:b,x:x+cu(o),y:O}}function o0(o){var n,i=Tr(o),d=uu(o),p=(n=o.ownerDocument)==null?void 0:n.body,w=Gr(i.scrollWidth,i.clientWidth,p?p.scrollWidth:0,p?p.clientWidth:0),b=Gr(i.scrollHeight,i.clientHeight,p?p.scrollHeight:0,p?p.clientHeight:0),x=-d.scrollLeft+cu(o),O=-d.scrollTop;return tr(p||i).direction==="rtl"&&(x+=Gr(i.clientWidth,p?p.clientWidth:0)-w),{width:w,height:b,x,y:O}}function du(o){var n=tr(o),i=n.overflow,d=n.overflowX,p=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+p+d)}function yf(o){return["html","body","#document"].indexOf(Pn(o))>=0?o.ownerDocument.body:cn(o)&&du(o)?o:yf(Zo(o))}function Ss(o,n){var i;n===void 0&&(n=[]);var d=yf(o),p=d===((i=o.ownerDocument)==null?void 0:i.body),w=en(d),b=p?[w].concat(w.visualViewport||[],du(d)?d:[]):d,x=n.concat(b);return p?x:x.concat(Ss(Zo(b)))}function Ql(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function a0(o,n){var i=ki(o,!1,n==="fixed");return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function Ed(o,n,i){return n===tu?Ql(s0(o,i)):Xr(n)?a0(n,i):Ql(o0(Tr(o)))}function l0(o){var n=Ss(Zo(o)),i=["absolute","fixed"].indexOf(tr(o).position)>=0,d=i&&cn(o)?Ns(o):o;return Xr(d)?n.filter(function(p){return Xr(p)&&_f(p,d)&&Pn(p)!=="body"}):[]}function u0(o,n,i,d){var p=n==="clippingParents"?l0(o):[].concat(n),w=[].concat(p,[i]),b=w[0],x=w.reduce(function(O,B){var I=Ed(o,B,d);return O.top=Gr(I.top,O.top),O.right=Go(I.right,O.right),O.bottom=Go(I.bottom,O.bottom),O.left=Gr(I.left,O.left),O},Ed(o,b,d));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function Ef(o){var n=o.reference,i=o.element,d=o.placement,p=d?$n(d):null,w=d?$i(d):null,b=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,O;switch(p){case Lt:O={x:b,y:n.y-i.height};break;case Zt:O={x:b,y:n.y+n.height};break;case Jt:O={x:n.x+n.width,y:x};break;case Dt:O={x:n.x-i.width,y:x};break;default:O={x:n.x,y:n.y}}var B=p?ou(p):null;if(B!=null){var I=B==="y"?"height":"width";switch(w){case zr:O[B]=O[B]-(n[I]/2-i[I]/2);break;case Li:O[B]=O[B]+(n[I]/2-i[I]/2);break}}return O}function Ri(o,n){n===void 0&&(n={});var i=n,d=i.placement,p=d===void 0?o.placement:d,w=i.strategy,b=w===void 0?o.strategy:w,x=i.boundary,O=x===void 0?tf:x,B=i.rootBoundary,I=B===void 0?tu:B,W=i.elementContext,ee=W===void 0?Si:W,V=i.altBoundary,te=V===void 0?!1:V,re=i.padding,j=re===void 0?0:re,S=gf(typeof j!="number"?j:mf(j,Fi)),q=ee===Si?nf:Si,ne=o.rects.popper,k=o.elements[te?q:ee],$=u0(Xr(k)?k:k.contextElement||Tr(o.elements.popper),O,I,b),X=ki(o.elements.reference),ce=Ef({reference:X,element:ne,placement:p}),Ie=Ql(Object.assign({},ne,ce)),ke=ee===Si?Ie:X,Ce={top:$.top-ke.top+S.top,bottom:ke.bottom-$.bottom+S.bottom,left:$.left-ke.left+S.left,right:ke.right-$.right+S.right},je=o.modifiersData.offset;if(ee===Si&&je){var wt=je[p];Object.keys(Ce).forEach(function(Se){var Kt=[Jt,Zt].indexOf(Se)>=0?1:-1,kt=[Lt,Zt].indexOf(Se)>=0?"y":"x";Ce[Se]+=wt[kt]*Kt})}return Ce}function c0(o,n){n===void 0&&(n={});var i=n,d=i.placement,p=i.boundary,w=i.rootBoundary,b=i.padding,x=i.flipVariations,O=i.allowedAutoPlacements,B=O===void 0?nu:O,I=$i(d),W=I?x?zl:zl.filter(function(te){return $i(te)===I}):Fi,ee=W.filter(function(te){return B.indexOf(te)>=0});ee.length===0&&(ee=W);var V=ee.reduce(function(te,re){return te[re]=Ri(o,{placement:re,boundary:p,rootBoundary:w,padding:b})[$n(re)],te},{});return Object.keys(V).sort(function(te,re){return V[te]-V[re]})}function d0(o){if($n(o)===jo)return[];var n=Vo(o);return[yd(o),n,yd(n)]}function f0(o){var n=o.state,i=o.options,d=o.name;if(!n.modifiersData[d]._skip){for(var p=i.mainAxis,w=p===void 0?!0:p,b=i.altAxis,x=b===void 0?!0:b,O=i.fallbackPlacements,B=i.padding,I=i.boundary,W=i.rootBoundary,ee=i.altBoundary,V=i.flipVariations,te=V===void 0?!0:V,re=i.allowedAutoPlacements,j=n.options.placement,S=$n(j),q=S===j,ne=O||(q||!te?[Vo(j)]:d0(j)),k=[j].concat(ne).reduce(function(it,He){return it.concat($n(He)===jo?c0(n,{placement:He,boundary:I,rootBoundary:W,padding:B,flipVariations:te,allowedAutoPlacements:re}):He)},[]),$=n.rects.reference,X=n.rects.popper,ce=new Map,Ie=!0,ke=k[0],Ce=0;Ce<k.length;Ce++){var je=k[Ce],wt=$n(je),Se=$i(je)===zr,Kt=[Lt,Zt].indexOf(wt)>=0,kt=Kt?"width":"height",We=Ri(n,{placement:je,boundary:I,rootBoundary:W,altBoundary:ee,padding:B}),Ge=Kt?Se?Jt:Dt:Se?Zt:Lt;$[kt]>X[kt]&&(Ge=Vo(Ge));var At=Vo(Ge),pn=[];if(w&&pn.push(We[wt]<=0),x&&pn.push(We[Ge]<=0,We[At]<=0),pn.every(function(it){return it})){ke=je,Ie=!1;break}ce.set(je,pn)}if(Ie)for(var Tt=te?3:1,ct=function(He){var st=k.find(function(rr){var Ze=ce.get(rr);if(Ze)return Ze.slice(0,He).every(function(_n){return _n})});if(st)return ke=st,"break"},tn=Tt;tn>0;tn--){var Ue=ct(tn);if(Ue==="break")break}n.placement!==ke&&(n.modifiersData[d]._skip=!0,n.placement=ke,n.reset=!0)}}const wf={name:"flip",enabled:!0,phase:"main",fn:f0,requiresIfExists:["offset"],data:{_skip:!1}};function wd(o,n,i){return i===void 0&&(i={x:0,y:0}),{top:o.top-n.height-i.y,right:o.right-n.width+i.x,bottom:o.bottom-n.height+i.y,left:o.left-n.width-i.x}}function Ad(o){return[Lt,Jt,Zt,Dt].some(function(n){return o[n]>=0})}function h0(o){var n=o.state,i=o.name,d=n.rects.reference,p=n.rects.popper,w=n.modifiersData.preventOverflow,b=Ri(n,{elementContext:"reference"}),x=Ri(n,{altBoundary:!0}),O=wd(b,d),B=wd(x,p,w),I=Ad(O),W=Ad(B);n.modifiersData[i]={referenceClippingOffsets:O,popperEscapeOffsets:B,isReferenceHidden:I,hasPopperEscaped:W},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":W})}const Af={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:h0};function p0(o,n,i){var d=$n(o),p=[Dt,Lt].indexOf(d)>=0?-1:1,w=typeof i=="function"?i(Object.assign({},n,{placement:o})):i,b=w[0],x=w[1];return b=b||0,x=(x||0)*p,[Dt,Jt].indexOf(d)>=0?{x,y:b}:{x:b,y:x}}function _0(o){var n=o.state,i=o.options,d=o.name,p=i.offset,w=p===void 0?[0,0]:p,b=nu.reduce(function(I,W){return I[W]=p0(W,n.rects,w),I},{}),x=b[n.placement],O=x.x,B=x.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=O,n.modifiersData.popperOffsets.y+=B),n.modifiersData[d]=b}const Tf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_0};function v0(o){var n=o.state,i=o.name;n.modifiersData[i]=Ef({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const fu={name:"popperOffsets",enabled:!0,phase:"read",fn:v0,data:{}};function g0(o){return o==="x"?"y":"x"}function m0(o){var n=o.state,i=o.options,d=o.name,p=i.mainAxis,w=p===void 0?!0:p,b=i.altAxis,x=b===void 0?!1:b,O=i.boundary,B=i.rootBoundary,I=i.altBoundary,W=i.padding,ee=i.tether,V=ee===void 0?!0:ee,te=i.tetherOffset,re=te===void 0?0:te,j=Ri(n,{boundary:O,rootBoundary:B,padding:W,altBoundary:I}),S=$n(n.placement),q=$i(n.placement),ne=!q,k=ou(S),$=g0(k),X=n.modifiersData.popperOffsets,ce=n.rects.reference,Ie=n.rects.popper,ke=typeof re=="function"?re(Object.assign({},n.rects,{placement:n.placement})):re,Ce=typeof ke=="number"?{mainAxis:ke,altAxis:ke}:Object.assign({mainAxis:0,altAxis:0},ke),je=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,wt={x:0,y:0};if(X){if(w){var Se,Kt=k==="y"?Lt:Dt,kt=k==="y"?Zt:Jt,We=k==="y"?"height":"width",Ge=X[k],At=Ge+j[Kt],pn=Ge-j[kt],Tt=V?-Ie[We]/2:0,ct=q===zr?ce[We]:Ie[We],tn=q===zr?-Ie[We]:-ce[We],Ue=n.elements.arrow,it=V&&Ue?su(Ue):{width:0,height:0},He=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:vf(),st=He[Kt],rr=He[kt],Ze=Cs(0,ce[We],it[We]),_n=ne?ce[We]/2-Tt-Ze-st-Ce.mainAxis:ct-Ze-st-Ce.mainAxis,xn=ne?-ce[We]/2+Tt+Ze+rr+Ce.mainAxis:tn+Ze+rr+Ce.mainAxis,Cn=n.elements.arrow&&Ns(n.elements.arrow),ir=Cn?k==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,Sn=(Se=je?.[k])!=null?Se:0,ot=Ge+_n-Sn-ir,dt=Ge+xn-Sn,Zr=Cs(V?Go(At,ot):At,Ge,V?Gr(pn,dt):pn);X[k]=Zr,wt[k]=Zr-Ge}if(x){var $t,ft=k==="x"?Lt:Dt,qi=k==="x"?Zt:Jt,xt=X[$],at=$==="y"?"height":"width",K=xt+j[ft],Mn=xt-j[qi],Sr=[Lt,Dt].indexOf(S)!==-1,On=($t=je?.[$])!=null?$t:0,_t=Sr?K:xt-ce[at]-Ie[at]-On+Ce.altAxis,Ct=Sr?xt+ce[at]+Ie[at]-On-Ce.altAxis:Mn,vt=V&&Sr?Xb(_t,xt,Ct):Cs(V?_t:K,xt,V?Ct:Mn);X[$]=vt,wt[$]=vt-xt}n.modifiersData[d]=wt}}const xf={name:"preventOverflow",enabled:!0,phase:"main",fn:m0,requiresIfExists:["offset"]};function b0(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function y0(o){return o===en(o)||!cn(o)?uu(o):b0(o)}function E0(o){var n=o.getBoundingClientRect(),i=Di(n.width)/o.offsetWidth||1,d=Di(n.height)/o.offsetHeight||1;return i!==1||d!==1}function w0(o,n,i){i===void 0&&(i=!1);var d=cn(n),p=cn(n)&&E0(n),w=Tr(n),b=ki(o,p,i),x={scrollLeft:0,scrollTop:0},O={x:0,y:0};return(d||!d&&!i)&&((Pn(n)!=="body"||du(w))&&(x=y0(n)),cn(n)?(O=ki(n,!0),O.x+=n.clientLeft,O.y+=n.clientTop):w&&(O.x=cu(w))),{x:b.left+x.scrollLeft-O.x,y:b.top+x.scrollTop-O.y,width:b.width,height:b.height}}function A0(o){var n=new Map,i=new Set,d=[];o.forEach(function(w){n.set(w.name,w)});function p(w){i.add(w.name);var b=[].concat(w.requires||[],w.requiresIfExists||[]);b.forEach(function(x){if(!i.has(x)){var O=n.get(x);O&&p(O)}}),d.push(w)}return o.forEach(function(w){i.has(w.name)||p(w)}),d}function T0(o){var n=A0(o);return hf.reduce(function(i,d){return i.concat(n.filter(function(p){return p.phase===d}))},[])}function x0(o){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(o())})})),n}}function C0(o){var n=o.reduce(function(i,d){var p=i[d.name];return i[d.name]=p?Object.assign({},p,d,{options:Object.assign({},p.options,d.options),data:Object.assign({},p.data,d.data)}):d,i},{});return Object.keys(n).map(function(i){return n[i]})}var Td={placement:"bottom",modifiers:[],strategy:"absolute"};function xd(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return!n.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function Jo(o){o===void 0&&(o={});var n=o,i=n.defaultModifiers,d=i===void 0?[]:i,p=n.defaultOptions,w=p===void 0?Td:p;return function(x,O,B){B===void 0&&(B=w);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},Td,w),modifiersData:{},elements:{reference:x,popper:O},attributes:{},styles:{}},W=[],ee=!1,V={state:I,setOptions:function(S){var q=typeof S=="function"?S(I.options):S;re(),I.options=Object.assign({},w,I.options,q),I.scrollParents={reference:Xr(x)?Ss(x):x.contextElement?Ss(x.contextElement):[],popper:Ss(O)};var ne=T0(C0([].concat(d,I.options.modifiers)));return I.orderedModifiers=ne.filter(function(k){return k.enabled}),te(),V.update()},forceUpdate:function(){if(!ee){var S=I.elements,q=S.reference,ne=S.popper;if(xd(q,ne)){I.rects={reference:w0(q,Ns(ne),I.options.strategy==="fixed"),popper:su(ne)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(Ce){return I.modifiersData[Ce.name]=Object.assign({},Ce.data)});for(var k=0;k<I.orderedModifiers.length;k++){if(I.reset===!0){I.reset=!1,k=-1;continue}var $=I.orderedModifiers[k],X=$.fn,ce=$.options,Ie=ce===void 0?{}:ce,ke=$.name;typeof X=="function"&&(I=X({state:I,options:Ie,name:ke,instance:V})||I)}}}},update:x0(function(){return new Promise(function(j){V.forceUpdate(),j(I)})}),destroy:function(){re(),ee=!0}};if(!xd(x,O))return V;V.setOptions(B).then(function(j){!ee&&B.onFirstUpdate&&B.onFirstUpdate(j)});function te(){I.orderedModifiers.forEach(function(j){var S=j.name,q=j.options,ne=q===void 0?{}:q,k=j.effect;if(typeof k=="function"){var $=k({state:I,name:S,instance:V,options:ne}),X=function(){};W.push($||X)}})}function re(){W.forEach(function(j){return j()}),W=[]}return V}}var S0=Jo(),O0=[lu,fu,au,iu],I0=Jo({defaultModifiers:O0}),N0=[lu,fu,au,iu,Tf,wf,xf,bf,Af],hu=Jo({defaultModifiers:N0});const Cf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uf,afterRead:of,afterWrite:ff,applyStyles:iu,arrow:bf,auto:jo,basePlacements:Fi,beforeMain:af,beforeRead:rf,beforeWrite:cf,bottom:Zt,clippingParents:tf,computeStyles:au,createPopper:hu,createPopperBase:S0,createPopperLite:I0,detectOverflow:Ri,end:Li,eventListeners:lu,flip:wf,hide:Af,left:Dt,main:lf,modifierPhases:hf,offset:Tf,placements:nu,popper:Si,popperGenerator:Jo,popperOffsets:fu,preventOverflow:xf,read:sf,reference:nf,right:Jt,start:zr,top:Lt,variationPlacements:zl,viewport:tu,write:df},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const yr=new Map,Dl={set(o,n,i){yr.has(o)||yr.set(o,new Map);const d=yr.get(o);if(!d.has(n)&&d.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`);return}d.set(n,i)},get(o,n){return yr.has(o)&&yr.get(o).get(n)||null},remove(o,n){if(!yr.has(o))return;const i=yr.get(o);i.delete(n),i.size===0&&yr.delete(o)}},L0=1e6,D0=1e3,jl="transitionend",Sf=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),o),k0=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),$0=o=>{do o+=Math.floor(Math.random()*L0);while(document.getElementById(o));return o},R0=o=>{if(!o)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(o);const d=Number.parseFloat(n),p=Number.parseFloat(i);return!d&&!p?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*D0)},Of=o=>{o.dispatchEvent(new Event(jl))},Jn=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),Er=o=>Jn(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(Sf(o)):null,Bi=o=>{if(!Jn(o)||o.getClientRects().length===0)return!1;const n=getComputedStyle(o).getPropertyValue("visibility")==="visible",i=o.closest("details:not([open])");if(!i)return n;if(i!==o){const d=o.closest("summary");if(d&&d.parentNode!==i||d===null)return!1}return n},wr=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",If=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const n=o.getRootNode();return n instanceof ShadowRoot?n:null}return o instanceof ShadowRoot?o:o.parentNode?If(o.parentNode):null},zo=()=>{},Ls=o=>{o.offsetHeight},Nf=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,kl=[],P0=o=>{document.readyState==="loading"?(kl.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of kl)n()}),kl.push(o)):o()},dn=()=>document.documentElement.dir==="rtl",hn=o=>{P0(()=>{const n=Nf();if(n){const i=o.NAME,d=n.fn[i];n.fn[i]=o.jQueryInterface,n.fn[i].Constructor=o,n.fn[i].noConflict=()=>(n.fn[i]=d,o.jQueryInterface)}})},Vt=(o,n=[],i=o)=>typeof o=="function"?o.call(...n):i,Lf=(o,n,i=!0)=>{if(!i){Vt(o);return}const p=R0(n)+5;let w=!1;const b=({target:x})=>{x===n&&(w=!0,n.removeEventListener(jl,b),Vt(o))};n.addEventListener(jl,b),setTimeout(()=>{w||Of(n)},p)},pu=(o,n,i,d)=>{const p=o.length;let w=o.indexOf(n);return w===-1?!i&&d?o[p-1]:o[0]:(w+=i?1:-1,d&&(w=(w+p)%p),o[Math.max(0,Math.min(w,p-1))])},M0=/[^.]*(?=\..*)\.|.*/,F0=/\..*/,B0=/::\d+$/,$l={};let Cd=1;const Df={mouseenter:"mouseover",mouseleave:"mouseout"},U0=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function kf(o,n){return n&&`${n}::${Cd++}`||o.uidEvent||Cd++}function $f(o){const n=kf(o);return o.uidEvent=n,$l[n]=$l[n]||{},$l[n]}function W0(o,n){return function i(d){return _u(d,{delegateTarget:o}),i.oneOff&&R.off(o,d.type,n),n.apply(o,[d])}}function q0(o,n,i){return function d(p){const w=o.querySelectorAll(n);for(let{target:b}=p;b&&b!==this;b=b.parentNode)for(const x of w)if(x===b)return _u(p,{delegateTarget:b}),d.oneOff&&R.off(o,p.type,n,i),i.apply(b,[p])}}function Rf(o,n,i=null){return Object.values(o).find(d=>d.callable===n&&d.delegationSelector===i)}function Pf(o,n,i){const d=typeof n=="string",p=d?i:n||i;let w=Mf(o);return U0.has(w)||(w=o),[d,p,w]}function Sd(o,n,i,d,p){if(typeof n!="string"||!o)return;let[w,b,x]=Pf(n,i,d);n in Df&&(b=(te=>function(re){if(!re.relatedTarget||re.relatedTarget!==re.delegateTarget&&!re.delegateTarget.contains(re.relatedTarget))return te.call(this,re)})(b));const O=$f(o),B=O[x]||(O[x]={}),I=Rf(B,b,w?i:null);if(I){I.oneOff=I.oneOff&&p;return}const W=kf(b,n.replace(M0,"")),ee=w?q0(o,i,b):W0(o,b);ee.delegationSelector=w?i:null,ee.callable=b,ee.oneOff=p,ee.uidEvent=W,B[W]=ee,o.addEventListener(x,ee,w)}function Zl(o,n,i,d,p){const w=Rf(n[i],d,p);w&&(o.removeEventListener(i,w,!!p),delete n[i][w.uidEvent])}function H0(o,n,i,d){const p=n[i]||{};for(const[w,b]of Object.entries(p))w.includes(d)&&Zl(o,n,i,b.callable,b.delegationSelector)}function Mf(o){return o=o.replace(F0,""),Df[o]||o}const R={on(o,n,i,d){Sd(o,n,i,d,!1)},one(o,n,i,d){Sd(o,n,i,d,!0)},off(o,n,i,d){if(typeof n!="string"||!o)return;const[p,w,b]=Pf(n,i,d),x=b!==n,O=$f(o),B=O[b]||{},I=n.startsWith(".");if(typeof w<"u"){if(!Object.keys(B).length)return;Zl(o,O,b,w,p?i:null);return}if(I)for(const W of Object.keys(O))H0(o,O,W,n.slice(1));for(const[W,ee]of Object.entries(B)){const V=W.replace(B0,"");(!x||n.includes(V))&&Zl(o,O,b,ee.callable,ee.delegationSelector)}},trigger(o,n,i){if(typeof n!="string"||!o)return null;const d=Nf(),p=Mf(n),w=n!==p;let b=null,x=!0,O=!0,B=!1;w&&d&&(b=d.Event(n,i),d(o).trigger(b),x=!b.isPropagationStopped(),O=!b.isImmediatePropagationStopped(),B=b.isDefaultPrevented());const I=_u(new Event(n,{bubbles:x,cancelable:!0}),i);return B&&I.preventDefault(),O&&o.dispatchEvent(I),I.defaultPrevented&&b&&b.preventDefault(),I}};function _u(o,n={}){for(const[i,d]of Object.entries(n))try{o[i]=d}catch{Object.defineProperty(o,i,{configurable:!0,get(){return d}})}return o}function Od(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function Rl(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const er={setDataAttribute(o,n,i){o.setAttribute(`data-bs-${Rl(n)}`,i)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${Rl(n)}`)},getDataAttributes(o){if(!o)return{};const n={},i=Object.keys(o.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of i){let p=d.replace(/^bs/,"");p=p.charAt(0).toLowerCase()+p.slice(1),n[p]=Od(o.dataset[d])}return n},getDataAttribute(o,n){return Od(o.getAttribute(`data-bs-${Rl(n)}`))}};class Ds{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const d=Jn(i)?er.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...Jn(i)?er.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[d,p]of Object.entries(i)){const w=n[d],b=Jn(w)?"element":k0(w);if(!new RegExp(p).test(b))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${b}" but expected type "${p}".`)}}}const V0="5.3.8";class Tn extends Ds{constructor(n,i){super(),n=Er(n),n&&(this._element=n,this._config=this._getConfig(i),Dl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Dl.remove(this._element,this.constructor.DATA_KEY),R.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,d=!0){Lf(n,i,d)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Dl.get(Er(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return V0}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Pl=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>Sf(i)).join(","):null},ie={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(i=>i.matches(n))},parents(o,n){const i=[];let d=o.parentNode.closest(n);for(;d;)i.push(d),d=d.parentNode.closest(n);return i},prev(o,n){let i=o.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(o,n){let i=o.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(i=>!wr(i)&&Bi(i))},getSelectorFromElement(o){const n=Pl(o);return n&&ie.findOne(n)?n:null},getElementFromSelector(o){const n=Pl(o);return n?ie.findOne(n):null},getMultipleElementsFromSelector(o){const n=Pl(o);return n?ie.find(n):[]}},ea=(o,n="hide")=>{const i=`click.dismiss${o.EVENT_KEY}`,d=o.NAME;R.on(document,i,`[data-bs-dismiss="${d}"]`,function(p){if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),wr(this))return;const w=ie.getElementFromSelector(this)||this.closest(`.${d}`);o.getOrCreateInstance(w)[n]()})},K0="alert",Y0="bs.alert",Ff=`.${Y0}`,G0=`close${Ff}`,z0=`closed${Ff}`,X0="fade",Q0="show";class ta extends Tn{static get NAME(){return K0}close(){if(R.trigger(this._element,G0).defaultPrevented)return;this._element.classList.remove(Q0);const i=this._element.classList.contains(X0);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),R.trigger(this._element,z0),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=ta.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}ea(ta,"close");hn(ta);const j0="button",Z0="bs.button",J0=`.${Z0}`,ey=".data-api",ty="active",Id='[data-bs-toggle="button"]',ny=`click${J0}${ey}`;class na extends Tn{static get NAME(){return j0}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ty))}static jQueryInterface(n){return this.each(function(){const i=na.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}R.on(document,ny,Id,o=>{o.preventDefault();const n=o.target.closest(Id);na.getOrCreateInstance(n).toggle()});hn(na);const ry="swipe",Ui=".bs.swipe",iy=`touchstart${Ui}`,sy=`touchmove${Ui}`,oy=`touchend${Ui}`,ay=`pointerdown${Ui}`,ly=`pointerup${Ui}`,uy="touch",cy="pen",dy="pointer-event",fy=40,hy={endCallback:null,leftCallback:null,rightCallback:null},py={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Xo extends Ds{constructor(n,i){super(),this._element=n,!(!n||!Xo.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return hy}static get DefaultType(){return py}static get NAME(){return ry}dispose(){R.off(this._element,Ui)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),Vt(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=fy)return;const i=n/this._deltaX;this._deltaX=0,i&&Vt(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(R.on(this._element,ay,n=>this._start(n)),R.on(this._element,ly,n=>this._end(n)),this._element.classList.add(dy)):(R.on(this._element,iy,n=>this._start(n)),R.on(this._element,sy,n=>this._move(n)),R.on(this._element,oy,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===cy||n.pointerType===uy)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _y="carousel",vy="bs.carousel",xr=`.${vy}`,Bf=".data-api",gy="ArrowLeft",my="ArrowRight",by=500,As="next",xi="prev",Oi="left",Ko="right",yy=`slide${xr}`,Ml=`slid${xr}`,Ey=`keydown${xr}`,wy=`mouseenter${xr}`,Ay=`mouseleave${xr}`,Ty=`dragstart${xr}`,xy=`load${xr}${Bf}`,Cy=`click${xr}${Bf}`,Uf="carousel",Fo="active",Sy="slide",Oy="carousel-item-end",Iy="carousel-item-start",Ny="carousel-item-next",Ly="carousel-item-prev",Wf=".active",qf=".carousel-item",Dy=Wf+qf,ky=".carousel-item img",$y=".carousel-indicators",Ry="[data-bs-slide], [data-bs-slide-to]",Py='[data-bs-ride="carousel"]',My={[gy]:Ko,[my]:Oi},Fy={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},By={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ks extends Tn{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne($y,this._element),this._addEventListeners(),this._config.ride===Uf&&this.cycle()}static get Default(){return Fy}static get DefaultType(){return By}static get NAME(){return _y}next(){this._slide(As)}nextWhenVisible(){!document.hidden&&Bi(this._element)&&this.next()}prev(){this._slide(xi)}pause(){this._isSliding&&Of(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){R.one(this._element,Ml,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){R.one(this._element,Ml,()=>this.to(n));return}const d=this._getItemIndex(this._getActive());if(d===n)return;const p=n>d?As:xi;this._slide(p,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&R.on(this._element,Ey,n=>this._keydown(n)),this._config.pause==="hover"&&(R.on(this._element,wy,()=>this.pause()),R.on(this._element,Ay,()=>this._maybeEnableCycle())),this._config.touch&&Xo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of ie.find(ky,this._element))R.on(d,Ty,p=>p.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Oi)),rightCallback:()=>this._slide(this._directionToOrder(Ko)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),by+this._config.interval))}};this._swipeHelper=new Xo(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=My[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=ie.findOne(Wf,this._indicatorsElement);i.classList.remove(Fo),i.removeAttribute("aria-current");const d=ie.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);d&&(d.classList.add(Fo),d.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const d=this._getActive(),p=n===As,w=i||pu(this._getItems(),d,p,this._config.wrap);if(w===d)return;const b=this._getItemIndex(w),x=V=>R.trigger(this._element,V,{relatedTarget:w,direction:this._orderToDirection(n),from:this._getItemIndex(d),to:b});if(x(yy).defaultPrevented||!d||!w)return;const B=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(b),this._activeElement=w;const I=p?Iy:Oy,W=p?Ny:Ly;w.classList.add(W),Ls(w),d.classList.add(I),w.classList.add(I);const ee=()=>{w.classList.remove(I,W),w.classList.add(Fo),d.classList.remove(Fo,W,I),this._isSliding=!1,x(Ml)};this._queueCallback(ee,d,this._isAnimated()),B&&this.cycle()}_isAnimated(){return this._element.classList.contains(Sy)}_getActive(){return ie.findOne(Dy,this._element)}_getItems(){return ie.find(qf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return dn()?n===Oi?xi:As:n===Oi?As:xi}_orderToDirection(n){return dn()?n===xi?Oi:Ko:n===xi?Ko:Oi}static jQueryInterface(n){return this.each(function(){const i=ks.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(document,Cy,Ry,function(o){const n=ie.getElementFromSelector(this);if(!n||!n.classList.contains(Uf))return;o.preventDefault();const i=ks.getOrCreateInstance(n),d=this.getAttribute("data-bs-slide-to");if(d){i.to(d),i._maybeEnableCycle();return}if(er.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});R.on(window,xy,()=>{const o=ie.find(Py);for(const n of o)ks.getOrCreateInstance(n)});hn(ks);const Uy="collapse",Wy="bs.collapse",$s=`.${Wy}`,qy=".data-api",Hy=`show${$s}`,Vy=`shown${$s}`,Ky=`hide${$s}`,Yy=`hidden${$s}`,Gy=`click${$s}${qy}`,Fl="show",Ni="collapse",Bo="collapsing",zy="collapsed",Xy=`:scope .${Ni} .${Ni}`,Qy="collapse-horizontal",jy="width",Zy="height",Jy=".collapse.show, .collapse.collapsing",Jl='[data-bs-toggle="collapse"]',eE={parent:null,toggle:!0},tE={parent:"(null|element)",toggle:"boolean"};class Is extends Tn{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const d=ie.find(Jl);for(const p of d){const w=ie.getSelectorFromElement(p),b=ie.find(w).filter(x=>x===this._element);w!==null&&b.length&&this._triggerArray.push(p)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eE}static get DefaultType(){return tE}static get NAME(){return Uy}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(Jy).filter(x=>x!==this._element).map(x=>Is.getOrCreateInstance(x,{toggle:!1}))),n.length&&n[0]._isTransitioning||R.trigger(this._element,Hy).defaultPrevented)return;for(const x of n)x.hide();const d=this._getDimension();this._element.classList.remove(Ni),this._element.classList.add(Bo),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const p=()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(Ni,Fl),this._element.style[d]="",R.trigger(this._element,Vy)},b=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(p,this._element,!0),this._element.style[d]=`${this._element[b]}px`}hide(){if(this._isTransitioning||!this._isShown()||R.trigger(this._element,Ky).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Ls(this._element),this._element.classList.add(Bo),this._element.classList.remove(Ni,Fl);for(const p of this._triggerArray){const w=ie.getElementFromSelector(p);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(Ni),R.trigger(this._element,Yy)};this._element.style[i]="",this._queueCallback(d,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Fl)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=Er(n.parent),n}_getDimension(){return this._element.classList.contains(Qy)?jy:Zy}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Jl);for(const i of n){const d=ie.getElementFromSelector(i);d&&this._addAriaAndCollapsedClass([i],this._isShown(d))}}_getFirstLevelChildren(n){const i=ie.find(Xy,this._config.parent);return ie.find(n,this._config.parent).filter(d=>!i.includes(d))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const d of n)d.classList.toggle(zy,!i),d.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const d=Is.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n]()}})}}R.on(document,Gy,Jl,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(const n of ie.getMultipleElementsFromSelector(this))Is.getOrCreateInstance(n,{toggle:!1}).toggle()});hn(Is);const Nd="dropdown",nE="bs.dropdown",Qr=`.${nE}`,vu=".data-api",rE="Escape",Ld="Tab",iE="ArrowUp",Dd="ArrowDown",sE=2,oE=`hide${Qr}`,aE=`hidden${Qr}`,lE=`show${Qr}`,uE=`shown${Qr}`,Hf=`click${Qr}${vu}`,Vf=`keydown${Qr}${vu}`,cE=`keyup${Qr}${vu}`,Ii="show",dE="dropup",fE="dropend",hE="dropstart",pE="dropup-center",_E="dropdown-center",Kr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vE=`${Kr}.${Ii}`,Yo=".dropdown-menu",gE=".navbar",mE=".navbar-nav",bE=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yE=dn()?"top-end":"top-start",EE=dn()?"top-start":"top-end",wE=dn()?"bottom-end":"bottom-start",AE=dn()?"bottom-start":"bottom-end",TE=dn()?"left-start":"right-start",xE=dn()?"right-start":"left-start",CE="top",SE="bottom",OE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},IE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rn extends Tn{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,Yo)[0]||ie.prev(this._element,Yo)[0]||ie.findOne(Yo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return OE}static get DefaultType(){return IE}static get NAME(){return Nd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!R.trigger(this._element,lE,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(mE))for(const d of[].concat(...document.body.children))R.on(d,"mouseover",zo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ii),this._element.classList.add(Ii),R.trigger(this._element,uE,n)}}hide(){if(wr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!R.trigger(this._element,oE,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))R.off(d,"mouseover",zo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ii),this._element.classList.remove(Ii),this._element.setAttribute("aria-expanded","false"),er.removeDataAttribute(this._menu,"popper"),R.trigger(this._element,aE,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!Jn(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Nd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof Cf>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:Jn(this._config.reference)?n=Er(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=hu(n,this._menu,i)}_isShown(){return this._menu.classList.contains(Ii)}_getPlacement(){const n=this._parent;if(n.classList.contains(fE))return TE;if(n.classList.contains(hE))return xE;if(n.classList.contains(pE))return CE;if(n.classList.contains(_E))return SE;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(dE)?i?EE:yE:i?AE:wE}_detectNavbar(){return this._element.closest(gE)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(er.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...Vt(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const d=ie.find(bE,this._menu).filter(p=>Bi(p));d.length&&pu(d,i,n===Dd,!d.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=Rn.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===sE||n.type==="keyup"&&n.key!==Ld)return;const i=ie.find(vE);for(const d of i){const p=Rn.getInstance(d);if(!p||p._config.autoClose===!1)continue;const w=n.composedPath(),b=w.includes(p._menu);if(w.includes(p._element)||p._config.autoClose==="inside"&&!b||p._config.autoClose==="outside"&&b||p._menu.contains(n.target)&&(n.type==="keyup"&&n.key===Ld||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const x={relatedTarget:p._element};n.type==="click"&&(x.clickEvent=n),p._completeHide(x)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),d=n.key===rE,p=[iE,Dd].includes(n.key);if(!p&&!d||i&&!d)return;n.preventDefault();const w=this.matches(Kr)?this:ie.prev(this,Kr)[0]||ie.next(this,Kr)[0]||ie.findOne(Kr,n.delegateTarget.parentNode),b=Rn.getOrCreateInstance(w);if(p){n.stopPropagation(),b.show(),b._selectMenuItem(n);return}b._isShown()&&(n.stopPropagation(),b.hide(),w.focus())}}R.on(document,Vf,Kr,Rn.dataApiKeydownHandler);R.on(document,Vf,Yo,Rn.dataApiKeydownHandler);R.on(document,Hf,Rn.clearMenus);R.on(document,cE,Rn.clearMenus);R.on(document,Hf,Kr,function(o){o.preventDefault(),Rn.getOrCreateInstance(this).toggle()});hn(Rn);const Kf="backdrop",NE="fade",kd="show",$d=`mousedown.bs.${Kf}`,LE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Yf extends Ds{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return LE}static get DefaultType(){return DE}static get NAME(){return Kf}show(n){if(!this._config.isVisible){Vt(n);return}this._append();const i=this._getElement();this._config.isAnimated&&Ls(i),i.classList.add(kd),this._emulateAnimation(()=>{Vt(n)})}hide(n){if(!this._config.isVisible){Vt(n);return}this._getElement().classList.remove(kd),this._emulateAnimation(()=>{this.dispose(),Vt(n)})}dispose(){this._isAppended&&(R.off(this._element,$d),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(NE),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=Er(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),R.on(n,$d,()=>{Vt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){Lf(n,this._getElement(),this._config.isAnimated)}}const kE="focustrap",$E="bs.focustrap",Qo=`.${$E}`,RE=`focusin${Qo}`,PE=`keydown.tab${Qo}`,ME="Tab",FE="forward",Rd="backward",BE={autofocus:!0,trapElement:null},UE={autofocus:"boolean",trapElement:"element"};class Gf extends Ds{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return BE}static get DefaultType(){return UE}static get NAME(){return kE}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),R.off(document,Qo),R.on(document,RE,n=>this._handleFocusin(n)),R.on(document,PE,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,R.off(document,Qo))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const d=ie.focusableChildren(i);d.length===0?i.focus():this._lastTabNavDirection===Rd?d[d.length-1].focus():d[0].focus()}_handleKeydown(n){n.key===ME&&(this._lastTabNavDirection=n.shiftKey?Rd:FE)}}const Pd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Md=".sticky-top",Uo="padding-right",Fd="margin-right";class eu{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Uo,i=>i+n),this._setElementAttributes(Pd,Uo,i=>i+n),this._setElementAttributes(Md,Fd,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Uo),this._resetElementAttributes(Pd,Uo),this._resetElementAttributes(Md,Fd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,d){const p=this.getWidth(),w=b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+p)return;this._saveInitialAttribute(b,i);const x=window.getComputedStyle(b).getPropertyValue(i);b.style.setProperty(i,`${d(Number.parseFloat(x))}px`)};this._applyManipulationCallback(n,w)}_saveInitialAttribute(n,i){const d=n.style.getPropertyValue(i);d&&er.setDataAttribute(n,i,d)}_resetElementAttributes(n,i){const d=p=>{const w=er.getDataAttribute(p,i);if(w===null){p.style.removeProperty(i);return}er.removeDataAttribute(p,i),p.style.setProperty(i,w)};this._applyManipulationCallback(n,d)}_applyManipulationCallback(n,i){if(Jn(n)){i(n);return}for(const d of ie.find(n,this._element))i(d)}}const WE="modal",qE="bs.modal",fn=`.${qE}`,HE=".data-api",VE="Escape",KE=`hide${fn}`,YE=`hidePrevented${fn}`,zf=`hidden${fn}`,Xf=`show${fn}`,GE=`shown${fn}`,zE=`resize${fn}`,XE=`click.dismiss${fn}`,QE=`mousedown.dismiss${fn}`,jE=`keydown.dismiss${fn}`,ZE=`click${fn}${HE}`,Bd="modal-open",JE="fade",Ud="show",Bl="modal-static",ew=".modal.show",tw=".modal-dialog",nw=".modal-body",rw='[data-bs-toggle="modal"]',iw={backdrop:!0,focus:!0,keyboard:!0},sw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pi extends Tn{constructor(n,i){super(n,i),this._dialog=ie.findOne(tw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new eu,this._addEventListeners()}static get Default(){return iw}static get DefaultType(){return sw}static get NAME(){return WE}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||R.trigger(this._element,Xf,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||R.trigger(this._element,KE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ud),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){R.off(window,fn),R.off(this._dialog,fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Yf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gf({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=ie.findOne(nw,this._dialog);i&&(i.scrollTop=0),Ls(this._element),this._element.classList.add(Ud);const d=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,R.trigger(this._element,GE,{relatedTarget:n})};this._queueCallback(d,this._dialog,this._isAnimated())}_addEventListeners(){R.on(this._element,jE,n=>{if(n.key===VE){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),R.on(window,zE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),R.on(this._element,QE,n=>{R.one(this._element,XE,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bd),this._resetAdjustments(),this._scrollBar.reset(),R.trigger(this._element,zf)})}_isAnimated(){return this._element.classList.contains(JE)}_triggerBackdropTransition(){if(R.trigger(this._element,YE).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(Bl)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Bl),this._queueCallback(()=>{this._element.classList.remove(Bl),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),d=i>0;if(d&&!n){const p=dn()?"paddingLeft":"paddingRight";this._element.style[p]=`${i}px`}if(!d&&n){const p=dn()?"paddingRight":"paddingLeft";this._element.style[p]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const d=Pi.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n](i)}})}}R.on(document,ZE,rw,function(o){const n=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),R.one(n,Xf,p=>{p.defaultPrevented||R.one(n,zf,()=>{Bi(this)&&this.focus()})});const i=ie.findOne(ew);i&&Pi.getInstance(i).hide(),Pi.getOrCreateInstance(n).toggle(this)});ea(Pi);hn(Pi);const ow="offcanvas",aw="bs.offcanvas",nr=`.${aw}`,Qf=".data-api",lw=`load${nr}${Qf}`,uw="Escape",Wd="show",qd="showing",Hd="hiding",cw="offcanvas-backdrop",jf=".offcanvas.show",dw=`show${nr}`,fw=`shown${nr}`,hw=`hide${nr}`,Vd=`hidePrevented${nr}`,Zf=`hidden${nr}`,pw=`resize${nr}`,_w=`click${nr}${Qf}`,vw=`keydown.dismiss${nr}`,gw='[data-bs-toggle="offcanvas"]',mw={backdrop:!0,keyboard:!0,scroll:!1},bw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ar extends Tn{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mw}static get DefaultType(){return bw}static get NAME(){return ow}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||R.trigger(this._element,dw,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new eu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qd);const d=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Wd),this._element.classList.remove(qd),R.trigger(this._element,fw,{relatedTarget:n})};this._queueCallback(d,this._element,!0)}hide(){if(!this._isShown||R.trigger(this._element,hw).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Hd),this._backdrop.hide();const i=()=>{this._element.classList.remove(Wd,Hd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new eu().reset(),R.trigger(this._element,Zf)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){R.trigger(this._element,Vd);return}this.hide()},i=!!this._config.backdrop;return new Yf({className:cw,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Gf({trapElement:this._element})}_addEventListeners(){R.on(this._element,vw,n=>{if(n.key===uw){if(this._config.keyboard){this.hide();return}R.trigger(this._element,Vd)}})}static jQueryInterface(n){return this.each(function(){const i=Ar.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}R.on(document,_w,gw,function(o){const n=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),wr(this))return;R.one(n,Zf,()=>{Bi(this)&&this.focus()});const i=ie.findOne(jf);i&&i!==n&&Ar.getInstance(i).hide(),Ar.getOrCreateInstance(n).toggle(this)});R.on(window,lw,()=>{for(const o of ie.find(jf))Ar.getOrCreateInstance(o).show()});R.on(window,pw,()=>{for(const o of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&Ar.getOrCreateInstance(o).hide()});ea(Ar);hn(Ar);const yw=/^aria-[\w-]*$/i,Jf={"*":["class","dir","id","lang","role",yw],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ew=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ww=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Aw=(o,n)=>{const i=o.nodeName.toLowerCase();return n.includes(i)?Ew.has(i)?!!ww.test(o.nodeValue):!0:n.filter(d=>d instanceof RegExp).some(d=>d.test(i))};function Tw(o,n,i){if(!o.length)return o;if(i&&typeof i=="function")return i(o);const p=new window.DOMParser().parseFromString(o,"text/html"),w=[].concat(...p.body.querySelectorAll("*"));for(const b of w){const x=b.nodeName.toLowerCase();if(!Object.keys(n).includes(x)){b.remove();continue}const O=[].concat(...b.attributes),B=[].concat(n["*"]||[],n[x]||[]);for(const I of O)Aw(I,B)||b.removeAttribute(I.nodeName)}return p.body.innerHTML}const xw="TemplateFactory",Cw={allowList:Jf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Sw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ow={entry:"(string|element|function|null)",selector:"(string|element)"};class Iw extends Ds{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Cw}static get DefaultType(){return Sw}static get NAME(){return xw}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[p,w]of Object.entries(this._config.content))this._setContent(n,w,p);const i=n.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&i.classList.add(...d.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,d]of Object.entries(n))super._typeCheckConfig({selector:i,entry:d},Ow)}_setContent(n,i,d){const p=ie.findOne(d,n);if(p){if(i=this._resolvePossibleFunction(i),!i){p.remove();return}if(Jn(i)){this._putElementInTemplate(Er(i),p);return}if(this._config.html){p.innerHTML=this._maybeSanitize(i);return}p.textContent=i}}_maybeSanitize(n){return this._config.sanitize?Tw(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return Vt(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const Nw="tooltip",Lw=new Set(["sanitize","allowList","sanitizeFn"]),Ul="fade",Dw="modal",Wo="show",kw=".tooltip-inner",Kd=`.${Dw}`,Yd="hide.bs.modal",Ts="hover",Wl="focus",ql="click",$w="manual",Rw="hide",Pw="hidden",Mw="show",Fw="shown",Bw="inserted",Uw="click",Ww="focusin",qw="focusout",Hw="mouseenter",Vw="mouseleave",Kw={AUTO:"auto",TOP:"top",RIGHT:dn()?"left":"right",BOTTOM:"bottom",LEFT:dn()?"right":"left"},Yw={allowList:Jf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Wi extends Tn{constructor(n,i){if(typeof Cf>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Yw}static get DefaultType(){return Gw}static get NAME(){return Nw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),R.off(this._element.closest(Kd),Yd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=R.trigger(this._element,this.constructor.eventName(Mw)),d=(If(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!d)return;this._disposePopper();const p=this._getTipElement();this._element.setAttribute("aria-describedby",p.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(p),R.trigger(this._element,this.constructor.eventName(Bw))),this._popper=this._createPopper(p),p.classList.add(Wo),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))R.on(x,"mouseover",zo);const b=()=>{R.trigger(this._element,this.constructor.eventName(Fw)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(b,this.tip,this._isAnimated())}hide(){if(!this._isShown()||R.trigger(this._element,this.constructor.eventName(Rw)).defaultPrevented)return;if(this._getTipElement().classList.remove(Wo),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))R.off(p,"mouseover",zo);this._activeTrigger[ql]=!1,this._activeTrigger[Wl]=!1,this._activeTrigger[Ts]=!1,this._isHovered=null;const d=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),R.trigger(this._element,this.constructor.eventName(Pw)))};this._queueCallback(d,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(Ul,Wo),i.classList.add(`bs-${this.constructor.NAME}-auto`);const d=$0(this.constructor.NAME).toString();return i.setAttribute("id",d),this._isAnimated()&&i.classList.add(Ul),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Iw({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[kw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ul)}_isShown(){return this.tip&&this.tip.classList.contains(Wo)}_createPopper(n){const i=Vt(this._config.placement,[this,n,this._element]),d=Kw[i.toUpperCase()];return hu(this._element,n,this._getPopperConfig(d))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return Vt(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...i,...Vt(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")R.on(this._element,this.constructor.eventName(Uw),this._config.selector,d=>{const p=this._initializeOnDelegatedTarget(d);p._activeTrigger[ql]=!(p._isShown()&&p._activeTrigger[ql]),p.toggle()});else if(i!==$w){const d=i===Ts?this.constructor.eventName(Hw):this.constructor.eventName(Ww),p=i===Ts?this.constructor.eventName(Vw):this.constructor.eventName(qw);R.on(this._element,d,this._config.selector,w=>{const b=this._initializeOnDelegatedTarget(w);b._activeTrigger[w.type==="focusin"?Wl:Ts]=!0,b._enter()}),R.on(this._element,p,this._config.selector,w=>{const b=this._initializeOnDelegatedTarget(w);b._activeTrigger[w.type==="focusout"?Wl:Ts]=b._element.contains(w.relatedTarget),b._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},R.on(this._element.closest(Kd),Yd,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=er.getDataAttributes(this._element);for(const d of Object.keys(i))Lw.has(d)&&delete i[d];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:Er(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,d]of Object.entries(this._config))this.constructor.Default[i]!==d&&(n[i]=d);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=Wi.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}hn(Wi);const zw="popover",Xw=".popover-header",Qw=".popover-body",jw={...Wi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zw={...Wi.DefaultType,content:"(null|string|element|function)"};class ra extends Wi{static get Default(){return jw}static get DefaultType(){return Zw}static get NAME(){return zw}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xw]:this._getTitle(),[Qw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=ra.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}hn(ra);const Jw="scrollspy",e1="bs.scrollspy",gu=`.${e1}`,t1=".data-api",n1=`activate${gu}`,Gd=`click${gu}`,r1=`load${gu}${t1}`,i1="dropdown-item",Ci="active",s1='[data-bs-spy="scroll"]',Hl="[href]",o1=".nav, .list-group",zd=".nav-link",a1=".nav-item",l1=".list-group-item",u1=`${zd}, ${a1} > ${zd}, ${l1}`,c1=".dropdown",d1=".dropdown-toggle",f1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},h1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ia extends Tn{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return f1}static get DefaultType(){return h1}static get NAME(){return Jw}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=Er(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(R.off(this._config.target,Gd),R.on(this._config.target,Gd,Hl,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const d=this._rootElement||window,p=i.offsetTop-this._element.offsetTop;if(d.scrollTo){d.scrollTo({top:p,behavior:"smooth"});return}d.scrollTop=p}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=b=>this._targetLinks.get(`#${b.target.id}`),d=b=>{this._previousScrollData.visibleEntryTop=b.target.offsetTop,this._process(i(b))},p=(this._rootElement||document.documentElement).scrollTop,w=p>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=p;for(const b of n){if(!b.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(b));continue}const x=b.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&x){if(d(b),!p)return;continue}!w&&!x&&d(b)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=ie.find(Hl,this._config.target);for(const i of n){if(!i.hash||wr(i))continue;const d=ie.findOne(decodeURI(i.hash),this._element);Bi(d)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,d))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Ci),this._activateParents(n),R.trigger(this._element,n1,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(i1)){ie.findOne(d1,n.closest(c1)).classList.add(Ci);return}for(const i of ie.parents(n,o1))for(const d of ie.prev(i,u1))d.classList.add(Ci)}_clearActiveClass(n){n.classList.remove(Ci);const i=ie.find(`${Hl}.${Ci}`,n);for(const d of i)d.classList.remove(Ci)}static jQueryInterface(n){return this.each(function(){const i=ia.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(window,r1,()=>{for(const o of ie.find(s1))ia.getOrCreateInstance(o)});hn(ia);const p1="tab",_1="bs.tab",jr=`.${_1}`,v1=`hide${jr}`,g1=`hidden${jr}`,m1=`show${jr}`,b1=`shown${jr}`,y1=`click${jr}`,E1=`keydown${jr}`,w1=`load${jr}`,A1="ArrowLeft",Xd="ArrowRight",T1="ArrowUp",Qd="ArrowDown",Vl="Home",jd="End",Yr="active",Zd="fade",Kl="show",x1="dropdown",eh=".dropdown-toggle",C1=".dropdown-menu",Yl=`:not(${eh})`,S1='.list-group, .nav, [role="tablist"]',O1=".nav-item, .list-group-item",I1=`.nav-link${Yl}, .list-group-item${Yl}, [role="tab"]${Yl}`,th='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gl=`${I1}, ${th}`,N1=`.${Yr}[data-bs-toggle="tab"], .${Yr}[data-bs-toggle="pill"], .${Yr}[data-bs-toggle="list"]`;class Mi extends Tn{constructor(n){super(n),this._parent=this._element.closest(S1),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),R.on(this._element,E1,i=>this._keydown(i)))}static get NAME(){return p1}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),d=i?R.trigger(i,v1,{relatedTarget:n}):null;R.trigger(n,m1,{relatedTarget:i}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(Yr),this._activate(ie.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Kl);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),R.trigger(n,b1,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(Zd))}_deactivate(n,i){if(!n)return;n.classList.remove(Yr),n.blur(),this._deactivate(ie.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Kl);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),R.trigger(n,g1,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(Zd))}_keydown(n){if(![A1,Xd,T1,Qd,Vl,jd].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(p=>!wr(p));let d;if([Vl,jd].includes(n.key))d=i[n.key===Vl?0:i.length-1];else{const p=[Xd,Qd].includes(n.key);d=pu(i,n.target,p,!0)}d&&(d.focus({preventScroll:!0}),Mi.getOrCreateInstance(d).show())}_getChildren(){return ie.find(Gl,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const d of i)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),d=this._getOuterElement(n);n.setAttribute("aria-selected",i),d!==n&&this._setAttributeIfNotExists(d,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=ie.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const d=this._getOuterElement(n);if(!d.classList.contains(x1))return;const p=(w,b)=>{const x=ie.findOne(w,d);x&&x.classList.toggle(b,i)};p(eh,Yr),p(C1,Kl),d.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,d){n.hasAttribute(i)||n.setAttribute(i,d)}_elemIsActive(n){return n.classList.contains(Yr)}_getInnerElement(n){return n.matches(Gl)?n:ie.findOne(Gl,n)}_getOuterElement(n){return n.closest(O1)||n}static jQueryInterface(n){return this.each(function(){const i=Mi.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(document,y1,th,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!wr(this)&&Mi.getOrCreateInstance(this).show()});R.on(window,w1,()=>{for(const o of ie.find(N1))Mi.getOrCreateInstance(o)});hn(Mi);const L1="toast",D1="bs.toast",Cr=`.${D1}`,k1=`mouseover${Cr}`,$1=`mouseout${Cr}`,R1=`focusin${Cr}`,P1=`focusout${Cr}`,M1=`hide${Cr}`,F1=`hidden${Cr}`,B1=`show${Cr}`,U1=`shown${Cr}`,W1="fade",Jd="hide",qo="show",Ho="showing",q1={animation:"boolean",autohide:"boolean",delay:"number"},H1={animation:!0,autohide:!0,delay:5e3};class sa extends Tn{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return H1}static get DefaultType(){return q1}static get NAME(){return L1}show(){if(R.trigger(this._element,B1).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(W1);const i=()=>{this._element.classList.remove(Ho),R.trigger(this._element,U1),this._maybeScheduleHide()};this._element.classList.remove(Jd),Ls(this._element),this._element.classList.add(qo,Ho),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||R.trigger(this._element,M1).defaultPrevented)return;const i=()=>{this._element.classList.add(Jd),this._element.classList.remove(Ho,qo),R.trigger(this._element,F1)};this._element.classList.add(Ho),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qo),super.dispose()}isShown(){return this._element.classList.contains(qo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const d=n.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){R.on(this._element,k1,n=>this._onInteraction(n,!0)),R.on(this._element,$1,n=>this._onInteraction(n,!1)),R.on(this._element,R1,n=>this._onInteraction(n,!0)),R.on(this._element,P1,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=sa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}ea(sa);hn(sa);var xs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var V1=xs.exports,ef;function K1(){return ef||(ef=1,(function(o,n){(function(){var i,d="4.17.21",p=200,w="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",x="Invalid `variable` option passed into `_.template`",O="__lodash_hash_undefined__",B=500,I="__lodash_placeholder__",W=1,ee=2,V=4,te=1,re=2,j=1,S=2,q=4,ne=8,k=16,$=32,X=64,ce=128,Ie=256,ke=512,Ce=30,je="...",wt=800,Se=16,Kt=1,kt=2,We=3,Ge=1/0,At=9007199254740991,pn=17976931348623157e292,Tt=NaN,ct=4294967295,tn=ct-1,Ue=ct>>>1,it=[["ary",ce],["bind",j],["bindKey",S],["curry",ne],["curryRight",k],["flip",ke],["partial",$],["partialRight",X],["rearg",Ie]],He="[object Arguments]",st="[object Array]",rr="[object AsyncFunction]",Ze="[object Boolean]",_n="[object Date]",xn="[object DOMException]",Cn="[object Error]",ir="[object Function]",Sn="[object GeneratorFunction]",ot="[object Map]",dt="[object Number]",Zr="[object Null]",$t="[object Object]",ft="[object Promise]",qi="[object Proxy]",xt="[object RegExp]",at="[object Set]",K="[object String]",Mn="[object Symbol]",Sr="[object Undefined]",On="[object WeakMap]",_t="[object WeakSet]",Ct="[object ArrayBuffer]",vt="[object DataView]",Jr="[object Float32Array]",Q="[object Float64Array]",ze="[object Int8Array]",Or="[object Int16Array]",In="[object Int32Array]",vn="[object Uint8Array]",gn="[object Uint8ClampedArray]",Hi="[object Uint16Array]",Vi="[object Uint32Array]",Rs=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,aa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,Ki=/[&<>"']/g,sr=RegExp(lt.source),or=RegExp(Ki.source),Yi=/<%-([\s\S]+?)%>/g,Ir=/<%([\s\S]+?)%>/g,Nr=/<%=([\s\S]+?)%>/g,Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,la=/^\w*$/,ua=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/[\\^$.*+?()[\]{}|]/g,Ps=RegExp(ei.source),zi=/^\s+/,ca=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ar=/\{\n\/\* \[wrapped with (.+)\] \*/,Ms=/,? & /,gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lr=/[()=,{}\[\]\/\s]/,da=/\\(\\)?/g,fa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xi=/\w*$/,Fn=/^[-+]0x[0-9a-f]+$/i,ha=/^0b[01]+$/i,ti=/^\[object .+?Constructor\]$/,Qi=/^0o[0-7]+$/i,pa=/^(?:0|[1-9]\d*)$/,_a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Fs=/['\n\r\u2028\u2029\\]/g,ni="\\ud800-\\udfff",Bs="\\u0300-\\u036f",ri="\\ufe20-\\ufe2f",va="\\u20d0-\\u20ff",Dr=Bs+ri+va,ii="\\u2700-\\u27bf",si="a-z\\xdf-\\xf6\\xf8-\\xff",ga="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ai="\\u2000-\\u206f",ji=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",li="A-Z\\xc0-\\xd6\\xd8-\\xde",kr="\\ufe0e\\ufe0f",$r=ga+oi+ai+ji,Pe="['’]",ma="["+ni+"]",Zi="["+$r+"]",ui="["+Dr+"]",Us="\\d+",ba="["+ii+"]",Bn="["+si+"]",Ws="[^"+ni+$r+Us+ii+si+li+"]",Ji="\\ud83c[\\udffb-\\udfff]",lr="(?:"+ui+"|"+Ji+")",ur="[^"+ni+"]",Un="(?:\\ud83c[\\udde6-\\uddff]){2}",es="[\\ud800-\\udbff][\\udc00-\\udfff]",cr="["+li+"]",ci="\\u200d",ts="(?:"+Bn+"|"+Ws+")",ya="(?:"+cr+"|"+Ws+")",qs="(?:"+Pe+"(?:d|ll|m|re|s|t|ve))?",Pt="(?:"+Pe+"(?:D|LL|M|RE|S|T|VE))?",di=lr+"?",qe="["+kr+"]?",Nn="(?:"+ci+"(?:"+[ur,Un,es].join("|")+")"+qe+di+")*",dr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ea="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hs=qe+di+Nn,wa="(?:"+[ba,Un,es].join("|")+")"+Hs,Aa="(?:"+[ur+ui+"?",ui,Un,es,ma].join("|")+")",Vs=RegExp(Pe,"g"),Ta=RegExp(ui,"g"),ns=RegExp(Ji+"(?="+Ji+")|"+Aa+Hs,"g"),Ks=RegExp([cr+"?"+Bn+"+"+qs+"(?="+[Zi,cr,"$"].join("|")+")",ya+"+"+Pt+"(?="+[Zi,cr+ts,"$"].join("|")+")",cr+"?"+ts+"+"+qs,cr+"+"+Pt,Ea,dr,Us,wa].join("|"),"g"),Rr=RegExp("["+ci+ni+Dr+kr+"]"),Ys=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zs=-1,Fe={};Fe[Jr]=Fe[Q]=Fe[ze]=Fe[Or]=Fe[In]=Fe[vn]=Fe[gn]=Fe[Hi]=Fe[Vi]=!0,Fe[He]=Fe[st]=Fe[Ct]=Fe[Ze]=Fe[vt]=Fe[_n]=Fe[Cn]=Fe[ir]=Fe[ot]=Fe[dt]=Fe[$t]=Fe[xt]=Fe[at]=Fe[K]=Fe[On]=!1;var Me={};Me[He]=Me[st]=Me[Ct]=Me[vt]=Me[Ze]=Me[_n]=Me[Jr]=Me[Q]=Me[ze]=Me[Or]=Me[In]=Me[ot]=Me[dt]=Me[$t]=Me[xt]=Me[at]=Me[K]=Me[Mn]=Me[vn]=Me[gn]=Me[Hi]=Me[Vi]=!0,Me[Cn]=Me[ir]=Me[On]=!1;var xa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wn=parseFloat,mn=parseInt,Xs=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,fr=typeof self=="object"&&self&&self.Object===Object&&self,Je=Xs||fr||Function("return this")(),rs=n&&!n.nodeType&&n,a=rs&&!0&&o&&!o.nodeType&&o,u=a&&a.exports===rs,c=u&&Xs.process,g=(function(){try{var y=a&&a.require&&a.require("util").types;return y||c&&c.binding&&c.binding("util")}catch{}})(),T=g&&g.isArrayBuffer,F=g&&g.isDate,G=g&&g.isMap,le=g&&g.isRegExp,Ne=g&&g.isSet,z=g&&g.isTypedArray;function _e(y,C,A){switch(A.length){case 0:return y.call(C);case 1:return y.call(C,A[0]);case 2:return y.call(C,A[0],A[1]);case 3:return y.call(C,A[0],A[1],A[2])}return y.apply(C,A)}function $e(y,C,A,Y){for(var de=-1,Oe=y==null?0:y.length;++de<Oe;){var nt=y[de];C(Y,nt,A(nt),y)}return Y}function Ae(y,C){for(var A=-1,Y=y==null?0:y.length;++A<Y&&C(y[A],A,y)!==!1;);return y}function et(y,C){for(var A=y==null?0:y.length;A--&&C(y[A],A,y)!==!1;);return y}function ht(y,C){for(var A=-1,Y=y==null?0:y.length;++A<Y;)if(!C(y[A],A,y))return!1;return!0}function be(y,C){for(var A=-1,Y=y==null?0:y.length,de=0,Oe=[];++A<Y;){var nt=y[A];C(nt,A,y)&&(Oe[de++]=nt)}return Oe}function Mt(y,C){var A=y==null?0:y.length;return!!A&&fi(y,C,0)>-1}function tt(y,C,A){for(var Y=-1,de=y==null?0:y.length;++Y<de;)if(A(C,y[Y]))return!0;return!1}function Le(y,C){for(var A=-1,Y=y==null?0:y.length,de=Array(Y);++A<Y;)de[A]=C(y[A],A,y);return de}function Ft(y,C){for(var A=-1,Y=C.length,de=y.length;++A<Y;)y[de+A]=C[A];return y}function Pr(y,C,A,Y){var de=-1,Oe=y==null?0:y.length;for(Y&&Oe&&(A=y[++de]);++de<Oe;)A=C(A,y[de],de,y);return A}function Oa(y,C,A,Y){var de=y==null?0:y.length;for(Y&&de&&(A=y[--de]);de--;)A=C(A,y[de],de,y);return A}function is(y,C){for(var A=-1,Y=y==null?0:y.length;++A<Y;)if(C(y[A],A,y))return!0;return!1}var nh=Ia("length");function rh(y){return y.split("")}function ih(y){return y.match(gt)||[]}function mu(y,C,A){var Y;return A(y,function(de,Oe,nt){if(C(de,Oe,nt))return Y=Oe,!1}),Y}function Qs(y,C,A,Y){for(var de=y.length,Oe=A+(Y?1:-1);Y?Oe--:++Oe<de;)if(C(y[Oe],Oe,y))return Oe;return-1}function fi(y,C,A){return C===C?vh(y,C,A):Qs(y,bu,A)}function sh(y,C,A,Y){for(var de=A-1,Oe=y.length;++de<Oe;)if(Y(y[de],C))return de;return-1}function bu(y){return y!==y}function yu(y,C){var A=y==null?0:y.length;return A?La(y,C)/A:Tt}function Ia(y){return function(C){return C==null?i:C[y]}}function Na(y){return function(C){return y==null?i:y[C]}}function Eu(y,C,A,Y,de){return de(y,function(Oe,nt,Be){A=Y?(Y=!1,Oe):C(A,Oe,nt,Be)}),A}function oh(y,C){var A=y.length;for(y.sort(C);A--;)y[A]=y[A].value;return y}function La(y,C){for(var A,Y=-1,de=y.length;++Y<de;){var Oe=C(y[Y]);Oe!==i&&(A=A===i?Oe:A+Oe)}return A}function Da(y,C){for(var A=-1,Y=Array(y);++A<y;)Y[A]=C(A);return Y}function ah(y,C){return Le(C,function(A){return[A,y[A]]})}function wu(y){return y&&y.slice(0,Cu(y)+1).replace(zi,"")}function Gt(y){return function(C){return y(C)}}function ka(y,C){return Le(C,function(A){return y[A]})}function ss(y,C){return y.has(C)}function Au(y,C){for(var A=-1,Y=y.length;++A<Y&&fi(C,y[A],0)>-1;);return A}function Tu(y,C){for(var A=y.length;A--&&fi(C,y[A],0)>-1;);return A}function lh(y,C){for(var A=y.length,Y=0;A--;)y[A]===C&&++Y;return Y}var uh=Na(xa),ch=Na(Ca);function dh(y){return"\\"+Yt[y]}function fh(y,C){return y==null?i:y[C]}function hi(y){return Rr.test(y)}function hh(y){return Ys.test(y)}function ph(y){for(var C,A=[];!(C=y.next()).done;)A.push(C.value);return A}function $a(y){var C=-1,A=Array(y.size);return y.forEach(function(Y,de){A[++C]=[de,Y]}),A}function xu(y,C){return function(A){return y(C(A))}}function hr(y,C){for(var A=-1,Y=y.length,de=0,Oe=[];++A<Y;){var nt=y[A];(nt===C||nt===I)&&(y[A]=I,Oe[de++]=A)}return Oe}function js(y){var C=-1,A=Array(y.size);return y.forEach(function(Y){A[++C]=Y}),A}function _h(y){var C=-1,A=Array(y.size);return y.forEach(function(Y){A[++C]=[Y,Y]}),A}function vh(y,C,A){for(var Y=A-1,de=y.length;++Y<de;)if(y[Y]===C)return Y;return-1}function gh(y,C,A){for(var Y=A+1;Y--;)if(y[Y]===C)return Y;return Y}function pi(y){return hi(y)?bh(y):nh(y)}function bn(y){return hi(y)?yh(y):rh(y)}function Cu(y){for(var C=y.length;C--&&ca.test(y.charAt(C)););return C}var mh=Na(Sa);function bh(y){for(var C=ns.lastIndex=0;ns.test(y);)++C;return C}function yh(y){return y.match(ns)||[]}function Eh(y){return y.match(Ks)||[]}var wh=(function y(C){C=C==null?Je:_i.defaults(Je.Object(),C,_i.pick(Je,Gs));var A=C.Array,Y=C.Date,de=C.Error,Oe=C.Function,nt=C.Math,Be=C.Object,Ra=C.RegExp,Ah=C.String,nn=C.TypeError,Zs=A.prototype,Th=Oe.prototype,vi=Be.prototype,Js=C["__core-js_shared__"],eo=Th.toString,Re=vi.hasOwnProperty,xh=0,Su=(function(){var e=/[^.]+$/.exec(Js&&Js.keys&&Js.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),to=vi.toString,Ch=eo.call(Be),Sh=Je._,Oh=Ra("^"+eo.call(Re).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),no=u?C.Buffer:i,pr=C.Symbol,ro=C.Uint8Array,Ou=no?no.allocUnsafe:i,io=xu(Be.getPrototypeOf,Be),Iu=Be.create,Nu=vi.propertyIsEnumerable,so=Zs.splice,Lu=pr?pr.isConcatSpreadable:i,os=pr?pr.iterator:i,Mr=pr?pr.toStringTag:i,oo=(function(){try{var e=qr(Be,"defineProperty");return e({},"",{}),e}catch{}})(),Ih=C.clearTimeout!==Je.clearTimeout&&C.clearTimeout,Nh=Y&&Y.now!==Je.Date.now&&Y.now,Lh=C.setTimeout!==Je.setTimeout&&C.setTimeout,ao=nt.ceil,lo=nt.floor,Pa=Be.getOwnPropertySymbols,Dh=no?no.isBuffer:i,Du=C.isFinite,kh=Zs.join,$h=xu(Be.keys,Be),rt=nt.max,mt=nt.min,Rh=Y.now,Ph=C.parseInt,ku=nt.random,Mh=Zs.reverse,Ma=qr(C,"DataView"),as=qr(C,"Map"),Fa=qr(C,"Promise"),gi=qr(C,"Set"),ls=qr(C,"WeakMap"),us=qr(Be,"create"),uo=ls&&new ls,mi={},Fh=Hr(Ma),Bh=Hr(as),Uh=Hr(Fa),Wh=Hr(gi),qh=Hr(ls),co=pr?pr.prototype:i,cs=co?co.valueOf:i,$u=co?co.toString:i;function f(e){if(Ye(e)&&!fe(e)&&!(e instanceof Ee)){if(e instanceof rn)return e;if(Re.call(e,"__wrapped__"))return Rc(e)}return new rn(e)}var bi=(function(){function e(){}return function(t){if(!Ve(t))return{};if(Iu)return Iu(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function fo(){}function rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}f.templateSettings={escape:Yi,evaluate:Ir,interpolate:Nr,variable:"",imports:{_:f}},f.prototype=fo.prototype,f.prototype.constructor=f,rn.prototype=bi(fo.prototype),rn.prototype.constructor=rn;function Ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function Hh(){var e=new Ee(this.__wrapped__);return e.__actions__=Bt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bt(this.__views__),e}function Vh(){if(this.__filtered__){var e=new Ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Kh(){var e=this.__wrapped__.value(),t=this.__dir__,r=fe(e),s=t<0,l=r?e.length:0,h=r_(0,l,this.__views__),v=h.start,m=h.end,E=m-v,N=s?m:v-1,L=this.__iteratees__,D=L.length,H=0,Z=mt(E,this.__takeCount__);if(!r||!s&&l==E&&Z==E)return ic(e,this.__actions__);var oe=[];e:for(;E--&&H<Z;){N+=t;for(var ge=-1,ae=e[N];++ge<D;){var ye=L[ge],we=ye.iteratee,Qt=ye.type,Nt=we(ae);if(Qt==kt)ae=Nt;else if(!Nt){if(Qt==Kt)continue e;break e}}oe[H++]=ae}return oe}Ee.prototype=bi(fo.prototype),Ee.prototype.constructor=Ee;function Fr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Yh(){this.__data__=us?us(null):{},this.size=0}function Gh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function zh(e){var t=this.__data__;if(us){var r=t[e];return r===O?i:r}return Re.call(t,e)?t[e]:i}function Xh(e){var t=this.__data__;return us?t[e]!==i:Re.call(t,e)}function Qh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=us&&t===i?O:t,this}Fr.prototype.clear=Yh,Fr.prototype.delete=Gh,Fr.prototype.get=zh,Fr.prototype.has=Xh,Fr.prototype.set=Qh;function qn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function jh(){this.__data__=[],this.size=0}function Zh(e){var t=this.__data__,r=ho(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():so.call(t,r,1),--this.size,!0}function Jh(e){var t=this.__data__,r=ho(t,e);return r<0?i:t[r][1]}function ep(e){return ho(this.__data__,e)>-1}function tp(e,t){var r=this.__data__,s=ho(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}qn.prototype.clear=jh,qn.prototype.delete=Zh,qn.prototype.get=Jh,qn.prototype.has=ep,qn.prototype.set=tp;function Hn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function np(){this.size=0,this.__data__={hash:new Fr,map:new(as||qn),string:new Fr}}function rp(e){var t=xo(this,e).delete(e);return this.size-=t?1:0,t}function ip(e){return xo(this,e).get(e)}function sp(e){return xo(this,e).has(e)}function op(e,t){var r=xo(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}Hn.prototype.clear=np,Hn.prototype.delete=rp,Hn.prototype.get=ip,Hn.prototype.has=sp,Hn.prototype.set=op;function Br(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Hn;++t<r;)this.add(e[t])}function ap(e){return this.__data__.set(e,O),this}function lp(e){return this.__data__.has(e)}Br.prototype.add=Br.prototype.push=ap,Br.prototype.has=lp;function yn(e){var t=this.__data__=new qn(e);this.size=t.size}function up(){this.__data__=new qn,this.size=0}function cp(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function dp(e){return this.__data__.get(e)}function fp(e){return this.__data__.has(e)}function hp(e,t){var r=this.__data__;if(r instanceof qn){var s=r.__data__;if(!as||s.length<p-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hn(s)}return r.set(e,t),this.size=r.size,this}yn.prototype.clear=up,yn.prototype.delete=cp,yn.prototype.get=dp,yn.prototype.has=fp,yn.prototype.set=hp;function Ru(e,t){var r=fe(e),s=!r&&Vr(e),l=!r&&!s&&br(e),h=!r&&!s&&!l&&Ai(e),v=r||s||l||h,m=v?Da(e.length,Ah):[],E=m.length;for(var N in e)(t||Re.call(e,N))&&!(v&&(N=="length"||l&&(N=="offset"||N=="parent")||h&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||Gn(N,E)))&&m.push(N);return m}function Pu(e){var t=e.length;return t?e[Xa(0,t-1)]:i}function pp(e,t){return Co(Bt(e),Ur(t,0,e.length))}function _p(e){return Co(Bt(e))}function Ba(e,t,r){(r!==i&&!En(e[t],r)||r===i&&!(t in e))&&Vn(e,t,r)}function ds(e,t,r){var s=e[t];(!(Re.call(e,t)&&En(s,r))||r===i&&!(t in e))&&Vn(e,t,r)}function ho(e,t){for(var r=e.length;r--;)if(En(e[r][0],t))return r;return-1}function vp(e,t,r,s){return _r(e,function(l,h,v){t(s,l,r(l),v)}),s}function Mu(e,t){return e&&Dn(t,ut(t),e)}function gp(e,t){return e&&Dn(t,Wt(t),e)}function Vn(e,t,r){t=="__proto__"&&oo?oo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ua(e,t){for(var r=-1,s=t.length,l=A(s),h=e==null;++r<s;)l[r]=h?i:yl(e,t[r]);return l}function Ur(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function sn(e,t,r,s,l,h){var v,m=t&W,E=t&ee,N=t&V;if(r&&(v=l?r(e,s,l,h):r(e)),v!==i)return v;if(!Ve(e))return e;var L=fe(e);if(L){if(v=s_(e),!m)return Bt(e,v)}else{var D=bt(e),H=D==ir||D==Sn;if(br(e))return ac(e,m);if(D==$t||D==He||H&&!l){if(v=E||H?{}:Cc(e),!m)return E?zp(e,gp(v,e)):Gp(e,Mu(v,e))}else{if(!Me[D])return l?e:{};v=o_(e,D,m)}}h||(h=new yn);var Z=h.get(e);if(Z)return Z;h.set(e,v),td(e)?e.forEach(function(ae){v.add(sn(ae,t,r,ae,e,h))}):Jc(e)&&e.forEach(function(ae,ye){v.set(ye,sn(ae,t,r,ye,e,h))});var oe=N?E?ol:sl:E?Wt:ut,ge=L?i:oe(e);return Ae(ge||e,function(ae,ye){ge&&(ye=ae,ae=e[ye]),ds(v,ye,sn(ae,t,r,ye,e,h))}),v}function mp(e){var t=ut(e);return function(r){return Fu(r,e,t)}}function Fu(e,t,r){var s=r.length;if(e==null)return!s;for(e=Be(e);s--;){var l=r[s],h=t[l],v=e[l];if(v===i&&!(l in e)||!h(v))return!1}return!0}function Bu(e,t,r){if(typeof e!="function")throw new nn(b);return ms(function(){e.apply(i,r)},t)}function fs(e,t,r,s){var l=-1,h=Mt,v=!0,m=e.length,E=[],N=t.length;if(!m)return E;r&&(t=Le(t,Gt(r))),s?(h=tt,v=!1):t.length>=p&&(h=ss,v=!1,t=new Br(t));e:for(;++l<m;){var L=e[l],D=r==null?L:r(L);if(L=s||L!==0?L:0,v&&D===D){for(var H=N;H--;)if(t[H]===D)continue e;E.push(L)}else h(t,D,s)||E.push(L)}return E}var _r=fc(Ln),Uu=fc(qa,!0);function bp(e,t){var r=!0;return _r(e,function(s,l,h){return r=!!t(s,l,h),r}),r}function po(e,t,r){for(var s=-1,l=e.length;++s<l;){var h=e[s],v=t(h);if(v!=null&&(m===i?v===v&&!Xt(v):r(v,m)))var m=v,E=h}return E}function yp(e,t,r,s){var l=e.length;for(r=ve(r),r<0&&(r=-r>l?0:l+r),s=s===i||s>l?l:ve(s),s<0&&(s+=l),s=r>s?0:rd(s);r<s;)e[r++]=t;return e}function Wu(e,t){var r=[];return _r(e,function(s,l,h){t(s,l,h)&&r.push(s)}),r}function pt(e,t,r,s,l){var h=-1,v=e.length;for(r||(r=l_),l||(l=[]);++h<v;){var m=e[h];t>0&&r(m)?t>1?pt(m,t-1,r,s,l):Ft(l,m):s||(l[l.length]=m)}return l}var Wa=hc(),qu=hc(!0);function Ln(e,t){return e&&Wa(e,t,ut)}function qa(e,t){return e&&qu(e,t,ut)}function _o(e,t){return be(t,function(r){return zn(e[r])})}function Wr(e,t){t=gr(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[kn(t[r++])];return r&&r==s?e:i}function Hu(e,t,r){var s=t(e);return fe(e)?s:Ft(s,r(e))}function Ot(e){return e==null?e===i?Sr:Zr:Mr&&Mr in Be(e)?n_(e):__(e)}function Ha(e,t){return e>t}function Ep(e,t){return e!=null&&Re.call(e,t)}function wp(e,t){return e!=null&&t in Be(e)}function Ap(e,t,r){return e>=mt(t,r)&&e<rt(t,r)}function Va(e,t,r){for(var s=r?tt:Mt,l=e[0].length,h=e.length,v=h,m=A(h),E=1/0,N=[];v--;){var L=e[v];v&&t&&(L=Le(L,Gt(t))),E=mt(L.length,E),m[v]=!r&&(t||l>=120&&L.length>=120)?new Br(v&&L):i}L=e[0];var D=-1,H=m[0];e:for(;++D<l&&N.length<E;){var Z=L[D],oe=t?t(Z):Z;if(Z=r||Z!==0?Z:0,!(H?ss(H,oe):s(N,oe,r))){for(v=h;--v;){var ge=m[v];if(!(ge?ss(ge,oe):s(e[v],oe,r)))continue e}H&&H.push(oe),N.push(Z)}}return N}function Tp(e,t,r,s){return Ln(e,function(l,h,v){t(s,r(l),h,v)}),s}function hs(e,t,r){t=gr(t,e),e=Nc(e,t);var s=e==null?e:e[kn(an(t))];return s==null?i:_e(s,e,r)}function Vu(e){return Ye(e)&&Ot(e)==He}function xp(e){return Ye(e)&&Ot(e)==Ct}function Cp(e){return Ye(e)&&Ot(e)==_n}function ps(e,t,r,s,l){return e===t?!0:e==null||t==null||!Ye(e)&&!Ye(t)?e!==e&&t!==t:Sp(e,t,r,s,ps,l)}function Sp(e,t,r,s,l,h){var v=fe(e),m=fe(t),E=v?st:bt(e),N=m?st:bt(t);E=E==He?$t:E,N=N==He?$t:N;var L=E==$t,D=N==$t,H=E==N;if(H&&br(e)){if(!br(t))return!1;v=!0,L=!1}if(H&&!L)return h||(h=new yn),v||Ai(e)?Ac(e,t,r,s,l,h):e_(e,t,E,r,s,l,h);if(!(r&te)){var Z=L&&Re.call(e,"__wrapped__"),oe=D&&Re.call(t,"__wrapped__");if(Z||oe){var ge=Z?e.value():e,ae=oe?t.value():t;return h||(h=new yn),l(ge,ae,r,s,h)}}return H?(h||(h=new yn),t_(e,t,r,s,l,h)):!1}function Op(e){return Ye(e)&&bt(e)==ot}function Ka(e,t,r,s){var l=r.length,h=l,v=!s;if(e==null)return!h;for(e=Be(e);l--;){var m=r[l];if(v&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++l<h;){m=r[l];var E=m[0],N=e[E],L=m[1];if(v&&m[2]){if(N===i&&!(E in e))return!1}else{var D=new yn;if(s)var H=s(N,L,E,e,t,D);if(!(H===i?ps(L,N,te|re,s,D):H))return!1}}return!0}function Ku(e){if(!Ve(e)||c_(e))return!1;var t=zn(e)?Oh:ti;return t.test(Hr(e))}function Ip(e){return Ye(e)&&Ot(e)==xt}function Np(e){return Ye(e)&&bt(e)==at}function Lp(e){return Ye(e)&&Do(e.length)&&!!Fe[Ot(e)]}function Yu(e){return typeof e=="function"?e:e==null?qt:typeof e=="object"?fe(e)?Xu(e[0],e[1]):zu(e):pd(e)}function Ya(e){if(!gs(e))return $h(e);var t=[];for(var r in Be(e))Re.call(e,r)&&r!="constructor"&&t.push(r);return t}function Dp(e){if(!Ve(e))return p_(e);var t=gs(e),r=[];for(var s in e)s=="constructor"&&(t||!Re.call(e,s))||r.push(s);return r}function Ga(e,t){return e<t}function Gu(e,t){var r=-1,s=Ut(e)?A(e.length):[];return _r(e,function(l,h,v){s[++r]=t(l,h,v)}),s}function zu(e){var t=ll(e);return t.length==1&&t[0][2]?Oc(t[0][0],t[0][1]):function(r){return r===e||Ka(r,e,t)}}function Xu(e,t){return cl(e)&&Sc(t)?Oc(kn(e),t):function(r){var s=yl(r,e);return s===i&&s===t?El(r,e):ps(t,s,te|re)}}function vo(e,t,r,s,l){e!==t&&Wa(t,function(h,v){if(l||(l=new yn),Ve(h))kp(e,t,v,r,vo,s,l);else{var m=s?s(fl(e,v),h,v+"",e,t,l):i;m===i&&(m=h),Ba(e,v,m)}},Wt)}function kp(e,t,r,s,l,h,v){var m=fl(e,r),E=fl(t,r),N=v.get(E);if(N){Ba(e,r,N);return}var L=h?h(m,E,r+"",e,t,v):i,D=L===i;if(D){var H=fe(E),Z=!H&&br(E),oe=!H&&!Z&&Ai(E);L=E,H||Z||oe?fe(m)?L=m:Xe(m)?L=Bt(m):Z?(D=!1,L=ac(E,!0)):oe?(D=!1,L=lc(E,!0)):L=[]:bs(E)||Vr(E)?(L=m,Vr(m)?L=id(m):(!Ve(m)||zn(m))&&(L=Cc(E))):D=!1}D&&(v.set(E,L),l(L,E,s,h,v),v.delete(E)),Ba(e,r,L)}function Qu(e,t){var r=e.length;if(r)return t+=t<0?r:0,Gn(t,r)?e[t]:i}function ju(e,t,r){t.length?t=Le(t,function(h){return fe(h)?function(v){return Wr(v,h.length===1?h[0]:h)}:h}):t=[qt];var s=-1;t=Le(t,Gt(se()));var l=Gu(e,function(h,v,m){var E=Le(t,function(N){return N(h)});return{criteria:E,index:++s,value:h}});return oh(l,function(h,v){return Yp(h,v,r)})}function $p(e,t){return Zu(e,t,function(r,s){return El(e,s)})}function Zu(e,t,r){for(var s=-1,l=t.length,h={};++s<l;){var v=t[s],m=Wr(e,v);r(m,v)&&_s(h,gr(v,e),m)}return h}function Rp(e){return function(t){return Wr(t,e)}}function za(e,t,r,s){var l=s?sh:fi,h=-1,v=t.length,m=e;for(e===t&&(t=Bt(t)),r&&(m=Le(e,Gt(r)));++h<v;)for(var E=0,N=t[h],L=r?r(N):N;(E=l(m,L,E,s))>-1;)m!==e&&so.call(m,E,1),so.call(e,E,1);return e}function Ju(e,t){for(var r=e?t.length:0,s=r-1;r--;){var l=t[r];if(r==s||l!==h){var h=l;Gn(l)?so.call(e,l,1):Za(e,l)}}return e}function Xa(e,t){return e+lo(ku()*(t-e+1))}function Pp(e,t,r,s){for(var l=-1,h=rt(ao((t-e)/(r||1)),0),v=A(h);h--;)v[s?h:++l]=e,e+=r;return v}function Qa(e,t){var r="";if(!e||t<1||t>At)return r;do t%2&&(r+=e),t=lo(t/2),t&&(e+=e);while(t);return r}function me(e,t){return hl(Ic(e,t,qt),e+"")}function Mp(e){return Pu(Ti(e))}function Fp(e,t){var r=Ti(e);return Co(r,Ur(t,0,r.length))}function _s(e,t,r,s){if(!Ve(e))return e;t=gr(t,e);for(var l=-1,h=t.length,v=h-1,m=e;m!=null&&++l<h;){var E=kn(t[l]),N=r;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(l!=v){var L=m[E];N=s?s(L,E,m):i,N===i&&(N=Ve(L)?L:Gn(t[l+1])?[]:{})}ds(m,E,N),m=m[E]}return e}var ec=uo?function(e,t){return uo.set(e,t),e}:qt,Bp=oo?function(e,t){return oo(e,"toString",{configurable:!0,enumerable:!1,value:Al(t),writable:!0})}:qt;function Up(e){return Co(Ti(e))}function on(e,t,r){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),r=r>l?l:r,r<0&&(r+=l),l=t>r?0:r-t>>>0,t>>>=0;for(var h=A(l);++s<l;)h[s]=e[s+t];return h}function Wp(e,t){var r;return _r(e,function(s,l,h){return r=t(s,l,h),!r}),!!r}function go(e,t,r){var s=0,l=e==null?s:e.length;if(typeof t=="number"&&t===t&&l<=Ue){for(;s<l;){var h=s+l>>>1,v=e[h];v!==null&&!Xt(v)&&(r?v<=t:v<t)?s=h+1:l=h}return l}return ja(e,t,qt,r)}function ja(e,t,r,s){var l=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var v=t!==t,m=t===null,E=Xt(t),N=t===i;l<h;){var L=lo((l+h)/2),D=r(e[L]),H=D!==i,Z=D===null,oe=D===D,ge=Xt(D);if(v)var ae=s||oe;else N?ae=oe&&(s||H):m?ae=oe&&H&&(s||!Z):E?ae=oe&&H&&!Z&&(s||!ge):Z||ge?ae=!1:ae=s?D<=t:D<t;ae?l=L+1:h=L}return mt(h,tn)}function tc(e,t){for(var r=-1,s=e.length,l=0,h=[];++r<s;){var v=e[r],m=t?t(v):v;if(!r||!En(m,E)){var E=m;h[l++]=v===0?0:v}}return h}function nc(e){return typeof e=="number"?e:Xt(e)?Tt:+e}function zt(e){if(typeof e=="string")return e;if(fe(e))return Le(e,zt)+"";if(Xt(e))return $u?$u.call(e):"";var t=e+"";return t=="0"&&1/e==-Ge?"-0":t}function vr(e,t,r){var s=-1,l=Mt,h=e.length,v=!0,m=[],E=m;if(r)v=!1,l=tt;else if(h>=p){var N=t?null:Zp(e);if(N)return js(N);v=!1,l=ss,E=new Br}else E=t?[]:m;e:for(;++s<h;){var L=e[s],D=t?t(L):L;if(L=r||L!==0?L:0,v&&D===D){for(var H=E.length;H--;)if(E[H]===D)continue e;t&&E.push(D),m.push(L)}else l(E,D,r)||(E!==m&&E.push(D),m.push(L))}return m}function Za(e,t){return t=gr(t,e),e=Nc(e,t),e==null||delete e[kn(an(t))]}function rc(e,t,r,s){return _s(e,t,r(Wr(e,t)),s)}function mo(e,t,r,s){for(var l=e.length,h=s?l:-1;(s?h--:++h<l)&&t(e[h],h,e););return r?on(e,s?0:h,s?h+1:l):on(e,s?h+1:0,s?l:h)}function ic(e,t){var r=e;return r instanceof Ee&&(r=r.value()),Pr(t,function(s,l){return l.func.apply(l.thisArg,Ft([s],l.args))},r)}function Ja(e,t,r){var s=e.length;if(s<2)return s?vr(e[0]):[];for(var l=-1,h=A(s);++l<s;)for(var v=e[l],m=-1;++m<s;)m!=l&&(h[l]=fs(h[l]||v,e[m],t,r));return vr(pt(h,1),t,r)}function sc(e,t,r){for(var s=-1,l=e.length,h=t.length,v={};++s<l;){var m=s<h?t[s]:i;r(v,e[s],m)}return v}function el(e){return Xe(e)?e:[]}function tl(e){return typeof e=="function"?e:qt}function gr(e,t){return fe(e)?e:cl(e,t)?[e]:$c(De(e))}var qp=me;function mr(e,t,r){var s=e.length;return r=r===i?s:r,!t&&r>=s?e:on(e,t,r)}var oc=Ih||function(e){return Je.clearTimeout(e)};function ac(e,t){if(t)return e.slice();var r=e.length,s=Ou?Ou(r):new e.constructor(r);return e.copy(s),s}function nl(e){var t=new e.constructor(e.byteLength);return new ro(t).set(new ro(e)),t}function Hp(e,t){var r=t?nl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Vp(e){var t=new e.constructor(e.source,Xi.exec(e));return t.lastIndex=e.lastIndex,t}function Kp(e){return cs?Be(cs.call(e)):{}}function lc(e,t){var r=t?nl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function uc(e,t){if(e!==t){var r=e!==i,s=e===null,l=e===e,h=Xt(e),v=t!==i,m=t===null,E=t===t,N=Xt(t);if(!m&&!N&&!h&&e>t||h&&v&&E&&!m&&!N||s&&v&&E||!r&&E||!l)return 1;if(!s&&!h&&!N&&e<t||N&&r&&l&&!s&&!h||m&&r&&l||!v&&l||!E)return-1}return 0}function Yp(e,t,r){for(var s=-1,l=e.criteria,h=t.criteria,v=l.length,m=r.length;++s<v;){var E=uc(l[s],h[s]);if(E){if(s>=m)return E;var N=r[s];return E*(N=="desc"?-1:1)}}return e.index-t.index}function cc(e,t,r,s){for(var l=-1,h=e.length,v=r.length,m=-1,E=t.length,N=rt(h-v,0),L=A(E+N),D=!s;++m<E;)L[m]=t[m];for(;++l<v;)(D||l<h)&&(L[r[l]]=e[l]);for(;N--;)L[m++]=e[l++];return L}function dc(e,t,r,s){for(var l=-1,h=e.length,v=-1,m=r.length,E=-1,N=t.length,L=rt(h-m,0),D=A(L+N),H=!s;++l<L;)D[l]=e[l];for(var Z=l;++E<N;)D[Z+E]=t[E];for(;++v<m;)(H||l<h)&&(D[Z+r[v]]=e[l++]);return D}function Bt(e,t){var r=-1,s=e.length;for(t||(t=A(s));++r<s;)t[r]=e[r];return t}function Dn(e,t,r,s){var l=!r;r||(r={});for(var h=-1,v=t.length;++h<v;){var m=t[h],E=s?s(r[m],e[m],m,r,e):i;E===i&&(E=e[m]),l?Vn(r,m,E):ds(r,m,E)}return r}function Gp(e,t){return Dn(e,ul(e),t)}function zp(e,t){return Dn(e,Tc(e),t)}function bo(e,t){return function(r,s){var l=fe(r)?$e:vp,h=t?t():{};return l(r,e,se(s,2),h)}}function yi(e){return me(function(t,r){var s=-1,l=r.length,h=l>1?r[l-1]:i,v=l>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(l--,h):i,v&&It(r[0],r[1],v)&&(h=l<3?i:h,l=1),t=Be(t);++s<l;){var m=r[s];m&&e(t,m,s,h)}return t})}function fc(e,t){return function(r,s){if(r==null)return r;if(!Ut(r))return e(r,s);for(var l=r.length,h=t?l:-1,v=Be(r);(t?h--:++h<l)&&s(v[h],h,v)!==!1;);return r}}function hc(e){return function(t,r,s){for(var l=-1,h=Be(t),v=s(t),m=v.length;m--;){var E=v[e?m:++l];if(r(h[E],E,h)===!1)break}return t}}function Xp(e,t,r){var s=t&j,l=vs(e);function h(){var v=this&&this!==Je&&this instanceof h?l:e;return v.apply(s?r:this,arguments)}return h}function pc(e){return function(t){t=De(t);var r=hi(t)?bn(t):i,s=r?r[0]:t.charAt(0),l=r?mr(r,1).join(""):t.slice(1);return s[e]()+l}}function Ei(e){return function(t){return Pr(fd(dd(t).replace(Vs,"")),e,"")}}function vs(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=bi(e.prototype),s=e.apply(r,t);return Ve(s)?s:r}}function Qp(e,t,r){var s=vs(e);function l(){for(var h=arguments.length,v=A(h),m=h,E=wi(l);m--;)v[m]=arguments[m];var N=h<3&&v[0]!==E&&v[h-1]!==E?[]:hr(v,E);if(h-=N.length,h<r)return bc(e,t,yo,l.placeholder,i,v,N,i,i,r-h);var L=this&&this!==Je&&this instanceof l?s:e;return _e(L,this,v)}return l}function _c(e){return function(t,r,s){var l=Be(t);if(!Ut(t)){var h=se(r,3);t=ut(t),r=function(m){return h(l[m],m,l)}}var v=e(t,r,s);return v>-1?l[h?t[v]:v]:i}}function vc(e){return Yn(function(t){var r=t.length,s=r,l=rn.prototype.thru;for(e&&t.reverse();s--;){var h=t[s];if(typeof h!="function")throw new nn(b);if(l&&!v&&To(h)=="wrapper")var v=new rn([],!0)}for(s=v?s:r;++s<r;){h=t[s];var m=To(h),E=m=="wrapper"?al(h):i;E&&dl(E[0])&&E[1]==(ce|ne|$|Ie)&&!E[4].length&&E[9]==1?v=v[To(E[0])].apply(v,E[3]):v=h.length==1&&dl(h)?v[m]():v.thru(h)}return function(){var N=arguments,L=N[0];if(v&&N.length==1&&fe(L))return v.plant(L).value();for(var D=0,H=r?t[D].apply(this,N):L;++D<r;)H=t[D].call(this,H);return H}})}function yo(e,t,r,s,l,h,v,m,E,N){var L=t&ce,D=t&j,H=t&S,Z=t&(ne|k),oe=t&ke,ge=H?i:vs(e);function ae(){for(var ye=arguments.length,we=A(ye),Qt=ye;Qt--;)we[Qt]=arguments[Qt];if(Z)var Nt=wi(ae),jt=lh(we,Nt);if(s&&(we=cc(we,s,l,Z)),h&&(we=dc(we,h,v,Z)),ye-=jt,Z&&ye<N){var Qe=hr(we,Nt);return bc(e,t,yo,ae.placeholder,r,we,Qe,m,E,N-ye)}var wn=D?r:this,Qn=H?wn[e]:e;return ye=we.length,m?we=v_(we,m):oe&&ye>1&&we.reverse(),L&&E<ye&&(we.length=E),this&&this!==Je&&this instanceof ae&&(Qn=ge||vs(Qn)),Qn.apply(wn,we)}return ae}function gc(e,t){return function(r,s){return Tp(r,e,t(s),{})}}function Eo(e,t){return function(r,s){var l;if(r===i&&s===i)return t;if(r!==i&&(l=r),s!==i){if(l===i)return s;typeof r=="string"||typeof s=="string"?(r=zt(r),s=zt(s)):(r=nc(r),s=nc(s)),l=e(r,s)}return l}}function rl(e){return Yn(function(t){return t=Le(t,Gt(se())),me(function(r){var s=this;return e(t,function(l){return _e(l,s,r)})})})}function wo(e,t){t=t===i?" ":zt(t);var r=t.length;if(r<2)return r?Qa(t,e):t;var s=Qa(t,ao(e/pi(t)));return hi(t)?mr(bn(s),0,e).join(""):s.slice(0,e)}function jp(e,t,r,s){var l=t&j,h=vs(e);function v(){for(var m=-1,E=arguments.length,N=-1,L=s.length,D=A(L+E),H=this&&this!==Je&&this instanceof v?h:e;++N<L;)D[N]=s[N];for(;E--;)D[N++]=arguments[++m];return _e(H,l?r:this,D)}return v}function mc(e){return function(t,r,s){return s&&typeof s!="number"&&It(t,r,s)&&(r=s=i),t=Xn(t),r===i?(r=t,t=0):r=Xn(r),s=s===i?t<r?1:-1:Xn(s),Pp(t,r,s,e)}}function Ao(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=ln(t),r=ln(r)),e(t,r)}}function bc(e,t,r,s,l,h,v,m,E,N){var L=t&ne,D=L?v:i,H=L?i:v,Z=L?h:i,oe=L?i:h;t|=L?$:X,t&=~(L?X:$),t&q||(t&=-4);var ge=[e,t,l,Z,D,oe,H,m,E,N],ae=r.apply(i,ge);return dl(e)&&Lc(ae,ge),ae.placeholder=s,Dc(ae,e,t)}function il(e){var t=nt[e];return function(r,s){if(r=ln(r),s=s==null?0:mt(ve(s),292),s&&Du(r)){var l=(De(r)+"e").split("e"),h=t(l[0]+"e"+(+l[1]+s));return l=(De(h)+"e").split("e"),+(l[0]+"e"+(+l[1]-s))}return t(r)}}var Zp=gi&&1/js(new gi([,-0]))[1]==Ge?function(e){return new gi(e)}:Cl;function yc(e){return function(t){var r=bt(t);return r==ot?$a(t):r==at?_h(t):ah(t,e(t))}}function Kn(e,t,r,s,l,h,v,m){var E=t&S;if(!E&&typeof e!="function")throw new nn(b);var N=s?s.length:0;if(N||(t&=-97,s=l=i),v=v===i?v:rt(ve(v),0),m=m===i?m:ve(m),N-=l?l.length:0,t&X){var L=s,D=l;s=l=i}var H=E?i:al(e),Z=[e,t,r,s,l,L,D,h,v,m];if(H&&h_(Z,H),e=Z[0],t=Z[1],r=Z[2],s=Z[3],l=Z[4],m=Z[9]=Z[9]===i?E?0:e.length:rt(Z[9]-N,0),!m&&t&(ne|k)&&(t&=-25),!t||t==j)var oe=Xp(e,t,r);else t==ne||t==k?oe=Qp(e,t,m):(t==$||t==(j|$))&&!l.length?oe=jp(e,t,r,s):oe=yo.apply(i,Z);var ge=H?ec:Lc;return Dc(ge(oe,Z),e,t)}function Ec(e,t,r,s){return e===i||En(e,vi[r])&&!Re.call(s,r)?t:e}function wc(e,t,r,s,l,h){return Ve(e)&&Ve(t)&&(h.set(t,e),vo(e,t,i,wc,h),h.delete(t)),e}function Jp(e){return bs(e)?i:e}function Ac(e,t,r,s,l,h){var v=r&te,m=e.length,E=t.length;if(m!=E&&!(v&&E>m))return!1;var N=h.get(e),L=h.get(t);if(N&&L)return N==t&&L==e;var D=-1,H=!0,Z=r&re?new Br:i;for(h.set(e,t),h.set(t,e);++D<m;){var oe=e[D],ge=t[D];if(s)var ae=v?s(ge,oe,D,t,e,h):s(oe,ge,D,e,t,h);if(ae!==i){if(ae)continue;H=!1;break}if(Z){if(!is(t,function(ye,we){if(!ss(Z,we)&&(oe===ye||l(oe,ye,r,s,h)))return Z.push(we)})){H=!1;break}}else if(!(oe===ge||l(oe,ge,r,s,h))){H=!1;break}}return h.delete(e),h.delete(t),H}function e_(e,t,r,s,l,h,v){switch(r){case vt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ct:return!(e.byteLength!=t.byteLength||!h(new ro(e),new ro(t)));case Ze:case _n:case dt:return En(+e,+t);case Cn:return e.name==t.name&&e.message==t.message;case xt:case K:return e==t+"";case ot:var m=$a;case at:var E=s&te;if(m||(m=js),e.size!=t.size&&!E)return!1;var N=v.get(e);if(N)return N==t;s|=re,v.set(e,t);var L=Ac(m(e),m(t),s,l,h,v);return v.delete(e),L;case Mn:if(cs)return cs.call(e)==cs.call(t)}return!1}function t_(e,t,r,s,l,h){var v=r&te,m=sl(e),E=m.length,N=sl(t),L=N.length;if(E!=L&&!v)return!1;for(var D=E;D--;){var H=m[D];if(!(v?H in t:Re.call(t,H)))return!1}var Z=h.get(e),oe=h.get(t);if(Z&&oe)return Z==t&&oe==e;var ge=!0;h.set(e,t),h.set(t,e);for(var ae=v;++D<E;){H=m[D];var ye=e[H],we=t[H];if(s)var Qt=v?s(we,ye,H,t,e,h):s(ye,we,H,e,t,h);if(!(Qt===i?ye===we||l(ye,we,r,s,h):Qt)){ge=!1;break}ae||(ae=H=="constructor")}if(ge&&!ae){var Nt=e.constructor,jt=t.constructor;Nt!=jt&&"constructor"in e&&"constructor"in t&&!(typeof Nt=="function"&&Nt instanceof Nt&&typeof jt=="function"&&jt instanceof jt)&&(ge=!1)}return h.delete(e),h.delete(t),ge}function Yn(e){return hl(Ic(e,i,Fc),e+"")}function sl(e){return Hu(e,ut,ul)}function ol(e){return Hu(e,Wt,Tc)}var al=uo?function(e){return uo.get(e)}:Cl;function To(e){for(var t=e.name+"",r=mi[t],s=Re.call(mi,t)?r.length:0;s--;){var l=r[s],h=l.func;if(h==null||h==e)return l.name}return t}function wi(e){var t=Re.call(f,"placeholder")?f:e;return t.placeholder}function se(){var e=f.iteratee||Tl;return e=e===Tl?Yu:e,arguments.length?e(arguments[0],arguments[1]):e}function xo(e,t){var r=e.__data__;return u_(t)?r[typeof t=="string"?"string":"hash"]:r.map}function ll(e){for(var t=ut(e),r=t.length;r--;){var s=t[r],l=e[s];t[r]=[s,l,Sc(l)]}return t}function qr(e,t){var r=fh(e,t);return Ku(r)?r:i}function n_(e){var t=Re.call(e,Mr),r=e[Mr];try{e[Mr]=i;var s=!0}catch{}var l=to.call(e);return s&&(t?e[Mr]=r:delete e[Mr]),l}var ul=Pa?function(e){return e==null?[]:(e=Be(e),be(Pa(e),function(t){return Nu.call(e,t)}))}:Sl,Tc=Pa?function(e){for(var t=[];e;)Ft(t,ul(e)),e=io(e);return t}:Sl,bt=Ot;(Ma&&bt(new Ma(new ArrayBuffer(1)))!=vt||as&&bt(new as)!=ot||Fa&&bt(Fa.resolve())!=ft||gi&&bt(new gi)!=at||ls&&bt(new ls)!=On)&&(bt=function(e){var t=Ot(e),r=t==$t?e.constructor:i,s=r?Hr(r):"";if(s)switch(s){case Fh:return vt;case Bh:return ot;case Uh:return ft;case Wh:return at;case qh:return On}return t});function r_(e,t,r){for(var s=-1,l=r.length;++s<l;){var h=r[s],v=h.size;switch(h.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=mt(t,e+v);break;case"takeRight":e=rt(e,t-v);break}}return{start:e,end:t}}function i_(e){var t=e.match(ar);return t?t[1].split(Ms):[]}function xc(e,t,r){t=gr(t,e);for(var s=-1,l=t.length,h=!1;++s<l;){var v=kn(t[s]);if(!(h=e!=null&&r(e,v)))break;e=e[v]}return h||++s!=l?h:(l=e==null?0:e.length,!!l&&Do(l)&&Gn(v,l)&&(fe(e)||Vr(e)))}function s_(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Cc(e){return typeof e.constructor=="function"&&!gs(e)?bi(io(e)):{}}function o_(e,t,r){var s=e.constructor;switch(t){case Ct:return nl(e);case Ze:case _n:return new s(+e);case vt:return Hp(e,r);case Jr:case Q:case ze:case Or:case In:case vn:case gn:case Hi:case Vi:return lc(e,r);case ot:return new s;case dt:case K:return new s(e);case xt:return Vp(e);case at:return new s;case Mn:return Kp(e)}}function a_(e,t){var r=t.length;if(!r)return e;var s=r-1;return t[s]=(r>1?"& ":"")+t[s],t=t.join(r>2?", ":" "),e.replace(Rt,`{
/* [wrapped with `+t+`] */
`)}function l_(e){return fe(e)||Vr(e)||!!(Lu&&e&&e[Lu])}function Gn(e,t){var r=typeof e;return t=t??At,!!t&&(r=="number"||r!="symbol"&&pa.test(e))&&e>-1&&e%1==0&&e<t}function It(e,t,r){if(!Ve(r))return!1;var s=typeof t;return(s=="number"?Ut(r)&&Gn(t,r.length):s=="string"&&t in r)?En(r[t],e):!1}function cl(e,t){if(fe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Xt(e)?!0:la.test(e)||!Gi.test(e)||t!=null&&e in Be(t)}function u_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function dl(e){var t=To(e),r=f[t];if(typeof r!="function"||!(t in Ee.prototype))return!1;if(e===r)return!0;var s=al(r);return!!s&&e===s[0]}function c_(e){return!!Su&&Su in e}var d_=Js?zn:Ol;function gs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vi;return e===r}function Sc(e){return e===e&&!Ve(e)}function Oc(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in Be(r))}}function f_(e){var t=No(e,function(s){return r.size===B&&r.clear(),s}),r=t.cache;return t}function h_(e,t){var r=e[1],s=t[1],l=r|s,h=l<(j|S|ce),v=s==ce&&r==ne||s==ce&&r==Ie&&e[7].length<=t[8]||s==(ce|Ie)&&t[7].length<=t[8]&&r==ne;if(!(h||v))return e;s&j&&(e[2]=t[2],l|=r&j?0:q);var m=t[3];if(m){var E=e[3];e[3]=E?cc(E,m,t[4]):m,e[4]=E?hr(e[3],I):t[4]}return m=t[5],m&&(E=e[5],e[5]=E?dc(E,m,t[6]):m,e[6]=E?hr(e[5],I):t[6]),m=t[7],m&&(e[7]=m),s&ce&&(e[8]=e[8]==null?t[8]:mt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function p_(e){var t=[];if(e!=null)for(var r in Be(e))t.push(r);return t}function __(e){return to.call(e)}function Ic(e,t,r){return t=rt(t===i?e.length-1:t,0),function(){for(var s=arguments,l=-1,h=rt(s.length-t,0),v=A(h);++l<h;)v[l]=s[t+l];l=-1;for(var m=A(t+1);++l<t;)m[l]=s[l];return m[t]=r(v),_e(e,this,m)}}function Nc(e,t){return t.length<2?e:Wr(e,on(t,0,-1))}function v_(e,t){for(var r=e.length,s=mt(t.length,r),l=Bt(e);s--;){var h=t[s];e[s]=Gn(h,r)?l[h]:i}return e}function fl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Lc=kc(ec),ms=Lh||function(e,t){return Je.setTimeout(e,t)},hl=kc(Bp);function Dc(e,t,r){var s=t+"";return hl(e,a_(s,g_(i_(s),r)))}function kc(e){var t=0,r=0;return function(){var s=Rh(),l=Se-(s-r);if(r=s,l>0){if(++t>=wt)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Co(e,t){var r=-1,s=e.length,l=s-1;for(t=t===i?s:t;++r<t;){var h=Xa(r,l),v=e[h];e[h]=e[r],e[r]=v}return e.length=t,e}var $c=f_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ua,function(r,s,l,h){t.push(l?h.replace(da,"$1"):s||r)}),t});function kn(e){if(typeof e=="string"||Xt(e))return e;var t=e+"";return t=="0"&&1/e==-Ge?"-0":t}function Hr(e){if(e!=null){try{return eo.call(e)}catch{}try{return e+""}catch{}}return""}function g_(e,t){return Ae(it,function(r){var s="_."+r[0];t&r[1]&&!Mt(e,s)&&e.push(s)}),e.sort()}function Rc(e){if(e instanceof Ee)return e.clone();var t=new rn(e.__wrapped__,e.__chain__);return t.__actions__=Bt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function m_(e,t,r){(r?It(e,t,r):t===i)?t=1:t=rt(ve(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var l=0,h=0,v=A(ao(s/t));l<s;)v[h++]=on(e,l,l+=t);return v}function b_(e){for(var t=-1,r=e==null?0:e.length,s=0,l=[];++t<r;){var h=e[t];h&&(l[s++]=h)}return l}function y_(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),r=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Ft(fe(r)?Bt(r):[r],pt(t,1))}var E_=me(function(e,t){return Xe(e)?fs(e,pt(t,1,Xe,!0)):[]}),w_=me(function(e,t){var r=an(t);return Xe(r)&&(r=i),Xe(e)?fs(e,pt(t,1,Xe,!0),se(r,2)):[]}),A_=me(function(e,t){var r=an(t);return Xe(r)&&(r=i),Xe(e)?fs(e,pt(t,1,Xe,!0),i,r):[]});function T_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),on(e,t<0?0:t,s)):[]}function x_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,on(e,0,t<0?0:t)):[]}function C_(e,t){return e&&e.length?mo(e,se(t,3),!0,!0):[]}function S_(e,t){return e&&e.length?mo(e,se(t,3),!0):[]}function O_(e,t,r,s){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&It(e,t,r)&&(r=0,s=l),yp(e,t,r,s)):[]}function Pc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=r==null?0:ve(r);return l<0&&(l=rt(s+l,0)),Qs(e,se(t,3),l)}function Mc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=s-1;return r!==i&&(l=ve(r),l=r<0?rt(s+l,0):mt(l,s-1)),Qs(e,se(t,3),l,!0)}function Fc(e){var t=e==null?0:e.length;return t?pt(e,1):[]}function I_(e){var t=e==null?0:e.length;return t?pt(e,Ge):[]}function N_(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:ve(t),pt(e,t)):[]}function L_(e){for(var t=-1,r=e==null?0:e.length,s={};++t<r;){var l=e[t];s[l[0]]=l[1]}return s}function Bc(e){return e&&e.length?e[0]:i}function D_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=r==null?0:ve(r);return l<0&&(l=rt(s+l,0)),fi(e,t,l)}function k_(e){var t=e==null?0:e.length;return t?on(e,0,-1):[]}var $_=me(function(e){var t=Le(e,el);return t.length&&t[0]===e[0]?Va(t):[]}),R_=me(function(e){var t=an(e),r=Le(e,el);return t===an(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Va(r,se(t,2)):[]}),P_=me(function(e){var t=an(e),r=Le(e,el);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Va(r,i,t):[]});function M_(e,t){return e==null?"":kh.call(e,t)}function an(e){var t=e==null?0:e.length;return t?e[t-1]:i}function F_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=s;return r!==i&&(l=ve(r),l=l<0?rt(s+l,0):mt(l,s-1)),t===t?gh(e,t,l):Qs(e,bu,l,!0)}function B_(e,t){return e&&e.length?Qu(e,ve(t)):i}var U_=me(Uc);function Uc(e,t){return e&&e.length&&t&&t.length?za(e,t):e}function W_(e,t,r){return e&&e.length&&t&&t.length?za(e,t,se(r,2)):e}function q_(e,t,r){return e&&e.length&&t&&t.length?za(e,t,i,r):e}var H_=Yn(function(e,t){var r=e==null?0:e.length,s=Ua(e,t);return Ju(e,Le(t,function(l){return Gn(l,r)?+l:l}).sort(uc)),s});function V_(e,t){var r=[];if(!(e&&e.length))return r;var s=-1,l=[],h=e.length;for(t=se(t,3);++s<h;){var v=e[s];t(v,s,e)&&(r.push(v),l.push(s))}return Ju(e,l),r}function pl(e){return e==null?e:Mh.call(e)}function K_(e,t,r){var s=e==null?0:e.length;return s?(r&&typeof r!="number"&&It(e,t,r)?(t=0,r=s):(t=t==null?0:ve(t),r=r===i?s:ve(r)),on(e,t,r)):[]}function Y_(e,t){return go(e,t)}function G_(e,t,r){return ja(e,t,se(r,2))}function z_(e,t){var r=e==null?0:e.length;if(r){var s=go(e,t);if(s<r&&En(e[s],t))return s}return-1}function X_(e,t){return go(e,t,!0)}function Q_(e,t,r){return ja(e,t,se(r,2),!0)}function j_(e,t){var r=e==null?0:e.length;if(r){var s=go(e,t,!0)-1;if(En(e[s],t))return s}return-1}function Z_(e){return e&&e.length?tc(e):[]}function J_(e,t){return e&&e.length?tc(e,se(t,2)):[]}function ev(e){var t=e==null?0:e.length;return t?on(e,1,t):[]}function tv(e,t,r){return e&&e.length?(t=r||t===i?1:ve(t),on(e,0,t<0?0:t)):[]}function nv(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,on(e,t<0?0:t,s)):[]}function rv(e,t){return e&&e.length?mo(e,se(t,3),!1,!0):[]}function iv(e,t){return e&&e.length?mo(e,se(t,3)):[]}var sv=me(function(e){return vr(pt(e,1,Xe,!0))}),ov=me(function(e){var t=an(e);return Xe(t)&&(t=i),vr(pt(e,1,Xe,!0),se(t,2))}),av=me(function(e){var t=an(e);return t=typeof t=="function"?t:i,vr(pt(e,1,Xe,!0),i,t)});function lv(e){return e&&e.length?vr(e):[]}function uv(e,t){return e&&e.length?vr(e,se(t,2)):[]}function cv(e,t){return t=typeof t=="function"?t:i,e&&e.length?vr(e,i,t):[]}function _l(e){if(!(e&&e.length))return[];var t=0;return e=be(e,function(r){if(Xe(r))return t=rt(r.length,t),!0}),Da(t,function(r){return Le(e,Ia(r))})}function Wc(e,t){if(!(e&&e.length))return[];var r=_l(e);return t==null?r:Le(r,function(s){return _e(t,i,s)})}var dv=me(function(e,t){return Xe(e)?fs(e,t):[]}),fv=me(function(e){return Ja(be(e,Xe))}),hv=me(function(e){var t=an(e);return Xe(t)&&(t=i),Ja(be(e,Xe),se(t,2))}),pv=me(function(e){var t=an(e);return t=typeof t=="function"?t:i,Ja(be(e,Xe),i,t)}),_v=me(_l);function vv(e,t){return sc(e||[],t||[],ds)}function gv(e,t){return sc(e||[],t||[],_s)}var mv=me(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,Wc(e,r)});function qc(e){var t=f(e);return t.__chain__=!0,t}function bv(e,t){return t(e),e}function So(e,t){return t(e)}var yv=Yn(function(e){var t=e.length,r=t?e[0]:0,s=this.__wrapped__,l=function(h){return Ua(h,e)};return t>1||this.__actions__.length||!(s instanceof Ee)||!Gn(r)?this.thru(l):(s=s.slice(r,+r+(t?1:0)),s.__actions__.push({func:So,args:[l],thisArg:i}),new rn(s,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function Ev(){return qc(this)}function wv(){return new rn(this.value(),this.__chain__)}function Av(){this.__values__===i&&(this.__values__=nd(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Tv(){return this}function xv(e){for(var t,r=this;r instanceof fo;){var s=Rc(r);s.__index__=0,s.__values__=i,t?l.__wrapped__=s:t=s;var l=s;r=r.__wrapped__}return l.__wrapped__=e,t}function Cv(){var e=this.__wrapped__;if(e instanceof Ee){var t=e;return this.__actions__.length&&(t=new Ee(this)),t=t.reverse(),t.__actions__.push({func:So,args:[pl],thisArg:i}),new rn(t,this.__chain__)}return this.thru(pl)}function Sv(){return ic(this.__wrapped__,this.__actions__)}var Ov=bo(function(e,t,r){Re.call(e,r)?++e[r]:Vn(e,r,1)});function Iv(e,t,r){var s=fe(e)?ht:bp;return r&&It(e,t,r)&&(t=i),s(e,se(t,3))}function Nv(e,t){var r=fe(e)?be:Wu;return r(e,se(t,3))}var Lv=_c(Pc),Dv=_c(Mc);function kv(e,t){return pt(Oo(e,t),1)}function $v(e,t){return pt(Oo(e,t),Ge)}function Rv(e,t,r){return r=r===i?1:ve(r),pt(Oo(e,t),r)}function Hc(e,t){var r=fe(e)?Ae:_r;return r(e,se(t,3))}function Vc(e,t){var r=fe(e)?et:Uu;return r(e,se(t,3))}var Pv=bo(function(e,t,r){Re.call(e,r)?e[r].push(t):Vn(e,r,[t])});function Mv(e,t,r,s){e=Ut(e)?e:Ti(e),r=r&&!s?ve(r):0;var l=e.length;return r<0&&(r=rt(l+r,0)),ko(e)?r<=l&&e.indexOf(t,r)>-1:!!l&&fi(e,t,r)>-1}var Fv=me(function(e,t,r){var s=-1,l=typeof t=="function",h=Ut(e)?A(e.length):[];return _r(e,function(v){h[++s]=l?_e(t,v,r):hs(v,t,r)}),h}),Bv=bo(function(e,t,r){Vn(e,r,t)});function Oo(e,t){var r=fe(e)?Le:Gu;return r(e,se(t,3))}function Uv(e,t,r,s){return e==null?[]:(fe(t)||(t=t==null?[]:[t]),r=s?i:r,fe(r)||(r=r==null?[]:[r]),ju(e,t,r))}var Wv=bo(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function qv(e,t,r){var s=fe(e)?Pr:Eu,l=arguments.length<3;return s(e,se(t,4),r,l,_r)}function Hv(e,t,r){var s=fe(e)?Oa:Eu,l=arguments.length<3;return s(e,se(t,4),r,l,Uu)}function Vv(e,t){var r=fe(e)?be:Wu;return r(e,Lo(se(t,3)))}function Kv(e){var t=fe(e)?Pu:Mp;return t(e)}function Yv(e,t,r){(r?It(e,t,r):t===i)?t=1:t=ve(t);var s=fe(e)?pp:Fp;return s(e,t)}function Gv(e){var t=fe(e)?_p:Up;return t(e)}function zv(e){if(e==null)return 0;if(Ut(e))return ko(e)?pi(e):e.length;var t=bt(e);return t==ot||t==at?e.size:Ya(e).length}function Xv(e,t,r){var s=fe(e)?is:Wp;return r&&It(e,t,r)&&(t=i),s(e,se(t,3))}var Qv=me(function(e,t){if(e==null)return[];var r=t.length;return r>1&&It(e,t[0],t[1])?t=[]:r>2&&It(t[0],t[1],t[2])&&(t=[t[0]]),ju(e,pt(t,1),[])}),Io=Nh||function(){return Je.Date.now()};function jv(e,t){if(typeof t!="function")throw new nn(b);return e=ve(e),function(){if(--e<1)return t.apply(this,arguments)}}function Kc(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,Kn(e,ce,i,i,i,i,t)}function Yc(e,t){var r;if(typeof t!="function")throw new nn(b);return e=ve(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var vl=me(function(e,t,r){var s=j;if(r.length){var l=hr(r,wi(vl));s|=$}return Kn(e,s,t,r,l)}),Gc=me(function(e,t,r){var s=j|S;if(r.length){var l=hr(r,wi(Gc));s|=$}return Kn(t,s,e,r,l)});function zc(e,t,r){t=r?i:t;var s=Kn(e,ne,i,i,i,i,i,t);return s.placeholder=zc.placeholder,s}function Xc(e,t,r){t=r?i:t;var s=Kn(e,k,i,i,i,i,i,t);return s.placeholder=Xc.placeholder,s}function Qc(e,t,r){var s,l,h,v,m,E,N=0,L=!1,D=!1,H=!0;if(typeof e!="function")throw new nn(b);t=ln(t)||0,Ve(r)&&(L=!!r.leading,D="maxWait"in r,h=D?rt(ln(r.maxWait)||0,t):h,H="trailing"in r?!!r.trailing:H);function Z(Qe){var wn=s,Qn=l;return s=l=i,N=Qe,v=e.apply(Qn,wn),v}function oe(Qe){return N=Qe,m=ms(ye,t),L?Z(Qe):v}function ge(Qe){var wn=Qe-E,Qn=Qe-N,_d=t-wn;return D?mt(_d,h-Qn):_d}function ae(Qe){var wn=Qe-E,Qn=Qe-N;return E===i||wn>=t||wn<0||D&&Qn>=h}function ye(){var Qe=Io();if(ae(Qe))return we(Qe);m=ms(ye,ge(Qe))}function we(Qe){return m=i,H&&s?Z(Qe):(s=l=i,v)}function Qt(){m!==i&&oc(m),N=0,s=E=l=m=i}function Nt(){return m===i?v:we(Io())}function jt(){var Qe=Io(),wn=ae(Qe);if(s=arguments,l=this,E=Qe,wn){if(m===i)return oe(E);if(D)return oc(m),m=ms(ye,t),Z(E)}return m===i&&(m=ms(ye,t)),v}return jt.cancel=Qt,jt.flush=Nt,jt}var Zv=me(function(e,t){return Bu(e,1,t)}),Jv=me(function(e,t,r){return Bu(e,ln(t)||0,r)});function eg(e){return Kn(e,ke)}function No(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new nn(b);var r=function(){var s=arguments,l=t?t.apply(this,s):s[0],h=r.cache;if(h.has(l))return h.get(l);var v=e.apply(this,s);return r.cache=h.set(l,v)||h,v};return r.cache=new(No.Cache||Hn),r}No.Cache=Hn;function Lo(e){if(typeof e!="function")throw new nn(b);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function tg(e){return Yc(2,e)}var ng=qp(function(e,t){t=t.length==1&&fe(t[0])?Le(t[0],Gt(se())):Le(pt(t,1),Gt(se()));var r=t.length;return me(function(s){for(var l=-1,h=mt(s.length,r);++l<h;)s[l]=t[l].call(this,s[l]);return _e(e,this,s)})}),gl=me(function(e,t){var r=hr(t,wi(gl));return Kn(e,$,i,t,r)}),jc=me(function(e,t){var r=hr(t,wi(jc));return Kn(e,X,i,t,r)}),rg=Yn(function(e,t){return Kn(e,Ie,i,i,i,t)});function ig(e,t){if(typeof e!="function")throw new nn(b);return t=t===i?t:ve(t),me(e,t)}function sg(e,t){if(typeof e!="function")throw new nn(b);return t=t==null?0:rt(ve(t),0),me(function(r){var s=r[t],l=mr(r,0,t);return s&&Ft(l,s),_e(e,this,l)})}function og(e,t,r){var s=!0,l=!0;if(typeof e!="function")throw new nn(b);return Ve(r)&&(s="leading"in r?!!r.leading:s,l="trailing"in r?!!r.trailing:l),Qc(e,t,{leading:s,maxWait:t,trailing:l})}function ag(e){return Kc(e,1)}function lg(e,t){return gl(tl(t),e)}function ug(){if(!arguments.length)return[];var e=arguments[0];return fe(e)?e:[e]}function cg(e){return sn(e,V)}function dg(e,t){return t=typeof t=="function"?t:i,sn(e,V,t)}function fg(e){return sn(e,W|V)}function hg(e,t){return t=typeof t=="function"?t:i,sn(e,W|V,t)}function pg(e,t){return t==null||Fu(e,t,ut(t))}function En(e,t){return e===t||e!==e&&t!==t}var _g=Ao(Ha),vg=Ao(function(e,t){return e>=t}),Vr=Vu((function(){return arguments})())?Vu:function(e){return Ye(e)&&Re.call(e,"callee")&&!Nu.call(e,"callee")},fe=A.isArray,gg=T?Gt(T):xp;function Ut(e){return e!=null&&Do(e.length)&&!zn(e)}function Xe(e){return Ye(e)&&Ut(e)}function mg(e){return e===!0||e===!1||Ye(e)&&Ot(e)==Ze}var br=Dh||Ol,bg=F?Gt(F):Cp;function yg(e){return Ye(e)&&e.nodeType===1&&!bs(e)}function Eg(e){if(e==null)return!0;if(Ut(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||br(e)||Ai(e)||Vr(e)))return!e.length;var t=bt(e);if(t==ot||t==at)return!e.size;if(gs(e))return!Ya(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0}function wg(e,t){return ps(e,t)}function Ag(e,t,r){r=typeof r=="function"?r:i;var s=r?r(e,t):i;return s===i?ps(e,t,i,r):!!s}function ml(e){if(!Ye(e))return!1;var t=Ot(e);return t==Cn||t==xn||typeof e.message=="string"&&typeof e.name=="string"&&!bs(e)}function Tg(e){return typeof e=="number"&&Du(e)}function zn(e){if(!Ve(e))return!1;var t=Ot(e);return t==ir||t==Sn||t==rr||t==qi}function Zc(e){return typeof e=="number"&&e==ve(e)}function Do(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=At}function Ve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ye(e){return e!=null&&typeof e=="object"}var Jc=G?Gt(G):Op;function xg(e,t){return e===t||Ka(e,t,ll(t))}function Cg(e,t,r){return r=typeof r=="function"?r:i,Ka(e,t,ll(t),r)}function Sg(e){return ed(e)&&e!=+e}function Og(e){if(d_(e))throw new de(w);return Ku(e)}function Ig(e){return e===null}function Ng(e){return e==null}function ed(e){return typeof e=="number"||Ye(e)&&Ot(e)==dt}function bs(e){if(!Ye(e)||Ot(e)!=$t)return!1;var t=io(e);if(t===null)return!0;var r=Re.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&eo.call(r)==Ch}var bl=le?Gt(le):Ip;function Lg(e){return Zc(e)&&e>=-At&&e<=At}var td=Ne?Gt(Ne):Np;function ko(e){return typeof e=="string"||!fe(e)&&Ye(e)&&Ot(e)==K}function Xt(e){return typeof e=="symbol"||Ye(e)&&Ot(e)==Mn}var Ai=z?Gt(z):Lp;function Dg(e){return e===i}function kg(e){return Ye(e)&&bt(e)==On}function $g(e){return Ye(e)&&Ot(e)==_t}var Rg=Ao(Ga),Pg=Ao(function(e,t){return e<=t});function nd(e){if(!e)return[];if(Ut(e))return ko(e)?bn(e):Bt(e);if(os&&e[os])return ph(e[os]());var t=bt(e),r=t==ot?$a:t==at?js:Ti;return r(e)}function Xn(e){if(!e)return e===0?e:0;if(e=ln(e),e===Ge||e===-Ge){var t=e<0?-1:1;return t*pn}return e===e?e:0}function ve(e){var t=Xn(e),r=t%1;return t===t?r?t-r:t:0}function rd(e){return e?Ur(ve(e),0,ct):0}function ln(e){if(typeof e=="number")return e;if(Xt(e))return Tt;if(Ve(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ve(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wu(e);var r=ha.test(e);return r||Qi.test(e)?mn(e.slice(2),r?2:8):Fn.test(e)?Tt:+e}function id(e){return Dn(e,Wt(e))}function Mg(e){return e?Ur(ve(e),-At,At):e===0?e:0}function De(e){return e==null?"":zt(e)}var Fg=yi(function(e,t){if(gs(t)||Ut(t)){Dn(t,ut(t),e);return}for(var r in t)Re.call(t,r)&&ds(e,r,t[r])}),sd=yi(function(e,t){Dn(t,Wt(t),e)}),$o=yi(function(e,t,r,s){Dn(t,Wt(t),e,s)}),Bg=yi(function(e,t,r,s){Dn(t,ut(t),e,s)}),Ug=Yn(Ua);function Wg(e,t){var r=bi(e);return t==null?r:Mu(r,t)}var qg=me(function(e,t){e=Be(e);var r=-1,s=t.length,l=s>2?t[2]:i;for(l&&It(t[0],t[1],l)&&(s=1);++r<s;)for(var h=t[r],v=Wt(h),m=-1,E=v.length;++m<E;){var N=v[m],L=e[N];(L===i||En(L,vi[N])&&!Re.call(e,N))&&(e[N]=h[N])}return e}),Hg=me(function(e){return e.push(i,wc),_e(od,i,e)});function Vg(e,t){return mu(e,se(t,3),Ln)}function Kg(e,t){return mu(e,se(t,3),qa)}function Yg(e,t){return e==null?e:Wa(e,se(t,3),Wt)}function Gg(e,t){return e==null?e:qu(e,se(t,3),Wt)}function zg(e,t){return e&&Ln(e,se(t,3))}function Xg(e,t){return e&&qa(e,se(t,3))}function Qg(e){return e==null?[]:_o(e,ut(e))}function jg(e){return e==null?[]:_o(e,Wt(e))}function yl(e,t,r){var s=e==null?i:Wr(e,t);return s===i?r:s}function Zg(e,t){return e!=null&&xc(e,t,Ep)}function El(e,t){return e!=null&&xc(e,t,wp)}var Jg=gc(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=to.call(t)),e[t]=r},Al(qt)),em=gc(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=to.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]},se),tm=me(hs);function ut(e){return Ut(e)?Ru(e):Ya(e)}function Wt(e){return Ut(e)?Ru(e,!0):Dp(e)}function nm(e,t){var r={};return t=se(t,3),Ln(e,function(s,l,h){Vn(r,t(s,l,h),s)}),r}function rm(e,t){var r={};return t=se(t,3),Ln(e,function(s,l,h){Vn(r,l,t(s,l,h))}),r}var im=yi(function(e,t,r){vo(e,t,r)}),od=yi(function(e,t,r,s){vo(e,t,r,s)}),sm=Yn(function(e,t){var r={};if(e==null)return r;var s=!1;t=Le(t,function(h){return h=gr(h,e),s||(s=h.length>1),h}),Dn(e,ol(e),r),s&&(r=sn(r,W|ee|V,Jp));for(var l=t.length;l--;)Za(r,t[l]);return r});function om(e,t){return ad(e,Lo(se(t)))}var am=Yn(function(e,t){return e==null?{}:$p(e,t)});function ad(e,t){if(e==null)return{};var r=Le(ol(e),function(s){return[s]});return t=se(t),Zu(e,r,function(s,l){return t(s,l[0])})}function lm(e,t,r){t=gr(t,e);var s=-1,l=t.length;for(l||(l=1,e=i);++s<l;){var h=e==null?i:e[kn(t[s])];h===i&&(s=l,h=r),e=zn(h)?h.call(e):h}return e}function um(e,t,r){return e==null?e:_s(e,t,r)}function cm(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:_s(e,t,r,s)}var ld=yc(ut),ud=yc(Wt);function dm(e,t,r){var s=fe(e),l=s||br(e)||Ai(e);if(t=se(t,4),r==null){var h=e&&e.constructor;l?r=s?new h:[]:Ve(e)?r=zn(h)?bi(io(e)):{}:r={}}return(l?Ae:Ln)(e,function(v,m,E){return t(r,v,m,E)}),r}function fm(e,t){return e==null?!0:Za(e,t)}function hm(e,t,r){return e==null?e:rc(e,t,tl(r))}function pm(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:rc(e,t,tl(r),s)}function Ti(e){return e==null?[]:ka(e,ut(e))}function _m(e){return e==null?[]:ka(e,Wt(e))}function vm(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=ln(r),r=r===r?r:0),t!==i&&(t=ln(t),t=t===t?t:0),Ur(ln(e),t,r)}function gm(e,t,r){return t=Xn(t),r===i?(r=t,t=0):r=Xn(r),e=ln(e),Ap(e,t,r)}function mm(e,t,r){if(r&&typeof r!="boolean"&&It(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Xn(e),t===i?(t=e,e=0):t=Xn(t)),e>t){var s=e;e=t,t=s}if(r||e%1||t%1){var l=ku();return mt(e+l*(t-e+Wn("1e-"+((l+"").length-1))),t)}return Xa(e,t)}var bm=Ei(function(e,t,r){return t=t.toLowerCase(),e+(r?cd(t):t)});function cd(e){return wl(De(e).toLowerCase())}function dd(e){return e=De(e),e&&e.replace(_a,uh).replace(Ta,"")}function ym(e,t,r){e=De(e),t=zt(t);var s=e.length;r=r===i?s:Ur(ve(r),0,s);var l=r;return r-=t.length,r>=0&&e.slice(r,l)==t}function Em(e){return e=De(e),e&&or.test(e)?e.replace(Ki,ch):e}function wm(e){return e=De(e),e&&Ps.test(e)?e.replace(ei,"\\$&"):e}var Am=Ei(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Tm=Ei(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),xm=pc("toLowerCase");function Cm(e,t,r){e=De(e),t=ve(t);var s=t?pi(e):0;if(!t||s>=t)return e;var l=(t-s)/2;return wo(lo(l),r)+e+wo(ao(l),r)}function Sm(e,t,r){e=De(e),t=ve(t);var s=t?pi(e):0;return t&&s<t?e+wo(t-s,r):e}function Om(e,t,r){e=De(e),t=ve(t);var s=t?pi(e):0;return t&&s<t?wo(t-s,r)+e:e}function Im(e,t,r){return r||t==null?t=0:t&&(t=+t),Ph(De(e).replace(zi,""),t||0)}function Nm(e,t,r){return(r?It(e,t,r):t===i)?t=1:t=ve(t),Qa(De(e),t)}function Lm(){var e=arguments,t=De(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Dm=Ei(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function km(e,t,r){return r&&typeof r!="number"&&It(e,t,r)&&(t=r=i),r=r===i?ct:r>>>0,r?(e=De(e),e&&(typeof t=="string"||t!=null&&!bl(t))&&(t=zt(t),!t&&hi(e))?mr(bn(e),0,r):e.split(t,r)):[]}var $m=Ei(function(e,t,r){return e+(r?" ":"")+wl(t)});function Rm(e,t,r){return e=De(e),r=r==null?0:Ur(ve(r),0,e.length),t=zt(t),e.slice(r,r+t.length)==t}function Pm(e,t,r){var s=f.templateSettings;r&&It(e,t,r)&&(t=i),e=De(e),t=$o({},t,s,Ec);var l=$o({},t.imports,s.imports,Ec),h=ut(l),v=ka(l,h),m,E,N=0,L=t.interpolate||St,D="__p += '",H=Ra((t.escape||St).source+"|"+L.source+"|"+(L===Nr?fa:St).source+"|"+(t.evaluate||St).source+"|$","g"),Z="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zs+"]")+`
`;e.replace(H,function(ae,ye,we,Qt,Nt,jt){return we||(we=Qt),D+=e.slice(N,jt).replace(Fs,dh),ye&&(m=!0,D+=`' +
__e(`+ye+`) +
'`),Nt&&(E=!0,D+=`';
`+Nt+`;
__p += '`),we&&(D+=`' +
((__t = (`+we+`)) == null ? '' : __t) +
'`),N=jt+ae.length,ae}),D+=`';
`;var oe=Re.call(t,"variable")&&t.variable;if(!oe)D=`with (obj) {
`+D+`
}
`;else if(Lr.test(oe))throw new de(x);D=(E?D.replace(Rs,""):D).replace(oa,"$1").replace(aa,"$1;"),D="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var ge=hd(function(){return Oe(h,Z+"return "+D).apply(i,v)});if(ge.source=D,ml(ge))throw ge;return ge}function Mm(e){return De(e).toLowerCase()}function Fm(e){return De(e).toUpperCase()}function Bm(e,t,r){if(e=De(e),e&&(r||t===i))return wu(e);if(!e||!(t=zt(t)))return e;var s=bn(e),l=bn(t),h=Au(s,l),v=Tu(s,l)+1;return mr(s,h,v).join("")}function Um(e,t,r){if(e=De(e),e&&(r||t===i))return e.slice(0,Cu(e)+1);if(!e||!(t=zt(t)))return e;var s=bn(e),l=Tu(s,bn(t))+1;return mr(s,0,l).join("")}function Wm(e,t,r){if(e=De(e),e&&(r||t===i))return e.replace(zi,"");if(!e||!(t=zt(t)))return e;var s=bn(e),l=Au(s,bn(t));return mr(s,l).join("")}function qm(e,t){var r=Ce,s=je;if(Ve(t)){var l="separator"in t?t.separator:l;r="length"in t?ve(t.length):r,s="omission"in t?zt(t.omission):s}e=De(e);var h=e.length;if(hi(e)){var v=bn(e);h=v.length}if(r>=h)return e;var m=r-pi(s);if(m<1)return s;var E=v?mr(v,0,m).join(""):e.slice(0,m);if(l===i)return E+s;if(v&&(m+=E.length-m),bl(l)){if(e.slice(m).search(l)){var N,L=E;for(l.global||(l=Ra(l.source,De(Xi.exec(l))+"g")),l.lastIndex=0;N=l.exec(L);)var D=N.index;E=E.slice(0,D===i?m:D)}}else if(e.indexOf(zt(l),m)!=m){var H=E.lastIndexOf(l);H>-1&&(E=E.slice(0,H))}return E+s}function Hm(e){return e=De(e),e&&sr.test(e)?e.replace(lt,mh):e}var Vm=Ei(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),wl=pc("toUpperCase");function fd(e,t,r){return e=De(e),t=r?i:t,t===i?hh(e)?Eh(e):ih(e):e.match(t)||[]}var hd=me(function(e,t){try{return _e(e,i,t)}catch(r){return ml(r)?r:new de(r)}}),Km=Yn(function(e,t){return Ae(t,function(r){r=kn(r),Vn(e,r,vl(e[r],e))}),e});function Ym(e){var t=e==null?0:e.length,r=se();return e=t?Le(e,function(s){if(typeof s[1]!="function")throw new nn(b);return[r(s[0]),s[1]]}):[],me(function(s){for(var l=-1;++l<t;){var h=e[l];if(_e(h[0],this,s))return _e(h[1],this,s)}})}function Gm(e){return mp(sn(e,W))}function Al(e){return function(){return e}}function zm(e,t){return e==null||e!==e?t:e}var Xm=vc(),Qm=vc(!0);function qt(e){return e}function Tl(e){return Yu(typeof e=="function"?e:sn(e,W))}function jm(e){return zu(sn(e,W))}function Zm(e,t){return Xu(e,sn(t,W))}var Jm=me(function(e,t){return function(r){return hs(r,e,t)}}),eb=me(function(e,t){return function(r){return hs(e,r,t)}});function xl(e,t,r){var s=ut(t),l=_o(t,s);r==null&&!(Ve(t)&&(l.length||!s.length))&&(r=t,t=e,e=this,l=_o(t,ut(t)));var h=!(Ve(r)&&"chain"in r)||!!r.chain,v=zn(e);return Ae(l,function(m){var E=t[m];e[m]=E,v&&(e.prototype[m]=function(){var N=this.__chain__;if(h||N){var L=e(this.__wrapped__),D=L.__actions__=Bt(this.__actions__);return D.push({func:E,args:arguments,thisArg:e}),L.__chain__=N,L}return E.apply(e,Ft([this.value()],arguments))})}),e}function tb(){return Je._===this&&(Je._=Sh),this}function Cl(){}function nb(e){return e=ve(e),me(function(t){return Qu(t,e)})}var rb=rl(Le),ib=rl(ht),sb=rl(is);function pd(e){return cl(e)?Ia(kn(e)):Rp(e)}function ob(e){return function(t){return e==null?i:Wr(e,t)}}var ab=mc(),lb=mc(!0);function Sl(){return[]}function Ol(){return!1}function ub(){return{}}function cb(){return""}function db(){return!0}function fb(e,t){if(e=ve(e),e<1||e>At)return[];var r=ct,s=mt(e,ct);t=se(t),e-=ct;for(var l=Da(s,t);++r<e;)t(r);return l}function hb(e){return fe(e)?Le(e,kn):Xt(e)?[e]:Bt($c(De(e)))}function pb(e){var t=++xh;return De(e)+t}var _b=Eo(function(e,t){return e+t},0),vb=il("ceil"),gb=Eo(function(e,t){return e/t},1),mb=il("floor");function bb(e){return e&&e.length?po(e,qt,Ha):i}function yb(e,t){return e&&e.length?po(e,se(t,2),Ha):i}function Eb(e){return yu(e,qt)}function wb(e,t){return yu(e,se(t,2))}function Ab(e){return e&&e.length?po(e,qt,Ga):i}function Tb(e,t){return e&&e.length?po(e,se(t,2),Ga):i}var xb=Eo(function(e,t){return e*t},1),Cb=il("round"),Sb=Eo(function(e,t){return e-t},0);function Ob(e){return e&&e.length?La(e,qt):0}function Ib(e,t){return e&&e.length?La(e,se(t,2)):0}return f.after=jv,f.ary=Kc,f.assign=Fg,f.assignIn=sd,f.assignInWith=$o,f.assignWith=Bg,f.at=Ug,f.before=Yc,f.bind=vl,f.bindAll=Km,f.bindKey=Gc,f.castArray=ug,f.chain=qc,f.chunk=m_,f.compact=b_,f.concat=y_,f.cond=Ym,f.conforms=Gm,f.constant=Al,f.countBy=Ov,f.create=Wg,f.curry=zc,f.curryRight=Xc,f.debounce=Qc,f.defaults=qg,f.defaultsDeep=Hg,f.defer=Zv,f.delay=Jv,f.difference=E_,f.differenceBy=w_,f.differenceWith=A_,f.drop=T_,f.dropRight=x_,f.dropRightWhile=C_,f.dropWhile=S_,f.fill=O_,f.filter=Nv,f.flatMap=kv,f.flatMapDeep=$v,f.flatMapDepth=Rv,f.flatten=Fc,f.flattenDeep=I_,f.flattenDepth=N_,f.flip=eg,f.flow=Xm,f.flowRight=Qm,f.fromPairs=L_,f.functions=Qg,f.functionsIn=jg,f.groupBy=Pv,f.initial=k_,f.intersection=$_,f.intersectionBy=R_,f.intersectionWith=P_,f.invert=Jg,f.invertBy=em,f.invokeMap=Fv,f.iteratee=Tl,f.keyBy=Bv,f.keys=ut,f.keysIn=Wt,f.map=Oo,f.mapKeys=nm,f.mapValues=rm,f.matches=jm,f.matchesProperty=Zm,f.memoize=No,f.merge=im,f.mergeWith=od,f.method=Jm,f.methodOf=eb,f.mixin=xl,f.negate=Lo,f.nthArg=nb,f.omit=sm,f.omitBy=om,f.once=tg,f.orderBy=Uv,f.over=rb,f.overArgs=ng,f.overEvery=ib,f.overSome=sb,f.partial=gl,f.partialRight=jc,f.partition=Wv,f.pick=am,f.pickBy=ad,f.property=pd,f.propertyOf=ob,f.pull=U_,f.pullAll=Uc,f.pullAllBy=W_,f.pullAllWith=q_,f.pullAt=H_,f.range=ab,f.rangeRight=lb,f.rearg=rg,f.reject=Vv,f.remove=V_,f.rest=ig,f.reverse=pl,f.sampleSize=Yv,f.set=um,f.setWith=cm,f.shuffle=Gv,f.slice=K_,f.sortBy=Qv,f.sortedUniq=Z_,f.sortedUniqBy=J_,f.split=km,f.spread=sg,f.tail=ev,f.take=tv,f.takeRight=nv,f.takeRightWhile=rv,f.takeWhile=iv,f.tap=bv,f.throttle=og,f.thru=So,f.toArray=nd,f.toPairs=ld,f.toPairsIn=ud,f.toPath=hb,f.toPlainObject=id,f.transform=dm,f.unary=ag,f.union=sv,f.unionBy=ov,f.unionWith=av,f.uniq=lv,f.uniqBy=uv,f.uniqWith=cv,f.unset=fm,f.unzip=_l,f.unzipWith=Wc,f.update=hm,f.updateWith=pm,f.values=Ti,f.valuesIn=_m,f.without=dv,f.words=fd,f.wrap=lg,f.xor=fv,f.xorBy=hv,f.xorWith=pv,f.zip=_v,f.zipObject=vv,f.zipObjectDeep=gv,f.zipWith=mv,f.entries=ld,f.entriesIn=ud,f.extend=sd,f.extendWith=$o,xl(f,f),f.add=_b,f.attempt=hd,f.camelCase=bm,f.capitalize=cd,f.ceil=vb,f.clamp=vm,f.clone=cg,f.cloneDeep=fg,f.cloneDeepWith=hg,f.cloneWith=dg,f.conformsTo=pg,f.deburr=dd,f.defaultTo=zm,f.divide=gb,f.endsWith=ym,f.eq=En,f.escape=Em,f.escapeRegExp=wm,f.every=Iv,f.find=Lv,f.findIndex=Pc,f.findKey=Vg,f.findLast=Dv,f.findLastIndex=Mc,f.findLastKey=Kg,f.floor=mb,f.forEach=Hc,f.forEachRight=Vc,f.forIn=Yg,f.forInRight=Gg,f.forOwn=zg,f.forOwnRight=Xg,f.get=yl,f.gt=_g,f.gte=vg,f.has=Zg,f.hasIn=El,f.head=Bc,f.identity=qt,f.includes=Mv,f.indexOf=D_,f.inRange=gm,f.invoke=tm,f.isArguments=Vr,f.isArray=fe,f.isArrayBuffer=gg,f.isArrayLike=Ut,f.isArrayLikeObject=Xe,f.isBoolean=mg,f.isBuffer=br,f.isDate=bg,f.isElement=yg,f.isEmpty=Eg,f.isEqual=wg,f.isEqualWith=Ag,f.isError=ml,f.isFinite=Tg,f.isFunction=zn,f.isInteger=Zc,f.isLength=Do,f.isMap=Jc,f.isMatch=xg,f.isMatchWith=Cg,f.isNaN=Sg,f.isNative=Og,f.isNil=Ng,f.isNull=Ig,f.isNumber=ed,f.isObject=Ve,f.isObjectLike=Ye,f.isPlainObject=bs,f.isRegExp=bl,f.isSafeInteger=Lg,f.isSet=td,f.isString=ko,f.isSymbol=Xt,f.isTypedArray=Ai,f.isUndefined=Dg,f.isWeakMap=kg,f.isWeakSet=$g,f.join=M_,f.kebabCase=Am,f.last=an,f.lastIndexOf=F_,f.lowerCase=Tm,f.lowerFirst=xm,f.lt=Rg,f.lte=Pg,f.max=bb,f.maxBy=yb,f.mean=Eb,f.meanBy=wb,f.min=Ab,f.minBy=Tb,f.stubArray=Sl,f.stubFalse=Ol,f.stubObject=ub,f.stubString=cb,f.stubTrue=db,f.multiply=xb,f.nth=B_,f.noConflict=tb,f.noop=Cl,f.now=Io,f.pad=Cm,f.padEnd=Sm,f.padStart=Om,f.parseInt=Im,f.random=mm,f.reduce=qv,f.reduceRight=Hv,f.repeat=Nm,f.replace=Lm,f.result=lm,f.round=Cb,f.runInContext=y,f.sample=Kv,f.size=zv,f.snakeCase=Dm,f.some=Xv,f.sortedIndex=Y_,f.sortedIndexBy=G_,f.sortedIndexOf=z_,f.sortedLastIndex=X_,f.sortedLastIndexBy=Q_,f.sortedLastIndexOf=j_,f.startCase=$m,f.startsWith=Rm,f.subtract=Sb,f.sum=Ob,f.sumBy=Ib,f.template=Pm,f.times=fb,f.toFinite=Xn,f.toInteger=ve,f.toLength=rd,f.toLower=Mm,f.toNumber=ln,f.toSafeInteger=Mg,f.toString=De,f.toUpper=Fm,f.trim=Bm,f.trimEnd=Um,f.trimStart=Wm,f.truncate=qm,f.unescape=Hm,f.uniqueId=pb,f.upperCase=Vm,f.upperFirst=wl,f.each=Hc,f.eachRight=Vc,f.first=Bc,xl(f,(function(){var e={};return Ln(f,function(t,r){Re.call(f.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),f.VERSION=d,Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Ae(["drop","take"],function(e,t){Ee.prototype[e]=function(r){r=r===i?1:rt(ve(r),0);var s=this.__filtered__&&!t?new Ee(this):this.clone();return s.__filtered__?s.__takeCount__=mt(r,s.__takeCount__):s.__views__.push({size:mt(r,ct),type:e+(s.__dir__<0?"Right":"")}),s},Ee.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Ae(["filter","map","takeWhile"],function(e,t){var r=t+1,s=r==Kt||r==We;Ee.prototype[e]=function(l){var h=this.clone();return h.__iteratees__.push({iteratee:se(l,3),type:r}),h.__filtered__=h.__filtered__||s,h}}),Ae(["head","last"],function(e,t){var r="take"+(t?"Right":"");Ee.prototype[e]=function(){return this[r](1).value()[0]}}),Ae(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Ee.prototype[e]=function(){return this.__filtered__?new Ee(this):this[r](1)}}),Ee.prototype.compact=function(){return this.filter(qt)},Ee.prototype.find=function(e){return this.filter(e).head()},Ee.prototype.findLast=function(e){return this.reverse().find(e)},Ee.prototype.invokeMap=me(function(e,t){return typeof e=="function"?new Ee(this):this.map(function(r){return hs(r,e,t)})}),Ee.prototype.reject=function(e){return this.filter(Lo(se(e)))},Ee.prototype.slice=function(e,t){e=ve(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Ee(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=ve(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},Ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ee.prototype.toArray=function(){return this.take(ct)},Ln(Ee.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),l=f[s?"take"+(t=="last"?"Right":""):t],h=s||/^find/.test(t);l&&(f.prototype[t]=function(){var v=this.__wrapped__,m=s?[1]:arguments,E=v instanceof Ee,N=m[0],L=E||fe(v),D=function(ye){var we=l.apply(f,Ft([ye],m));return s&&H?we[0]:we};L&&r&&typeof N=="function"&&N.length!=1&&(E=L=!1);var H=this.__chain__,Z=!!this.__actions__.length,oe=h&&!H,ge=E&&!Z;if(!h&&L){v=ge?v:new Ee(this);var ae=e.apply(v,m);return ae.__actions__.push({func:So,args:[D],thisArg:i}),new rn(ae,H)}return oe&&ge?e.apply(this,m):(ae=this.thru(D),oe?s?ae.value()[0]:ae.value():ae)})}),Ae(["pop","push","shift","sort","splice","unshift"],function(e){var t=Zs[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(s&&!this.__chain__){var h=this.value();return t.apply(fe(h)?h:[],l)}return this[r](function(v){return t.apply(fe(v)?v:[],l)})}}),Ln(Ee.prototype,function(e,t){var r=f[t];if(r){var s=r.name+"";Re.call(mi,s)||(mi[s]=[]),mi[s].push({name:t,func:r})}}),mi[yo(i,S).name]=[{name:"wrapper",func:i}],Ee.prototype.clone=Hh,Ee.prototype.reverse=Vh,Ee.prototype.value=Kh,f.prototype.at=yv,f.prototype.chain=Ev,f.prototype.commit=wv,f.prototype.next=Av,f.prototype.plant=xv,f.prototype.reverse=Cv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Sv,f.prototype.first=f.prototype.head,os&&(f.prototype[os]=Tv),f}),_i=wh();a?((a.exports=_i)._=_i,rs._=_i):Je._=_i}).call(V1)})(xs,xs.exports)),xs.exports}var Os=K1();function Y1(o){let n=null,i=null,d=new Map;const p=W=>JSON.stringify(W),w=async(W,ee,V,te)=>{if(te===(V==="cart"?n:i))return{success:!0,skipped:!0};if(d.has(V))return console.log(`⏳ Skipping duplicate ${V} request`),{success:!1,skipped:!0};const re=new AbortController,j=setTimeout(()=>re.abort(),5e3);d.set(V,!0);try{const S=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(ee),signal:re.signal});if(clearTimeout(j),!S.ok)throw new Error(`HTTP ${S.status}`);const q=await S.json();return V==="cart"?n=te:i=te,console.log(`✅ ${V} updated - v${q.version}`),{success:!0,data:q}}catch(S){return S.name==="AbortError"?console.warn(`⚠️ ${V} update timeout`):console.error(`❌ Failed to update ${V}:`,S.message),{success:!1,error:S}}finally{d.delete(V)}},b=Os.debounce(async W=>{const ee=p(W);await w("/api/pos/terminal/update-cart",{terminal_id:o,cart:W},"cart",ee)},800),x=Os.debounce(async W=>{const ee=p(W);await w("/api/pos/terminal/update-ui",{terminal_id:o,ui:W},"ui",ee)},300),O=async W=>{const ee=p(W);return await w("/api/pos/terminal/update-cart",{terminal_id:o,cart:W},"cart",ee)},B=Os.debounce(async(W,ee)=>{const V=p(W),te=p(ee);if(V===n&&te===i)return{success:!0,skipped:!0};const re=new AbortController,j=setTimeout(()=>re.abort(),5e3);try{const S=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:o,cart:W,ui:ee}),signal:re.signal});if(clearTimeout(j),!S.ok)throw new Error(`HTTP ${S.status}`);const q=await S.json();return n=V,i=te,console.log(`✅ Batch update successful - v${q.version}`),{success:!0,data:q}}catch(S){return console.error("❌ Batch update failed:",S.message),{success:!1,error:S}}},500);return{broadcastCartUpdate:b,broadcastUIUpdate:x,broadcastImmediateCartUpdate:O,broadcastBatchUpdate:B,clearBroadcastCache:()=>{n=null,i=null,d.clear(),console.log("🧹 Broadcast cache cleared")}}}const G1={class:"page-wrapper"},z1={class:"container-fluid px-3 py-3"},X1={class:"row gx-3 gy-3"},Q1={key:0,class:"row g-3 tablet-screen"},j1={class:"d-flex justify-content-between align-items-center mb-3"},Z1={style:{width:"250px",position:"relative"}},J1={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},eA={key:0,class:"col-12 text-center py-5"},tA=["onClick"],nA={class:"cat-icon-wrap"},rA={class:"cat-icon"},iA=["src"],sA={key:1},oA={class:"cat-name"},aA={class:"cat-pill"},lA={key:0,class:"col-12"},uA={key:1},cA={class:"d-flex flex-wrap gap-2 align-items-center justify-content-between mb-3"},dA={class:"fw-bold mb-0"},fA={class:"d-flex gap-2 ms-auto align-items-center"},hA={class:"search-wrap position-relative"},pA={class:"row g-3"},_A={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},vA=["src"],gA={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},mA={key:0,class:"text-muted text-decoration-line-through me-1"},bA={class:"fw-bold text-success me-2"},yA={key:1,class:"text-muted text-decoration-line-through me-1"},EA={class:"fw-bold text-success"},wA={class:"text-decoration-line-through opacity-75 me-1"},AA={class:"fw-bold text-white"},TA={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},xA={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},CA={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},SA={key:0,class:"mb-3"},OA=["onUpdate:modelValue","onChange"],IA=["value"],NA={key:1},LA={class:"form-label small fw-semibold mb-2"},DA={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},kA={key:0,class:"d-flex flex-wrap gap-1"},$A={key:1},RA={class:"d-flex justify-content-between align-items-center w-100"},PA={class:"fw-semibold text-success"},MA=["onClick"],FA=["onClick","disabled"],BA={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},UA=["onClick","disabled"],WA={key:0,class:"col-lg-4"},qA={class:"cart card border-0 shadow-lg rounded-4"},HA={class:"cart-header"},VA={class:"order-type"},KA=["onClick"],YA={class:"cart-body"},GA={class:"mb-3"},zA={key:0,class:"row g-2"},XA={class:"col-6 table-dropdown"},QA=["value"],jA={key:0,class:"invalid-feedback d-block"},ZA={class:"col-6 table-dropdown"},JA={key:1},eT={key:0,class:"invalid-feedback d-block"},tT={key:2,class:"mt-2"},nT={key:0,class:"invalid-feedback d-block"},rT={key:1,class:"invalid-feedback d-block"},iT={class:"cart-lines"},sT={key:0,class:"empty"},oT={class:"line-left"},aT=["src"],lT={class:"meta"},uT=["title"],cT={key:0},dT={class:"badge bg-success",style:{"font-size":"0.65rem"}},fT={key:1,class:"addon-icons mt-1"},hT=["onClick","title"],pT={class:"text-muted small"},_T={key:0,class:"badge ms-1",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},vT={key:1,class:"badge bg-success ms-1",style:{"font-size":"0.65rem"}},gT={key:2,class:"note"},mT={class:"line-right"},bT={class:"qty-controls"},yT=["onClick"],ET={class:"qty"},wT=["onClick","disabled"],AT={class:"price-delete"},TT={class:"price"},xT=["onClick"],CT={class:"totals"},ST={class:"trow"},OT={class:"sub-total"},IT={key:0,class:"trow"},NT={class:"text-info"},LT={key:1,class:"trow"},DT={class:"fw-semibold"},kT={key:2,class:"trow"},$T={class:"fw-semibold"},RT={key:3,class:"trow"},PT={class:"text-danger"},MT={key:4,class:"promos-section mb-3"},FT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},BT={class:"d-flex justify-content-between align-items-center"},UT={class:"text-success fs-6"},WT={key:5,class:"pending-discounts-section mb-3"},qT={class:"d-flex align-items-center gap-2 text-warning"},HT={class:"text-warning"},VT={key:6,class:"approved-discounts-section mb-3"},KT={class:"trow border-top pt-2 mt-2"},YT={class:"text-success"},GT={class:"trow total"},zT={class:"mb-3"},XT={class:"mb-3"},QT={class:"cart-footer"},jT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},ZT={class:"modal-dialog modal-lg modal-dialog-centered"},JT={class:"modal-content rounded-4 border-0 shadow"},ex={class:"modal-header border-0"},tx={class:"modal-title fw-bold"},nx={class:"modal-body"},rx={class:"row g-3"},ix={class:"col-md-5"},sx=["src"],ox={class:"col-md-7"},ax={class:"h4 mb-3"},lx={class:"h4 d-flex align-items-center gap-2 flex-wrap"},ux={class:"text-decoration-line-through text-muted small"},cx={class:"badge bg-success"},dx={class:"text-decoration-line-through text-muted small"},fx={class:"badge bg-success"},hx={key:0,class:"mb-3"},px=["value"],_x={key:1,class:"mb-3"},vx={class:"border rounded-3 p-3 bg-light",style:{"max-height":"180px","overflow-y":"auto"}},gx={class:"d-flex align-items-center flex-grow-1 gap-3"},mx=["id","checked","onChange"],bx=["for"],yx={key:2},Ex={class:"form-label small fw-semibold mb-2"},wx={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},Ax={key:0,class:"d-flex flex-wrap gap-1"},Tx={key:1},xx={class:"d-flex justify-content-between align-items-center w-100"},Cx={class:"fw-semibold text-success"},Sx={class:"chips mb-3"},Ox={key:0,class:"chip chip-orange"},Ix={key:1,class:"chip chip-green"},Nx={key:2,class:"chip chip-purple"},Lx={key:3,class:"chip chip-blue"},Dx={class:"qty-group gap-1"},kx={class:"qty-box rounded-pill"},$x=["disabled"],Rx={class:"mt-3"},Px={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},Mx={class:"modal-dialog modal-lg modal-dialog-centered"},Fx={class:"modal-content rounded-4 border-0 shadow-lg"},Bx={key:0,class:"modal-body pt-2"},Ux={class:"alert alert-light border rounded-3 mb-3"},Wx={class:"d-flex align-items-center gap-3"},qx=["src"],Hx={class:"flex-grow-1"},Vx={class:"fw-bold fs-6"},Kx={class:"d-flex gap-3 mt-1"},Yx={class:"text-muted"},Gx={class:"fw-semibold"},zx={class:"text-muted"},Xx={class:"fw-semibold"},Qx={key:0,class:"table-responsive"},jx={class:"table table-hover align-middle mb-0"},Zx={class:"text-center"},Jx={class:"form-check d-flex justify-content-center"},eC=["checked","onChange"],tC={class:"d-flex align-items-center gap-2"},nC={class:"fw-semibold"},rC={key:0,class:"text-muted"},iC={class:"text-center"},sC={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},oC={class:"d-flex align-items-center justify-content-center gap-2"},aC=["onClick","disabled"],lC={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},uC=["onClick","disabled"],cC={key:1,class:"text-center text-muted py-5"},dC={class:"mt-3 p-3 rounded-3"},fC={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},hC={class:"text-success fw-semibold"},pC={__name:"Index",props:["client_secret","order_code"],setup(o){Vb();const{formatCurrencySymbol:n}=Ub();ys(()=>{Il(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>{new ra(a)})})});const i=J([]),d=J(!0),p=J(""),w=J(Date.now()),b=`category-search-${Math.random().toString(36).substr(2,9)}`,x=J(!1),O=yt(()=>{const a=p.value.trim().toLowerCase();return a?Ys.value.filter(u=>u.name.toLowerCase().includes(a)):Ys.value}),B=async()=>{d.value=!0;try{const a=await axios.get("/api/pos/fetch-menu-categories");i.value=a.data,i.value.length>0&&(Ze.value=i.value[0].id)}catch(a){console.error("Error fetching categories:",a)}finally{d.value=!1}},I=J([]),W=async()=>{try{const a=await axios.get("/api/pos/fetch-menu-items");I.value=a.data.data}catch(a){console.error("Error fetching inventory:",a)}},ee=yt(()=>{const a={};return I.value.forEach(u=>{const c=u.category?.id||"uncategorized",g=u.category?.name||"Uncategorized";a[c]||(a[c]=[]);const T={id:u.id,title:u.name,img:u.image_url||"/assets/img/default.png",stock:0,price:Number(u.price),label_color:u.label_color||"#1B1670",family:g,description:u.description,nutrition:u.nutrition,tags:u.tags,allergies:u.allergies,ingredients:u.ingredients??[],variants:u.variants??[],addon_groups:u.addon_groups??[],is_saleable:u.is_saleable,resale_type:u.resale_type,resale_value:u.resale_value};a[c].push(T)}),a}),V=J({});Es(()=>I.value,a=>{a&&a.length>0&&a.forEach(u=>{u.variants&&u.variants.length>0&&(V.value[u.id]||(V.value[u.id]=u.variants[0].id))})},{immediate:!0,deep:!0});const te=a=>{if(!a.variants||a.variants.length===0)return null;const u=V.value[a.id];return u&&a.variants.find(c=>c.id===u)||a.variants[0]},re=(a,u)=>{const c=parseInt(u.target.value);V.value[a.id]=c;const g=a.variants.find(T=>T.id===c);g&&console.log(`Selected ${g.name} for ${a.title} - ${n(g.price)}`)},j=J({}),S=(a,u,c)=>{const g=a.id;j.value[g]||(j.value[g]={});const T=a.addon_groups.find(F=>F.group_id===u);if(T&&T.max_select>0&&c.length>T.max_select){ue.warning(`You can only select up to ${T.max_select} ${T.group_name}`);const F=j.value[g][u]||[];j.value[g][u]=F.slice(0,T.max_select);return}j.value[g][u]=c},q=a=>{const u=a.id;if(!j.value[u])return 0;let c=0;return Object.values(j.value[u]).forEach(g=>{g.forEach(T=>{c+=parseFloat(T.price||0)})}),c},ne=a=>{const u=a.id;if(!j.value[u])return[];const c=[];return Object.values(j.value[u]).forEach(g=>{g.forEach(T=>{c.push({id:T.id,name:T.name,price:parseFloat(T.price),group_id:T.group_id||T.pivot?.addon_group_id})})}),c},k=J([]),$=()=>{if(!Q.value)return[];const a=Se();return a&&a.ingredients&&a.ingredients.length>0?a.ingredients:Q.value.ingredients||[]},X=a=>k.value.includes(a),ce=a=>{const u=k.value.indexOf(a);u>-1?(k.value.splice(u,1),ue.info("Ingredient added back")):(k.value.push(a),ue.info("Ingredient removed"))},Ie=()=>{if(k.value.length===0)return null;const a=$(),u=k.value.map(c=>{const g=a.find(T=>T.id===c||T.inventory_item_id===c);return g?g.product_name||g.name:null}).filter(Boolean);return u.length===0?null:`No ${u.join(", ")}`},ke=async a=>{Q.value=a,Or.value="",In.value=null,vn.value={},a.variants&&a.variants.length>0&&(In.value=a.variants[0].id);const u=a.variants&&a.variants.length>0?a.variants[0]:null,c=u?u.id:null,g=Pt(a,c),T=Ce(a,c,g);ze.value=T>0?1:0,k.value=[];const F=document.getElementById("chooseItem"),G=new bootstrap.Modal(F);F.addEventListener("shown.bs.modal",async()=>{await Il()},{once:!0}),G.show()},Ce=(a,u,c)=>{const g=c.filter(G=>!k.value.includes(G.id||G.inventory_item_id));if(!g||g.length===0)return 999999;const T={};for(const G of K.value)Pt(G,G.variant_id).filter(z=>!G.removed_ingredients||G.removed_ingredients.length===0?!0:!G.removed_ingredients.includes(z.id||z.inventory_item_id)).forEach(z=>{const _e=z.inventory_item_id,$e=Number(z.inventory_stock??z.inventory_item?.stock??0);T[_e]||(T[_e]={totalStock:$e,used:0});const Ae=Number(z.quantity??z.qty??1)*G.qty;T[_e].used+=Ae});let F=999999;for(const G of g){const le=G.inventory_item_id,Ne=Number(G.inventory_stock??G.inventory_item?.stock??0),z=Number(G.quantity??G.qty??1);if(T[le]){const _e=T[le].totalStock-T[le].used,$e=Math.floor(_e/z);F=Math.min(F,$e)}else{const _e=Math.floor(Ne/z);F=Math.min(F,_e)}}return F},je=()=>{const a=Se(),u=a?a.id:null,c=Pt(Q.value,u),g=Ce(Q.value,u,c);if(g<=0){ue.error("No stock available for this variant. Please remove items from cart first."),ze.value=0;return}ze.value=Math.min(1,g)},wt=(a,u)=>{if(!Q.value)return;const c=Q.value.addon_groups.find(g=>g.group_id===a);if(c&&c.max_select>0&&u.length>c.max_select){ue.warning(`You can only select up to ${c.max_select} ${c.group_name}`),vn.value[a]=u.slice(0,c.max_select);return}vn.value[a]=u},Se=()=>{if(!Q.value||!Q.value.variants||Q.value.variants.length===0)return null;const a=In.value;return a&&Q.value.variants.find(u=>u.id===a)||Q.value.variants[0]},Kt=()=>{if(!Q.value)return 0;const a=Se();return parseFloat(a?a.price:Q.value.price||0)},kt=()=>{let a=0;return Object.values(vn.value).forEach(u=>{u.forEach(c=>{a+=parseFloat(c.price||0)})}),a},We=()=>{if(!Q.value)return{};const a=Se();return a&&a.nutrition?a.nutrition:Q.value.nutrition||{}},Ge=()=>{if(!Q.value)return[];const a=Se();return a&&a.allergies&&a.allergies.length>0?a.allergies:Q.value.allergies||[]},At=()=>{if(!Q.value)return[];const a=Se();return a&&a.tags&&a.tags.length>0?a.tags:Q.value.tags||[]},pn=()=>{const a=[];return Object.values(vn.value).forEach(u=>{u.forEach(c=>{a.push({id:c.id,name:c.name,price:parseFloat(c.price),group_id:c.group_id||c.pivot?.addon_group_id})})}),a},Tt=a=>{if(!a)return 0;const u=te(a),c=u?u.id:null,g=Pt(a,c);if(!g.length)return 999999;let T=1/0;return g.forEach(F=>{const G=Number(F.quantity??F.qty??1),le=Number(F.inventory_stock??F.inventory_item?.stock??0);if(G<=0)return;const Ne=Math.floor(le/G);T=Math.min(T,Ne)}),T===1/0?0:T},ct=a=>Tt(a),tn=J(""),Ue=J("dine"),it=J("Walk In"),He=J(" "),st=J(" "),rr=J(10),Ze=J(null),_n=a=>Ze.value=a,xn=J(!0),Cn=a=>{_n(a.id),xn.value=!1},ir=()=>xn.value=!0,Sn=J({}),ot=J([]),dt=J(null),Zr=async()=>{try{const a=await axios.get("/api/pos/fetch-profile-tables");Sn.value=a.data,Sn.value.order_types&&(ot.value=Sn.value.order_types.map(u=>u.charAt(0).toUpperCase()+u.slice(1)),Ue.value=ot.value[0])}catch(a){console.error("Error fetching profile tables:",a)}},$t=yt(()=>ee.value[Ze.value]??[]),ft=J({sortBy:"",priceMin:null,priceMax:null}),qi=yt(()=>{let a=$t.value;const u=tn.value.trim().toLowerCase();if(u&&(a=a.filter(c=>c.title.toLowerCase().includes(u)||(c.family||"").toLowerCase().includes(u)||(c.description||"").toLowerCase().includes(u)||(c.tags?.map(g=>g.name.toLowerCase()).join(", ")||"").includes(u))),ft.value.priceMin!==null&&ft.value.priceMin!==""&&(a=a.filter(c=>c.price>=ft.value.priceMin)),ft.value.priceMax!==null&&ft.value.priceMax!==""&&(a=a.filter(c=>c.price<=ft.value.priceMax)),ft.value.sortBy)switch(a=[...a],ft.value.sortBy){case"name_asc":a.sort((c,g)=>c.title.localeCompare(g.title));break;case"name_desc":a.sort((c,g)=>g.title.localeCompare(c.title));break;case"price_asc":a.sort((c,g)=>c.price-g.price);break;case"price_desc":a.sort((c,g)=>g.price-c.price);break;case"stock_asc":a.sort((c,g)=>(c.stock??0)-(g.stock??0));break;case"stock_desc":a.sort((c,g)=>(g.stock??0)-(c.stock??0));break}return a}),xt=a=>{ft.value={...a}},at=()=>{ft.value={sortBy:"",priceMin:null,priceMax:null}},K=J([]),Mn=async a=>{const u=K.value[a];if(u){if((u.stock??0)<=0){ue.error("Item out of stock.");return}if(!di(u)){const c=u.variant_name?` (${u.variant_name})`:"";ue.error(`Not enough ingredients for "${u.title}${c}".`),u.outOfStock=!0;return}u.outOfStock=!1,u.qty++,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty)}},Sr=async a=>{const u=K.value[a];if(!u||u.qty<=1){ue.error("Cannot reduce below 1.");return}u.qty--,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty),u.outOfStock=!1},On=a=>{if(K.value[a],K.value.splice(a,1),K.value.length===0){gt.value=[],Pe.value=[],Rt.value=[],Fn();return}Pe.value.length>0&&(Pe.value=Pe.value.filter(c=>{if(!c.menu_items||c.menu_items.length===0)return!0;const g=c.menu_items.map(F=>F.id);return K.value.some(F=>g.includes(F.id))}));const u=[];gt.value.forEach(c=>{c.min_purchase&&_t.value<c.min_purchase?ue.info(`Discount "${c.name}" removed — subtotal is lower than minimum required (${n(c.min_purchase)}).`):u.push(c)}),gt.value=u},_t=yt(()=>K.value.reduce((a,u)=>a+u.price,0)),Ct=yt(()=>{if(Ue.value!=="Delivery")return 0;const a=St.props.onboarding.tax_and_vat;return a.has_delivery_charges?a.delivery_charge_flat?parseFloat(a.delivery_charge_flat):a.delivery_charge_percentage?_t.value*parseFloat(a.delivery_charge_percentage)/100:0:0}),vt=yt(()=>{if(K.value.length===0)return 0;const a=St.props.onboarding.tax_and_vat;return a.has_service_charges?a.service_charge_flat?parseFloat(a.service_charge_flat):a.service_charge_percentage?_t.value*parseFloat(a.service_charge_percentage)/100:0:0}),Jr=a=>`£${(Math.round(a*100)/100).toFixed(2)}`,Q=J(null),ze=J(0),Or=J(""),In=J(null),vn=J({}),gn=J(""),Hi=async()=>{if(!Q.value)return;const a=Se(),u=a?a.id:null,c=a?` (${a.name})`:"";if(ze.value<=0){ue.error(`No stock available for "${Q.value.title}${c}". Please remove some from cart first.`);return}const g=a?a.name:null,T=parseFloat(a?a.price:Q.value.price),F=pn(),G=kt(),le=T+G,Ne=a?Yt(a,!0):Yt(Q.value,!1),z=Pt(Q.value,u),_e=Ce(Q.value,u,z);if(ze.value>_e){_e<=0?ue.error(`No more stock available for "${Q.value.title}${c}". Please remove some from cart first.`):(ue.error(`Only ${_e} item(s) available. Please reduce quantity or remove items from cart.`),ze.value=_e);return}const $e=Ie(),Ae={};for(const et of K.value)Pt(et,et.variant_id).forEach(be=>{const Mt=be.inventory_item_id;Ae[Mt]||(Ae[Mt]=parseFloat(be.inventory_stock)),Ae[Mt]-=parseFloat(be.quantity)*et.qty});if(z.length>0)for(const et of z){const ht=et.inventory_item_id,be=Ae[ht]??parseFloat(et.inventory_stock),Mt=parseFloat(et.quantity)*ze.value;if(be<Mt){ue.error(`Not enough stock for "${Q.value.title}${c}".`);return}}try{const et=F.map(tt=>tt.id).sort((tt,Le)=>tt-Le).join("-"),ht=z.length>0?Vi(z):999999,be=K.value.findIndex(tt=>{if(tt.variant_id!==u)return!1;const Le=(tt.addons||[]).map(Ft=>Ft.id).sort((Ft,Pr)=>Ft-Pr).join("-");return tt.id===Q.value.id&&Le===et});if(be>=0){if(K.value[be].qty+=ze.value,K.value[be].price=K.value[be].unit_price*K.value[be].qty,K.value[be].total_resale_discount=Ne*K.value[be].qty,gn.value&&gn.value.trim()){const tt=K.value[be].item_kitchen_note||"",Le=gn.value.trim(),Ft=[tt,Le,$e].filter(Boolean).filter((Pr,Oa,is)=>is.indexOf(Pr)===Oa);K.value[be].item_kitchen_note=Ft.join("; ")}else if($e){const tt=K.value[be].item_kitchen_note||"";K.value[be].item_kitchen_note=[tt,$e].filter(Boolean).join("; ")}k.value.length>0&&(K.value[be].removed_ingredients=[...k.value]),ue.success(`Quantity updated to ${K.value[be].qty}`)}else{const tt=[gn.value.trim(),$e].filter(Boolean).join(". ");K.value.push({id:Q.value.id,title:Q.value.title,img:Q.value.img,price:le*ze.value,unit_price:Number(le),qty:ze.value,note:Or.value||"",item_kitchen_note:tt,stock:ht,ingredients:z,variant_id:u,variant_name:g,addons:F,removed_ingredients:[...k.value],resale_discount_per_item:Ne,total_resale_discount:Ne*ze.value}),ue.success(`${Q.value.title} added to cart`)}await Zi(Q.value),bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),ze.value=0,Or.value="",gn.value="",In.value=null,vn.value={},k.value=[]}catch(et){ue.error("Failed to add item: "+(et.response?.data?.message||et.message))}},Vi=a=>{if(!a||a.length===0)return 999999;let u=1/0;return a.forEach(c=>{const g=Number(c.quantity??c.qty??1),T=Number(c.inventory_stock??c.inventory_item?.stock??0);if(g<=0)return;const F=Math.floor(T/g);u=Math.min(u,F)}),u===1/0?0:u},Rs=()=>{if(!Q.value)return!1;const a=Se(),u=a?a.id:null,c=Pt(Q.value,u);if(!c.length)return!0;const g=Ce(Q.value,u,c);return ze.value+1<=g},oa=()=>{if(!Rs()){const a=Se(),u=a?` (${a.name})`:"",c=a?a.id:null,g=Pt(Q.value,c);Ce(Q.value,c,g)<=0?ue.error(`No more stock available for "${Q.value?.title}${u}". Please remove some from cart first.`):ue.error(`Not enough ingredients for "${Q.value?.title}${u}".`);return}ze.value++},aa=()=>{ze.value>1&&ze.value--},lt=J({}),Ki=()=>{K.value=[],it.value="Walk In",st.value="",He.value="",dt.value=null,Ue.value=ot.value[0]||"dine_in",sr.value="",or.value="",rr.value=0,Pe.value=[],gt.value=[],Rt.value=[],Lr.value=[],Fn()};Es(Ue,()=>lt.value={});const sr=J(""),or=J(""),Yi=J(!1),Ir=J(null),Nr=J(!1),Gi=J(0),la=()=>{const a={};for(const u of K.value){const c=u.ingredients||[];c.length!==0&&c.forEach(g=>{const T=g.inventory_item_id,F=parseFloat(g.inventory_stock??g.inventory_item?.stock??0),G=parseFloat(g.quantity??g.qty??1)*u.qty;a[T]||(a[T]={name:g.product_name||"Unknown",totalStock:F,totalUsed:0}),a[T].totalUsed+=G})}for(const[u,c]of Object.entries(a))if(c.totalUsed>c.totalStock)return ue.error(`Not enough "${c.name}". Need ${c.totalUsed.toFixed(2)} but only ${c.totalStock.toFixed(2)} available.`),!1;return!0},ua=()=>{if(K.value.length===0){ue.error("Please add at least one item to the cart.");return}if(Ue.value==="Dine_in"&&!dt.value){lt.value.table_number=["Table number is required for dine-in orders."],ue.error("Please select a table number for Dine In orders.");return}if((Ue.value==="Delivery"||Ue.value==="Takeaway")&&!it.value){lt.value.customer=["Customer name is required."],ue.error("Customer name is required.");return}if(Ue.value==="Delivery"&&!He.value){lt.value.phoneNumber=["Phone number is required for delivery."],ue.error("Phone number is required for delivery.");return}if(Ue.value==="Delivery"&&!st.value){lt.value.deliveryLocation=["Delivery location is required."],ue.error("Delivery location is required.");return}la()&&(Gi.value=parseFloat(Un.value).toFixed(2),Nr.value=!0)},ei=async a=>{const c=await axios.post("http://192.168.224.1:8085/print",{order:a,type:"customer"},{headers:{"X-Print-Token":"EPOS_LOCAL_PRINT_TOKEN"},timeout:5e3});console.info("The Customer request send back: "+c.data)},Ps=async a=>{const c=await axios.post("http://192.168.224.1:8085/print",{order:a,type:"KOT"},{headers:{"X-Print-Token":"EPOS_LOCAL_PRINT_TOKEN"},timeout:5e3});console.info("The KOT request send back: "+c.data)},zi=J("cash"),ca=J(0),Rt=J([]),ar=J(null),Ms=J(!1),gt=J([]),Lr=J([]),da=async a=>{if(!a||a.length===0){ue.warning("No discounts selected.");return}const u=Lr.value.map(g=>g.id),c=a.filter(g=>!u.includes(g.id));if(c.length===0){ue.error("All selected discounts have been rejected for this order.");return}if(c.length<a.length){const g=a.length-c.length;ue.warning(`${g} discount(s) were previously rejected and cannot be requested again.`)}try{const g=await axios.post("/api/discount-approvals/request",{discounts:a.map(T=>({discount_id:T.id,discount_percentage:parseFloat(T.discount_amount),discount_name:T.name})),order_items:K.value.map(T=>({id:T.id,title:T.title,qty:T.qty,unit_price:T.unit_price,price:T.price})),order_subtotal:_t.value,request_note:`Discount approval request from ${Rr.value?.name||"Cashier"}`});g.data.success&&(Rt.value=g.data.data.map(T=>({...T,discountData:a.find(F=>F.id===T.discount_id),percentage:parseFloat(T.discount_percentage),status:"pending"})),ai.value=!1,Ms.value=!0,ue.info("Discount approval request sent to Super Admin. Waiting for approval..."),fa())}catch(g){console.error("Error requesting discount approval:",g),ue.error(g.response?.data?.message||"Failed to request discount approval")}},fa=()=>{ar.value&&clearInterval(ar.value),ar.value=setInterval(async()=>{await Xi()},3e3)},Xi=async()=>{if(Rt.value.length===0){Fn();return}try{const a=Rt.value.map(c=>c.id),u=await axios.post("/api/discount-approvals/check-status",{approval_ids:a});u.data.success&&(u.data.data.forEach(g=>{if(g.status!=="pending"){const T=Rt.value.findIndex(F=>F.id===g.id);if(T>=0){if(g.status==="approved"){const F={id:g.discount_id,name:g.discount_name||g.discount?.name,percentage:parseFloat(g.discount_percentage),approval_id:g.id};ha(F),ue.success(`Discount "${F.name}" (${F.percentage}%) approved!`)}else g.status==="rejected"&&(Lr.value.push({id:g.discount_id,name:g.discount_name,percentage:parseFloat(g.discount_percentage),rejection_reason:g.approval_note}),ue.error(`Discount "${g.discount_name}" rejected.`+(g.approval_note?` Reason: ${g.approval_note}`:"")));Rt.value.splice(T,1)}}}),Rt.value.length===0&&(Ms.value=!1,Fn()))}catch(a){console.error("Error checking approval status:",a)}},Fn=()=>{ar.value&&(clearInterval(ar.value),ar.value=null)},ha=a=>{gt.value.push(a)};kb(()=>{Fn()}),ys(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",a=>{Xi()})});const ti=yt(()=>!gt.value||gt.value.length===0?0:gt.value.reduce((a,u)=>{const c=parseFloat(u.percentage||0),g=_t.value*c/100;return a+g},0)),Qi=a=>_t.value*a/100,pa=()=>{gt.value=[],Rt.value=[],Lr.value=[],Fn()},_a=async({paymentMethod:a,cashReceived:u,cardAmount:c,changeAmount:g,items:T,autoPrintKot:F,done:G})=>{lt.value={};try{const le={customer_name:it.value,phone_number:He.value,delivery_location:st.value,sub_total:_t.value,tax:lr.value,service_charges:vt.value,delivery_charges:Ct.value,sales_discount:ur.value,approved_discounts:ti.value,approved_discount_details:gt.value.map(z=>({discount_id:z.id,discount_name:z.name,discount_percentage:z.percentage,discount_amount:Qi(z.percentage),approval_id:z.approval_id})),promo_discount:Bn.value,applied_promos:Pe.value.map(z=>({promo_id:z.id,promo_name:z.name,promo_type:z.type,discount_amount:z.applied_discount||0,applied_to_items:z.applied_to_items||[]})),total_amount:Un.value,note:sr.value,kitchen_note:or.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:Ue.value==="Dine_in"?"Dine In":Ue.value==="Delivery"?"Delivery":Ue.value==="Takeaway"?"Takeaway":"Collection",table_number:dt.value?.name||null,payment_method:a,auto_print_kot:F,cash_received:u,change:g,...a==="Split"&&{payment_type:"split",cash_amount:u,card_amount:c},items:(K.value??[]).map(z=>{const _e=I.value.find(ht=>ht.id===z.id);let $e=_e;if(z.variant_id&&_e?.variants){const ht=_e.variants.find(be=>be.id===z.variant_id);ht&&($e=ht)}const Ae=$e?Yt($e,!!z.variant_id):0,et=parseFloat($e?.price||z.unit_price);return{product_id:z.id,title:z.title,quantity:z.qty,price:z.price,note:z.note??"",kitchen_note:or.value??"",unit_price:z.unit_price,item_kitchen_note:z.item_kitchen_note??"",tax_percentage:cr(z),tax_amount:es(z),variant_id:z.variant_id||null,variant_name:z.variant_name||null,addons:z.addons||[],sale_discount_per_item:Ae,removed_ingredients:z.removed_ingredients||[]}})},Ne=await axios.post("/pos/order",le);if(Ne.data.logout===!0){ue.success(Ne.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=Ne.data.redirect||"/login"},1e3),G&&G();return}Ki(),Nr.value=!1,ue.success(Ne.data.message),Ir.value={...Ne.data.order,...le,items:le.items,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?u:null,card_amount:a==="Split"?c:null},F&&(ri.value=await ga(),Ps(JSON.parse(JSON.stringify(Ir.value)))),ei(JSON.parse(JSON.stringify(Ir.value))),Pe.value=[],gt.value=[],Rt.value=[],Fn()}catch(le){console.error("Order submission error:",le),ue.error(le.response?.data?.message||"Failed to place order")}finally{G&&G()}};ys(async()=>{if(window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(u=>new window.bootstrap.Tooltip(u));const a=document.getElementById("chooseItem");a&&new window.bootstrap.Modal(a,{backdrop:"static"})}p.value="",w.value=Date.now(),await Il(),setTimeout(()=>{x.value=!0;const a=document.getElementById(b);a&&(a.value="",p.value="")},100),B(),W(),Zr()});const St=Db();function Fs(){const a=St.props.flash?.success,u=St.props.flash?.error;a&&ue.success(a,{autoClose:4e3}),u&&ue.error(u,{autoClose:6e3})}ys(()=>Fs()),ys(()=>{St.props.flash?.success;const a=St.props.flash?.error;a&&ue.error(a);const u=St.props.flash?.print_payload;u&&setTimeout(()=>ei(u),250),u&&setTimeout(()=>Ps(u),250)}),Es(()=>St.props.flash,()=>Fs(),{deep:!0});const ni=({id:a,status:u,message:c})=>{ri.value=ri.value.map(g=>g.id===a?{...g,status:u}:g)},Bs=J(!1),ri=J([]),va=J(!1),Dr=J(!1),ii=J([]),si=J(!1),ga=async()=>{Dr.value=!0,ii.value=[],si.value=!0;try{const a=await axios.get("/api/pos/orders/today");ii.value=a.data.orders}catch(a){console.error("Failed to fetch POS orders:",a),ue.error(a.response?.data?.message||"Failed to fetch POS orders")}finally{si.value=!1}},oi=J(!1),ai=J(!1),ji=J(!0),li=J(!0),kr=J([]),$r=J([]),Pe=J([]),ma=a=>{if(Pe.value=a,!a||a.length===0){ue.warning("No promos selected.");return}const u=a.reduce((g,T)=>g+parseFloat(T.applied_discount||0),0);if(u<=0){ue.warning("Selected promos don't provide any discount for current cart items."),Pe.value=[];return}const c=new Set(a.flatMap(g=>g.applied_to_items||[])).size;ue.success(`${a.length} promo(s) applied! Applied to ${c} item(s). You saved ${n(u)}`),oi.value=!1},Zi=async()=>{ji.value=!0,oi.value=!0;try{const a=await axios.get("/api/promos/current");a.data?.success?kr.value=a.data.data||[]:(console.warn("Failed to fetch promos:",a.data),kr.value=[],ue.warning("No promos available at the moment"))}catch(a){console.error("Error fetching current meal promos:",a),kr.value=[],ue.error("Failed to load promotions")}finally{ji.value=!1}},ui=async()=>{li.value=!0,ai.value=!0;try{const a=await axios.get("/api/discounts/all");a.data?.success?$r.value=a.data.data||[]:(console.warn("Failed to fetch discounts:",a.data),$r.value=[],ue.warning("No discounts available at the moment"))}catch(a){console.error("Error fetching current meal discounts:",a),$r.value=[],ue.error("Failed to load discounts")}finally{li.value=!1}},Us=a=>!Pe.value||Pe.value.length===0?!1:Pe.value.some(u=>!u.menu_items||u.menu_items.length===0?!0:u.menu_items.map(g=>g.id).includes(a.id)),ba=a=>{Ir.value=a,Yi.value=!0,Dr.value=!1},Bn=yt(()=>!Pe.value||Pe.value.length===0?0:Pe.value.reduce((a,u)=>{const c=parseFloat(u.discount_amount??0)||0;if(u.applied_discount!==void 0)return a+parseFloat(u.applied_discount);const g=Ws(u);if(u.min_purchase&&g<parseFloat(u.min_purchase))return a;if(u.type==="flat")return a+c;if(u.type==="percent"){const T=g*c/100,F=parseFloat(u.max_discount??0)||0;return F>0&&T>F?a+F:a+T}return a},0)),Ws=a=>{if(!a.menu_items||a.menu_items.length===0)return K.value.reduce((c,g)=>c+g.unit_price*g.qty,0);const u=a.menu_items.map(c=>c.id);return K.value.filter(c=>u.includes(c.id)).reduce((c,g)=>c+g.unit_price*g.qty,0)},Ji=yt(()=>!Pe.value||Pe.value.length===0?[]:Pe.value.map(a=>({promo_id:a.id,promo_name:a.name,promo_type:a.type,discount_amount:a.applied_discount||0,applied_to_items:a.applied_to_items||[]}))),lr=yt(()=>{let a=0;const u=parseFloat(St.props.onboarding.tax_and_vat.tax_rate)||0;return K.value.forEach(c=>{const g=I.value.find(T=>T.id===c.id);if(g&&g.is_taxable){const F=c.unit_price*c.qty*u/100;a+=F}}),a}),ur=yt(()=>K.value.reduce((a,u)=>a+(u.total_resale_discount||0),0)),Un=yt(()=>{const a=_t.value+lr.value+Ct.value+vt.value-ur.value-Bn.value-ti.value;return Math.max(0,a)}),es=a=>{const u=I.value.find(c=>c.id===a.id);return u&&u.is_taxable&&u.tax_percentage?a.unit_price*a.qty*parseFloat(u.tax_percentage)/100:0},cr=a=>{const u=I.value.find(c=>c.id===a.id);return u&&u.is_taxable&&u.tax_percentage?parseFloat(u.tax_percentage):0},ci=a=>{const u=te(a),c=u?u.id:null,T=ne(a).map(G=>G.id).sort().join("-"),F=K.value.find(G=>{const le=(G.addons||[]).map(Ne=>Ne.id).sort().join("-");return G.id===a.id&&G.variant_id===c&&le===T});return F?F.qty:0},ts=a=>{const u=te(a),c=u?u.id:null,g=Pt(a,c);if(!g.length)return!0;const T=ci(a);if(ct(a)<=0)return!1;const G={};for(const le of K.value)Pt(le,le.variant_id).forEach(z=>{const _e=z.inventory_item_id,$e=Number(z.inventory_stock??z.inventory_item?.stock??0);G[_e]||(G[_e]={totalStock:$e,used:0});const Ae=Number(z.quantity??z.qty??1)*le.qty;G[_e].used+=Ae});for(const le of g){const Ne=le.inventory_item_id,z=Number(le.inventory_stock??le.inventory_item?.stock??0),_e=Number(le.quantity??le.qty??1)*(T+1);if(G[Ne]){const $e=G[Ne].totalStock-G[Ne].used,et=ne(a).map(be=>be.id).sort().join("-"),ht=K.value.find(be=>{const Mt=(be.addons||[]).map(tt=>tt.id).sort().join("-");return be.id===a.id&&be.variant_id===c&&Mt===et});if(ht){const be=Number(le.quantity??le.qty??1)*ht.qty;if($e+be<_e)return!1}else if($e<_e)return!1}else if(z<_e)return!1}return!0},ya=a=>{if(Tt(a)<=0)return;const u=te(a),c=parseFloat(u?u.price:a.price),g=u?u.id:null,T=u?u.name:null,F=ne(a),G=q(a),le=c+G,Ne=F.map(Ae=>Ae.id).sort().join("-"),z=u?Yt(u,!0):Yt(a,!1),_e=Pt(a,g);if(!ts(a)){if(_e.length>0){const Ae=T?` (${T})`:"";ue.error(`Not enough ingredients for "${a.title}${Ae}".`)}return}const $e=K.value.findIndex(Ae=>{const et=(Ae.addons||[]).map(ht=>ht.id).sort().join("-");return Ae.id===a.id&&Ae.variant_id===g&&et===Ne});if($e>=0)K.value[$e].qty++,K.value[$e].price=K.value[$e].unit_price*K.value[$e].qty,K.value[$e].total_resale_discount=z*K.value[$e].qty,K.value[$e].outOfStock=!1;else{const Ae=ct(a);K.value.push({id:a.id,title:a.title,img:a.img,price:le,unit_price:Number(le),qty:1,note:"",stock:Ae,ingredients:_e,variant_id:g,variant_name:T,addons:F,outOfStock:!1,resale_discount_per_item:z,total_resale_discount:z})}},qs=a=>{const u=te(a),c=u?u.id:null,T=ne(a).map(le=>le.id).sort().join("-"),F=K.value.findIndex(le=>{const Ne=(le.addons||[]).map(z=>z.id).sort().join("-");return le.id===a.id&&le.variant_id===c&&Ne===T});if(F<0)return;const G=K.value[F];G.qty<=1?K.value.splice(F,1):(G.qty--,G.price=G.unit_price*G.qty,G.outOfStock=!1)},Pt=(a,u)=>!u||!a.variants?.length?a.ingredients??[]:a.variants.find(g=>g.id===u)?.ingredients??a.ingredients??[],di=a=>{if(!a||!a.ingredients?.length)return!0;const u={};for(const c of K.value)(c.ingredients??[]).forEach(T=>{const F=T.inventory_item_id,G=Number(T.inventory_stock??T.inventory_item?.stock??0);u[F]||(u[F]={totalStock:G,used:0});const le=Number(T.quantity??T.qty??1)*c.qty;u[F].used+=le});for(const c of a.ingredients){const g=c.inventory_item_id,T=Number(c.inventory_stock??c.inventory_item?.stock??0);if(u[g]){const F=u[g].totalStock-u[g].used,G=Number(c.quantity??c.qty??1)*a.qty,le=F+G,Ne=Number(c.quantity??c.qty??1)*(a.qty+1);if(le<Ne)return!1}else if(T<Number(c.quantity??c.qty??1))return!1}return!0},qe=J(null),Nn=J(null);let dr=null;const Ea=(a,u)=>{qe.value=JSON.parse(JSON.stringify(a)),Nn.value=u;const c=I.value.find(g=>g.id===a.id);if(c&&c.addon_groups&&c.addon_groups.length>0){const g=new Map;a.addons&&a.addons.forEach(F=>{g.set(F.id,{quantity:F.quantity||1,selected:!0})});const T=[];c.addon_groups.forEach(F=>{F.addons&&F.addons.length>0&&F.addons.forEach(G=>{const le=g.get(G.id);T.push({id:G.id,name:G.name,price:parseFloat(G.price||0),group_id:F.group_id,group_name:F.group_name,quantity:le?.quantity||1,selected:le?.selected||!1})})}),qe.value.addons=T}else qe.value.addons=[];if(!dr){const g=document.getElementById("addonManagementModal");g&&(dr=new bootstrap.Modal(g))}dr&&dr.show()},Hs=a=>{a.selected=!a.selected,a.selected||(a.quantity=1)},wa=a=>{a.selected&&(a.quantity=(a.quantity||1)+1)},Aa=a=>{a.selected&&(a.quantity||1)>1&&(a.quantity-=1)},Vs=a=>a.addons?a.addons.reduce((u,c)=>c.selected!==!1?u+parseFloat(c.price)*(c.quantity||1):u,0):0,Ta=()=>{if(Nn.value===null)return;const a=qe.value.addons.filter(F=>F.selected!==!1),u=qe.value.variant_id?I.value.find(F=>F.id===qe.value.id)?.variants?.find(F=>F.id===qe.value.variant_id):null,c=parseFloat(u?u.price:qe.value.unit_price),g=a.reduce((F,G)=>F+parseFloat(G.price)*(G.quantity||1),0),T=c+g;K.value[Nn.value].addons=a,K.value[Nn.value].unit_price=T,K.value[Nn.value].price=T*K.value[Nn.value].qty,ue.success("Addons updated successfully!"),dr&&dr.hide(),qe.value=null,Nn.value=null},ns=a=>!a.addons||a.addons.length===0?"":a.addons.map(u=>u.name).join(", "),Ks=()=>!qe.value||!qe.value.addons?0:qe.value.addons.filter(a=>a.selected!==!1).length,Rr=yt(()=>St.props.current_user),Ys=yt(()=>i.value.filter(a=>a.menu_items_count&&a.menu_items_count>0)),Gs=yt(()=>Rr.value?.roles?.includes("Cashier")||Rr.value?.roles?.includes("Admin")||Rr.value?.roles?.includes("Manager")),zs=J(`terminal-${Rr.value?.id}`),{broadcastCartUpdate:Fe,broadcastUIUpdate:Me}=Y1(zs.value),xa=Os.debounce(a=>{console.log("📤 Broadcasting cart:",a.items.length,"items"),Fe(a)},300),Ca=Os.debounce(a=>{console.log("📤 Broadcasting UI"),Me(a)},100);Es(()=>({items:K.value.map(a=>({id:a.id,title:a.name||a.title,img:a.image_url||a.img||"/assets/img/default.png",price:parseFloat(a.total||a.price||0),qty:parseInt(a.qty||1),variant_name:a.variant?.name||null,addons:(a.addons||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0)})),resale_discount_per_item:parseFloat(a.resale_discount_per_item||0)})),customer:it.value||"Walk In",phone_number:He.value||"",delivery_location:st.value||"",orderType:Ue.value||"Dine In",table:dt.value?{id:dt.value.id,name:dt.value.name}:null,subtotal:parseFloat(_t.value||0),tax:parseFloat(lr.value||0),serviceCharges:parseFloat(vt.value||0),deliveryCharges:parseFloat(Ct.value||0),saleDiscount:parseFloat(ur.value||0),promoDiscount:parseFloat(Bn.value||0),total:parseFloat(Un.value||0),note:sr.value||"",appliedPromos:(Pe.value||[]).map(a=>({id:a.id,name:a.name,discount:parseFloat(a.discount||0),applied_to_items:a.applied_to_items||[]}))}),a=>{console.log("🔔 Cart changed:",a.items.length,"items, Total:",a.total),xa(a)},{deep:!0,immediate:!0}),Es(()=>({showCategories:xn.value??!0,activeCat:Ze.value||null,menuCategories:(i.value||[]).map(a=>({id:a.id,name:a.name,menu_items_count:a.menu_items_count||0})),menuItems:(I.value||[]).map(a=>({id:a.id,name:a.name,price:parseFloat(a.price||0),image_url:a.image_url||null,description:a.description||"",label_color:a.label_color||"#1B1670",category:a.category?{id:a.category.id,name:a.category.name}:null,variants:(a.variants||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0),is_saleable:u.is_saleable??!1,resale_type:u.resale_type||null,resale_value:parseFloat(u.resale_value||0)})),addon_groups:(a.addon_groups||[]).map(u=>({id:u.id,name:u.name,addons:(u.addons||[]).map(c=>({id:c.id,name:c.name,price:parseFloat(c.price||0)}))})),is_saleable:a.is_saleable??!1,resale_type:a.resale_type||null,resale_value:parseFloat(a.resale_value||0)})),searchQuery:tn.value||"",selectedCardVariant:V.value||{},selectedCardAddons:j.value||{}}),a=>{console.log("🔔 UI changed - Categories:",a.menuCategories.length,"Items:",a.menuItems.length),Ca(a)},{deep:!0,immediate:!0});const Sa=()=>{if(!Gs.value){ue.error("Only cashiers can access customer display");return}const a=route("customer-display.index",{terminal:zs.value});window.open(a,"_blank","width=1920,height=1080")},Yt=(a,u=!1)=>{if(!a)return 0;const c=a.is_saleable??a?.menu_item?.is_saleable,g=a.resale_type??a?.menu_item?.resale_type,T=a.resale_value??a?.menu_item?.resale_value,F=parseFloat(a.price||0);return!c||!g||!T?0:g==="flat"?parseFloat(T):g==="percentage"?F*parseFloat(T)/100:0},Wn=(a,u=!1)=>{const c=parseFloat(a.price||0),g=Yt(a,u);return Math.max(0,c-g)},mn=(a,u=!1)=>{if(!a)return null;const c=a.is_saleable??a?.menu_item?.is_saleable,g=a.resale_type??a?.menu_item?.resale_type,T=a.resale_value??a?.menu_item?.resale_value,F=Yt(a,u);return!c||!g||!T||F<=0?null:{type:g,value:T,amount:F,display:g==="flat"?`Sale ${n(F)}`:`${T}% OFF`}},Xs=a=>{const u=te(a);let c;u?c=Wn(u,!0):c=Wn(a,!1);const g=q(a);return c+g},fr=a=>{if(!a.variants||a.variants.length===0){const T=Yt(a,!1)>0;return{min:Wn(a,!1),max:Wn(a,!1),minOriginal:T?parseFloat(a.price||0):null,maxOriginal:T?parseFloat(a.price||0):null}}const u=a.variants.map(T=>Wn(T,!0)),c=a.variants.map(T=>parseFloat(T.price||0)),g=a.variants.some(T=>Yt(T,!0)>0);return{min:Math.min(...u),max:Math.max(...u),minOriginal:g?Math.min(...c):null,maxOriginal:g?Math.max(...c):null}},Je=()=>{if(!Q.value)return 0;const a=Se();return a?Wn(a,!0):Wn(Q.value,!1)},rs=()=>Je()+kt();return(a,u)=>(M(),P(Ke,null,[An(Te($b),{title:"Sale"}),An(Rb,null,{default:ws(()=>[_("div",G1,[_("div",z1,[_("div",X1,[_("div",{class:jn(xn.value?"col-md-12":"col-lg-8")},[xn.value?(M(),P("div",Q1,[_("div",j1,[u[24]||(u[24]=_("h4",{class:"mb-0"},"Menu Categories",-1)),Gs.value?(M(),P("button",{key:0,onClick:Sa,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...u[22]||(u[22]=[_("i",{class:"bi bi-tv"},null,-1),_("span",null,"Customer View",-1)])])):pe("",!0),_("div",Z1,[u[23]||(u[23]=_("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),x.value?un((M(),P("input",{id:b,"onUpdate:modelValue":u[0]||(u[0]=c=>p.value=c),key:w.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:b,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[Zn,p.value]]):(M(),P("input",J1))])]),u[27]||(u[27]=_("hr",null,null,-1)),d.value?(M(),P("div",eA,[...u[25]||(u[25]=[_("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),_("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(M(),P(Ke,{key:1},[(M(!0),P(Ke,null,Et(O.value,c=>(M(),P("div",{key:c.id,class:"col-6 col-md-4 col-lg-4"},[_("div",{class:"cat-card",onClick:g=>Cn(c)},[_("div",nA,[_("span",rA,[c.image_url?(M(),P("img",{key:0,src:c.image_url,alt:"Category Image",class:"cat-image"},null,8,iA)):(M(),P("span",sA,"🍵"))])]),_("div",oA,U(c.name),1),_("div",aA,U(c.menu_items_count)+" Menu ",1)],8,tA)]))),128)),!d.value&&O.value.length===0?(M(),P("div",lA,[...u[26]||(u[26]=[_("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):pe("",!0)],64))])):(M(),P("div",uA,[_("div",cA,[_("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:ir},[...u[28]||(u[28]=[_("i",{class:"bi bi-arrow-left me-1"},null,-1),Ht(" Back ",-1)])]),_("h5",dA,U(i.value.find(c=>c.id===Ze.value)?.name||"Items"),1),_("div",fA,[An(qb,{modelValue:ft.value,"onUpdate:modelValue":u[1]||(u[1]=c=>ft.value=c),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:xt,onClear:at},null,8,["modelValue"]),_("div",hA,[u[29]||(u[29]=_("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),un(_("input",{"onUpdate:modelValue":u[2]||(u[2]=c=>tn.value=c),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[Zn,tn.value]])])])]),_("div",pA,[(M(!0),P(Ke,null,Et(qi.value,c=>(M(),P("div",{class:"col-12 col-md-6 cat-cards col-xl-6 d-flex",key:c.id},[_("div",{class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:Nl({borderColor:c.label_color||"#1B1670"})},[_("div",_A,[_("img",{src:c.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,vA),c.variants&&c.variants.length>0?(M(),P("div",gA,[fr(c).minOriginal!==null?(M(),P("span",mA,U(Te(n)(fr(c).minOriginal)),1)):pe("",!0),_("span",bA,U(Te(n)(fr(c).min))+" - ",1),fr(c).maxOriginal!==null?(M(),P("span",yA,U(Te(n)(fr(c).maxOriginal)),1)):pe("",!0),_("span",EA,U(Te(n)(fr(c).max)),1)])):pe("",!0),_("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:Nl({background:c.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[mn(te(c)||c,!!c.variants?.length)?(M(),P(Ke,{key:0},[_("span",wA,U(Te(n)(te(c)?.price||c.price)),1),_("span",AA,U(Te(n)(Xs(c))),1)],64)):(M(),P(Ke,{key:1},[Ht(U(Te(n)(te(c)?.price||c.price)),1)],64))],4),Tt(c)<=0?(M(),P("span",TA," OUT OF STOCK ")):pe("",!0)]),_("div",xA,[c.variants&&c.variants.length>0&&mn(te(c),!0)||(!c.variants||c.variants.length===0)&&mn(c,!1)?(M(),P("span",CA,U(c.variants&&c.variants.length>0?mn(te(c),!0).display:mn(c,!1).display),1)):pe("",!0),_("div",null,[_("div",{class:"h5 fw-bold mb-2 menu-name",style:Nl({color:c.label_color||"#1B1670"})},U(c.title),5),c.variants&&c.variants.length>0?(M(),P("div",SA,[u[30]||(u[30]=_("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),un(_("select",{"onUpdate:modelValue":g=>V.value[c.id]=g,class:"form-select form-select-sm variant-select",onChange:g=>re(c,g),onClick:u[3]||(u[3]=Po(()=>{},["stop"]))},[(M(!0),P(Ke,null,Et(c.variants,g=>(M(),P("option",{key:g.id,value:g.id},[Ht(U(g.name)+" - "+U(Te(n)(g.price))+" ",1),g.is_saleable&&Yt(g,!0)>0?(M(),P(Ke,{key:0},[Ht(" (Sale: "+U(Te(n)(Yt(g,!0)))+") ",1)],64)):pe("",!0)],8,IA))),128))],40,OA),[[Ll,V.value[c.id]]])])):pe("",!0),c.addon_groups&&c.addon_groups.length>0?(M(),P("div",NA,[(M(!0),P(Ke,null,Et(c.addon_groups,g=>(M(),P("div",{key:g.group_id,class:"mb-3"},[_("label",LA,[Ht(U(g.group_name)+" ",1),g.max_select>0?(M(),P("span",DA," (Max "+U(g.max_select)+") ",1)):pe("",!0)]),An(Te(vd),{modelValue:j.value[c.id]?.[g.group_id]||[],"onUpdate:modelValue":T=>S(c,g.group_id,T),options:g.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect"},{value:ws(T=>[T.value&&T.value.length>0?(M(),P("div",kA,[(M(!0),P(Ke,null,Et(T.value,F=>(M(),P("span",{key:F.id,class:"badge bg-primary"},U(F.name)+" +"+U(Te(n)(F.price)),1))),128))])):(M(),P("span",$A,U(T.placeholder),1))]),option:ws(T=>[_("div",RA,[_("span",null,U(T.option.name),1),_("span",PA," +"+U(Te(n)(T.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):pe("",!0),_("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:g=>ke(c)}," View Details ",8,MA)]),_("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:u[4]||(u[4]=Po(()=>{},["stop"]))},[_("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Po(g=>qs(c),["stop"]),disabled:ci(c)<=0},[...u[31]||(u[31]=[_("strong",null,"−",-1)])],8,FA),_("div",BA,U(ci(c)),1),_("button",{class:jn(["qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",{"opacity-50":Tt(c)<=0}]),style:{width:"55px",height:"36px"},onClick:Po(g=>ya(c),["stop"]),disabled:!ts(c)||Tt(c)<=0},[...u[32]||(u[32]=[_("strong",null,"+",-1)])],10,UA)])])],4)]))),128))])]))],2),xn.value?pe("",!0):(M(),P("div",WA,[_("div",{class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},[_("button",{class:"btn btn-warning rounded-pill px-3 py-2 promos-btn",onClick:Zi}," Promos "),_("button",{class:"btn btn-warning rounded-pill px-3 py-2 discount-btn",onClick:ui}," Discounts ")]),_("div",qA,[_("div",HA,[_("div",VA,[(M(!0),P(Ke,null,Et(ot.value,(c,g)=>(M(),P("button",{key:g,class:jn(["ot-pill btn cart-header-buttons",{active:Ue.value===c}]),onClick:T=>Ue.value=c},U(c.replace(/_/g," ")),11,KA))),128)),u[33]||(u[33]=_("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),_("div",YA,[_("div",GA,[Ue.value==="Dine_in"?(M(),P("div",zA,[_("div",XA,[u[35]||(u[35]=_("label",{class:"form-label small"},"Table",-1)),un(_("select",{"onUpdate:modelValue":u[5]||(u[5]=c=>dt.value=c),class:"form-select form-select-sm"},[u[34]||(u[34]=_("option",{value:null},"Select Table",-1)),(M(!0),P(Ke,null,Et(Sn.value.table_details,(c,g)=>(M(),P("option",{key:g,value:c},U(c.name),9,QA))),128))],512),[[Ll,dt.value]]),lt.value.table_number?(M(),P("div",jA,U(lt.value.table_number[0]),1)):pe("",!0)]),_("div",ZA,[u[36]||(u[36]=_("label",{class:"form-label small"},"Customer",-1)),un(_("input",{"onUpdate:modelValue":u[6]||(u[6]=c=>it.value=c),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[Zn,it.value]])])])):(M(),P("div",JA,[u[37]||(u[37]=_("label",{class:"form-label small"},"Customer",-1)),un(_("input",{"onUpdate:modelValue":u[7]||(u[7]=c=>it.value=c),class:jn(["form-control form-control-sm",{"is-invalid":lt.value.customer}]),placeholder:"Walk In"},null,2),[[Zn,it.value]]),lt.value.customer?(M(),P("div",eT,U(lt.value.customer[0]),1)):pe("",!0)])),Ue.value==="Delivery"?(M(),P("div",tT,[u[38]||(u[38]=_("label",{class:"form-label small"},"Delivery Location",-1)),un(_("input",{"onUpdate:modelValue":u[8]||(u[8]=c=>st.value=c),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[Zn,st.value]]),lt.value.delivery_location?(M(),P("div",nT,U(lt.value.delivery_location[0]),1)):pe("",!0),u[39]||(u[39]=_("label",{class:"form-label small mt-2"},"Phone Number",-1)),un(_("input",{"onUpdate:modelValue":u[9]||(u[9]=c=>He.value=c),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[Zn,He.value]]),lt.value.phone_number?(M(),P("div",rT,U(lt.value.phone_number[0]),1)):pe("",!0)])):pe("",!0)]),_("div",iT,[K.value.length===0?(M(),P("div",sT," Add items from the left ")):pe("",!0),(M(!0),P(Ke,null,Et(K.value,(c,g)=>(M(),P("div",{key:c.title,class:"line"},[_("div",oT,[_("img",{src:c.img,alt:""},null,8,aT),_("div",lT,[_("div",{class:"name",title:c.title},U(c.title),9,uT),c.resale_discount_per_item>0?(M(),P("div",cT,[_("span",dT,[u[40]||(u[40]=_("i",{class:"bi bi-tag-fill"},null,-1)),Ht(" Save "+U(Te(n)(c.resale_discount_per_item)),1)])])):pe("",!0),c.addons&&c.addons.length>0?(M(),P("div",fT,[_("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:T=>Ea(c,g),title:ns(c)},[u[41]||(u[41]=_("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),_("span",pT,U(c.addons.length)+" addon(s)",1)],8,hT),c.variant_name?(M(),P("span",_T,U(c.variant_name),1)):pe("",!0),Us(c)?(M(),P("span",vT,[...u[42]||(u[42]=[_("i",{class:"bi bi-tag-fill"},null,-1)])])):pe("",!0)])):pe("",!0),c.note?(M(),P("div",gT,U(c.note),1)):pe("",!0)])]),_("div",mT,[_("div",bT,[_("button",{class:"qty-btn",onClick:T=>Sr(g)},"−",8,yT),_("div",ET,U(c.qty),1),_("button",{class:jn(["qty-btn",{"bg-secondary text-white cursor-not-allowed opacity-70":c.outOfStock||!di(c)}]),onClick:T=>Mn(g),disabled:c.outOfStock||!di(c)}," + ",10,wT)]),_("div",AT,[_("div",TT,U(Te(n)(c.price)),1),_("button",{class:"del",onClick:T=>On(g)},[...u[43]||(u[43]=[_("i",{class:"bi bi-trash"},null,-1)])],8,xT)])])]))),128))]),_("div",CT,[_("div",ST,[u[44]||(u[44]=_("span",null,"Sub Total",-1)),_("b",OT,U(Te(n)(_t.value)),1)]),lr.value>0?(M(),P("div",IT,[u[45]||(u[45]=_("span",{class:"d-flex align-items-center gap-2"},[_("i",{class:"bi bi-receipt text-info"}),Ht(" Tax ")],-1)),_("b",NT,U(Te(n)(lr.value)),1)])):pe("",!0),vt.value>0?(M(),P("div",LT,[u[46]||(u[46]=_("span",{class:"text-muted"},"Service Charges:",-1)),_("span",DT,U(Te(n)(vt.value)),1)])):pe("",!0),Ct.value>0?(M(),P("div",kT,[u[47]||(u[47]=_("span",{class:"text-muted"},"Delivery Charges:",-1)),_("span",$T,U(Te(n)(Ct.value)),1)])):pe("",!0),ur.value>0?(M(),P("div",RT,[u[48]||(u[48]=_("span",{class:"d-flex align-items-center gap-2"},[_("span",{class:"text-danger"},"Sale Discount:")],-1)),_("b",PT,"-"+U(Te(n)(ur.value)),1)])):pe("",!0),Pe.value&&Pe.value.length>0?(M(),P("div",MT,[_("div",FT,[_("div",BT,[u[49]||(u[49]=_("span",{class:"text-success"},"Promo Discount:",-1)),_("b",UT,"-"+U(Te(n)(Bn.value)),1)])])])):pe("",!0),Rt.value.length>0?(M(),P("div",WT,[u[51]||(u[51]=_("div",{class:"alert alert-warning py-2 px-3 mb-2"},[_("div",{class:"d-flex align-items-center gap-2"},[_("i",{class:"bi bi-clock-history"}),_("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(M(!0),P(Ke,null,Et(Rt.value,c=>(M(),P("div",{key:c.id,class:"trow"},[_("span",qT,[u[50]||(u[50]=_("i",{class:"bi bi-hourglass-split"},null,-1)),_("span",null,U(c.discountData?.name||"Discount")+" ("+U(c.percentage)+"%)",1)]),_("span",HT," -"+U(Te(n)(Qi(c.percentage))),1)]))),128)),u[52]||(u[52]=_("small",{class:"text-muted d-block mt-1 ms-4"},[_("i",{class:"bi bi-info-circle me-1"}),Ht(" Will apply after Super Admin approval ")],-1))])):pe("",!0),gt.value.length>0?(M(),P("div",VT,[_("div",KT,[u[53]||(u[53]=_("div",{class:"d-flex align-items-center text-success gap-2"},[_("i",{class:"bi bi-check-circle"}),_("small",{class:"fw-semibold"},"Approved Discounts"),_("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),_("b",YT,"-"+U(Te(n)(ti.value)),1)])])):pe("",!0),_("div",GT,[u[54]||(u[54]=_("span",null,"Total",-1)),_("b",null,U(Te(n)(Un.value)),1)])]),_("div",zT,[u[55]||(u[55]=_("label",{for:"frontNote",class:"form-label small fw-semibold"},"Front Note",-1)),un(_("textarea",{id:"frontNote","onUpdate:modelValue":u[10]||(u[10]=c=>sr.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[Zn,sr.value]])]),_("div",XT,[u[56]||(u[56]=_("label",{for:"kitchenNote",class:"form-label small fw-semibold"},"Kitchen Note",-1)),un(_("textarea",{id:"kitchenNote","onUpdate:modelValue":u[11]||(u[11]=c=>or.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[Zn,or.value]])])]),_("div",QT,[_("button",{class:"btn btn-secondary btn-clear",onClick:u[12]||(u[12]=c=>Ki())}," Clear "),_("button",{class:"btn btn-primary btn-place",onClick:ua}," Place Order ")])])]))])]),_("div",jT,[_("div",ZT,[_("div",JT,[_("div",ex,[_("h5",tx,U(Q.value?.title||"Choose Item"),1),u[57]||(u[57]=_("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),_("div",nx,[_("div",rx,[_("div",ix,[_("img",{src:Q.value?.image_url||Q.value?.img||"/assets/img/product/product29.jpg",class:"img-fluid rounded-3 w-100",alt:""},null,8,sx)]),_("div",ox,[_("div",ax,[_("div",lx,[_("span",null,U(Te(n)(rs())),1),Se()&&mn(Se(),!0)?(M(),P(Ke,{key:0},[_("span",ux,U(Te(n)(Kt()+kt())),1),_("span",cx,U(mn(Se(),!0).display),1)],64)):Q.value&&(!Q.value.variants||Q.value.variants.length===0)&&mn(Q.value,!1)?(M(),P(Ke,{key:1},[_("span",dx,U(Te(n)(Kt()+kt())),1),_("span",fx,U(mn(Q.value,!1).display),1)],64)):pe("",!0)])]),Q.value?.variants&&Q.value.variants.length>0?(M(),P("div",hx,[u[58]||(u[58]=_("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),un(_("select",{"onUpdate:modelValue":u[13]||(u[13]=c=>In.value=c),class:"form-select form-select-sm",onChange:je},[(M(!0),P(Ke,null,Et(Q.value.variants,c=>(M(),P("option",{key:c.id,value:c.id},U(c.name)+" - "+U(Te(n)(c.price)),9,px))),128))],544),[[Ll,In.value]])])):pe("",!0),$().length>0?(M(),P("div",_x,[u[59]||(u[59]=_("label",{class:"form-label small fw-semibold mb-2 d-flex align-items-center"},[_("i",{class:"bi bi-egg-fried me-2 text-warning"}),Ht(" Remove Ingredients ")],-1)),_("div",vx,[(M(!0),P(Ke,null,Et($(),c=>(M(),P("div",{key:c.id||c.inventory_item_id,class:"form-check d-flex align-items-center justify-content-between py-2 px-2 mb-1 rounded hover-bg-white",style:{cursor:"pointer"}},[_("div",gx,[_("input",{type:"checkbox",class:"form-check-input",id:"ingredient-"+(c.id||c.inventory_item_id),checked:!X(c.id||c.inventory_item_id),onChange:g=>ce(c.id||c.inventory_item_id),style:{cursor:"pointer",width:"20px",height:"20px",margin:"0","flex-shrink":"0"}},null,40,mx),_("label",{for:"ingredient-"+(c.id||c.inventory_item_id),class:jn(["form-check-label mb-0 flex-grow-1",{"text-decoration-line-through text-muted opacity-50":X(c.id||c.inventory_item_id)}]),style:{cursor:"pointer"}},U(c.product_name||c.name||"Ingredient"),11,bx)]),_("span",{class:jn(["badge ms-2",X(c.id||c.inventory_item_id)?"bg-secondary":"bg-primary"])},U(c.quantity||1)+" "+U(c.unit||"unit"),3)]))),128))])])):pe("",!0),Q.value?.addon_groups&&Q.value.addon_groups.length>0?(M(),P("div",yx,[(M(!0),P(Ke,null,Et(Q.value.addon_groups,c=>(M(),P("div",{key:c.group_id,class:"mb-3"},[_("label",Ex,[Ht(U(c.group_name)+" ",1),c.max_select>0?(M(),P("span",wx," (Max "+U(c.max_select)+") ",1)):pe("",!0)]),An(Te(vd),{modelValue:vn.value[c.group_id]||[],"onUpdate:modelValue":g=>wt(c.group_id,g),options:c.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect",appendTo:"self"},{value:ws(g=>[g.value&&g.value.length>0?(M(),P("div",Ax,[(M(!0),P(Ke,null,Et(g.value,T=>(M(),P("span",{key:T.id,class:"badge bg-primary"},U(T.name)+" +"+U(Te(n)(T.price)),1))),128))])):(M(),P("span",Tx,U(g.placeholder),1))]),option:ws(g=>[_("div",xx,[_("span",null,U(g.option.name),1),_("span",Cx," +"+U(Te(n)(g.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):pe("",!0),_("div",Sx,[u[60]||(u[60]=_("div",{class:"mb-1"},[_("strong",null,"Nutrition:")],-1)),We()?.calories?(M(),P("span",Ox," Cal: "+U(We().calories),1)):pe("",!0),We()?.carbs?(M(),P("span",Ix," Carbs: "+U(We().carbs),1)):pe("",!0),We()?.fat?(M(),P("span",Nx," Fat: "+U(We().fat),1)):pe("",!0),We()?.protein?(M(),P("span",Lx," Protein: "+U(We().protein),1)):pe("",!0),u[61]||(u[61]=_("div",{class:"w-100 mt-2"},[_("strong",null,"Allergies:")],-1)),(M(!0),P(Ke,null,Et(Ge(),(c,g)=>(M(),P("span",{key:"a-"+g,class:"chip chip-red"},U(c.name),1))),128)),u[62]||(u[62]=_("div",{class:"w-100 mt-2"},[_("strong",null,"Tags:")],-1)),(M(!0),P(Ke,null,Et(At(),(c,g)=>(M(),P("span",{key:"t-"+g,class:"chip chip-teal"},U(c.name),1))),128))]),_("div",Dx,[_("button",{class:"qty-btn",onClick:aa}," − "),_("div",kx,U(ze.value),1),_("button",{class:"qty-btn",onClick:oa,disabled:!Rs()}," + ",8,$x)]),_("div",Rx,[u[63]||(u[63]=_("label",{class:"form-label small fw-semibold mb-1"}," Kitchen Note (Optional) ",-1)),un(_("textarea",{"onUpdate:modelValue":u[14]||(u[14]=c=>gn.value=c),class:"form-control form-control-sm",rows:"4",placeholder:"Special instructions to kitchen for this item (e.g., extra spicy, no onions)...",maxlength:"200"},null,512),[[Zn,gn.value]])])])])]),_("div",{class:"modal-footer border-0"},[_("button",{class:"btn btn-primary btn-sm py-2 rounded-pill px-4",onClick:Hi}," Add to Cart ")])])])]),_("div",Px,[_("div",Mx,[_("div",Fx,[u[74]||(u[74]=_("div",{class:"modal-header border-0 pb-2"},[_("h5",{class:"modal-title fw-bold"},[_("i",{class:"bi bi-puzzle-fill text-primary me-2"}),Ht(" Manage Add-ons ")]),_("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),qe.value?(M(),P("div",Bx,[_("div",Ux,[_("div",Wx,[_("img",{src:qe.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,qx),_("div",Hx,[_("div",Vx,U(qe.value.title),1),_("div",Kx,[_("small",Yx,[u[64]||(u[64]=_("i",{class:"bi bi-tag me-1"},null,-1)),u[65]||(u[65]=Ht(" Base Price: ",-1)),_("span",Gx,U(Te(n)(qe.value?.unit_price-Vs(K.value[Nn.value]||{addons:[]}))),1)]),_("small",zx,[u[66]||(u[66]=_("i",{class:"bi bi-box me-1"},null,-1)),u[67]||(u[67]=Ht(" Quantity: ",-1)),_("span",Xx,U(qe.value.qty),1)])])])])]),qe.value.addons&&qe.value.addons.length>0?(M(),P("div",Qx,[_("table",jx,[u[70]||(u[70]=_("thead",{class:"table-light"},[_("tr",null,[_("th",{style:{width:"60px"},class:"text-center"},"Select"),_("th",null,"Items"),_("th",{style:{width:"120px"},class:"text-center"},"Price"),_("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),_("tbody",null,[(M(!0),P(Ke,null,Et(qe.value.addons,c=>(M(),P("tr",{key:c.id,class:jn({"table-active":c.selected!==!1})},[_("td",Zx,[_("div",Jx,[_("input",{type:"checkbox",class:"form-check-input",checked:c.selected!==!1,onChange:g=>Hs(c),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,eC)])]),_("td",null,[_("div",tC,[_("div",{class:jn(["addon-status-indicator",c.selected!==!1?"bg-success":"bg-secondary"])},null,2),_("div",null,[_("div",nC,U(c.name),1),c.group_name?(M(),P("small",rC,U(c.group_name),1)):pe("",!0)])])]),_("td",iC,[_("span",sC," +"+U(Te(n)(c.price)),1)]),_("td",null,[_("div",oC,[_("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:g=>Aa(c),disabled:!c.selected||(c.quantity||1)<=1},[...u[68]||(u[68]=[_("i",{class:"bi bi-dash-lg"},null,-1)])],8,aC),_("span",lC,U(c.quantity||1),1),_("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:g=>wa(c),disabled:!c.selected},[...u[69]||(u[69]=[_("i",{class:"bi bi-plus-lg"},null,-1)])],8,uC)])])],2))),128))])])])):(M(),P("div",cC,[...u[71]||(u[71]=[_("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),_("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),_("div",dC,[Ks()>0?(M(),P("div",fC,[_("small",hC,[u[72]||(u[72]=_("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),Ht(" "+U(Ks())+" add-on(s) selected • Add-ons Total: "+U(Te(n)(Vs(qe.value))),1)])])):pe("",!0)])])):pe("",!0),_("div",{class:"modal-footer border-0 pt-0 bg-light"},[u[73]||(u[73]=_("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),_("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:Ta}," Save ")])])])]),An(Bb,{show:Bs.value,kot:ri.value,loading:va.value,onClose:u[15]||(u[15]=c=>Bs.value=!1),onStatusUpdated:ni},null,8,["show","kot","loading"]),An(Mb,{show:Yi.value,order:Ir.value,money:Jr,onClose:u[16]||(u[16]=c=>Yi.value=!1)},null,8,["show","order"]),An(Pb,{show:Nr.value,customer:it.value,"delivery-location":st.value,phone:He.value,"order-type":Ue.value,"selected-table":dt.value,"order-items":K.value,"grand-total":Un.value,money:Jr,cashReceived:Gi.value,"onUpdate:cashReceived":u[17]||(u[17]=c=>Gi.value=c),client_secret:o.client_secret,order_code:o.order_code,"sub-total":_t.value,tax:lr.value,"service-charges":vt.value,"delivery-charges":Ct.value,"promo-discount":Bn.value,"promo-id":Pe.value?.id,"promo-name":Pe.value?.name,"promo-type":Pe.value?.type,"promo-discount-amount":Bn.value,note:sr.value,"kitchen-note":or.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":zi.value,change:ca.value,onClose:u[18]||(u[18]=c=>Nr.value=!1),onConfirm:_a,appliedPromos:Ji.value,"approved-discounts":ti.value,"approved-discount-details":gt.value.map(c=>({discount_id:c.id,discount_name:c.name,discount_percentage:c.percentage,discount_amount:Qi(c.percentage),approval_id:c.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),An(Wb,{show:Dr.value,orders:ii.value,onClose:u[19]||(u[19]=c=>Dr.value=!1),onViewDetails:ba,loading:si.value},null,8,["show","orders","loading"]),An(Fb,{show:oi.value,loading:ji.value,promos:kr.value,"order-items":K.value,onApplyPromo:ma,onClose:u[20]||(u[20]=c=>oi.value=!1)},null,8,["show","loading","promos","order-items"]),An(Hb,{show:ai.value,discounts:$r.value,"order-items":K.value,loading:li.value,"applied-discounts":gt.value,"rejected-discounts":Lr.value,onClose:u[21]||(u[21]=c=>ai.value=!1),onApplyDiscount:da,onClearDiscount:pa},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"])])]),_:1})],64))}},WC=Lb(pC,[["__scopeId","data-v-d2d876f4"]]);export{WC as default};

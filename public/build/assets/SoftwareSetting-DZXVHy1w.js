import{_ as k,r as p,c as g,f as u,b as l,e,l as m,F as j,g as z,x as O,i as b,t as _,a as B,j as E,p as F,q as h}from"./app-TGxiLcAW.js";import L from"./Step1-CuO7M_QP.js";import T from"./Step2-DZFYOjvF.js";import A from"./Step3-Cl2W8vqO.js";import I from"./Step4-i6CTdLJ6.js";import M from"./Step5-DeysowJC.js";import P from"./Step6-BGJCrPlE.js";import V from"./Step7-CGTvc1g4.js";import $ from"./Step8-DpbiTJUT.js";import N from"./Step9-r-EY9tET.js";import"./index-DdttPxST.js";import"./index-2u1IeWL4.js";import"./index-C29vjDIk.js";import"./index-gBL-8oHP.js";import"./index-0YkJ-kOr.js";import"./useFormatters-C4x7YHWO.js";const R={class:"settings-wrapper"},q={class:"settings-sidebar-horizontal mb-3"},H={class:"settings-nav-horizontal shadow-sm rounded-4 p-3"},U={class:"nav-horizontal-container"},G={class:"nav nav-pills nav-horizontal gap-2"},J=["onClick"],K={class:"fw-semibold small"},Q={class:"row g-0"},W={class:"col-12"},X={class:"card shadow-sm border-0 rounded-4"},Y={class:"card-header border-0 p-4"},Z={class:"d-flex align-items-start gap-3"},ee={class:"icon-wrapper"},te={class:"flex-grow-1"},se={class:"mb-1 fw-bold"},ie={class:"text-muted small mb-0"},ae={class:"card-body p-4 settings-content"},oe={class:"card-footer bg-light border-0 p-4"},ne={class:"d-flex justify-content-between align-items-center"},re=["disabled"],le={key:0},ce={key:1},de={__name:"SoftwareSetting",props:{profile:Object,profileData:Object},setup(S){const a=S,o=p(1),c=p({}),d=p(!1),i=p({...a.profileData.step1,...a.profileData.step2,...a.profileData.step3,...a.profileData.step4,...a.profileData.step5,...a.profileData.step6,...a.profileData.step7,...a.profileData.step8,...a.profileData.step9}),f=[{id:1,title:"Language & Location",icon:"bi-globe",description:"Set your timezone, language, and regional preferences"},{id:2,title:"Business Information",icon:"bi-building",description:"Update restaurant name, contact details, and address"},{id:3,title:"Currency & Locale",icon:"bi-currency-dollar",description:"Configure currency, number and date formats"},{id:4,title:"Tax & VAT",icon:"bi-receipt",description:"Manage tax registration and rates"},{id:5,title:"Service Options",icon:"bi-cart-check",description:"Configure order types and table management"},{id:6,title:"Receipt & Printers",icon:"bi-printer",description:"Customize receipts and printer settings"},{id:7,title:"Payment Methods",icon:"bi-credit-card",description:"Enable and configure payment options"},{id:8,title:"Business Hours",icon:"bi-clock",description:"Set your operating hours"},{id:9,title:"Optional Features",icon:"bi-gear",description:"Additional features and settings"}],y={1:L,2:T,3:A,4:I,5:M,6:P,7:V,8:$,9:N},x=g(()=>y[o.value]),v=g(()=>f.find(t=>t.id===o.value));g(()=>o.value/f.length*100);const w=t=>{Object.assign(i.value,t?.data||{})};async function C(){c.value={},d.value=!0;try{let t,s={};o.value===2&&i.value.logo_file||o.value===6&&i.value.receipt_logo_file?(t=new FormData,Object.keys(i.value).forEach(r=>{i.value[r]!==null&&i.value[r]!==void 0&&t.append(r,i.value[r])}),s.headers={"Content-Type":"multipart/form-data"}):t=i.value;const{data:n}=await F.post(`/settings/update/${o.value}`,t,s);Object.assign(i.value,n.data||{}),h.success("Settings updated successfully!")}catch(t){t?.response?.status===422&&t.response.data?.errors?(c.value=t.response.data.errors,h.error("Please fix the validation errors.")):(h.error(t.response?.data?.message||"An unexpected error occurred."),console.error(t))}finally{d.value=!1}}function D(t){c.value={},o.value=t}return(t,s)=>(l(),u("div",R,[s[4]||(s[4]=e("div",{class:"settings-header mb-2 px-2"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("div",null,[e("h3",{class:"fw-bold mb-0"},"Restaurant Settings")])])],-1)),e("div",q,[e("div",H,[s[0]||(s[0]=e("div",{class:"mb-3"},[e("h6",{class:"text-muted text-uppercase small fw-bold mb-3"},[e("i",{class:"bi bi-gear-fill me-2"}),m(" Settings ")])],-1)),e("div",U,[e("ul",G,[(l(),u(j,null,z(f,n=>e("li",{class:"nav-item",key:n.id},[e("a",{class:b(["nav-link-horizontal d-flex align-items-center gap-2 py-2 px-4",{active:o.value===n.id}]),onClick:O(r=>D(n.id),["prevent"]),href:"#",role:"button"},[e("i",{class:b(n.icon)},null,2),e("span",K,_(n.title),1)],10,J)])),64))])])])]),e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("i",{class:b([v.value?.icon,"fs-3"])},null,2)]),e("div",te,[e("h5",se,_(v.value?.title),1),e("p",ie,_(v.value?.description),1)])])]),e("div",ae,[(l(),B(E(x.value),{key:o.value,model:i.value,"form-errors":c.value,onSave:w},null,40,["model","form-errors"]))]),e("div",oe,[e("div",ne,[s[3]||(s[3]=e("small",{class:"text-muted"},[e("i",{class:"bi bi-info-circle me-1"}),m(" Changes will be saved immediately ")],-1)),e("button",{class:"btn btn-primary px-4 rounded-pill",onClick:C,disabled:d.value},[d.value?(l(),u("span",le,[...s[1]||(s[1]=[e("span",{class:"spinner-border spinner-border-sm me-2"},null,-1),m(" Saving... ",-1)])])):(l(),u("span",ce,[...s[2]||(s[2]=[e("i",{class:"bi bi-check-circle me-2"},null,-1),m(" Save Changes ",-1)])]))],8,re)])])])])])]))}},je=k(de,[["__scopeId","data-v-081fda4d"]]);export{je as default};

import{_ as k,c as $,g as n,b as l,f as s,l as u,p as c,F as b,i as f,t as a,u as C,y as j,K as M,j as O}from"./app-DaLeCts1.js";import{u as B}from"./useFormatters-CV7VkEY5.js";const D={class:"modal-dialog modal-xl modal-dialog-scrollable"},I={class:"modal-content rounded-4 border-0 shadow-lg"},L={class:"modal-header border-0 bg-warning bg-opacity-10"},N={class:"modal-body p-4"},P={key:0,class:"text-center py-5"},R={key:1,class:"text-center py-5"},T={key:2,class:"row g-3"},z={class:"card shadow-sm border-warning border-2 hover-shadow"},F={class:"card-body p-3"},H={class:"align-items-center"},S={class:"col-lg-12"},V={class:"d-flex align-items-start gap-3"},A={class:"flex-grow-1"},W={class:"fw-bold mb-1"},q={class:"badge ms-2",style:{"background-color":"#1C0D82",padding:"8px","border-radius":"6px"}},E={key:0,class:"badge bg-info ms-1"},K={class:"text-muted small mb-2"},U={class:"mb-2"},G={class:"fw-semibold text-secondary"},J={class:"d-flex flex-wrap gap-1 mt-1"},Q={key:0,class:"badge bg-secondary"},X={class:"fw-bold text-success fs-5"},Y={class:"d-flex gap-2 mt-2"},Z=["onClick"],ss=["onClick"],es={class:"modal-footer border-0"},ts={key:0,class:"modal-backdrop fade show"},os={__name:"PendingOrdersModal",props:{show:Boolean,pendingOrders:{type:Array,default:()=>[]},loading:Boolean},emits:["close","resume","reject"],setup(i,{emit:h}){const{formatCurrencySymbol:p}=B(),y=i,v=h,_=$(()=>y.pendingOrders.filter(o=>o.type==="held")),w=o=>{const e=new Date,t=new Date(o),r=e-t,d=Math.floor(r/6e4);if(d<1)return"just now";if(d<60)return`${d} min${d>1?"s":""} ago`;const m=Math.floor(d/60);if(m<24)return`${m} hour${m>1?"s":""} ago`;const g=Math.floor(m/24);return`${g} day${g>1?"s":""} ago`},x=o=>{confirm(`Are you sure you want to reject order for "${o.customer_name||"Walk In"}"? This action cannot be undone.`)&&v("reject",o)};return(o,e)=>(l(),n(b,null,[s("div",{class:O(["modal fade",{show:i.show,"d-block":i.show}]),style:M({display:i.show?"block":"none"}),tabindex:"-1",onClick:e[2]||(e[2]=j(t=>o.$emit("close"),["self"]))},[s("div",D,[s("div",I,[s("div",L,[e[4]||(e[4]=s("div",null,[s("h5",{class:"fw-bold mb-0"},[s("i",{class:"bi bi-clock-history text-warning me-2"}),c(" Pending Orders ")]),s("small",{class:"text-muted"},"Hold and resume orders")],-1)),s("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:e[0]||(e[0]=t=>o.$emit("close"))},[...e[3]||(e[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",N,[i.loading?(l(),n("div",P,[...e[5]||(e[5]=[s("div",{class:"spinner-border text-warning",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),s("p",{class:"mt-3 text-muted"},"Loading pending orders...",-1)])])):!i.loading&&(!i.pendingOrders||i.pendingOrders.length===0)?(l(),n("div",R,[...e[6]||(e[6]=[s("i",{class:"bi bi-inbox",style:{"font-size":"4rem",opacity:"0.2"}},null,-1),s("p",{class:"mt-3 text-muted fw-semibold"},"No pending orders",-1),s("p",{class:"text-muted small"},'Use "Pending" button to hold orders',-1)])])):(l(),n("div",T,[(l(!0),n(b,null,f(_.value,t=>(l(),n("div",{key:t.id,class:"col-4"},[s("div",z,[s("div",F,[s("div",H,[s("div",S,[s("div",V,[s("div",A,[s("h6",W,[c(a(t.customer_name||"Walk In")+" ",1),s("span",q,a(t.order_type.replace("_"," ")),1),t.table_number?(l(),n("span",E,a(t.table_number),1)):u("",!0)]),s("p",K,[e[7]||(e[7]=s("i",{class:"bi bi-clock me-1"},null,-1)),c(" Held "+a(w(t.held_at)),1)]),s("div",U,[s("small",G,"Items ("+a(t.order_items.length)+"):",1),s("div",J,[(l(!0),n(b,null,f(t.order_items.slice(0,3),(r,d)=>(l(),n("span",{key:d,class:"badge bg-light text-dark border"},a(r.title)+" ("+a(r.quantity)+"x) ",1))),128)),t.order_items.length>3?(l(),n("span",Q," +"+a(t.order_items.length-3)+" more ",1)):u("",!0)])]),s("div",X," Total: "+a(C(p)(t.total_amount)),1)])]),s("div",Y,[s("button",{class:"btn btn-success btn-sm flex-fill d-flex align-items-center justify-content-center gap-2",onClick:r=>o.$emit("resume",t)},[...e[8]||(e[8]=[s("i",{class:"bi bi-play-fill"},null,-1),c(" Resume ",-1)])],8,Z),s("button",{class:"btn btn-danger btn-sm flex-fill d-flex align-items-center justify-content-center gap-2",onClick:r=>x(t)},[...e[9]||(e[9]=[s("i",{class:"bi bi-trash"},null,-1),c(" Reject ",-1)])],8,ss)])])])])])]))),128))]))]),s("div",es,[s("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:e[1]||(e[1]=t=>o.$emit("close"))}," Close ")])])])],6),i.show?(l(),n("div",ts)):u("",!0)],64))}},is=k(os,[["__scopeId","data-v-b2595d5e"]]);export{is as default};

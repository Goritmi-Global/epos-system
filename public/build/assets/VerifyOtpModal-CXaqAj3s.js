import{_ as g,r,g as u,i as c,o as p,b as t,x as b,f as x,t as d,y as k,A as h,m as w}from"./app-COVoaSpv.js";const V={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0, 0, 0, 0.6)"}},C={class:"modal-dialog modal-dialog-centered"},_={class:"modal-content"},B={class:"modal-header"},M={class:"modal-body"},$={key:0,class:"text-danger text-sm"},O={class:"modal-footer"},T=["disabled"],D={__name:"VerifyOtpModal",props:{open:Boolean,email:String},emits:["verified","closed"],setup(i,{emit:m}){const v=i,f=m,o=r(""),s=r(!1),l=r(""),y=async()=>{s.value=!0,l.value="";try{await h.post("/verify-otp",{email:v.email,otp:o.value}),w.success("Account Verified successfully!"),setTimeout(()=>{f("closed"),window.location.href=route("dashboard")},2e3)}catch(a){l.value=a.response?.data?.message||"Verification failed"}finally{s.value=!1}};return(a,e)=>i.open?(p(),u("div",V,[t("div",C,[t("div",_,[t("div",B,[e[5]||(e[5]=t("h5",{class:"modal-title"},"Verify Your Email",-1)),t("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110",onClick:e[0]||(e[0]=n=>a.$emit("closed")),"data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[...e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",M,[t("p",null,[e[6]||(e[6]=x(" Enter the 6-digit OTP sent to ",-1)),t("strong",null,d(i.email),1)]),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.value=n),type:"text",class:"form-control mt-2 pin-input text-center pass-input",maxlength:"6",onInput:e[2]||(e[2]=n=>o.value=o.value.replace(/\D/g,"").slice(0,6)),placeholder:"••••••",inputmode:"numeric",pattern:"[0-9]*"},null,544),[[k,o.value]]),l.value?(p(),u("span",$,d(l.value),1)):c("",!0)]),t("div",O,[t("button",{class:"btn btn-secondary rounded-pill py-2 px-2",onClick:e[3]||(e[3]=n=>a.$emit("closed"))}," Cancel "),t("button",{class:"btn btn-primary rounded-pill py-2 px-2",onClick:y,disabled:s.value},d(s.value?"Verifying...":"Verify"),9,T)])])])])):c("",!0)}},N=g(D,[["__scopeId","data-v-65d1918d"]]);export{N as V};

import{r as ne,R as Nb,b6 as Mo,_ as Db,o as _s,n as Ll,c as bt,y as vs,A as Lb,z as kb,q as ce,f as R,b as P,d as En,u as Ae,h as $b,w as gs,e as _,m as _e,i as Jn,k as on,v as er,F as Ke,g as yt,t as W,l as Rt,K as kl,x as Fo,T as $l}from"./app-COfeKFco.js";import{_ as Rb}from"./Master-BwcgCD_I.js";import Pb from"./ConfirmOrderModal-CZBjH_o9.js";import Mb from"./ReceiptModal-B3k-EcLI.js";import Fb from"./PromoModal-Bk8uJCZb.js";import Bb from"./KotModal-CeC8he5R.js";import{u as Ub}from"./useFormatters-DekmLp3t.js";import Wb from"./PosOrdersModal-RWqGkF-s.js";import{F as qb}from"./FilterModal-ls1QlmOC.js";import{s as bd}from"./index-7CoI6SP2.js";import Hb from"./DiscountModal-XBc_Tx-G.js";import"./index-DWWqmOtC.js";import"./createLucideIcon-BHjiP04p.js";import"./index-dUBskPjT.js";import"./index-DAUyLLvF.js";import"./sun-Dj9dN6fF.js";import"./StripePayment-B3jD6l1d.js";import"./SplitPayment-6V_KA2WX.js";import"./Receipt-XfN_VgpJ.js";import"./clock-C7BXPucR.js";import"./circle-check-big-dvmNUMVH.js";import"./circle-x-BGL8IfYN.js";import"./printer-rJnS6hnr.js";import"./index-B3ocb_Xi.js";import"./index-DLoIRGAb.js";import"./index-z6mHuQ8O.js";const pe=Nb({device:null,connected:!1,printerName:null,webUSBSupported:!1,lastError:null}),Te={INIT:[27,64],CUT:[29,86,0],PARTIAL_CUT:[29,86,1],FEED:[27,100],ALIGN_LEFT:[27,97,0],ALIGN_CENTER:[27,97,1],ALIGN_RIGHT:[27,97,2],BOLD_ON:[27,69,1],BOLD_OFF:[27,69,0],DOUBLE_ON:[29,33,17],DOUBLE_OFF:[29,33,0]},yd=[1155,1046,1049,1208,1317,1659,5380,6790,3540,4070,8401,5455];function Vb(){const n=ne(!1),i=()=>(pe.webUSBSupported="usb"in navigator,pe.webUSBSupported),d=async()=>{if(!pe.webUSBSupported)return[];try{return(await navigator.usb.getDevices()).filter(U=>yd.includes(U.vendorId)||U.productName?.toLowerCase().includes("printer")||U.productName?.toLowerCase().includes("pos")||U.productName?.toLowerCase().includes("thermal"))}catch(S){return console.error("Error getting USB devices:",S),[]}},p=async()=>{if(!pe.webUSBSupported)return pe.lastError="WebUSB not supported. Use Chrome or Edge.",!1;try{n.value=!0,pe.lastError=null;const S=yd.map(ie=>({vendorId:ie}));pe.device=await navigator.usb.requestDevice({filters:S}),await pe.device.open(),pe.device.configuration===null&&await pe.device.selectConfiguration(1);const U=pe.device.configuration.interfaces[0].interfaceNumber;return await pe.device.claimInterface(U),pe.connected=!0,pe.printerName=pe.device.productName||"USB Printer",localStorage.setItem("usb_printer_connected","true"),!0}catch(S){return pe.lastError=S.message,pe.connected=!1,!1}finally{n.value=!1}},E=async()=>{if(pe.device&&pe.connected){try{await pe.device.close()}catch{}pe.device=null,pe.connected=!1,pe.printerName=null,localStorage.removeItem("usb_printer_connected")}},b=async S=>{if(!pe.connected||!pe.device)throw new Error("Printer not connected");const U=pe.device.configuration.interfaces[0].alternate.endpoints.find(F=>F.direction==="out");if(!U)throw new Error("No output endpoint found");const ie=S instanceof Uint8Array?S:new Uint8Array(S);await pe.device.transferOut(U.endpointNumber,ie)},x=S=>new TextEncoder().encode(S+`
`),O=async S=>{await b(x(S))},B=async(S,U)=>{const ie=48-S.length-U.length,F=S+" ".repeat(Math.max(1,ie))+U;await O(F)},D=(S,U="£")=>U+parseFloat(S).toFixed(2),q=async(S="-")=>{await O(S.repeat(48))},X=async(S,U)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").customer_printer||"browser")==="browser"||!pe.connected)return de(S,U);try{n.value=!0,await b(new Uint8Array(Te.INIT)),await b(new Uint8Array(Te.ALIGN_CENTER)),await b(new Uint8Array(Te.BOLD_ON)),await b(new Uint8Array(Te.DOUBLE_ON)),await O((U.name||"Business").toUpperCase()),await b(new Uint8Array(Te.DOUBLE_OFF)),await b(new Uint8Array(Te.BOLD_OFF)),U.phone&&await O(U.phone),U.address&&await O(U.address),await q("="),await b(new Uint8Array(Te.BOLD_ON)),await O("CUSTOMER RECEIPT"),await b(new Uint8Array(Te.BOLD_OFF)),await q("="),await b(new Uint8Array(Te.ALIGN_LEFT)),await B("Date:",S.order_date||new Date().toLocaleDateString()),await B("Time:",S.order_time||new Date().toLocaleTimeString()),await B("Customer:",S.customer_name||"Walk In"),await B("Order Type:",S.order_type||"Collection"),S.note&&await B("Note:",S.note),await q("-"),await b(new Uint8Array(Te.BOLD_ON)),await O("Item                     Qty    Price    Total"),await b(new Uint8Array(Te.BOLD_OFF)),await q("-");const k=U.currency||"£";for(const K of S.items||[]){const ue=(K.title||"Item").substring(0,24).padEnd(24),xe=(K.quantity||K.qty||1).toString().padStart(4),Ne=D(K.unit_price||K.price||0,k).padStart(8),Me=D((K.unit_price||K.price||0)*(K.quantity||K.qty||1),k).padStart(8);await O(ue+xe+Ne+Me)}if(await q("-"),await B("Subtotal:",D(S.sub_total||0,k)),await b(new Uint8Array(Te.BOLD_ON)),await B("Total:",D(S.total_amount||S.sub_total||0,k)),await b(new Uint8Array(Te.BOLD_OFF)),S.payment_type&&(await b(new Uint8Array([...Te.FEED,1])),await B("Payment:",S.payment_type.toUpperCase()),S.payment_type==="cash"&&S.cash_received>0)){await B("Cash Received:",D(S.cash_received,k));const K=S.cash_received-(S.total_amount||S.sub_total||0);K>0&&await B("Change:",D(K,k))}return await b(new Uint8Array([...Te.FEED,2])),await b(new Uint8Array(Te.ALIGN_CENTER)),await O((U.footer||"Thank you!").toUpperCase()),await b(new Uint8Array([...Te.FEED,3])),await b(new Uint8Array(Te.CUT)),{success:!0,method:"usb"}}catch(k){return console.error("USB print error:",k),de(S,U)}finally{n.value=!1}},Y=async(S,U)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").kot_printer||"browser")==="browser"||!pe.connected)return Z(S,U);try{n.value=!0,await b(new Uint8Array(Te.INIT)),await b(new Uint8Array(Te.ALIGN_CENTER)),await b(new Uint8Array(Te.BOLD_ON)),await b(new Uint8Array(Te.DOUBLE_ON)),await O((U.name||"KITCHEN").toUpperCase()),await b(new Uint8Array(Te.DOUBLE_OFF)),await b(new Uint8Array(Te.BOLD_OFF)),await q("="),await b(new Uint8Array(Te.BOLD_ON)),await O("KITCHEN ORDER TICKET"),await b(new Uint8Array(Te.BOLD_OFF)),await q("="),await b(new Uint8Array(Te.ALIGN_LEFT)),await B("Date:",S.order_date||new Date().toLocaleDateString()),await B("Time:",S.order_time||new Date().toLocaleTimeString()),await B("Customer:",S.customer_name||"Walk In"),await B("Order Type:",S.order_type||"Dine In"),S.kitchen_note&&await B("Note:",S.kitchen_note),await q("-"),await b(new Uint8Array(Te.BOLD_ON)),await B("Item","Qty"),await b(new Uint8Array(Te.BOLD_OFF)),await q("-");for(const k of S.items||[]){const K=(k.title||"Item").substring(0,40),ue=(k.quantity||k.qty||1).toString();await B(K,ue),k.item_kitchen_note&&await O("  Note: "+k.item_kitchen_note)}return await q("-"),await b(new Uint8Array([...Te.FEED,2])),await b(new Uint8Array(Te.ALIGN_CENTER)),await O((U.footer||"KITCHEN COPY").toUpperCase()),await b(new Uint8Array([...Te.FEED,3])),await b(new Uint8Array(Te.CUT)),{success:!0,method:"usb"}}catch(k){return console.error("USB KOT print error:",k),Z(S,U)}finally{n.value=!1}},de=(S,U)=>{const ie=U.currency||"£";let F="";for(const ue of S.items||[]){const xe=ue.quantity||ue.qty||1,Ne=ue.unit_price||ue.price||0,Me=Ne*xe;F+="<tr>",F+="<td>"+(ue.title||"Item")+"</td>",F+='<td style="text-align:center">'+xe+"</td>",F+='<td style="text-align:right">'+D(Ne,ie)+"</td>",F+='<td style="text-align:right">'+D(Me,ie)+"</td>",F+="</tr>"}let k='<!DOCTYPE html><html><head><meta charset="UTF-8">';k+="<title>Receipt</title>",k+="<style>",k+="@page { size: 80mm auto; margin: 0; }",k+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',k+=".header { text-align: center; margin-bottom: 10px; }",k+=".business-name { font-size: 16px; font-weight: bold; }",k+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",k+=".info-row { display: flex; justify-content: space-between; }",k+="table { width: 100%; border-collapse: collapse; }",k+="th, td { padding: 3px 0; }",k+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",k+="</style></head><body>",k+='<div class="header">',U.logo_url&&(k+='<img src="'+U.logo_url+'" style="max-width:100px;max-height:60px;margin-bottom:5px">'),k+='<div class="business-name">'+(U.name||"Business").toUpperCase()+"</div>",k+="<div>"+(U.phone||"")+"</div>",k+="<div>"+(U.address||"")+"</div>",k+="</div>",k+='<div class="divider"></div>',k+='<div style="text-align:center;font-weight:bold">CUSTOMER RECEIPT</div>',k+='<div class="divider"></div>',k+='<div class="info-row"><span>Date:</span><span>'+(S.order_date||new Date().toLocaleDateString())+"</span></div>",k+='<div class="info-row"><span>Time:</span><span>'+(S.order_time||new Date().toLocaleTimeString())+"</span></div>",k+='<div class="info-row"><span>Customer:</span><span>'+(S.customer_name||"Walk In")+"</span></div>",k+='<div class="info-row"><span>Order Type:</span><span>'+(S.order_type||"Collection")+"</span></div>",k+='<div class="divider"></div>',k+="<table><thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead>",k+="<tbody>"+F+"</tbody></table>",k+='<div class="divider"></div>',k+='<div class="info-row"><span>Subtotal:</span><span>'+D(S.sub_total||0,ie)+"</span></div>",k+='<div class="info-row" style="font-weight:bold"><span>Total:</span><span>'+D(S.total_amount||S.sub_total||0,ie)+"</span></div>",k+='<div class="divider"></div>',k+='<div class="footer">'+(U.footer||"Thank you!").toUpperCase()+"</div>",k+="</body></html>";const K=window.open("","_blank","width=400,height=600");return K.document.write(k),K.document.close(),setTimeout(function(){K.focus(),K.print()},500),{success:!0,method:"browser"}},Z=(S,U)=>{let ie="";for(const K of S.items||[]){const ue=K.quantity||K.qty||1;ie+="<tr>",ie+="<td>"+(K.title||"Item")+"</td>",ie+='<td style="text-align:right">'+ue+"</td>",ie+="</tr>",K.item_kitchen_note&&(ie+='<tr><td colspan="2" style="padding-left:15px;font-style:italic">Note: '+K.item_kitchen_note+"</td></tr>")}let F='<!DOCTYPE html><html><head><meta charset="UTF-8">';F+="<title>Kitchen Order</title>",F+="<style>",F+="@page { size: 80mm auto; margin: 0; }",F+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',F+=".header { text-align: center; margin-bottom: 10px; }",F+=".business-name { font-size: 16px; font-weight: bold; }",F+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",F+=".info-row { display: flex; justify-content: space-between; }",F+="table { width: 100%; border-collapse: collapse; }",F+="th, td { padding: 3px 0; }",F+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",F+="</style></head><body>",F+='<div class="header">',F+='<div class="business-name">'+(U.name||"KITCHEN").toUpperCase()+"</div>",F+="</div>",F+='<div class="divider"></div>',F+='<div style="text-align:center;font-weight:bold;font-size:14px">KITCHEN ORDER TICKET</div>',F+='<div class="divider"></div>',F+='<div class="info-row"><span>Date:</span><span>'+(S.order_date||new Date().toLocaleDateString())+"</span></div>",F+='<div class="info-row"><span>Time:</span><span>'+(S.order_time||new Date().toLocaleTimeString())+"</span></div>",F+='<div class="info-row"><span>Customer:</span><span>'+(S.customer_name||"Walk In")+"</span></div>",F+='<div class="info-row"><span>Order Type:</span><span>'+(S.order_type||"Dine In")+"</span></div>",S.kitchen_note&&(F+='<div class="info-row"><span>Note:</span><span>'+S.kitchen_note+"</span></div>"),F+='<div class="divider"></div>',F+='<table><thead><tr><th>Item</th><th style="text-align:right">Qty</th></tr></thead>',F+="<tbody>"+ie+"</tbody></table>",F+='<div class="divider"></div>',F+='<div class="footer">KITCHEN COPY</div>',F+="</body></html>";const k=window.open("","_blank","width=400,height=600");return k.document.write(F),k.document.close(),setTimeout(function(){k.focus(),k.print()},500),{success:!0,method:"browser"}};return{isConnected:()=>pe.connected,printerName:()=>pe.printerName,isWebUSBSupported:()=>pe.webUSBSupported,lastError:()=>pe.lastError,loading:n,checkSupport:i,connectPrinter:p,disconnectPrinter:E,autoReconnect:async()=>{if(i(),pe.webUSBSupported&&localStorage.getItem("usb_printer_connected")){const S=await d();if(S.length>0)try{pe.device=S[0],await pe.device.open(),pe.device.configuration===null&&await pe.device.selectConfiguration(1);const U=pe.device.configuration.interfaces[0].interfaceNumber;await pe.device.claimInterface(U),pe.connected=!0,pe.printerName=pe.device.productName||"USB Printer"}catch(U){console.log("Auto-reconnect failed:",U.message)}}},getPairedDevices:d,printReceipt:X,printKOT:Y,browserPrintReceipt:de,browserPrintKOT:Z}}var xt="top",Yt="bottom",Gt="right",Ct="left",Jo="auto",Pi=[xt,Yt,Gt,Ct],zr="start",Ii="end",sf="clippingParents",iu="viewport",xi="popper",of="reference",jl=Pi.reduce(function(o,n){return o.concat([n+"-"+zr,n+"-"+Ii])},[]),su=[].concat(Pi,[Jo]).reduce(function(o,n){return o.concat([n,n+"-"+zr,n+"-"+Ii])},[]),af="beforeRead",lf="read",uf="afterRead",cf="beforeMain",df="main",ff="afterMain",hf="beforeWrite",pf="write",_f="afterWrite",vf=[af,lf,uf,cf,df,ff,hf,pf,_f];function Pn(o){return o?(o.nodeName||"").toLowerCase():null}function zt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var n=o.ownerDocument;return n&&n.defaultView||window}return o}function Xr(o){var n=zt(o).Element;return o instanceof n||o instanceof Element}function an(o){var n=zt(o).HTMLElement;return o instanceof n||o instanceof HTMLElement}function ou(o){if(typeof ShadowRoot>"u")return!1;var n=zt(o).ShadowRoot;return o instanceof n||o instanceof ShadowRoot}function Kb(o){var n=o.state;Object.keys(n.elements).forEach(function(i){var d=n.styles[i]||{},p=n.attributes[i]||{},E=n.elements[i];!an(E)||!Pn(E)||(Object.assign(E.style,d),Object.keys(p).forEach(function(b){var x=p[b];x===!1?E.removeAttribute(b):E.setAttribute(b,x===!0?"":x)}))})}function Yb(o){var n=o.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(d){var p=n.elements[d],E=n.attributes[d]||{},b=Object.keys(n.styles.hasOwnProperty(d)?n.styles[d]:i[d]),x=b.reduce(function(O,B){return O[B]="",O},{});!an(p)||!Pn(p)||(Object.assign(p.style,x),Object.keys(E).forEach(function(O){p.removeAttribute(O)}))})}}const au={name:"applyStyles",enabled:!0,phase:"write",fn:Kb,effect:Yb,requires:["computeStyles"]};function $n(o){return o.split("-")[0]}var Gr=Math.max,Xo=Math.min,Ni=Math.round;function Zl(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function gf(){return!/^((?!chrome|android).)*safari/i.test(Zl())}function Di(o,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var d=o.getBoundingClientRect(),p=1,E=1;n&&an(o)&&(p=o.offsetWidth>0&&Ni(d.width)/o.offsetWidth||1,E=o.offsetHeight>0&&Ni(d.height)/o.offsetHeight||1);var b=Xr(o)?zt(o):window,x=b.visualViewport,O=!gf()&&i,B=(d.left+(O&&x?x.offsetLeft:0))/p,D=(d.top+(O&&x?x.offsetTop:0))/E,q=d.width/p,X=d.height/E;return{width:q,height:X,top:D,right:B+q,bottom:D+X,left:B,x:B,y:D}}function lu(o){var n=Di(o),i=o.offsetWidth,d=o.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-d)<=1&&(d=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:d}}function mf(o,n){var i=n.getRootNode&&n.getRootNode();if(o.contains(n))return!0;if(i&&ou(i)){var d=n;do{if(d&&o.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function rr(o){return zt(o).getComputedStyle(o)}function Gb(o){return["table","td","th"].indexOf(Pn(o))>=0}function Tr(o){return((Xr(o)?o.ownerDocument:o.document)||window.document).documentElement}function ea(o){return Pn(o)==="html"?o:o.assignedSlot||o.parentNode||(ou(o)?o.host:null)||Tr(o)}function Ed(o){return!an(o)||rr(o).position==="fixed"?null:o.offsetParent}function zb(o){var n=/firefox/i.test(Zl()),i=/Trident/i.test(Zl());if(i&&an(o)){var d=rr(o);if(d.position==="fixed")return null}var p=ea(o);for(ou(p)&&(p=p.host);an(p)&&["html","body"].indexOf(Pn(p))<0;){var E=rr(p);if(E.transform!=="none"||E.perspective!=="none"||E.contain==="paint"||["transform","perspective"].indexOf(E.willChange)!==-1||n&&E.willChange==="filter"||n&&E.filter&&E.filter!=="none")return p;p=p.parentNode}return null}function xs(o){for(var n=zt(o),i=Ed(o);i&&Gb(i)&&rr(i).position==="static";)i=Ed(i);return i&&(Pn(i)==="html"||Pn(i)==="body"&&rr(i).position==="static")?n:i||zb(o)||n}function uu(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Es(o,n,i){return Gr(o,Xo(n,i))}function Xb(o,n,i){var d=Es(o,n,i);return d>i?i:d}function bf(){return{top:0,right:0,bottom:0,left:0}}function yf(o){return Object.assign({},bf(),o)}function Ef(o,n){return n.reduce(function(i,d){return i[d]=o,i},{})}var Qb=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,yf(typeof n!="number"?n:Ef(n,Pi))};function jb(o){var n,i=o.state,d=o.name,p=o.options,E=i.elements.arrow,b=i.modifiersData.popperOffsets,x=$n(i.placement),O=uu(x),B=[Ct,Gt].indexOf(x)>=0,D=B?"height":"width";if(!(!E||!b)){var q=Qb(p.padding,i),X=lu(E),Y=O==="y"?xt:Ct,de=O==="y"?Yt:Gt,Z=i.rects.reference[D]+i.rects.reference[O]-b[O]-i.rects.popper[D],J=b[O]-i.rects.reference[O],S=xs(E),U=S?O==="y"?S.clientHeight||0:S.clientWidth||0:0,ie=Z/2-J/2,F=q[Y],k=U-X[D]-q[de],K=U/2-X[D]/2+ie,ue=Es(F,K,k),xe=O;i.modifiersData[d]=(n={},n[xe]=ue,n.centerOffset=ue-K,n)}}function Zb(o){var n=o.state,i=o.options,d=i.element,p=d===void 0?"[data-popper-arrow]":d;p!=null&&(typeof p=="string"&&(p=n.elements.popper.querySelector(p),!p)||mf(n.elements.popper,p)&&(n.elements.arrow=p))}const wf={name:"arrow",enabled:!0,phase:"main",fn:jb,effect:Zb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Li(o){return o.split("-")[1]}var Jb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ey(o,n){var i=o.x,d=o.y,p=n.devicePixelRatio||1;return{x:Ni(i*p)/p||0,y:Ni(d*p)/p||0}}function wd(o){var n,i=o.popper,d=o.popperRect,p=o.placement,E=o.variation,b=o.offsets,x=o.position,O=o.gpuAcceleration,B=o.adaptive,D=o.roundOffsets,q=o.isFixed,X=b.x,Y=X===void 0?0:X,de=b.y,Z=de===void 0?0:de,J=typeof D=="function"?D({x:Y,y:Z}):{x:Y,y:Z};Y=J.x,Z=J.y;var S=b.hasOwnProperty("x"),U=b.hasOwnProperty("y"),ie=Ct,F=xt,k=window;if(B){var K=xs(i),ue="clientHeight",xe="clientWidth";if(K===zt(i)&&(K=Tr(i),rr(K).position!=="static"&&x==="absolute"&&(ue="scrollHeight",xe="scrollWidth")),K=K,p===xt||(p===Ct||p===Gt)&&E===Ii){F=Yt;var Ne=q&&K===k&&k.visualViewport?k.visualViewport.height:K[ue];Z-=Ne-d.height,Z*=O?1:-1}if(p===Ct||(p===xt||p===Yt)&&E===Ii){ie=Gt;var Me=q&&K===k&&k.visualViewport?k.visualViewport.width:K[xe];Y-=Me-d.width,Y*=O?1:-1}}var tt=Object.assign({position:x},B&&Jb),rt=D===!0?ey({x:Y,y:Z},zt(i)):{x:Y,y:Z};if(Y=rt.x,Z=rt.y,O){var it;return Object.assign({},tt,(it={},it[F]=U?"0":"",it[ie]=S?"0":"",it.transform=(k.devicePixelRatio||1)<=1?"translate("+Y+"px, "+Z+"px)":"translate3d("+Y+"px, "+Z+"px, 0)",it))}return Object.assign({},tt,(n={},n[F]=U?Z+"px":"",n[ie]=S?Y+"px":"",n.transform="",n))}function ty(o){var n=o.state,i=o.options,d=i.gpuAcceleration,p=d===void 0?!0:d,E=i.adaptive,b=E===void 0?!0:E,x=i.roundOffsets,O=x===void 0?!0:x,B={placement:$n(n.placement),variation:Li(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:p,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,wd(Object.assign({},B,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:b,roundOffsets:O})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,wd(Object.assign({},B,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const cu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ty,data:{}};var Bo={passive:!0};function ny(o){var n=o.state,i=o.instance,d=o.options,p=d.scroll,E=p===void 0?!0:p,b=d.resize,x=b===void 0?!0:b,O=zt(n.elements.popper),B=[].concat(n.scrollParents.reference,n.scrollParents.popper);return E&&B.forEach(function(D){D.addEventListener("scroll",i.update,Bo)}),x&&O.addEventListener("resize",i.update,Bo),function(){E&&B.forEach(function(D){D.removeEventListener("scroll",i.update,Bo)}),x&&O.removeEventListener("resize",i.update,Bo)}}const du={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ny,data:{}};var ry={left:"right",right:"left",bottom:"top",top:"bottom"};function Yo(o){return o.replace(/left|right|bottom|top/g,function(n){return ry[n]})}var iy={start:"end",end:"start"};function Ad(o){return o.replace(/start|end/g,function(n){return iy[n]})}function fu(o){var n=zt(o),i=n.pageXOffset,d=n.pageYOffset;return{scrollLeft:i,scrollTop:d}}function hu(o){return Di(Tr(o)).left+fu(o).scrollLeft}function sy(o,n){var i=zt(o),d=Tr(o),p=i.visualViewport,E=d.clientWidth,b=d.clientHeight,x=0,O=0;if(p){E=p.width,b=p.height;var B=gf();(B||!B&&n==="fixed")&&(x=p.offsetLeft,O=p.offsetTop)}return{width:E,height:b,x:x+hu(o),y:O}}function oy(o){var n,i=Tr(o),d=fu(o),p=(n=o.ownerDocument)==null?void 0:n.body,E=Gr(i.scrollWidth,i.clientWidth,p?p.scrollWidth:0,p?p.clientWidth:0),b=Gr(i.scrollHeight,i.clientHeight,p?p.scrollHeight:0,p?p.clientHeight:0),x=-d.scrollLeft+hu(o),O=-d.scrollTop;return rr(p||i).direction==="rtl"&&(x+=Gr(i.clientWidth,p?p.clientWidth:0)-E),{width:E,height:b,x,y:O}}function pu(o){var n=rr(o),i=n.overflow,d=n.overflowX,p=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+p+d)}function Af(o){return["html","body","#document"].indexOf(Pn(o))>=0?o.ownerDocument.body:an(o)&&pu(o)?o:Af(ea(o))}function ws(o,n){var i;n===void 0&&(n=[]);var d=Af(o),p=d===((i=o.ownerDocument)==null?void 0:i.body),E=zt(d),b=p?[E].concat(E.visualViewport||[],pu(d)?d:[]):d,x=n.concat(b);return p?x:x.concat(ws(ea(b)))}function Jl(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function ay(o,n){var i=Di(o,!1,n==="fixed");return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function Td(o,n,i){return n===iu?Jl(sy(o,i)):Xr(n)?ay(n,i):Jl(oy(Tr(o)))}function ly(o){var n=ws(ea(o)),i=["absolute","fixed"].indexOf(rr(o).position)>=0,d=i&&an(o)?xs(o):o;return Xr(d)?n.filter(function(p){return Xr(p)&&mf(p,d)&&Pn(p)!=="body"}):[]}function uy(o,n,i,d){var p=n==="clippingParents"?ly(o):[].concat(n),E=[].concat(p,[i]),b=E[0],x=E.reduce(function(O,B){var D=Td(o,B,d);return O.top=Gr(D.top,O.top),O.right=Xo(D.right,O.right),O.bottom=Xo(D.bottom,O.bottom),O.left=Gr(D.left,O.left),O},Td(o,b,d));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function Tf(o){var n=o.reference,i=o.element,d=o.placement,p=d?$n(d):null,E=d?Li(d):null,b=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,O;switch(p){case xt:O={x:b,y:n.y-i.height};break;case Yt:O={x:b,y:n.y+n.height};break;case Gt:O={x:n.x+n.width,y:x};break;case Ct:O={x:n.x-i.width,y:x};break;default:O={x:n.x,y:n.y}}var B=p?uu(p):null;if(B!=null){var D=B==="y"?"height":"width";switch(E){case zr:O[B]=O[B]-(n[D]/2-i[D]/2);break;case Ii:O[B]=O[B]+(n[D]/2-i[D]/2);break}}return O}function ki(o,n){n===void 0&&(n={});var i=n,d=i.placement,p=d===void 0?o.placement:d,E=i.strategy,b=E===void 0?o.strategy:E,x=i.boundary,O=x===void 0?sf:x,B=i.rootBoundary,D=B===void 0?iu:B,q=i.elementContext,X=q===void 0?xi:q,Y=i.altBoundary,de=Y===void 0?!1:Y,Z=i.padding,J=Z===void 0?0:Z,S=yf(typeof J!="number"?J:Ef(J,Pi)),U=X===xi?of:xi,ie=o.rects.popper,F=o.elements[de?U:X],k=uy(Xr(F)?F:F.contextElement||Tr(o.elements.popper),O,D,b),K=Di(o.elements.reference),ue=Tf({reference:K,element:ie,placement:p}),xe=Jl(Object.assign({},ie,ue)),Ne=X===xi?xe:K,Me={top:k.top-Ne.top+S.top,bottom:Ne.bottom-k.bottom+S.bottom,left:k.left-Ne.left+S.left,right:Ne.right-k.right+S.right},tt=o.modifiersData.offset;if(X===xi&&tt){var rt=tt[p];Object.keys(Me).forEach(function(it){var Xt=[Gt,Yt].indexOf(it)>=0?1:-1,qe=[xt,Yt].indexOf(it)>=0?"y":"x";Me[it]+=rt[qe]*Xt})}return Me}function cy(o,n){n===void 0&&(n={});var i=n,d=i.placement,p=i.boundary,E=i.rootBoundary,b=i.padding,x=i.flipVariations,O=i.allowedAutoPlacements,B=O===void 0?su:O,D=Li(d),q=D?x?jl:jl.filter(function(de){return Li(de)===D}):Pi,X=q.filter(function(de){return B.indexOf(de)>=0});X.length===0&&(X=q);var Y=X.reduce(function(de,Z){return de[Z]=ki(o,{placement:Z,boundary:p,rootBoundary:E,padding:b})[$n(Z)],de},{});return Object.keys(Y).sort(function(de,Z){return Y[de]-Y[Z]})}function dy(o){if($n(o)===Jo)return[];var n=Yo(o);return[Ad(o),n,Ad(n)]}function fy(o){var n=o.state,i=o.options,d=o.name;if(!n.modifiersData[d]._skip){for(var p=i.mainAxis,E=p===void 0?!0:p,b=i.altAxis,x=b===void 0?!0:b,O=i.fallbackPlacements,B=i.padding,D=i.boundary,q=i.rootBoundary,X=i.altBoundary,Y=i.flipVariations,de=Y===void 0?!0:Y,Z=i.allowedAutoPlacements,J=n.options.placement,S=$n(J),U=S===J,ie=O||(U||!de?[Yo(J)]:dy(J)),F=[J].concat(ie).reduce(function(Ft,we){return Ft.concat($n(we)===Jo?cy(n,{placement:we,boundary:D,rootBoundary:q,padding:B,flipVariations:de,allowedAutoPlacements:Z}):we)},[]),k=n.rects.reference,K=n.rects.popper,ue=new Map,xe=!0,Ne=F[0],Me=0;Me<F.length;Me++){var tt=F[Me],rt=$n(tt),it=Li(tt)===zr,Xt=[xt,Yt].indexOf(rt)>=0,qe=Xt?"width":"height",lt=ki(n,{placement:tt,boundary:D,rootBoundary:q,altBoundary:X,padding:B}),We=Xt?it?Gt:Ct:it?Yt:xt;k[qe]>K[qe]&&(We=Yo(We));var Ye=Yo(We),dn=[];if(E&&dn.push(lt[rt]<=0),x&&dn.push(lt[We]<=0,lt[Ye]<=0),dn.every(function(Ft){return Ft})){Ne=tt,xe=!1;break}ue.set(tt,dn)}if(xe)for(var fn=de?3:1,_t=function(we){var nt=F.find(function(St){var Qe=ue.get(St);if(Qe)return Qe.slice(0,we).every(function(hn){return hn})});if(nt)return Ne=nt,"break"},Mt=fn;Mt>0;Mt--){var Mn=_t(Mt);if(Mn==="break")break}n.placement!==Ne&&(n.modifiersData[d]._skip=!0,n.placement=Ne,n.reset=!0)}}const xf={name:"flip",enabled:!0,phase:"main",fn:fy,requiresIfExists:["offset"],data:{_skip:!1}};function xd(o,n,i){return i===void 0&&(i={x:0,y:0}),{top:o.top-n.height-i.y,right:o.right-n.width+i.x,bottom:o.bottom-n.height+i.y,left:o.left-n.width-i.x}}function Cd(o){return[xt,Gt,Yt,Ct].some(function(n){return o[n]>=0})}function hy(o){var n=o.state,i=o.name,d=n.rects.reference,p=n.rects.popper,E=n.modifiersData.preventOverflow,b=ki(n,{elementContext:"reference"}),x=ki(n,{altBoundary:!0}),O=xd(b,d),B=xd(x,p,E),D=Cd(O),q=Cd(B);n.modifiersData[i]={referenceClippingOffsets:O,popperEscapeOffsets:B,isReferenceHidden:D,hasPopperEscaped:q},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":q})}const Cf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hy};function py(o,n,i){var d=$n(o),p=[Ct,xt].indexOf(d)>=0?-1:1,E=typeof i=="function"?i(Object.assign({},n,{placement:o})):i,b=E[0],x=E[1];return b=b||0,x=(x||0)*p,[Ct,Gt].indexOf(d)>=0?{x,y:b}:{x:b,y:x}}function _y(o){var n=o.state,i=o.options,d=o.name,p=i.offset,E=p===void 0?[0,0]:p,b=su.reduce(function(D,q){return D[q]=py(q,n.rects,E),D},{}),x=b[n.placement],O=x.x,B=x.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=O,n.modifiersData.popperOffsets.y+=B),n.modifiersData[d]=b}const Sf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_y};function vy(o){var n=o.state,i=o.name;n.modifiersData[i]=Tf({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const _u={name:"popperOffsets",enabled:!0,phase:"read",fn:vy,data:{}};function gy(o){return o==="x"?"y":"x"}function my(o){var n=o.state,i=o.options,d=o.name,p=i.mainAxis,E=p===void 0?!0:p,b=i.altAxis,x=b===void 0?!1:b,O=i.boundary,B=i.rootBoundary,D=i.altBoundary,q=i.padding,X=i.tether,Y=X===void 0?!0:X,de=i.tetherOffset,Z=de===void 0?0:de,J=ki(n,{boundary:O,rootBoundary:B,padding:q,altBoundary:D}),S=$n(n.placement),U=Li(n.placement),ie=!U,F=uu(S),k=gy(F),K=n.modifiersData.popperOffsets,ue=n.rects.reference,xe=n.rects.popper,Ne=typeof Z=="function"?Z(Object.assign({},n.rects,{placement:n.placement})):Z,Me=typeof Ne=="number"?{mainAxis:Ne,altAxis:Ne}:Object.assign({mainAxis:0,altAxis:0},Ne),tt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,rt={x:0,y:0};if(K){if(E){var it,Xt=F==="y"?xt:Ct,qe=F==="y"?Yt:Gt,lt=F==="y"?"height":"width",We=K[F],Ye=We+J[Xt],dn=We-J[qe],fn=Y?-xe[lt]/2:0,_t=U===zr?ue[lt]:xe[lt],Mt=U===zr?-xe[lt]:-ue[lt],Mn=n.elements.arrow,Ft=Y&&Mn?lu(Mn):{width:0,height:0},we=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:bf(),nt=we[Xt],St=we[qe],Qe=Es(0,ue[lt],Ft[lt]),hn=ie?ue[lt]/2-fn-Qe-nt-Me.mainAxis:_t-Qe-nt-Me.mainAxis,Fn=ie?-ue[lt]/2+fn+Qe+St+Me.mainAxis:Mt+Qe+St+Me.mainAxis,An=n.elements.arrow&&xs(n.elements.arrow),Bt=An?F==="y"?An.clientTop||0:An.clientLeft||0:0,Sr=(it=tt?.[F])!=null?it:0,Et=We+hn-Sr-Bt,Qt=We+Fn-Sr,Bn=Es(Y?Xo(Ye,Et):Ye,We,Y?Gr(dn,Qt):dn);K[F]=Bn,rt[F]=Bn-We}if(x){var Ge,Zr=F==="x"?xt:Ct,Ui=F==="x"?Yt:Gt,Ue=K[k],ut=k==="y"?"height":"width",Tn=Ue+J[Zr],Un=Ue-J[Ui],Q=[xt,Ct].indexOf(S)!==-1,xn=(Ge=tt?.[k])!=null?Ge:0,Jr=Q?Tn:Ue-ue[ut]-xe[ut]-xn+Me.altAxis,Cn=Q?Ue+ue[ut]+xe[ut]-xn-Me.altAxis:Un,je=Y&&Q?Xb(Jr,Ue,Cn):Es(Y?Jr:Tn,Ue,Y?Cn:Un);K[k]=je,rt[k]=je-Ue}n.modifiersData[d]=rt}}const Of={name:"preventOverflow",enabled:!0,phase:"main",fn:my,requiresIfExists:["offset"]};function by(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function yy(o){return o===zt(o)||!an(o)?fu(o):by(o)}function Ey(o){var n=o.getBoundingClientRect(),i=Ni(n.width)/o.offsetWidth||1,d=Ni(n.height)/o.offsetHeight||1;return i!==1||d!==1}function wy(o,n,i){i===void 0&&(i=!1);var d=an(n),p=an(n)&&Ey(n),E=Tr(n),b=Di(o,p,i),x={scrollLeft:0,scrollTop:0},O={x:0,y:0};return(d||!d&&!i)&&((Pn(n)!=="body"||pu(E))&&(x=yy(n)),an(n)?(O=Di(n,!0),O.x+=n.clientLeft,O.y+=n.clientTop):E&&(O.x=hu(E))),{x:b.left+x.scrollLeft-O.x,y:b.top+x.scrollTop-O.y,width:b.width,height:b.height}}function Ay(o){var n=new Map,i=new Set,d=[];o.forEach(function(E){n.set(E.name,E)});function p(E){i.add(E.name);var b=[].concat(E.requires||[],E.requiresIfExists||[]);b.forEach(function(x){if(!i.has(x)){var O=n.get(x);O&&p(O)}}),d.push(E)}return o.forEach(function(E){i.has(E.name)||p(E)}),d}function Ty(o){var n=Ay(o);return vf.reduce(function(i,d){return i.concat(n.filter(function(p){return p.phase===d}))},[])}function xy(o){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(o())})})),n}}function Cy(o){var n=o.reduce(function(i,d){var p=i[d.name];return i[d.name]=p?Object.assign({},p,d,{options:Object.assign({},p.options,d.options),data:Object.assign({},p.data,d.data)}):d,i},{});return Object.keys(n).map(function(i){return n[i]})}var Sd={placement:"bottom",modifiers:[],strategy:"absolute"};function Od(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return!n.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function ta(o){o===void 0&&(o={});var n=o,i=n.defaultModifiers,d=i===void 0?[]:i,p=n.defaultOptions,E=p===void 0?Sd:p;return function(x,O,B){B===void 0&&(B=E);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sd,E),modifiersData:{},elements:{reference:x,popper:O},attributes:{},styles:{}},q=[],X=!1,Y={state:D,setOptions:function(S){var U=typeof S=="function"?S(D.options):S;Z(),D.options=Object.assign({},E,D.options,U),D.scrollParents={reference:Xr(x)?ws(x):x.contextElement?ws(x.contextElement):[],popper:ws(O)};var ie=Ty(Cy([].concat(d,D.options.modifiers)));return D.orderedModifiers=ie.filter(function(F){return F.enabled}),de(),Y.update()},forceUpdate:function(){if(!X){var S=D.elements,U=S.reference,ie=S.popper;if(Od(U,ie)){D.rects={reference:wy(U,xs(ie),D.options.strategy==="fixed"),popper:lu(ie)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(Me){return D.modifiersData[Me.name]=Object.assign({},Me.data)});for(var F=0;F<D.orderedModifiers.length;F++){if(D.reset===!0){D.reset=!1,F=-1;continue}var k=D.orderedModifiers[F],K=k.fn,ue=k.options,xe=ue===void 0?{}:ue,Ne=k.name;typeof K=="function"&&(D=K({state:D,options:xe,name:Ne,instance:Y})||D)}}}},update:xy(function(){return new Promise(function(J){Y.forceUpdate(),J(D)})}),destroy:function(){Z(),X=!0}};if(!Od(x,O))return Y;Y.setOptions(B).then(function(J){!X&&B.onFirstUpdate&&B.onFirstUpdate(J)});function de(){D.orderedModifiers.forEach(function(J){var S=J.name,U=J.options,ie=U===void 0?{}:U,F=J.effect;if(typeof F=="function"){var k=F({state:D,name:S,instance:Y,options:ie}),K=function(){};q.push(k||K)}})}function Z(){q.forEach(function(J){return J()}),q=[]}return Y}}var Sy=ta(),Oy=[du,_u,cu,au],Iy=ta({defaultModifiers:Oy}),Ny=[du,_u,cu,au,Sf,xf,Of,wf,Cf],vu=ta({defaultModifiers:Ny});const If=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ff,afterRead:uf,afterWrite:_f,applyStyles:au,arrow:wf,auto:Jo,basePlacements:Pi,beforeMain:cf,beforeRead:af,beforeWrite:hf,bottom:Yt,clippingParents:sf,computeStyles:cu,createPopper:vu,createPopperBase:Sy,createPopperLite:Iy,detectOverflow:ki,end:Ii,eventListeners:du,flip:xf,hide:Cf,left:Ct,main:df,modifierPhases:vf,offset:Sf,placements:su,popper:xi,popperGenerator:ta,popperOffsets:_u,preventOverflow:Of,read:lf,reference:of,right:Gt,start:zr,top:xt,variationPlacements:jl,viewport:iu,write:pf},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const yr=new Map,Rl={set(o,n,i){yr.has(o)||yr.set(o,new Map);const d=yr.get(o);if(!d.has(n)&&d.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`);return}d.set(n,i)},get(o,n){return yr.has(o)&&yr.get(o).get(n)||null},remove(o,n){if(!yr.has(o))return;const i=yr.get(o);i.delete(n),i.size===0&&yr.delete(o)}},Dy=1e6,Ly=1e3,eu="transitionend",Nf=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),o),ky=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),$y=o=>{do o+=Math.floor(Math.random()*Dy);while(document.getElementById(o));return o},Ry=o=>{if(!o)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(o);const d=Number.parseFloat(n),p=Number.parseFloat(i);return!d&&!p?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*Ly)},Df=o=>{o.dispatchEvent(new Event(eu))},tr=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),Er=o=>tr(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(Nf(o)):null,Mi=o=>{if(!tr(o)||o.getClientRects().length===0)return!1;const n=getComputedStyle(o).getPropertyValue("visibility")==="visible",i=o.closest("details:not([open])");if(!i)return n;if(i!==o){const d=o.closest("summary");if(d&&d.parentNode!==i||d===null)return!1}return n},wr=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",Lf=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const n=o.getRootNode();return n instanceof ShadowRoot?n:null}return o instanceof ShadowRoot?o:o.parentNode?Lf(o.parentNode):null},Qo=()=>{},Cs=o=>{o.offsetHeight},kf=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Pl=[],Py=o=>{document.readyState==="loading"?(Pl.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Pl)n()}),Pl.push(o)):o()},ln=()=>document.documentElement.dir==="rtl",cn=o=>{Py(()=>{const n=kf();if(n){const i=o.NAME,d=n.fn[i];n.fn[i]=o.jQueryInterface,n.fn[i].Constructor=o,n.fn[i].noConflict=()=>(n.fn[i]=d,o.jQueryInterface)}})},Pt=(o,n=[],i=o)=>typeof o=="function"?o.call(...n):i,$f=(o,n,i=!0)=>{if(!i){Pt(o);return}const p=Ry(n)+5;let E=!1;const b=({target:x})=>{x===n&&(E=!0,n.removeEventListener(eu,b),Pt(o))};n.addEventListener(eu,b),setTimeout(()=>{E||Df(n)},p)},gu=(o,n,i,d)=>{const p=o.length;let E=o.indexOf(n);return E===-1?!i&&d?o[p-1]:o[0]:(E+=i?1:-1,d&&(E=(E+p)%p),o[Math.max(0,Math.min(E,p-1))])},My=/[^.]*(?=\..*)\.|.*/,Fy=/\..*/,By=/::\d+$/,Ml={};let Id=1;const Rf={mouseenter:"mouseover",mouseleave:"mouseout"},Uy=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Pf(o,n){return n&&`${n}::${Id++}`||o.uidEvent||Id++}function Mf(o){const n=Pf(o);return o.uidEvent=n,Ml[n]=Ml[n]||{},Ml[n]}function Wy(o,n){return function i(d){return mu(d,{delegateTarget:o}),i.oneOff&&$.off(o,d.type,n),n.apply(o,[d])}}function qy(o,n,i){return function d(p){const E=o.querySelectorAll(n);for(let{target:b}=p;b&&b!==this;b=b.parentNode)for(const x of E)if(x===b)return mu(p,{delegateTarget:b}),d.oneOff&&$.off(o,p.type,n,i),i.apply(b,[p])}}function Ff(o,n,i=null){return Object.values(o).find(d=>d.callable===n&&d.delegationSelector===i)}function Bf(o,n,i){const d=typeof n=="string",p=d?i:n||i;let E=Uf(o);return Uy.has(E)||(E=o),[d,p,E]}function Nd(o,n,i,d,p){if(typeof n!="string"||!o)return;let[E,b,x]=Bf(n,i,d);n in Rf&&(b=(de=>function(Z){if(!Z.relatedTarget||Z.relatedTarget!==Z.delegateTarget&&!Z.delegateTarget.contains(Z.relatedTarget))return de.call(this,Z)})(b));const O=Mf(o),B=O[x]||(O[x]={}),D=Ff(B,b,E?i:null);if(D){D.oneOff=D.oneOff&&p;return}const q=Pf(b,n.replace(My,"")),X=E?qy(o,i,b):Wy(o,b);X.delegationSelector=E?i:null,X.callable=b,X.oneOff=p,X.uidEvent=q,B[q]=X,o.addEventListener(x,X,E)}function tu(o,n,i,d,p){const E=Ff(n[i],d,p);E&&(o.removeEventListener(i,E,!!p),delete n[i][E.uidEvent])}function Hy(o,n,i,d){const p=n[i]||{};for(const[E,b]of Object.entries(p))E.includes(d)&&tu(o,n,i,b.callable,b.delegationSelector)}function Uf(o){return o=o.replace(Fy,""),Rf[o]||o}const $={on(o,n,i,d){Nd(o,n,i,d,!1)},one(o,n,i,d){Nd(o,n,i,d,!0)},off(o,n,i,d){if(typeof n!="string"||!o)return;const[p,E,b]=Bf(n,i,d),x=b!==n,O=Mf(o),B=O[b]||{},D=n.startsWith(".");if(typeof E<"u"){if(!Object.keys(B).length)return;tu(o,O,b,E,p?i:null);return}if(D)for(const q of Object.keys(O))Hy(o,O,q,n.slice(1));for(const[q,X]of Object.entries(B)){const Y=q.replace(By,"");(!x||n.includes(Y))&&tu(o,O,b,X.callable,X.delegationSelector)}},trigger(o,n,i){if(typeof n!="string"||!o)return null;const d=kf(),p=Uf(n),E=n!==p;let b=null,x=!0,O=!0,B=!1;E&&d&&(b=d.Event(n,i),d(o).trigger(b),x=!b.isPropagationStopped(),O=!b.isImmediatePropagationStopped(),B=b.isDefaultPrevented());const D=mu(new Event(n,{bubbles:x,cancelable:!0}),i);return B&&D.preventDefault(),O&&o.dispatchEvent(D),D.defaultPrevented&&b&&b.preventDefault(),D}};function mu(o,n={}){for(const[i,d]of Object.entries(n))try{o[i]=d}catch{Object.defineProperty(o,i,{configurable:!0,get(){return d}})}return o}function Dd(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function Fl(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const nr={setDataAttribute(o,n,i){o.setAttribute(`data-bs-${Fl(n)}`,i)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${Fl(n)}`)},getDataAttributes(o){if(!o)return{};const n={},i=Object.keys(o.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of i){let p=d.replace(/^bs/,"");p=p.charAt(0).toLowerCase()+p.slice(1),n[p]=Dd(o.dataset[d])}return n},getDataAttribute(o,n){return Dd(o.getAttribute(`data-bs-${Fl(n)}`))}};class Ss{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const d=tr(i)?nr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...tr(i)?nr.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[d,p]of Object.entries(i)){const E=n[d],b=tr(E)?"element":ky(E);if(!new RegExp(p).test(b))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${b}" but expected type "${p}".`)}}}const Vy="5.3.8";class wn extends Ss{constructor(n,i){super(),n=Er(n),n&&(this._element=n,this._config=this._getConfig(i),Rl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Rl.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,d=!0){$f(n,i,d)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Rl.get(Er(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return Vy}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Bl=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>Nf(i)).join(","):null},se={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(i=>i.matches(n))},parents(o,n){const i=[];let d=o.parentNode.closest(n);for(;d;)i.push(d),d=d.parentNode.closest(n);return i},prev(o,n){let i=o.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(o,n){let i=o.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(i=>!wr(i)&&Mi(i))},getSelectorFromElement(o){const n=Bl(o);return n&&se.findOne(n)?n:null},getElementFromSelector(o){const n=Bl(o);return n?se.findOne(n):null},getMultipleElementsFromSelector(o){const n=Bl(o);return n?se.find(n):[]}},na=(o,n="hide")=>{const i=`click.dismiss${o.EVENT_KEY}`,d=o.NAME;$.on(document,i,`[data-bs-dismiss="${d}"]`,function(p){if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),wr(this))return;const E=se.getElementFromSelector(this)||this.closest(`.${d}`);o.getOrCreateInstance(E)[n]()})},Ky="alert",Yy="bs.alert",Wf=`.${Yy}`,Gy=`close${Wf}`,zy=`closed${Wf}`,Xy="fade",Qy="show";class ra extends wn{static get NAME(){return Ky}close(){if($.trigger(this._element,Gy).defaultPrevented)return;this._element.classList.remove(Qy);const i=this._element.classList.contains(Xy);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),$.trigger(this._element,zy),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=ra.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}na(ra,"close");cn(ra);const jy="button",Zy="bs.button",Jy=`.${Zy}`,e0=".data-api",t0="active",Ld='[data-bs-toggle="button"]',n0=`click${Jy}${e0}`;class ia extends wn{static get NAME(){return jy}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(t0))}static jQueryInterface(n){return this.each(function(){const i=ia.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}$.on(document,n0,Ld,o=>{o.preventDefault();const n=o.target.closest(Ld);ia.getOrCreateInstance(n).toggle()});cn(ia);const r0="swipe",Fi=".bs.swipe",i0=`touchstart${Fi}`,s0=`touchmove${Fi}`,o0=`touchend${Fi}`,a0=`pointerdown${Fi}`,l0=`pointerup${Fi}`,u0="touch",c0="pen",d0="pointer-event",f0=40,h0={endCallback:null,leftCallback:null,rightCallback:null},p0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jo extends Ss{constructor(n,i){super(),this._element=n,!(!n||!jo.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return h0}static get DefaultType(){return p0}static get NAME(){return r0}dispose(){$.off(this._element,Fi)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),Pt(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=f0)return;const i=n/this._deltaX;this._deltaX=0,i&&Pt(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,a0,n=>this._start(n)),$.on(this._element,l0,n=>this._end(n)),this._element.classList.add(d0)):($.on(this._element,i0,n=>this._start(n)),$.on(this._element,s0,n=>this._move(n)),$.on(this._element,o0,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===c0||n.pointerType===u0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _0="carousel",v0="bs.carousel",xr=`.${v0}`,qf=".data-api",g0="ArrowLeft",m0="ArrowRight",b0=500,ms="next",Ai="prev",Ci="left",Go="right",y0=`slide${xr}`,Ul=`slid${xr}`,E0=`keydown${xr}`,w0=`mouseenter${xr}`,A0=`mouseleave${xr}`,T0=`dragstart${xr}`,x0=`load${xr}${qf}`,C0=`click${xr}${qf}`,Hf="carousel",Uo="active",S0="slide",O0="carousel-item-end",I0="carousel-item-start",N0="carousel-item-next",D0="carousel-item-prev",Vf=".active",Kf=".carousel-item",L0=Vf+Kf,k0=".carousel-item img",$0=".carousel-indicators",R0="[data-bs-slide], [data-bs-slide-to]",P0='[data-bs-ride="carousel"]',M0={[g0]:Go,[m0]:Ci},F0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},B0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Os extends wn{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=se.findOne($0,this._element),this._addEventListeners(),this._config.ride===Hf&&this.cycle()}static get Default(){return F0}static get DefaultType(){return B0}static get NAME(){return _0}next(){this._slide(ms)}nextWhenVisible(){!document.hidden&&Mi(this._element)&&this.next()}prev(){this._slide(Ai)}pause(){this._isSliding&&Df(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){$.one(this._element,Ul,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){$.one(this._element,Ul,()=>this.to(n));return}const d=this._getItemIndex(this._getActive());if(d===n)return;const p=n>d?ms:Ai;this._slide(p,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&$.on(this._element,E0,n=>this._keydown(n)),this._config.pause==="hover"&&($.on(this._element,w0,()=>this.pause()),$.on(this._element,A0,()=>this._maybeEnableCycle())),this._config.touch&&jo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of se.find(k0,this._element))$.on(d,T0,p=>p.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Ci)),rightCallback:()=>this._slide(this._directionToOrder(Go)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),b0+this._config.interval))}};this._swipeHelper=new jo(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=M0[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=se.findOne(Vf,this._indicatorsElement);i.classList.remove(Uo),i.removeAttribute("aria-current");const d=se.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);d&&(d.classList.add(Uo),d.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const d=this._getActive(),p=n===ms,E=i||gu(this._getItems(),d,p,this._config.wrap);if(E===d)return;const b=this._getItemIndex(E),x=Y=>$.trigger(this._element,Y,{relatedTarget:E,direction:this._orderToDirection(n),from:this._getItemIndex(d),to:b});if(x(y0).defaultPrevented||!d||!E)return;const B=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(b),this._activeElement=E;const D=p?I0:O0,q=p?N0:D0;E.classList.add(q),Cs(E),d.classList.add(D),E.classList.add(D);const X=()=>{E.classList.remove(D,q),E.classList.add(Uo),d.classList.remove(Uo,q,D),this._isSliding=!1,x(Ul)};this._queueCallback(X,d,this._isAnimated()),B&&this.cycle()}_isAnimated(){return this._element.classList.contains(S0)}_getActive(){return se.findOne(L0,this._element)}_getItems(){return se.find(Kf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return ln()?n===Ci?Ai:ms:n===Ci?ms:Ai}_orderToDirection(n){return ln()?n===Ai?Ci:Go:n===Ai?Go:Ci}static jQueryInterface(n){return this.each(function(){const i=Os.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}$.on(document,C0,R0,function(o){const n=se.getElementFromSelector(this);if(!n||!n.classList.contains(Hf))return;o.preventDefault();const i=Os.getOrCreateInstance(n),d=this.getAttribute("data-bs-slide-to");if(d){i.to(d),i._maybeEnableCycle();return}if(nr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});$.on(window,x0,()=>{const o=se.find(P0);for(const n of o)Os.getOrCreateInstance(n)});cn(Os);const U0="collapse",W0="bs.collapse",Is=`.${W0}`,q0=".data-api",H0=`show${Is}`,V0=`shown${Is}`,K0=`hide${Is}`,Y0=`hidden${Is}`,G0=`click${Is}${q0}`,Wl="show",Oi="collapse",Wo="collapsing",z0="collapsed",X0=`:scope .${Oi} .${Oi}`,Q0="collapse-horizontal",j0="width",Z0="height",J0=".collapse.show, .collapse.collapsing",nu='[data-bs-toggle="collapse"]',eE={parent:null,toggle:!0},tE={parent:"(null|element)",toggle:"boolean"};class Ts extends wn{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const d=se.find(nu);for(const p of d){const E=se.getSelectorFromElement(p),b=se.find(E).filter(x=>x===this._element);E!==null&&b.length&&this._triggerArray.push(p)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eE}static get DefaultType(){return tE}static get NAME(){return U0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(J0).filter(x=>x!==this._element).map(x=>Ts.getOrCreateInstance(x,{toggle:!1}))),n.length&&n[0]._isTransitioning||$.trigger(this._element,H0).defaultPrevented)return;for(const x of n)x.hide();const d=this._getDimension();this._element.classList.remove(Oi),this._element.classList.add(Wo),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const p=()=>{this._isTransitioning=!1,this._element.classList.remove(Wo),this._element.classList.add(Oi,Wl),this._element.style[d]="",$.trigger(this._element,V0)},b=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(p,this._element,!0),this._element.style[d]=`${this._element[b]}px`}hide(){if(this._isTransitioning||!this._isShown()||$.trigger(this._element,K0).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Cs(this._element),this._element.classList.add(Wo),this._element.classList.remove(Oi,Wl);for(const p of this._triggerArray){const E=se.getElementFromSelector(p);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(Wo),this._element.classList.add(Oi),$.trigger(this._element,Y0)};this._element.style[i]="",this._queueCallback(d,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Wl)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=Er(n.parent),n}_getDimension(){return this._element.classList.contains(Q0)?j0:Z0}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(nu);for(const i of n){const d=se.getElementFromSelector(i);d&&this._addAriaAndCollapsedClass([i],this._isShown(d))}}_getFirstLevelChildren(n){const i=se.find(X0,this._config.parent);return se.find(n,this._config.parent).filter(d=>!i.includes(d))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const d of n)d.classList.toggle(z0,!i),d.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const d=Ts.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n]()}})}}$.on(document,G0,nu,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(const n of se.getMultipleElementsFromSelector(this))Ts.getOrCreateInstance(n,{toggle:!1}).toggle()});cn(Ts);const kd="dropdown",nE="bs.dropdown",Qr=`.${nE}`,bu=".data-api",rE="Escape",$d="Tab",iE="ArrowUp",Rd="ArrowDown",sE=2,oE=`hide${Qr}`,aE=`hidden${Qr}`,lE=`show${Qr}`,uE=`shown${Qr}`,Yf=`click${Qr}${bu}`,Gf=`keydown${Qr}${bu}`,cE=`keyup${Qr}${bu}`,Si="show",dE="dropup",fE="dropend",hE="dropstart",pE="dropup-center",_E="dropdown-center",Kr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vE=`${Kr}.${Si}`,zo=".dropdown-menu",gE=".navbar",mE=".navbar-nav",bE=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yE=ln()?"top-end":"top-start",EE=ln()?"top-start":"top-end",wE=ln()?"bottom-end":"bottom-start",AE=ln()?"bottom-start":"bottom-end",TE=ln()?"left-start":"right-start",xE=ln()?"right-start":"left-start",CE="top",SE="bottom",OE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},IE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rn extends wn{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=se.next(this._element,zo)[0]||se.prev(this._element,zo)[0]||se.findOne(zo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return OE}static get DefaultType(){return IE}static get NAME(){return kd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!$.trigger(this._element,lE,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(mE))for(const d of[].concat(...document.body.children))$.on(d,"mouseover",Qo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Si),this._element.classList.add(Si),$.trigger(this._element,uE,n)}}hide(){if(wr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!$.trigger(this._element,oE,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))$.off(d,"mouseover",Qo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Si),this._element.classList.remove(Si),this._element.setAttribute("aria-expanded","false"),nr.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,aE,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!tr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${kd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof If>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:tr(this._config.reference)?n=Er(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=vu(n,this._menu,i)}_isShown(){return this._menu.classList.contains(Si)}_getPlacement(){const n=this._parent;if(n.classList.contains(fE))return TE;if(n.classList.contains(hE))return xE;if(n.classList.contains(pE))return CE;if(n.classList.contains(_E))return SE;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(dE)?i?EE:yE:i?AE:wE}_detectNavbar(){return this._element.closest(gE)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(nr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...Pt(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const d=se.find(bE,this._menu).filter(p=>Mi(p));d.length&&gu(d,i,n===Rd,!d.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=Rn.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===sE||n.type==="keyup"&&n.key!==$d)return;const i=se.find(vE);for(const d of i){const p=Rn.getInstance(d);if(!p||p._config.autoClose===!1)continue;const E=n.composedPath(),b=E.includes(p._menu);if(E.includes(p._element)||p._config.autoClose==="inside"&&!b||p._config.autoClose==="outside"&&b||p._menu.contains(n.target)&&(n.type==="keyup"&&n.key===$d||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const x={relatedTarget:p._element};n.type==="click"&&(x.clickEvent=n),p._completeHide(x)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),d=n.key===rE,p=[iE,Rd].includes(n.key);if(!p&&!d||i&&!d)return;n.preventDefault();const E=this.matches(Kr)?this:se.prev(this,Kr)[0]||se.next(this,Kr)[0]||se.findOne(Kr,n.delegateTarget.parentNode),b=Rn.getOrCreateInstance(E);if(p){n.stopPropagation(),b.show(),b._selectMenuItem(n);return}b._isShown()&&(n.stopPropagation(),b.hide(),E.focus())}}$.on(document,Gf,Kr,Rn.dataApiKeydownHandler);$.on(document,Gf,zo,Rn.dataApiKeydownHandler);$.on(document,Yf,Rn.clearMenus);$.on(document,cE,Rn.clearMenus);$.on(document,Yf,Kr,function(o){o.preventDefault(),Rn.getOrCreateInstance(this).toggle()});cn(Rn);const zf="backdrop",NE="fade",Pd="show",Md=`mousedown.bs.${zf}`,DE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},LE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Xf extends Ss{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return DE}static get DefaultType(){return LE}static get NAME(){return zf}show(n){if(!this._config.isVisible){Pt(n);return}this._append();const i=this._getElement();this._config.isAnimated&&Cs(i),i.classList.add(Pd),this._emulateAnimation(()=>{Pt(n)})}hide(n){if(!this._config.isVisible){Pt(n);return}this._getElement().classList.remove(Pd),this._emulateAnimation(()=>{this.dispose(),Pt(n)})}dispose(){this._isAppended&&($.off(this._element,Md),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(NE),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=Er(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),$.on(n,Md,()=>{Pt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){$f(n,this._getElement(),this._config.isAnimated)}}const kE="focustrap",$E="bs.focustrap",Zo=`.${$E}`,RE=`focusin${Zo}`,PE=`keydown.tab${Zo}`,ME="Tab",FE="forward",Fd="backward",BE={autofocus:!0,trapElement:null},UE={autofocus:"boolean",trapElement:"element"};class Qf extends Ss{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return BE}static get DefaultType(){return UE}static get NAME(){return kE}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,Zo),$.on(document,RE,n=>this._handleFocusin(n)),$.on(document,PE,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,Zo))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const d=se.focusableChildren(i);d.length===0?i.focus():this._lastTabNavDirection===Fd?d[d.length-1].focus():d[0].focus()}_handleKeydown(n){n.key===ME&&(this._lastTabNavDirection=n.shiftKey?Fd:FE)}}const Bd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ud=".sticky-top",qo="padding-right",Wd="margin-right";class ru{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qo,i=>i+n),this._setElementAttributes(Bd,qo,i=>i+n),this._setElementAttributes(Ud,Wd,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qo),this._resetElementAttributes(Bd,qo),this._resetElementAttributes(Ud,Wd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,d){const p=this.getWidth(),E=b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+p)return;this._saveInitialAttribute(b,i);const x=window.getComputedStyle(b).getPropertyValue(i);b.style.setProperty(i,`${d(Number.parseFloat(x))}px`)};this._applyManipulationCallback(n,E)}_saveInitialAttribute(n,i){const d=n.style.getPropertyValue(i);d&&nr.setDataAttribute(n,i,d)}_resetElementAttributes(n,i){const d=p=>{const E=nr.getDataAttribute(p,i);if(E===null){p.style.removeProperty(i);return}nr.removeDataAttribute(p,i),p.style.setProperty(i,E)};this._applyManipulationCallback(n,d)}_applyManipulationCallback(n,i){if(tr(n)){i(n);return}for(const d of se.find(n,this._element))i(d)}}const WE="modal",qE="bs.modal",un=`.${qE}`,HE=".data-api",VE="Escape",KE=`hide${un}`,YE=`hidePrevented${un}`,jf=`hidden${un}`,Zf=`show${un}`,GE=`shown${un}`,zE=`resize${un}`,XE=`click.dismiss${un}`,QE=`mousedown.dismiss${un}`,jE=`keydown.dismiss${un}`,ZE=`click${un}${HE}`,qd="modal-open",JE="fade",Hd="show",ql="modal-static",ew=".modal.show",tw=".modal-dialog",nw=".modal-body",rw='[data-bs-toggle="modal"]',iw={backdrop:!0,focus:!0,keyboard:!0},sw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $i extends wn{constructor(n,i){super(n,i),this._dialog=se.findOne(tw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ru,this._addEventListeners()}static get Default(){return iw}static get DefaultType(){return sw}static get NAME(){return WE}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||$.trigger(this._element,Zf,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(qd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||$.trigger(this._element,KE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Hd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){$.off(window,un),$.off(this._dialog,un),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Qf({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=se.findOne(nw,this._dialog);i&&(i.scrollTop=0),Cs(this._element),this._element.classList.add(Hd);const d=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,GE,{relatedTarget:n})};this._queueCallback(d,this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,jE,n=>{if(n.key===VE){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),$.on(window,zE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),$.on(this._element,QE,n=>{$.one(this._element,XE,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(qd),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,jf)})}_isAnimated(){return this._element.classList.contains(JE)}_triggerBackdropTransition(){if($.trigger(this._element,YE).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(ql)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(ql),this._queueCallback(()=>{this._element.classList.remove(ql),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),d=i>0;if(d&&!n){const p=ln()?"paddingLeft":"paddingRight";this._element.style[p]=`${i}px`}if(!d&&n){const p=ln()?"paddingRight":"paddingLeft";this._element.style[p]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const d=$i.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n](i)}})}}$.on(document,ZE,rw,function(o){const n=se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),$.one(n,Zf,p=>{p.defaultPrevented||$.one(n,jf,()=>{Mi(this)&&this.focus()})});const i=se.findOne(ew);i&&$i.getInstance(i).hide(),$i.getOrCreateInstance(n).toggle(this)});na($i);cn($i);const ow="offcanvas",aw="bs.offcanvas",ir=`.${aw}`,Jf=".data-api",lw=`load${ir}${Jf}`,uw="Escape",Vd="show",Kd="showing",Yd="hiding",cw="offcanvas-backdrop",eh=".offcanvas.show",dw=`show${ir}`,fw=`shown${ir}`,hw=`hide${ir}`,Gd=`hidePrevented${ir}`,th=`hidden${ir}`,pw=`resize${ir}`,_w=`click${ir}${Jf}`,vw=`keydown.dismiss${ir}`,gw='[data-bs-toggle="offcanvas"]',mw={backdrop:!0,keyboard:!0,scroll:!1},bw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ar extends wn{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mw}static get DefaultType(){return bw}static get NAME(){return ow}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||$.trigger(this._element,dw,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ru().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Kd);const d=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Vd),this._element.classList.remove(Kd),$.trigger(this._element,fw,{relatedTarget:n})};this._queueCallback(d,this._element,!0)}hide(){if(!this._isShown||$.trigger(this._element,hw).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Yd),this._backdrop.hide();const i=()=>{this._element.classList.remove(Vd,Yd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ru().reset(),$.trigger(this._element,th)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){$.trigger(this._element,Gd);return}this.hide()},i=!!this._config.backdrop;return new Xf({className:cw,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Qf({trapElement:this._element})}_addEventListeners(){$.on(this._element,vw,n=>{if(n.key===uw){if(this._config.keyboard){this.hide();return}$.trigger(this._element,Gd)}})}static jQueryInterface(n){return this.each(function(){const i=Ar.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}$.on(document,_w,gw,function(o){const n=se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),wr(this))return;$.one(n,th,()=>{Mi(this)&&this.focus()});const i=se.findOne(eh);i&&i!==n&&Ar.getInstance(i).hide(),Ar.getOrCreateInstance(n).toggle(this)});$.on(window,lw,()=>{for(const o of se.find(eh))Ar.getOrCreateInstance(o).show()});$.on(window,pw,()=>{for(const o of se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&Ar.getOrCreateInstance(o).hide()});na(Ar);cn(Ar);const yw=/^aria-[\w-]*$/i,nh={"*":["class","dir","id","lang","role",yw],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ew=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ww=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Aw=(o,n)=>{const i=o.nodeName.toLowerCase();return n.includes(i)?Ew.has(i)?!!ww.test(o.nodeValue):!0:n.filter(d=>d instanceof RegExp).some(d=>d.test(i))};function Tw(o,n,i){if(!o.length)return o;if(i&&typeof i=="function")return i(o);const p=new window.DOMParser().parseFromString(o,"text/html"),E=[].concat(...p.body.querySelectorAll("*"));for(const b of E){const x=b.nodeName.toLowerCase();if(!Object.keys(n).includes(x)){b.remove();continue}const O=[].concat(...b.attributes),B=[].concat(n["*"]||[],n[x]||[]);for(const D of O)Aw(D,B)||b.removeAttribute(D.nodeName)}return p.body.innerHTML}const xw="TemplateFactory",Cw={allowList:nh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Sw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ow={entry:"(string|element|function|null)",selector:"(string|element)"};class Iw extends Ss{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Cw}static get DefaultType(){return Sw}static get NAME(){return xw}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[p,E]of Object.entries(this._config.content))this._setContent(n,E,p);const i=n.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&i.classList.add(...d.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,d]of Object.entries(n))super._typeCheckConfig({selector:i,entry:d},Ow)}_setContent(n,i,d){const p=se.findOne(d,n);if(p){if(i=this._resolvePossibleFunction(i),!i){p.remove();return}if(tr(i)){this._putElementInTemplate(Er(i),p);return}if(this._config.html){p.innerHTML=this._maybeSanitize(i);return}p.textContent=i}}_maybeSanitize(n){return this._config.sanitize?Tw(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return Pt(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const Nw="tooltip",Dw=new Set(["sanitize","allowList","sanitizeFn"]),Hl="fade",Lw="modal",Ho="show",kw=".tooltip-inner",zd=`.${Lw}`,Xd="hide.bs.modal",bs="hover",Vl="focus",Kl="click",$w="manual",Rw="hide",Pw="hidden",Mw="show",Fw="shown",Bw="inserted",Uw="click",Ww="focusin",qw="focusout",Hw="mouseenter",Vw="mouseleave",Kw={AUTO:"auto",TOP:"top",RIGHT:ln()?"left":"right",BOTTOM:"bottom",LEFT:ln()?"right":"left"},Yw={allowList:nh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Bi extends wn{constructor(n,i){if(typeof If>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Yw}static get DefaultType(){return Gw}static get NAME(){return Nw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(zd),Xd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=$.trigger(this._element,this.constructor.eventName(Mw)),d=(Lf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!d)return;this._disposePopper();const p=this._getTipElement();this._element.setAttribute("aria-describedby",p.getAttribute("id"));const{container:E}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(E.append(p),$.trigger(this._element,this.constructor.eventName(Bw))),this._popper=this._createPopper(p),p.classList.add(Ho),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))$.on(x,"mouseover",Qo);const b=()=>{$.trigger(this._element,this.constructor.eventName(Fw)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(b,this.tip,this._isAnimated())}hide(){if(!this._isShown()||$.trigger(this._element,this.constructor.eventName(Rw)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ho),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))$.off(p,"mouseover",Qo);this._activeTrigger[Kl]=!1,this._activeTrigger[Vl]=!1,this._activeTrigger[bs]=!1,this._isHovered=null;const d=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName(Pw)))};this._queueCallback(d,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(Hl,Ho),i.classList.add(`bs-${this.constructor.NAME}-auto`);const d=$y(this.constructor.NAME).toString();return i.setAttribute("id",d),this._isAnimated()&&i.classList.add(Hl),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Iw({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[kw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Hl)}_isShown(){return this.tip&&this.tip.classList.contains(Ho)}_createPopper(n){const i=Pt(this._config.placement,[this,n,this._element]),d=Kw[i.toUpperCase()];return vu(this._element,n,this._getPopperConfig(d))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return Pt(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...i,...Pt(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")$.on(this._element,this.constructor.eventName(Uw),this._config.selector,d=>{const p=this._initializeOnDelegatedTarget(d);p._activeTrigger[Kl]=!(p._isShown()&&p._activeTrigger[Kl]),p.toggle()});else if(i!==$w){const d=i===bs?this.constructor.eventName(Hw):this.constructor.eventName(Ww),p=i===bs?this.constructor.eventName(Vw):this.constructor.eventName(qw);$.on(this._element,d,this._config.selector,E=>{const b=this._initializeOnDelegatedTarget(E);b._activeTrigger[E.type==="focusin"?Vl:bs]=!0,b._enter()}),$.on(this._element,p,this._config.selector,E=>{const b=this._initializeOnDelegatedTarget(E);b._activeTrigger[E.type==="focusout"?Vl:bs]=b._element.contains(E.relatedTarget),b._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(zd),Xd,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=nr.getDataAttributes(this._element);for(const d of Object.keys(i))Dw.has(d)&&delete i[d];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:Er(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,d]of Object.entries(this._config))this.constructor.Default[i]!==d&&(n[i]=d);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=Bi.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}cn(Bi);const zw="popover",Xw=".popover-header",Qw=".popover-body",jw={...Bi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zw={...Bi.DefaultType,content:"(null|string|element|function)"};class sa extends Bi{static get Default(){return jw}static get DefaultType(){return Zw}static get NAME(){return zw}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xw]:this._getTitle(),[Qw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=sa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}cn(sa);const Jw="scrollspy",e1="bs.scrollspy",yu=`.${e1}`,t1=".data-api",n1=`activate${yu}`,Qd=`click${yu}`,r1=`load${yu}${t1}`,i1="dropdown-item",Ti="active",s1='[data-bs-spy="scroll"]',Yl="[href]",o1=".nav, .list-group",jd=".nav-link",a1=".nav-item",l1=".list-group-item",u1=`${jd}, ${a1} > ${jd}, ${l1}`,c1=".dropdown",d1=".dropdown-toggle",f1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},h1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oa extends wn{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return f1}static get DefaultType(){return h1}static get NAME(){return Jw}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=Er(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,Qd),$.on(this._config.target,Qd,Yl,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const d=this._rootElement||window,p=i.offsetTop-this._element.offsetTop;if(d.scrollTo){d.scrollTo({top:p,behavior:"smooth"});return}d.scrollTop=p}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=b=>this._targetLinks.get(`#${b.target.id}`),d=b=>{this._previousScrollData.visibleEntryTop=b.target.offsetTop,this._process(i(b))},p=(this._rootElement||document.documentElement).scrollTop,E=p>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=p;for(const b of n){if(!b.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(b));continue}const x=b.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(E&&x){if(d(b),!p)return;continue}!E&&!x&&d(b)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=se.find(Yl,this._config.target);for(const i of n){if(!i.hash||wr(i))continue;const d=se.findOne(decodeURI(i.hash),this._element);Mi(d)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,d))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Ti),this._activateParents(n),$.trigger(this._element,n1,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(i1)){se.findOne(d1,n.closest(c1)).classList.add(Ti);return}for(const i of se.parents(n,o1))for(const d of se.prev(i,u1))d.classList.add(Ti)}_clearActiveClass(n){n.classList.remove(Ti);const i=se.find(`${Yl}.${Ti}`,n);for(const d of i)d.classList.remove(Ti)}static jQueryInterface(n){return this.each(function(){const i=oa.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}$.on(window,r1,()=>{for(const o of se.find(s1))oa.getOrCreateInstance(o)});cn(oa);const p1="tab",_1="bs.tab",jr=`.${_1}`,v1=`hide${jr}`,g1=`hidden${jr}`,m1=`show${jr}`,b1=`shown${jr}`,y1=`click${jr}`,E1=`keydown${jr}`,w1=`load${jr}`,A1="ArrowLeft",Zd="ArrowRight",T1="ArrowUp",Jd="ArrowDown",Gl="Home",ef="End",Yr="active",tf="fade",zl="show",x1="dropdown",rh=".dropdown-toggle",C1=".dropdown-menu",Xl=`:not(${rh})`,S1='.list-group, .nav, [role="tablist"]',O1=".nav-item, .list-group-item",I1=`.nav-link${Xl}, .list-group-item${Xl}, [role="tab"]${Xl}`,ih='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ql=`${I1}, ${ih}`,N1=`.${Yr}[data-bs-toggle="tab"], .${Yr}[data-bs-toggle="pill"], .${Yr}[data-bs-toggle="list"]`;class Ri extends wn{constructor(n){super(n),this._parent=this._element.closest(S1),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,E1,i=>this._keydown(i)))}static get NAME(){return p1}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),d=i?$.trigger(i,v1,{relatedTarget:n}):null;$.trigger(n,m1,{relatedTarget:i}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(Yr),this._activate(se.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(zl);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),$.trigger(n,b1,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(tf))}_deactivate(n,i){if(!n)return;n.classList.remove(Yr),n.blur(),this._deactivate(se.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(zl);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),$.trigger(n,g1,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(tf))}_keydown(n){if(![A1,Zd,T1,Jd,Gl,ef].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(p=>!wr(p));let d;if([Gl,ef].includes(n.key))d=i[n.key===Gl?0:i.length-1];else{const p=[Zd,Jd].includes(n.key);d=gu(i,n.target,p,!0)}d&&(d.focus({preventScroll:!0}),Ri.getOrCreateInstance(d).show())}_getChildren(){return se.find(Ql,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const d of i)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),d=this._getOuterElement(n);n.setAttribute("aria-selected",i),d!==n&&this._setAttributeIfNotExists(d,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=se.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const d=this._getOuterElement(n);if(!d.classList.contains(x1))return;const p=(E,b)=>{const x=se.findOne(E,d);x&&x.classList.toggle(b,i)};p(rh,Yr),p(C1,zl),d.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,d){n.hasAttribute(i)||n.setAttribute(i,d)}_elemIsActive(n){return n.classList.contains(Yr)}_getInnerElement(n){return n.matches(Ql)?n:se.findOne(Ql,n)}_getOuterElement(n){return n.closest(O1)||n}static jQueryInterface(n){return this.each(function(){const i=Ri.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}$.on(document,y1,ih,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!wr(this)&&Ri.getOrCreateInstance(this).show()});$.on(window,w1,()=>{for(const o of se.find(N1))Ri.getOrCreateInstance(o)});cn(Ri);const D1="toast",L1="bs.toast",Cr=`.${L1}`,k1=`mouseover${Cr}`,$1=`mouseout${Cr}`,R1=`focusin${Cr}`,P1=`focusout${Cr}`,M1=`hide${Cr}`,F1=`hidden${Cr}`,B1=`show${Cr}`,U1=`shown${Cr}`,W1="fade",nf="hide",Vo="show",Ko="showing",q1={animation:"boolean",autohide:"boolean",delay:"number"},H1={animation:!0,autohide:!0,delay:5e3};class aa extends wn{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return H1}static get DefaultType(){return q1}static get NAME(){return D1}show(){if($.trigger(this._element,B1).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(W1);const i=()=>{this._element.classList.remove(Ko),$.trigger(this._element,U1),this._maybeScheduleHide()};this._element.classList.remove(nf),Cs(this._element),this._element.classList.add(Vo,Ko),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||$.trigger(this._element,M1).defaultPrevented)return;const i=()=>{this._element.classList.add(nf),this._element.classList.remove(Ko,Vo),$.trigger(this._element,F1)};this._element.classList.add(Ko),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vo),super.dispose()}isShown(){return this._element.classList.contains(Vo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const d=n.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,k1,n=>this._onInteraction(n,!0)),$.on(this._element,$1,n=>this._onInteraction(n,!1)),$.on(this._element,R1,n=>this._onInteraction(n,!0)),$.on(this._element,P1,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=aa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}na(aa);cn(aa);var ys={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var V1=ys.exports,rf;function K1(){return rf||(rf=1,(function(o,n){(function(){var i,d="4.17.21",p=200,E="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",x="Invalid `variable` option passed into `_.template`",O="__lodash_hash_undefined__",B=500,D="__lodash_placeholder__",q=1,X=2,Y=4,de=1,Z=2,J=1,S=2,U=4,ie=8,F=16,k=32,K=64,ue=128,xe=256,Ne=512,Me=30,tt="...",rt=800,it=16,Xt=1,qe=2,lt=3,We=1/0,Ye=9007199254740991,dn=17976931348623157e292,fn=NaN,_t=4294967295,Mt=_t-1,Mn=_t>>>1,Ft=[["ary",ue],["bind",J],["bindKey",S],["curry",ie],["curryRight",F],["flip",Ne],["partial",k],["partialRight",K],["rearg",xe]],we="[object Arguments]",nt="[object Array]",St="[object AsyncFunction]",Qe="[object Boolean]",hn="[object Date]",Fn="[object DOMException]",An="[object Error]",Bt="[object Function]",Sr="[object GeneratorFunction]",Et="[object Map]",Qt="[object Number]",Bn="[object Null]",Ge="[object Object]",Zr="[object Promise]",Ui="[object Proxy]",Ue="[object RegExp]",ut="[object Set]",Tn="[object String]",Un="[object Symbol]",Q="[object Undefined]",xn="[object WeakMap]",Jr="[object WeakSet]",Cn="[object ArrayBuffer]",je="[object DataView]",Sn="[object Float32Array]",On="[object Float64Array]",ei="[object Int8Array]",j="[object Int16Array]",Ze="[object Int32Array]",Or="[object Uint8Array]",In="[object Uint8ClampedArray]",pn="[object Uint16Array]",_n="[object Uint32Array]",la=/\b__p \+= '';/g,ua=/\b(__p \+=) '' \+/g,Ns=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ds=/&(?:amp|lt|gt|quot|#39);/g,Ls=/[&<>"']/g,ht=RegExp(Ds.source),ks=RegExp(Ls.source),sr=/<%-([\s\S]+?)%>/g,or=/<%([\s\S]+?)%>/g,ti=/<%=([\s\S]+?)%>/g,Ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ni=/^\w*$/,Wi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qi=/[\\^$.*+?()[\]{}|]/g,ca=RegExp(qi.source),ri=/^\s+/,$s=/\s/,Rs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,da=/\{\n\/\* \[wrapped with (.+)\] \*/,fa=/,? & /,Ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ar=/[()=,{}\[\]\/\s]/,Ps=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lr=/\w*$/,ha=/^[-+]0x[0-9a-f]+$/i,pa=/^0b[01]+$/i,Ms=/^\[object .+?Constructor\]$/,Wn=/^0o[0-7]+$/i,_a=/^(?:0|[1-9]\d*)$/,ii=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ur=/($^)/,va=/['\n\r\u2028\u2029\\]/g,si="\\ud800-\\udfff",jt="\\u0300-\\u036f",Fs="\\ufe20-\\ufe2f",ga="\\u20d0-\\u20ff",Hi=jt+Fs+ga,Nr="\\u2700-\\u27bf",Bs="a-z\\xdf-\\xf6\\xf8-\\xff",oi="\\xac\\xb1\\xd7\\xf7",Vi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ki="\\u2000-\\u206f",ma=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dr="A-Z\\xc0-\\xd6\\xd8-\\xde",Lr="\\ufe0e\\ufe0f",ai=oi+Vi+Ki+ma,kr="['’]",li="["+si+"]",$r="["+ai+"]",De="["+Hi+"]",Us="\\d+",Ws="["+Nr+"]",qs="["+Bs+"]",Hs="[^"+si+ai+Us+Nr+Bs+Dr+"]",Yi="\\ud83c[\\udffb-\\udfff]",cr="(?:"+De+"|"+Yi+")",Vs="[^"+si+"]",Gi="(?:\\ud83c[\\udde6-\\uddff]){2}",Nn="[\\ud800-\\udbff][\\udc00-\\udfff]",Zt="["+Dr+"]",dr="\\u200d",Ks="(?:"+qs+"|"+Hs+")",ba="(?:"+Zt+"|"+Hs+")",ui="(?:"+kr+"(?:d|ll|m|re|s|t|ve))?",zi="(?:"+kr+"(?:D|LL|M|RE|S|T|VE))?",Ys=cr+"?",Gs="["+Lr+"]?",Ut="(?:"+dr+"(?:"+[Vs,Gi,Nn].join("|")+")"+Gs+Ys+")*",Xi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",He="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vn=Gs+Ys+Ut,fr="(?:"+[Ws,Gi,Nn].join("|")+")"+vn,ya="(?:"+[Vs+De+"?",De,Gi,Nn,li].join("|")+")",Ea=RegExp(kr,"g"),wa=RegExp(De,"g"),Qi=RegExp(Yi+"(?="+Yi+")|"+ya+vn,"g"),zs=RegExp([Zt+"?"+qs+"+"+ui+"(?="+[$r,Zt,"$"].join("|")+")",ba+"+"+zi+"(?="+[$r,Zt+Ks,"$"].join("|")+")",Zt+"?"+Ks+"+"+ui,Zt+"+"+zi,He,Xi,Us,fr].join("|"),"g"),Aa=RegExp("["+dr+si+Hi+Lr+"]"),Ta=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rr=-1,Pe={};Pe[Sn]=Pe[On]=Pe[ei]=Pe[j]=Pe[Ze]=Pe[Or]=Pe[In]=Pe[pn]=Pe[_n]=!0,Pe[we]=Pe[nt]=Pe[Cn]=Pe[Qe]=Pe[je]=Pe[hn]=Pe[An]=Pe[Bt]=Pe[Et]=Pe[Qt]=Pe[Ge]=Pe[Ue]=Pe[ut]=Pe[Tn]=Pe[xn]=!1;var Le={};Le[we]=Le[nt]=Le[Cn]=Le[je]=Le[Qe]=Le[hn]=Le[Sn]=Le[On]=Le[ei]=Le[j]=Le[Ze]=Le[Et]=Le[Qt]=Le[Ge]=Le[Ue]=Le[ut]=Le[Tn]=Le[Un]=Le[Or]=Le[In]=Le[pn]=Le[_n]=!0,Le[An]=Le[Bt]=Le[xn]=!1;var Qs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ca={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oa=parseFloat,Ia=parseInt,It=typeof Mo=="object"&&Mo&&Mo.Object===Object&&Mo,qn=typeof self=="object"&&self&&self.Object===Object&&self,Fe=It||qn||Function("return this")(),ji=n&&!n.nodeType&&n,Nt=ji&&!0&&o&&!o.nodeType&&o,js=Nt&&Nt.exports===ji,Zi=js&&It.process,a=(function(){try{var y=Nt&&Nt.require&&Nt.require("util").types;return y||Zi&&Zi.binding&&Zi.binding("util")}catch{}})(),u=a&&a.isArrayBuffer,c=a&&a.isDate,g=a&&a.isMap,T=a&&a.isRegExp,M=a&&a.isSet,z=a&&a.isTypedArray;function ee(y,C,A){switch(A.length){case 0:return y.call(C);case 1:return y.call(C,A[0]);case 2:return y.call(C,A[0],A[1]);case 3:return y.call(C,A[0],A[1],A[2])}return y.apply(C,A)}function ke(y,C,A,G){for(var fe=-1,Ce=y==null?0:y.length;++fe<Ce;){var ot=y[fe];C(G,ot,A(ot),y)}return G}function H(y,C){for(var A=-1,G=y==null?0:y.length;++A<G&&C(y[A],A,y)!==!1;);return y}function $e(y,C){for(var A=y==null?0:y.length;A--&&C(y[A],A,y)!==!1;);return y}function Se(y,C){for(var A=-1,G=y==null?0:y.length;++A<G;)if(!C(y[A],A,y))return!1;return!0}function Oe(y,C){for(var A=-1,G=y==null?0:y.length,fe=0,Ce=[];++A<G;){var ot=y[A];C(ot,A,y)&&(Ce[fe++]=ot)}return Ce}function ze(y,C){var A=y==null?0:y.length;return!!A&&ci(y,C,0)>-1}function ct(y,C,A){for(var G=-1,fe=y==null?0:y.length;++G<fe;)if(A(C,y[G]))return!0;return!1}function re(y,C){for(var A=-1,G=y==null?0:y.length,fe=Array(G);++A<G;)fe[A]=C(y[A],A,y);return fe}function dt(y,C){for(var A=-1,G=C.length,fe=y.length;++A<G;)y[fe+A]=C[A];return y}function st(y,C,A,G){var fe=-1,Ce=y==null?0:y.length;for(G&&Ce&&(A=y[++fe]);++fe<Ce;)A=C(A,y[fe],fe,y);return A}function Pr(y,C,A,G){var fe=y==null?0:y.length;for(G&&fe&&(A=y[--fe]);fe--;)A=C(A,y[fe],fe,y);return A}function Hn(y,C){for(var A=-1,G=y==null?0:y.length;++A<G;)if(C(y[A],A,y))return!0;return!1}var Ji=La("length");function Na(y){return y.split("")}function Da(y){return y.match(Ot)||[]}function Eu(y,C,A){var G;return A(y,function(fe,Ce,ot){if(C(fe,Ce,ot))return G=Ce,!1}),G}function Zs(y,C,A,G){for(var fe=y.length,Ce=A+(G?1:-1);G?Ce--:++Ce<fe;)if(C(y[Ce],Ce,y))return Ce;return-1}function ci(y,C,A){return C===C?vh(y,C,A):Zs(y,wu,A)}function sh(y,C,A,G){for(var fe=A-1,Ce=y.length;++fe<Ce;)if(G(y[fe],C))return fe;return-1}function wu(y){return y!==y}function Au(y,C){var A=y==null?0:y.length;return A?$a(y,C)/A:fn}function La(y){return function(C){return C==null?i:C[y]}}function ka(y){return function(C){return y==null?i:y[C]}}function Tu(y,C,A,G,fe){return fe(y,function(Ce,ot,Be){A=G?(G=!1,Ce):C(A,Ce,ot,Be)}),A}function oh(y,C){var A=y.length;for(y.sort(C);A--;)y[A]=y[A].value;return y}function $a(y,C){for(var A,G=-1,fe=y.length;++G<fe;){var Ce=C(y[G]);Ce!==i&&(A=A===i?Ce:A+Ce)}return A}function Ra(y,C){for(var A=-1,G=Array(y);++A<y;)G[A]=C(A);return G}function ah(y,C){return re(C,function(A){return[A,y[A]]})}function xu(y){return y&&y.slice(0,Iu(y)+1).replace(ri,"")}function Wt(y){return function(C){return y(C)}}function Pa(y,C){return re(C,function(A){return y[A]})}function es(y,C){return y.has(C)}function Cu(y,C){for(var A=-1,G=y.length;++A<G&&ci(C,y[A],0)>-1;);return A}function Su(y,C){for(var A=y.length;A--&&ci(C,y[A],0)>-1;);return A}function lh(y,C){for(var A=y.length,G=0;A--;)y[A]===C&&++G;return G}var uh=ka(Qs),ch=ka(xa);function dh(y){return"\\"+Sa[y]}function fh(y,C){return y==null?i:y[C]}function di(y){return Aa.test(y)}function hh(y){return Ta.test(y)}function ph(y){for(var C,A=[];!(C=y.next()).done;)A.push(C.value);return A}function Ma(y){var C=-1,A=Array(y.size);return y.forEach(function(G,fe){A[++C]=[fe,G]}),A}function Ou(y,C){return function(A){return y(C(A))}}function hr(y,C){for(var A=-1,G=y.length,fe=0,Ce=[];++A<G;){var ot=y[A];(ot===C||ot===D)&&(y[A]=D,Ce[fe++]=A)}return Ce}function Js(y){var C=-1,A=Array(y.size);return y.forEach(function(G){A[++C]=G}),A}function _h(y){var C=-1,A=Array(y.size);return y.forEach(function(G){A[++C]=[G,G]}),A}function vh(y,C,A){for(var G=A-1,fe=y.length;++G<fe;)if(y[G]===C)return G;return-1}function gh(y,C,A){for(var G=A+1;G--;)if(y[G]===C)return G;return G}function fi(y){return di(y)?bh(y):Ji(y)}function gn(y){return di(y)?yh(y):Na(y)}function Iu(y){for(var C=y.length;C--&&$s.test(y.charAt(C)););return C}var mh=ka(Ca);function bh(y){for(var C=Qi.lastIndex=0;Qi.test(y);)++C;return C}function yh(y){return y.match(Qi)||[]}function Eh(y){return y.match(zs)||[]}var wh=(function y(C){C=C==null?Fe:hi.defaults(Fe.Object(),C,hi.pick(Fe,Xs));var A=C.Array,G=C.Date,fe=C.Error,Ce=C.Function,ot=C.Math,Be=C.Object,Fa=C.RegExp,Ah=C.String,Jt=C.TypeError,eo=A.prototype,Th=Ce.prototype,pi=Be.prototype,to=C["__core-js_shared__"],no=Th.toString,Re=pi.hasOwnProperty,xh=0,Nu=(function(){var e=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),ro=pi.toString,Ch=no.call(Be),Sh=Fe._,Oh=Fa("^"+no.call(Re).replace(qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=js?C.Buffer:i,pr=C.Symbol,so=C.Uint8Array,Du=io?io.allocUnsafe:i,oo=Ou(Be.getPrototypeOf,Be),Lu=Be.create,ku=pi.propertyIsEnumerable,ao=eo.splice,$u=pr?pr.isConcatSpreadable:i,ts=pr?pr.iterator:i,Mr=pr?pr.toStringTag:i,lo=(function(){try{var e=qr(Be,"defineProperty");return e({},"",{}),e}catch{}})(),Ih=C.clearTimeout!==Fe.clearTimeout&&C.clearTimeout,Nh=G&&G.now!==Fe.Date.now&&G.now,Dh=C.setTimeout!==Fe.setTimeout&&C.setTimeout,uo=ot.ceil,co=ot.floor,Ba=Be.getOwnPropertySymbols,Lh=io?io.isBuffer:i,Ru=C.isFinite,kh=eo.join,$h=Ou(Be.keys,Be),at=ot.max,gt=ot.min,Rh=G.now,Ph=C.parseInt,Pu=ot.random,Mh=eo.reverse,Ua=qr(C,"DataView"),ns=qr(C,"Map"),Wa=qr(C,"Promise"),_i=qr(C,"Set"),rs=qr(C,"WeakMap"),is=qr(Be,"create"),fo=rs&&new rs,vi={},Fh=Hr(Ua),Bh=Hr(ns),Uh=Hr(Wa),Wh=Hr(_i),qh=Hr(rs),ho=pr?pr.prototype:i,ss=ho?ho.valueOf:i,Mu=ho?ho.toString:i;function f(e){if(Xe(e)&&!he(e)&&!(e instanceof ye)){if(e instanceof en)return e;if(Re.call(e,"__wrapped__"))return Fc(e)}return new en(e)}var gi=(function(){function e(){}return function(t){if(!Ve(t))return{};if(Lu)return Lu(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function po(){}function en(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}f.templateSettings={escape:sr,evaluate:or,interpolate:ti,variable:"",imports:{_:f}},f.prototype=po.prototype,f.prototype.constructor=f,en.prototype=gi(po.prototype),en.prototype.constructor=en;function ye(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_t,this.__views__=[]}function Hh(){var e=new ye(this.__wrapped__);return e.__actions__=Dt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Dt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Dt(this.__views__),e}function Vh(){if(this.__filtered__){var e=new ye(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Kh(){var e=this.__wrapped__.value(),t=this.__dir__,r=he(e),s=t<0,l=r?e.length:0,h=r_(0,l,this.__views__),v=h.start,m=h.end,w=m-v,I=s?m:v-1,N=this.__iteratees__,L=N.length,V=0,te=gt(w,this.__takeCount__);if(!r||!s&&l==w&&te==w)return ac(e,this.__actions__);var ae=[];e:for(;w--&&V<te;){I+=t;for(var ge=-1,le=e[I];++ge<L;){var be=N[ge],Ee=be.iteratee,Vt=be.type,Tt=Ee(le);if(Vt==qe)le=Tt;else if(!Tt){if(Vt==Xt)continue e;break e}}ae[V++]=le}return ae}ye.prototype=gi(po.prototype),ye.prototype.constructor=ye;function Fr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Yh(){this.__data__=is?is(null):{},this.size=0}function Gh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function zh(e){var t=this.__data__;if(is){var r=t[e];return r===O?i:r}return Re.call(t,e)?t[e]:i}function Xh(e){var t=this.__data__;return is?t[e]!==i:Re.call(t,e)}function Qh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=is&&t===i?O:t,this}Fr.prototype.clear=Yh,Fr.prototype.delete=Gh,Fr.prototype.get=zh,Fr.prototype.has=Xh,Fr.prototype.set=Qh;function Vn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function jh(){this.__data__=[],this.size=0}function Zh(e){var t=this.__data__,r=_o(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():ao.call(t,r,1),--this.size,!0}function Jh(e){var t=this.__data__,r=_o(t,e);return r<0?i:t[r][1]}function ep(e){return _o(this.__data__,e)>-1}function tp(e,t){var r=this.__data__,s=_o(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}Vn.prototype.clear=jh,Vn.prototype.delete=Zh,Vn.prototype.get=Jh,Vn.prototype.has=ep,Vn.prototype.set=tp;function Kn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function np(){this.size=0,this.__data__={hash:new Fr,map:new(ns||Vn),string:new Fr}}function rp(e){var t=So(this,e).delete(e);return this.size-=t?1:0,t}function ip(e){return So(this,e).get(e)}function sp(e){return So(this,e).has(e)}function op(e,t){var r=So(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}Kn.prototype.clear=np,Kn.prototype.delete=rp,Kn.prototype.get=ip,Kn.prototype.has=sp,Kn.prototype.set=op;function Br(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kn;++t<r;)this.add(e[t])}function ap(e){return this.__data__.set(e,O),this}function lp(e){return this.__data__.has(e)}Br.prototype.add=Br.prototype.push=ap,Br.prototype.has=lp;function mn(e){var t=this.__data__=new Vn(e);this.size=t.size}function up(){this.__data__=new Vn,this.size=0}function cp(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function dp(e){return this.__data__.get(e)}function fp(e){return this.__data__.has(e)}function hp(e,t){var r=this.__data__;if(r instanceof Vn){var s=r.__data__;if(!ns||s.length<p-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new Kn(s)}return r.set(e,t),this.size=r.size,this}mn.prototype.clear=up,mn.prototype.delete=cp,mn.prototype.get=dp,mn.prototype.has=fp,mn.prototype.set=hp;function Fu(e,t){var r=he(e),s=!r&&Vr(e),l=!r&&!s&&br(e),h=!r&&!s&&!l&&Ei(e),v=r||s||l||h,m=v?Ra(e.length,Ah):[],w=m.length;for(var I in e)(t||Re.call(e,I))&&!(v&&(I=="length"||l&&(I=="offset"||I=="parent")||h&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||Xn(I,w)))&&m.push(I);return m}function Bu(e){var t=e.length;return t?e[Za(0,t-1)]:i}function pp(e,t){return Oo(Dt(e),Ur(t,0,e.length))}function _p(e){return Oo(Dt(e))}function qa(e,t,r){(r!==i&&!bn(e[t],r)||r===i&&!(t in e))&&Yn(e,t,r)}function os(e,t,r){var s=e[t];(!(Re.call(e,t)&&bn(s,r))||r===i&&!(t in e))&&Yn(e,t,r)}function _o(e,t){for(var r=e.length;r--;)if(bn(e[r][0],t))return r;return-1}function vp(e,t,r,s){return _r(e,function(l,h,v){t(s,l,r(l),v)}),s}function Uu(e,t){return e&&Ln(t,ft(t),e)}function gp(e,t){return e&&Ln(t,kt(t),e)}function Yn(e,t,r){t=="__proto__"&&lo?lo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ha(e,t){for(var r=-1,s=t.length,l=A(s),h=e==null;++r<s;)l[r]=h?i:Al(e,t[r]);return l}function Ur(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function tn(e,t,r,s,l,h){var v,m=t&q,w=t&X,I=t&Y;if(r&&(v=l?r(e,s,l,h):r(e)),v!==i)return v;if(!Ve(e))return e;var N=he(e);if(N){if(v=s_(e),!m)return Dt(e,v)}else{var L=mt(e),V=L==Bt||L==Sr;if(br(e))return cc(e,m);if(L==Ge||L==we||V&&!l){if(v=w||V?{}:Ic(e),!m)return w?zp(e,gp(v,e)):Gp(e,Uu(v,e))}else{if(!Le[L])return l?e:{};v=o_(e,L,m)}}h||(h=new mn);var te=h.get(e);if(te)return te;h.set(e,v),id(e)?e.forEach(function(le){v.add(tn(le,t,r,le,e,h))}):nd(e)&&e.forEach(function(le,be){v.set(be,tn(le,t,r,be,e,h))});var ae=I?w?ul:ll:w?kt:ft,ge=N?i:ae(e);return H(ge||e,function(le,be){ge&&(be=le,le=e[be]),os(v,be,tn(le,t,r,be,e,h))}),v}function mp(e){var t=ft(e);return function(r){return Wu(r,e,t)}}function Wu(e,t,r){var s=r.length;if(e==null)return!s;for(e=Be(e);s--;){var l=r[s],h=t[l],v=e[l];if(v===i&&!(l in e)||!h(v))return!1}return!0}function qu(e,t,r){if(typeof e!="function")throw new Jt(b);return hs(function(){e.apply(i,r)},t)}function as(e,t,r,s){var l=-1,h=ze,v=!0,m=e.length,w=[],I=t.length;if(!m)return w;r&&(t=re(t,Wt(r))),s?(h=ct,v=!1):t.length>=p&&(h=es,v=!1,t=new Br(t));e:for(;++l<m;){var N=e[l],L=r==null?N:r(N);if(N=s||N!==0?N:0,v&&L===L){for(var V=I;V--;)if(t[V]===L)continue e;w.push(N)}else h(t,L,s)||w.push(N)}return w}var _r=_c(Dn),Hu=_c(Ka,!0);function bp(e,t){var r=!0;return _r(e,function(s,l,h){return r=!!t(s,l,h),r}),r}function vo(e,t,r){for(var s=-1,l=e.length;++s<l;){var h=e[s],v=t(h);if(v!=null&&(m===i?v===v&&!Ht(v):r(v,m)))var m=v,w=h}return w}function yp(e,t,r,s){var l=e.length;for(r=ve(r),r<0&&(r=-r>l?0:l+r),s=s===i||s>l?l:ve(s),s<0&&(s+=l),s=r>s?0:od(s);r<s;)e[r++]=t;return e}function Vu(e,t){var r=[];return _r(e,function(s,l,h){t(s,l,h)&&r.push(s)}),r}function pt(e,t,r,s,l){var h=-1,v=e.length;for(r||(r=l_),l||(l=[]);++h<v;){var m=e[h];t>0&&r(m)?t>1?pt(m,t-1,r,s,l):dt(l,m):s||(l[l.length]=m)}return l}var Va=vc(),Ku=vc(!0);function Dn(e,t){return e&&Va(e,t,ft)}function Ka(e,t){return e&&Ku(e,t,ft)}function go(e,t){return Oe(t,function(r){return Qn(e[r])})}function Wr(e,t){t=gr(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[kn(t[r++])];return r&&r==s?e:i}function Yu(e,t,r){var s=t(e);return he(e)?s:dt(s,r(e))}function wt(e){return e==null?e===i?Q:Bn:Mr&&Mr in Be(e)?n_(e):__(e)}function Ya(e,t){return e>t}function Ep(e,t){return e!=null&&Re.call(e,t)}function wp(e,t){return e!=null&&t in Be(e)}function Ap(e,t,r){return e>=gt(t,r)&&e<at(t,r)}function Ga(e,t,r){for(var s=r?ct:ze,l=e[0].length,h=e.length,v=h,m=A(h),w=1/0,I=[];v--;){var N=e[v];v&&t&&(N=re(N,Wt(t))),w=gt(N.length,w),m[v]=!r&&(t||l>=120&&N.length>=120)?new Br(v&&N):i}N=e[0];var L=-1,V=m[0];e:for(;++L<l&&I.length<w;){var te=N[L],ae=t?t(te):te;if(te=r||te!==0?te:0,!(V?es(V,ae):s(I,ae,r))){for(v=h;--v;){var ge=m[v];if(!(ge?es(ge,ae):s(e[v],ae,r)))continue e}V&&V.push(ae),I.push(te)}}return I}function Tp(e,t,r,s){return Dn(e,function(l,h,v){t(s,r(l),h,v)}),s}function ls(e,t,r){t=gr(t,e),e=kc(e,t);var s=e==null?e:e[kn(rn(t))];return s==null?i:ee(s,e,r)}function Gu(e){return Xe(e)&&wt(e)==we}function xp(e){return Xe(e)&&wt(e)==Cn}function Cp(e){return Xe(e)&&wt(e)==hn}function us(e,t,r,s,l){return e===t?!0:e==null||t==null||!Xe(e)&&!Xe(t)?e!==e&&t!==t:Sp(e,t,r,s,us,l)}function Sp(e,t,r,s,l,h){var v=he(e),m=he(t),w=v?nt:mt(e),I=m?nt:mt(t);w=w==we?Ge:w,I=I==we?Ge:I;var N=w==Ge,L=I==Ge,V=w==I;if(V&&br(e)){if(!br(t))return!1;v=!0,N=!1}if(V&&!N)return h||(h=new mn),v||Ei(e)?Cc(e,t,r,s,l,h):e_(e,t,w,r,s,l,h);if(!(r&de)){var te=N&&Re.call(e,"__wrapped__"),ae=L&&Re.call(t,"__wrapped__");if(te||ae){var ge=te?e.value():e,le=ae?t.value():t;return h||(h=new mn),l(ge,le,r,s,h)}}return V?(h||(h=new mn),t_(e,t,r,s,l,h)):!1}function Op(e){return Xe(e)&&mt(e)==Et}function za(e,t,r,s){var l=r.length,h=l,v=!s;if(e==null)return!h;for(e=Be(e);l--;){var m=r[l];if(v&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++l<h;){m=r[l];var w=m[0],I=e[w],N=m[1];if(v&&m[2]){if(I===i&&!(w in e))return!1}else{var L=new mn;if(s)var V=s(I,N,w,e,t,L);if(!(V===i?us(N,I,de|Z,s,L):V))return!1}}return!0}function zu(e){if(!Ve(e)||c_(e))return!1;var t=Qn(e)?Oh:Ms;return t.test(Hr(e))}function Ip(e){return Xe(e)&&wt(e)==Ue}function Np(e){return Xe(e)&&mt(e)==ut}function Dp(e){return Xe(e)&&$o(e.length)&&!!Pe[wt(e)]}function Xu(e){return typeof e=="function"?e:e==null?$t:typeof e=="object"?he(e)?Zu(e[0],e[1]):ju(e):gd(e)}function Xa(e){if(!fs(e))return $h(e);var t=[];for(var r in Be(e))Re.call(e,r)&&r!="constructor"&&t.push(r);return t}function Lp(e){if(!Ve(e))return p_(e);var t=fs(e),r=[];for(var s in e)s=="constructor"&&(t||!Re.call(e,s))||r.push(s);return r}function Qa(e,t){return e<t}function Qu(e,t){var r=-1,s=Lt(e)?A(e.length):[];return _r(e,function(l,h,v){s[++r]=t(l,h,v)}),s}function ju(e){var t=dl(e);return t.length==1&&t[0][2]?Dc(t[0][0],t[0][1]):function(r){return r===e||za(r,e,t)}}function Zu(e,t){return hl(e)&&Nc(t)?Dc(kn(e),t):function(r){var s=Al(r,e);return s===i&&s===t?Tl(r,e):us(t,s,de|Z)}}function mo(e,t,r,s,l){e!==t&&Va(t,function(h,v){if(l||(l=new mn),Ve(h))kp(e,t,v,r,mo,s,l);else{var m=s?s(_l(e,v),h,v+"",e,t,l):i;m===i&&(m=h),qa(e,v,m)}},kt)}function kp(e,t,r,s,l,h,v){var m=_l(e,r),w=_l(t,r),I=v.get(w);if(I){qa(e,r,I);return}var N=h?h(m,w,r+"",e,t,v):i,L=N===i;if(L){var V=he(w),te=!V&&br(w),ae=!V&&!te&&Ei(w);N=w,V||te||ae?he(m)?N=m:Je(m)?N=Dt(m):te?(L=!1,N=cc(w,!0)):ae?(L=!1,N=dc(w,!0)):N=[]:ps(w)||Vr(w)?(N=m,Vr(m)?N=ad(m):(!Ve(m)||Qn(m))&&(N=Ic(w))):L=!1}L&&(v.set(w,N),l(N,w,s,h,v),v.delete(w)),qa(e,r,N)}function Ju(e,t){var r=e.length;if(r)return t+=t<0?r:0,Xn(t,r)?e[t]:i}function ec(e,t,r){t.length?t=re(t,function(h){return he(h)?function(v){return Wr(v,h.length===1?h[0]:h)}:h}):t=[$t];var s=-1;t=re(t,Wt(oe()));var l=Qu(e,function(h,v,m){var w=re(t,function(I){return I(h)});return{criteria:w,index:++s,value:h}});return oh(l,function(h,v){return Yp(h,v,r)})}function $p(e,t){return tc(e,t,function(r,s){return Tl(e,s)})}function tc(e,t,r){for(var s=-1,l=t.length,h={};++s<l;){var v=t[s],m=Wr(e,v);r(m,v)&&cs(h,gr(v,e),m)}return h}function Rp(e){return function(t){return Wr(t,e)}}function ja(e,t,r,s){var l=s?sh:ci,h=-1,v=t.length,m=e;for(e===t&&(t=Dt(t)),r&&(m=re(e,Wt(r)));++h<v;)for(var w=0,I=t[h],N=r?r(I):I;(w=l(m,N,w,s))>-1;)m!==e&&ao.call(m,w,1),ao.call(e,w,1);return e}function nc(e,t){for(var r=e?t.length:0,s=r-1;r--;){var l=t[r];if(r==s||l!==h){var h=l;Xn(l)?ao.call(e,l,1):tl(e,l)}}return e}function Za(e,t){return e+co(Pu()*(t-e+1))}function Pp(e,t,r,s){for(var l=-1,h=at(uo((t-e)/(r||1)),0),v=A(h);h--;)v[s?h:++l]=e,e+=r;return v}function Ja(e,t){var r="";if(!e||t<1||t>Ye)return r;do t%2&&(r+=e),t=co(t/2),t&&(e+=e);while(t);return r}function me(e,t){return vl(Lc(e,t,$t),e+"")}function Mp(e){return Bu(wi(e))}function Fp(e,t){var r=wi(e);return Oo(r,Ur(t,0,r.length))}function cs(e,t,r,s){if(!Ve(e))return e;t=gr(t,e);for(var l=-1,h=t.length,v=h-1,m=e;m!=null&&++l<h;){var w=kn(t[l]),I=r;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(l!=v){var N=m[w];I=s?s(N,w,m):i,I===i&&(I=Ve(N)?N:Xn(t[l+1])?[]:{})}os(m,w,I),m=m[w]}return e}var rc=fo?function(e,t){return fo.set(e,t),e}:$t,Bp=lo?function(e,t){return lo(e,"toString",{configurable:!0,enumerable:!1,value:Cl(t),writable:!0})}:$t;function Up(e){return Oo(wi(e))}function nn(e,t,r){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),r=r>l?l:r,r<0&&(r+=l),l=t>r?0:r-t>>>0,t>>>=0;for(var h=A(l);++s<l;)h[s]=e[s+t];return h}function Wp(e,t){var r;return _r(e,function(s,l,h){return r=t(s,l,h),!r}),!!r}function bo(e,t,r){var s=0,l=e==null?s:e.length;if(typeof t=="number"&&t===t&&l<=Mn){for(;s<l;){var h=s+l>>>1,v=e[h];v!==null&&!Ht(v)&&(r?v<=t:v<t)?s=h+1:l=h}return l}return el(e,t,$t,r)}function el(e,t,r,s){var l=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var v=t!==t,m=t===null,w=Ht(t),I=t===i;l<h;){var N=co((l+h)/2),L=r(e[N]),V=L!==i,te=L===null,ae=L===L,ge=Ht(L);if(v)var le=s||ae;else I?le=ae&&(s||V):m?le=ae&&V&&(s||!te):w?le=ae&&V&&!te&&(s||!ge):te||ge?le=!1:le=s?L<=t:L<t;le?l=N+1:h=N}return gt(h,Mt)}function ic(e,t){for(var r=-1,s=e.length,l=0,h=[];++r<s;){var v=e[r],m=t?t(v):v;if(!r||!bn(m,w)){var w=m;h[l++]=v===0?0:v}}return h}function sc(e){return typeof e=="number"?e:Ht(e)?fn:+e}function qt(e){if(typeof e=="string")return e;if(he(e))return re(e,qt)+"";if(Ht(e))return Mu?Mu.call(e):"";var t=e+"";return t=="0"&&1/e==-We?"-0":t}function vr(e,t,r){var s=-1,l=ze,h=e.length,v=!0,m=[],w=m;if(r)v=!1,l=ct;else if(h>=p){var I=t?null:Zp(e);if(I)return Js(I);v=!1,l=es,w=new Br}else w=t?[]:m;e:for(;++s<h;){var N=e[s],L=t?t(N):N;if(N=r||N!==0?N:0,v&&L===L){for(var V=w.length;V--;)if(w[V]===L)continue e;t&&w.push(L),m.push(N)}else l(w,L,r)||(w!==m&&w.push(L),m.push(N))}return m}function tl(e,t){return t=gr(t,e),e=kc(e,t),e==null||delete e[kn(rn(t))]}function oc(e,t,r,s){return cs(e,t,r(Wr(e,t)),s)}function yo(e,t,r,s){for(var l=e.length,h=s?l:-1;(s?h--:++h<l)&&t(e[h],h,e););return r?nn(e,s?0:h,s?h+1:l):nn(e,s?h+1:0,s?l:h)}function ac(e,t){var r=e;return r instanceof ye&&(r=r.value()),st(t,function(s,l){return l.func.apply(l.thisArg,dt([s],l.args))},r)}function nl(e,t,r){var s=e.length;if(s<2)return s?vr(e[0]):[];for(var l=-1,h=A(s);++l<s;)for(var v=e[l],m=-1;++m<s;)m!=l&&(h[l]=as(h[l]||v,e[m],t,r));return vr(pt(h,1),t,r)}function lc(e,t,r){for(var s=-1,l=e.length,h=t.length,v={};++s<l;){var m=s<h?t[s]:i;r(v,e[s],m)}return v}function rl(e){return Je(e)?e:[]}function il(e){return typeof e=="function"?e:$t}function gr(e,t){return he(e)?e:hl(e,t)?[e]:Mc(Ie(e))}var qp=me;function mr(e,t,r){var s=e.length;return r=r===i?s:r,!t&&r>=s?e:nn(e,t,r)}var uc=Ih||function(e){return Fe.clearTimeout(e)};function cc(e,t){if(t)return e.slice();var r=e.length,s=Du?Du(r):new e.constructor(r);return e.copy(s),s}function sl(e){var t=new e.constructor(e.byteLength);return new so(t).set(new so(e)),t}function Hp(e,t){var r=t?sl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Vp(e){var t=new e.constructor(e.source,lr.exec(e));return t.lastIndex=e.lastIndex,t}function Kp(e){return ss?Be(ss.call(e)):{}}function dc(e,t){var r=t?sl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function fc(e,t){if(e!==t){var r=e!==i,s=e===null,l=e===e,h=Ht(e),v=t!==i,m=t===null,w=t===t,I=Ht(t);if(!m&&!I&&!h&&e>t||h&&v&&w&&!m&&!I||s&&v&&w||!r&&w||!l)return 1;if(!s&&!h&&!I&&e<t||I&&r&&l&&!s&&!h||m&&r&&l||!v&&l||!w)return-1}return 0}function Yp(e,t,r){for(var s=-1,l=e.criteria,h=t.criteria,v=l.length,m=r.length;++s<v;){var w=fc(l[s],h[s]);if(w){if(s>=m)return w;var I=r[s];return w*(I=="desc"?-1:1)}}return e.index-t.index}function hc(e,t,r,s){for(var l=-1,h=e.length,v=r.length,m=-1,w=t.length,I=at(h-v,0),N=A(w+I),L=!s;++m<w;)N[m]=t[m];for(;++l<v;)(L||l<h)&&(N[r[l]]=e[l]);for(;I--;)N[m++]=e[l++];return N}function pc(e,t,r,s){for(var l=-1,h=e.length,v=-1,m=r.length,w=-1,I=t.length,N=at(h-m,0),L=A(N+I),V=!s;++l<N;)L[l]=e[l];for(var te=l;++w<I;)L[te+w]=t[w];for(;++v<m;)(V||l<h)&&(L[te+r[v]]=e[l++]);return L}function Dt(e,t){var r=-1,s=e.length;for(t||(t=A(s));++r<s;)t[r]=e[r];return t}function Ln(e,t,r,s){var l=!r;r||(r={});for(var h=-1,v=t.length;++h<v;){var m=t[h],w=s?s(r[m],e[m],m,r,e):i;w===i&&(w=e[m]),l?Yn(r,m,w):os(r,m,w)}return r}function Gp(e,t){return Ln(e,fl(e),t)}function zp(e,t){return Ln(e,Sc(e),t)}function Eo(e,t){return function(r,s){var l=he(r)?ke:vp,h=t?t():{};return l(r,e,oe(s,2),h)}}function mi(e){return me(function(t,r){var s=-1,l=r.length,h=l>1?r[l-1]:i,v=l>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(l--,h):i,v&&At(r[0],r[1],v)&&(h=l<3?i:h,l=1),t=Be(t);++s<l;){var m=r[s];m&&e(t,m,s,h)}return t})}function _c(e,t){return function(r,s){if(r==null)return r;if(!Lt(r))return e(r,s);for(var l=r.length,h=t?l:-1,v=Be(r);(t?h--:++h<l)&&s(v[h],h,v)!==!1;);return r}}function vc(e){return function(t,r,s){for(var l=-1,h=Be(t),v=s(t),m=v.length;m--;){var w=v[e?m:++l];if(r(h[w],w,h)===!1)break}return t}}function Xp(e,t,r){var s=t&J,l=ds(e);function h(){var v=this&&this!==Fe&&this instanceof h?l:e;return v.apply(s?r:this,arguments)}return h}function gc(e){return function(t){t=Ie(t);var r=di(t)?gn(t):i,s=r?r[0]:t.charAt(0),l=r?mr(r,1).join(""):t.slice(1);return s[e]()+l}}function bi(e){return function(t){return st(_d(pd(t).replace(Ea,"")),e,"")}}function ds(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gi(e.prototype),s=e.apply(r,t);return Ve(s)?s:r}}function Qp(e,t,r){var s=ds(e);function l(){for(var h=arguments.length,v=A(h),m=h,w=yi(l);m--;)v[m]=arguments[m];var I=h<3&&v[0]!==w&&v[h-1]!==w?[]:hr(v,w);if(h-=I.length,h<r)return wc(e,t,wo,l.placeholder,i,v,I,i,i,r-h);var N=this&&this!==Fe&&this instanceof l?s:e;return ee(N,this,v)}return l}function mc(e){return function(t,r,s){var l=Be(t);if(!Lt(t)){var h=oe(r,3);t=ft(t),r=function(m){return h(l[m],m,l)}}var v=e(t,r,s);return v>-1?l[h?t[v]:v]:i}}function bc(e){return zn(function(t){var r=t.length,s=r,l=en.prototype.thru;for(e&&t.reverse();s--;){var h=t[s];if(typeof h!="function")throw new Jt(b);if(l&&!v&&Co(h)=="wrapper")var v=new en([],!0)}for(s=v?s:r;++s<r;){h=t[s];var m=Co(h),w=m=="wrapper"?cl(h):i;w&&pl(w[0])&&w[1]==(ue|ie|k|xe)&&!w[4].length&&w[9]==1?v=v[Co(w[0])].apply(v,w[3]):v=h.length==1&&pl(h)?v[m]():v.thru(h)}return function(){var I=arguments,N=I[0];if(v&&I.length==1&&he(N))return v.plant(N).value();for(var L=0,V=r?t[L].apply(this,I):N;++L<r;)V=t[L].call(this,V);return V}})}function wo(e,t,r,s,l,h,v,m,w,I){var N=t&ue,L=t&J,V=t&S,te=t&(ie|F),ae=t&Ne,ge=V?i:ds(e);function le(){for(var be=arguments.length,Ee=A(be),Vt=be;Vt--;)Ee[Vt]=arguments[Vt];if(te)var Tt=yi(le),Kt=lh(Ee,Tt);if(s&&(Ee=hc(Ee,s,l,te)),h&&(Ee=pc(Ee,h,v,te)),be-=Kt,te&&be<I){var et=hr(Ee,Tt);return wc(e,t,wo,le.placeholder,r,Ee,et,m,w,I-be)}var yn=L?r:this,Zn=V?yn[e]:e;return be=Ee.length,m?Ee=v_(Ee,m):ae&&be>1&&Ee.reverse(),N&&w<be&&(Ee.length=w),this&&this!==Fe&&this instanceof le&&(Zn=ge||ds(Zn)),Zn.apply(yn,Ee)}return le}function yc(e,t){return function(r,s){return Tp(r,e,t(s),{})}}function Ao(e,t){return function(r,s){var l;if(r===i&&s===i)return t;if(r!==i&&(l=r),s!==i){if(l===i)return s;typeof r=="string"||typeof s=="string"?(r=qt(r),s=qt(s)):(r=sc(r),s=sc(s)),l=e(r,s)}return l}}function ol(e){return zn(function(t){return t=re(t,Wt(oe())),me(function(r){var s=this;return e(t,function(l){return ee(l,s,r)})})})}function To(e,t){t=t===i?" ":qt(t);var r=t.length;if(r<2)return r?Ja(t,e):t;var s=Ja(t,uo(e/fi(t)));return di(t)?mr(gn(s),0,e).join(""):s.slice(0,e)}function jp(e,t,r,s){var l=t&J,h=ds(e);function v(){for(var m=-1,w=arguments.length,I=-1,N=s.length,L=A(N+w),V=this&&this!==Fe&&this instanceof v?h:e;++I<N;)L[I]=s[I];for(;w--;)L[I++]=arguments[++m];return ee(V,l?r:this,L)}return v}function Ec(e){return function(t,r,s){return s&&typeof s!="number"&&At(t,r,s)&&(r=s=i),t=jn(t),r===i?(r=t,t=0):r=jn(r),s=s===i?t<r?1:-1:jn(s),Pp(t,r,s,e)}}function xo(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=sn(t),r=sn(r)),e(t,r)}}function wc(e,t,r,s,l,h,v,m,w,I){var N=t&ie,L=N?v:i,V=N?i:v,te=N?h:i,ae=N?i:h;t|=N?k:K,t&=~(N?K:k),t&U||(t&=-4);var ge=[e,t,l,te,L,ae,V,m,w,I],le=r.apply(i,ge);return pl(e)&&$c(le,ge),le.placeholder=s,Rc(le,e,t)}function al(e){var t=ot[e];return function(r,s){if(r=sn(r),s=s==null?0:gt(ve(s),292),s&&Ru(r)){var l=(Ie(r)+"e").split("e"),h=t(l[0]+"e"+(+l[1]+s));return l=(Ie(h)+"e").split("e"),+(l[0]+"e"+(+l[1]-s))}return t(r)}}var Zp=_i&&1/Js(new _i([,-0]))[1]==We?function(e){return new _i(e)}:Il;function Ac(e){return function(t){var r=mt(t);return r==Et?Ma(t):r==ut?_h(t):ah(t,e(t))}}function Gn(e,t,r,s,l,h,v,m){var w=t&S;if(!w&&typeof e!="function")throw new Jt(b);var I=s?s.length:0;if(I||(t&=-97,s=l=i),v=v===i?v:at(ve(v),0),m=m===i?m:ve(m),I-=l?l.length:0,t&K){var N=s,L=l;s=l=i}var V=w?i:cl(e),te=[e,t,r,s,l,N,L,h,v,m];if(V&&h_(te,V),e=te[0],t=te[1],r=te[2],s=te[3],l=te[4],m=te[9]=te[9]===i?w?0:e.length:at(te[9]-I,0),!m&&t&(ie|F)&&(t&=-25),!t||t==J)var ae=Xp(e,t,r);else t==ie||t==F?ae=Qp(e,t,m):(t==k||t==(J|k))&&!l.length?ae=jp(e,t,r,s):ae=wo.apply(i,te);var ge=V?rc:$c;return Rc(ge(ae,te),e,t)}function Tc(e,t,r,s){return e===i||bn(e,pi[r])&&!Re.call(s,r)?t:e}function xc(e,t,r,s,l,h){return Ve(e)&&Ve(t)&&(h.set(t,e),mo(e,t,i,xc,h),h.delete(t)),e}function Jp(e){return ps(e)?i:e}function Cc(e,t,r,s,l,h){var v=r&de,m=e.length,w=t.length;if(m!=w&&!(v&&w>m))return!1;var I=h.get(e),N=h.get(t);if(I&&N)return I==t&&N==e;var L=-1,V=!0,te=r&Z?new Br:i;for(h.set(e,t),h.set(t,e);++L<m;){var ae=e[L],ge=t[L];if(s)var le=v?s(ge,ae,L,t,e,h):s(ae,ge,L,e,t,h);if(le!==i){if(le)continue;V=!1;break}if(te){if(!Hn(t,function(be,Ee){if(!es(te,Ee)&&(ae===be||l(ae,be,r,s,h)))return te.push(Ee)})){V=!1;break}}else if(!(ae===ge||l(ae,ge,r,s,h))){V=!1;break}}return h.delete(e),h.delete(t),V}function e_(e,t,r,s,l,h,v){switch(r){case je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cn:return!(e.byteLength!=t.byteLength||!h(new so(e),new so(t)));case Qe:case hn:case Qt:return bn(+e,+t);case An:return e.name==t.name&&e.message==t.message;case Ue:case Tn:return e==t+"";case Et:var m=Ma;case ut:var w=s&de;if(m||(m=Js),e.size!=t.size&&!w)return!1;var I=v.get(e);if(I)return I==t;s|=Z,v.set(e,t);var N=Cc(m(e),m(t),s,l,h,v);return v.delete(e),N;case Un:if(ss)return ss.call(e)==ss.call(t)}return!1}function t_(e,t,r,s,l,h){var v=r&de,m=ll(e),w=m.length,I=ll(t),N=I.length;if(w!=N&&!v)return!1;for(var L=w;L--;){var V=m[L];if(!(v?V in t:Re.call(t,V)))return!1}var te=h.get(e),ae=h.get(t);if(te&&ae)return te==t&&ae==e;var ge=!0;h.set(e,t),h.set(t,e);for(var le=v;++L<w;){V=m[L];var be=e[V],Ee=t[V];if(s)var Vt=v?s(Ee,be,V,t,e,h):s(be,Ee,V,e,t,h);if(!(Vt===i?be===Ee||l(be,Ee,r,s,h):Vt)){ge=!1;break}le||(le=V=="constructor")}if(ge&&!le){var Tt=e.constructor,Kt=t.constructor;Tt!=Kt&&"constructor"in e&&"constructor"in t&&!(typeof Tt=="function"&&Tt instanceof Tt&&typeof Kt=="function"&&Kt instanceof Kt)&&(ge=!1)}return h.delete(e),h.delete(t),ge}function zn(e){return vl(Lc(e,i,Wc),e+"")}function ll(e){return Yu(e,ft,fl)}function ul(e){return Yu(e,kt,Sc)}var cl=fo?function(e){return fo.get(e)}:Il;function Co(e){for(var t=e.name+"",r=vi[t],s=Re.call(vi,t)?r.length:0;s--;){var l=r[s],h=l.func;if(h==null||h==e)return l.name}return t}function yi(e){var t=Re.call(f,"placeholder")?f:e;return t.placeholder}function oe(){var e=f.iteratee||Sl;return e=e===Sl?Xu:e,arguments.length?e(arguments[0],arguments[1]):e}function So(e,t){var r=e.__data__;return u_(t)?r[typeof t=="string"?"string":"hash"]:r.map}function dl(e){for(var t=ft(e),r=t.length;r--;){var s=t[r],l=e[s];t[r]=[s,l,Nc(l)]}return t}function qr(e,t){var r=fh(e,t);return zu(r)?r:i}function n_(e){var t=Re.call(e,Mr),r=e[Mr];try{e[Mr]=i;var s=!0}catch{}var l=ro.call(e);return s&&(t?e[Mr]=r:delete e[Mr]),l}var fl=Ba?function(e){return e==null?[]:(e=Be(e),Oe(Ba(e),function(t){return ku.call(e,t)}))}:Nl,Sc=Ba?function(e){for(var t=[];e;)dt(t,fl(e)),e=oo(e);return t}:Nl,mt=wt;(Ua&&mt(new Ua(new ArrayBuffer(1)))!=je||ns&&mt(new ns)!=Et||Wa&&mt(Wa.resolve())!=Zr||_i&&mt(new _i)!=ut||rs&&mt(new rs)!=xn)&&(mt=function(e){var t=wt(e),r=t==Ge?e.constructor:i,s=r?Hr(r):"";if(s)switch(s){case Fh:return je;case Bh:return Et;case Uh:return Zr;case Wh:return ut;case qh:return xn}return t});function r_(e,t,r){for(var s=-1,l=r.length;++s<l;){var h=r[s],v=h.size;switch(h.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=gt(t,e+v);break;case"takeRight":e=at(e,t-v);break}}return{start:e,end:t}}function i_(e){var t=e.match(da);return t?t[1].split(fa):[]}function Oc(e,t,r){t=gr(t,e);for(var s=-1,l=t.length,h=!1;++s<l;){var v=kn(t[s]);if(!(h=e!=null&&r(e,v)))break;e=e[v]}return h||++s!=l?h:(l=e==null?0:e.length,!!l&&$o(l)&&Xn(v,l)&&(he(e)||Vr(e)))}function s_(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Ic(e){return typeof e.constructor=="function"&&!fs(e)?gi(oo(e)):{}}function o_(e,t,r){var s=e.constructor;switch(t){case Cn:return sl(e);case Qe:case hn:return new s(+e);case je:return Hp(e,r);case Sn:case On:case ei:case j:case Ze:case Or:case In:case pn:case _n:return dc(e,r);case Et:return new s;case Qt:case Tn:return new s(e);case Ue:return Vp(e);case ut:return new s;case Un:return Kp(e)}}function a_(e,t){var r=t.length;if(!r)return e;var s=r-1;return t[s]=(r>1?"& ":"")+t[s],t=t.join(r>2?", ":" "),e.replace(Rs,`{
/* [wrapped with `+t+`] */
`)}function l_(e){return he(e)||Vr(e)||!!($u&&e&&e[$u])}function Xn(e,t){var r=typeof e;return t=t??Ye,!!t&&(r=="number"||r!="symbol"&&_a.test(e))&&e>-1&&e%1==0&&e<t}function At(e,t,r){if(!Ve(r))return!1;var s=typeof t;return(s=="number"?Lt(r)&&Xn(t,r.length):s=="string"&&t in r)?bn(r[t],e):!1}function hl(e,t){if(he(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ht(e)?!0:ni.test(e)||!Ir.test(e)||t!=null&&e in Be(t)}function u_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function pl(e){var t=Co(e),r=f[t];if(typeof r!="function"||!(t in ye.prototype))return!1;if(e===r)return!0;var s=cl(r);return!!s&&e===s[0]}function c_(e){return!!Nu&&Nu in e}var d_=to?Qn:Dl;function fs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||pi;return e===r}function Nc(e){return e===e&&!Ve(e)}function Dc(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in Be(r))}}function f_(e){var t=Lo(e,function(s){return r.size===B&&r.clear(),s}),r=t.cache;return t}function h_(e,t){var r=e[1],s=t[1],l=r|s,h=l<(J|S|ue),v=s==ue&&r==ie||s==ue&&r==xe&&e[7].length<=t[8]||s==(ue|xe)&&t[7].length<=t[8]&&r==ie;if(!(h||v))return e;s&J&&(e[2]=t[2],l|=r&J?0:U);var m=t[3];if(m){var w=e[3];e[3]=w?hc(w,m,t[4]):m,e[4]=w?hr(e[3],D):t[4]}return m=t[5],m&&(w=e[5],e[5]=w?pc(w,m,t[6]):m,e[6]=w?hr(e[5],D):t[6]),m=t[7],m&&(e[7]=m),s&ue&&(e[8]=e[8]==null?t[8]:gt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function p_(e){var t=[];if(e!=null)for(var r in Be(e))t.push(r);return t}function __(e){return ro.call(e)}function Lc(e,t,r){return t=at(t===i?e.length-1:t,0),function(){for(var s=arguments,l=-1,h=at(s.length-t,0),v=A(h);++l<h;)v[l]=s[t+l];l=-1;for(var m=A(t+1);++l<t;)m[l]=s[l];return m[t]=r(v),ee(e,this,m)}}function kc(e,t){return t.length<2?e:Wr(e,nn(t,0,-1))}function v_(e,t){for(var r=e.length,s=gt(t.length,r),l=Dt(e);s--;){var h=t[s];e[s]=Xn(h,r)?l[h]:i}return e}function _l(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var $c=Pc(rc),hs=Dh||function(e,t){return Fe.setTimeout(e,t)},vl=Pc(Bp);function Rc(e,t,r){var s=t+"";return vl(e,a_(s,g_(i_(s),r)))}function Pc(e){var t=0,r=0;return function(){var s=Rh(),l=it-(s-r);if(r=s,l>0){if(++t>=rt)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Oo(e,t){var r=-1,s=e.length,l=s-1;for(t=t===i?s:t;++r<t;){var h=Za(r,l),v=e[h];e[h]=e[r],e[r]=v}return e.length=t,e}var Mc=f_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wi,function(r,s,l,h){t.push(l?h.replace(Ps,"$1"):s||r)}),t});function kn(e){if(typeof e=="string"||Ht(e))return e;var t=e+"";return t=="0"&&1/e==-We?"-0":t}function Hr(e){if(e!=null){try{return no.call(e)}catch{}try{return e+""}catch{}}return""}function g_(e,t){return H(Ft,function(r){var s="_."+r[0];t&r[1]&&!ze(e,s)&&e.push(s)}),e.sort()}function Fc(e){if(e instanceof ye)return e.clone();var t=new en(e.__wrapped__,e.__chain__);return t.__actions__=Dt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function m_(e,t,r){(r?At(e,t,r):t===i)?t=1:t=at(ve(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var l=0,h=0,v=A(uo(s/t));l<s;)v[h++]=nn(e,l,l+=t);return v}function b_(e){for(var t=-1,r=e==null?0:e.length,s=0,l=[];++t<r;){var h=e[t];h&&(l[s++]=h)}return l}function y_(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),r=arguments[0],s=e;s--;)t[s-1]=arguments[s];return dt(he(r)?Dt(r):[r],pt(t,1))}var E_=me(function(e,t){return Je(e)?as(e,pt(t,1,Je,!0)):[]}),w_=me(function(e,t){var r=rn(t);return Je(r)&&(r=i),Je(e)?as(e,pt(t,1,Je,!0),oe(r,2)):[]}),A_=me(function(e,t){var r=rn(t);return Je(r)&&(r=i),Je(e)?as(e,pt(t,1,Je,!0),i,r):[]});function T_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),nn(e,t<0?0:t,s)):[]}function x_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,nn(e,0,t<0?0:t)):[]}function C_(e,t){return e&&e.length?yo(e,oe(t,3),!0,!0):[]}function S_(e,t){return e&&e.length?yo(e,oe(t,3),!0):[]}function O_(e,t,r,s){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&At(e,t,r)&&(r=0,s=l),yp(e,t,r,s)):[]}function Bc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=r==null?0:ve(r);return l<0&&(l=at(s+l,0)),Zs(e,oe(t,3),l)}function Uc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=s-1;return r!==i&&(l=ve(r),l=r<0?at(s+l,0):gt(l,s-1)),Zs(e,oe(t,3),l,!0)}function Wc(e){var t=e==null?0:e.length;return t?pt(e,1):[]}function I_(e){var t=e==null?0:e.length;return t?pt(e,We):[]}function N_(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:ve(t),pt(e,t)):[]}function D_(e){for(var t=-1,r=e==null?0:e.length,s={};++t<r;){var l=e[t];s[l[0]]=l[1]}return s}function qc(e){return e&&e.length?e[0]:i}function L_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=r==null?0:ve(r);return l<0&&(l=at(s+l,0)),ci(e,t,l)}function k_(e){var t=e==null?0:e.length;return t?nn(e,0,-1):[]}var $_=me(function(e){var t=re(e,rl);return t.length&&t[0]===e[0]?Ga(t):[]}),R_=me(function(e){var t=rn(e),r=re(e,rl);return t===rn(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Ga(r,oe(t,2)):[]}),P_=me(function(e){var t=rn(e),r=re(e,rl);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Ga(r,i,t):[]});function M_(e,t){return e==null?"":kh.call(e,t)}function rn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function F_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var l=s;return r!==i&&(l=ve(r),l=l<0?at(s+l,0):gt(l,s-1)),t===t?gh(e,t,l):Zs(e,wu,l,!0)}function B_(e,t){return e&&e.length?Ju(e,ve(t)):i}var U_=me(Hc);function Hc(e,t){return e&&e.length&&t&&t.length?ja(e,t):e}function W_(e,t,r){return e&&e.length&&t&&t.length?ja(e,t,oe(r,2)):e}function q_(e,t,r){return e&&e.length&&t&&t.length?ja(e,t,i,r):e}var H_=zn(function(e,t){var r=e==null?0:e.length,s=Ha(e,t);return nc(e,re(t,function(l){return Xn(l,r)?+l:l}).sort(fc)),s});function V_(e,t){var r=[];if(!(e&&e.length))return r;var s=-1,l=[],h=e.length;for(t=oe(t,3);++s<h;){var v=e[s];t(v,s,e)&&(r.push(v),l.push(s))}return nc(e,l),r}function gl(e){return e==null?e:Mh.call(e)}function K_(e,t,r){var s=e==null?0:e.length;return s?(r&&typeof r!="number"&&At(e,t,r)?(t=0,r=s):(t=t==null?0:ve(t),r=r===i?s:ve(r)),nn(e,t,r)):[]}function Y_(e,t){return bo(e,t)}function G_(e,t,r){return el(e,t,oe(r,2))}function z_(e,t){var r=e==null?0:e.length;if(r){var s=bo(e,t);if(s<r&&bn(e[s],t))return s}return-1}function X_(e,t){return bo(e,t,!0)}function Q_(e,t,r){return el(e,t,oe(r,2),!0)}function j_(e,t){var r=e==null?0:e.length;if(r){var s=bo(e,t,!0)-1;if(bn(e[s],t))return s}return-1}function Z_(e){return e&&e.length?ic(e):[]}function J_(e,t){return e&&e.length?ic(e,oe(t,2)):[]}function ev(e){var t=e==null?0:e.length;return t?nn(e,1,t):[]}function tv(e,t,r){return e&&e.length?(t=r||t===i?1:ve(t),nn(e,0,t<0?0:t)):[]}function nv(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,nn(e,t<0?0:t,s)):[]}function rv(e,t){return e&&e.length?yo(e,oe(t,3),!1,!0):[]}function iv(e,t){return e&&e.length?yo(e,oe(t,3)):[]}var sv=me(function(e){return vr(pt(e,1,Je,!0))}),ov=me(function(e){var t=rn(e);return Je(t)&&(t=i),vr(pt(e,1,Je,!0),oe(t,2))}),av=me(function(e){var t=rn(e);return t=typeof t=="function"?t:i,vr(pt(e,1,Je,!0),i,t)});function lv(e){return e&&e.length?vr(e):[]}function uv(e,t){return e&&e.length?vr(e,oe(t,2)):[]}function cv(e,t){return t=typeof t=="function"?t:i,e&&e.length?vr(e,i,t):[]}function ml(e){if(!(e&&e.length))return[];var t=0;return e=Oe(e,function(r){if(Je(r))return t=at(r.length,t),!0}),Ra(t,function(r){return re(e,La(r))})}function Vc(e,t){if(!(e&&e.length))return[];var r=ml(e);return t==null?r:re(r,function(s){return ee(t,i,s)})}var dv=me(function(e,t){return Je(e)?as(e,t):[]}),fv=me(function(e){return nl(Oe(e,Je))}),hv=me(function(e){var t=rn(e);return Je(t)&&(t=i),nl(Oe(e,Je),oe(t,2))}),pv=me(function(e){var t=rn(e);return t=typeof t=="function"?t:i,nl(Oe(e,Je),i,t)}),_v=me(ml);function vv(e,t){return lc(e||[],t||[],os)}function gv(e,t){return lc(e||[],t||[],cs)}var mv=me(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,Vc(e,r)});function Kc(e){var t=f(e);return t.__chain__=!0,t}function bv(e,t){return t(e),e}function Io(e,t){return t(e)}var yv=zn(function(e){var t=e.length,r=t?e[0]:0,s=this.__wrapped__,l=function(h){return Ha(h,e)};return t>1||this.__actions__.length||!(s instanceof ye)||!Xn(r)?this.thru(l):(s=s.slice(r,+r+(t?1:0)),s.__actions__.push({func:Io,args:[l],thisArg:i}),new en(s,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function Ev(){return Kc(this)}function wv(){return new en(this.value(),this.__chain__)}function Av(){this.__values__===i&&(this.__values__=sd(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Tv(){return this}function xv(e){for(var t,r=this;r instanceof po;){var s=Fc(r);s.__index__=0,s.__values__=i,t?l.__wrapped__=s:t=s;var l=s;r=r.__wrapped__}return l.__wrapped__=e,t}function Cv(){var e=this.__wrapped__;if(e instanceof ye){var t=e;return this.__actions__.length&&(t=new ye(this)),t=t.reverse(),t.__actions__.push({func:Io,args:[gl],thisArg:i}),new en(t,this.__chain__)}return this.thru(gl)}function Sv(){return ac(this.__wrapped__,this.__actions__)}var Ov=Eo(function(e,t,r){Re.call(e,r)?++e[r]:Yn(e,r,1)});function Iv(e,t,r){var s=he(e)?Se:bp;return r&&At(e,t,r)&&(t=i),s(e,oe(t,3))}function Nv(e,t){var r=he(e)?Oe:Vu;return r(e,oe(t,3))}var Dv=mc(Bc),Lv=mc(Uc);function kv(e,t){return pt(No(e,t),1)}function $v(e,t){return pt(No(e,t),We)}function Rv(e,t,r){return r=r===i?1:ve(r),pt(No(e,t),r)}function Yc(e,t){var r=he(e)?H:_r;return r(e,oe(t,3))}function Gc(e,t){var r=he(e)?$e:Hu;return r(e,oe(t,3))}var Pv=Eo(function(e,t,r){Re.call(e,r)?e[r].push(t):Yn(e,r,[t])});function Mv(e,t,r,s){e=Lt(e)?e:wi(e),r=r&&!s?ve(r):0;var l=e.length;return r<0&&(r=at(l+r,0)),Ro(e)?r<=l&&e.indexOf(t,r)>-1:!!l&&ci(e,t,r)>-1}var Fv=me(function(e,t,r){var s=-1,l=typeof t=="function",h=Lt(e)?A(e.length):[];return _r(e,function(v){h[++s]=l?ee(t,v,r):ls(v,t,r)}),h}),Bv=Eo(function(e,t,r){Yn(e,r,t)});function No(e,t){var r=he(e)?re:Qu;return r(e,oe(t,3))}function Uv(e,t,r,s){return e==null?[]:(he(t)||(t=t==null?[]:[t]),r=s?i:r,he(r)||(r=r==null?[]:[r]),ec(e,t,r))}var Wv=Eo(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function qv(e,t,r){var s=he(e)?st:Tu,l=arguments.length<3;return s(e,oe(t,4),r,l,_r)}function Hv(e,t,r){var s=he(e)?Pr:Tu,l=arguments.length<3;return s(e,oe(t,4),r,l,Hu)}function Vv(e,t){var r=he(e)?Oe:Vu;return r(e,ko(oe(t,3)))}function Kv(e){var t=he(e)?Bu:Mp;return t(e)}function Yv(e,t,r){(r?At(e,t,r):t===i)?t=1:t=ve(t);var s=he(e)?pp:Fp;return s(e,t)}function Gv(e){var t=he(e)?_p:Up;return t(e)}function zv(e){if(e==null)return 0;if(Lt(e))return Ro(e)?fi(e):e.length;var t=mt(e);return t==Et||t==ut?e.size:Xa(e).length}function Xv(e,t,r){var s=he(e)?Hn:Wp;return r&&At(e,t,r)&&(t=i),s(e,oe(t,3))}var Qv=me(function(e,t){if(e==null)return[];var r=t.length;return r>1&&At(e,t[0],t[1])?t=[]:r>2&&At(t[0],t[1],t[2])&&(t=[t[0]]),ec(e,pt(t,1),[])}),Do=Nh||function(){return Fe.Date.now()};function jv(e,t){if(typeof t!="function")throw new Jt(b);return e=ve(e),function(){if(--e<1)return t.apply(this,arguments)}}function zc(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,Gn(e,ue,i,i,i,i,t)}function Xc(e,t){var r;if(typeof t!="function")throw new Jt(b);return e=ve(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var bl=me(function(e,t,r){var s=J;if(r.length){var l=hr(r,yi(bl));s|=k}return Gn(e,s,t,r,l)}),Qc=me(function(e,t,r){var s=J|S;if(r.length){var l=hr(r,yi(Qc));s|=k}return Gn(t,s,e,r,l)});function jc(e,t,r){t=r?i:t;var s=Gn(e,ie,i,i,i,i,i,t);return s.placeholder=jc.placeholder,s}function Zc(e,t,r){t=r?i:t;var s=Gn(e,F,i,i,i,i,i,t);return s.placeholder=Zc.placeholder,s}function Jc(e,t,r){var s,l,h,v,m,w,I=0,N=!1,L=!1,V=!0;if(typeof e!="function")throw new Jt(b);t=sn(t)||0,Ve(r)&&(N=!!r.leading,L="maxWait"in r,h=L?at(sn(r.maxWait)||0,t):h,V="trailing"in r?!!r.trailing:V);function te(et){var yn=s,Zn=l;return s=l=i,I=et,v=e.apply(Zn,yn),v}function ae(et){return I=et,m=hs(be,t),N?te(et):v}function ge(et){var yn=et-w,Zn=et-I,md=t-yn;return L?gt(md,h-Zn):md}function le(et){var yn=et-w,Zn=et-I;return w===i||yn>=t||yn<0||L&&Zn>=h}function be(){var et=Do();if(le(et))return Ee(et);m=hs(be,ge(et))}function Ee(et){return m=i,V&&s?te(et):(s=l=i,v)}function Vt(){m!==i&&uc(m),I=0,s=w=l=m=i}function Tt(){return m===i?v:Ee(Do())}function Kt(){var et=Do(),yn=le(et);if(s=arguments,l=this,w=et,yn){if(m===i)return ae(w);if(L)return uc(m),m=hs(be,t),te(w)}return m===i&&(m=hs(be,t)),v}return Kt.cancel=Vt,Kt.flush=Tt,Kt}var Zv=me(function(e,t){return qu(e,1,t)}),Jv=me(function(e,t,r){return qu(e,sn(t)||0,r)});function eg(e){return Gn(e,Ne)}function Lo(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Jt(b);var r=function(){var s=arguments,l=t?t.apply(this,s):s[0],h=r.cache;if(h.has(l))return h.get(l);var v=e.apply(this,s);return r.cache=h.set(l,v)||h,v};return r.cache=new(Lo.Cache||Kn),r}Lo.Cache=Kn;function ko(e){if(typeof e!="function")throw new Jt(b);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function tg(e){return Xc(2,e)}var ng=qp(function(e,t){t=t.length==1&&he(t[0])?re(t[0],Wt(oe())):re(pt(t,1),Wt(oe()));var r=t.length;return me(function(s){for(var l=-1,h=gt(s.length,r);++l<h;)s[l]=t[l].call(this,s[l]);return ee(e,this,s)})}),yl=me(function(e,t){var r=hr(t,yi(yl));return Gn(e,k,i,t,r)}),ed=me(function(e,t){var r=hr(t,yi(ed));return Gn(e,K,i,t,r)}),rg=zn(function(e,t){return Gn(e,xe,i,i,i,t)});function ig(e,t){if(typeof e!="function")throw new Jt(b);return t=t===i?t:ve(t),me(e,t)}function sg(e,t){if(typeof e!="function")throw new Jt(b);return t=t==null?0:at(ve(t),0),me(function(r){var s=r[t],l=mr(r,0,t);return s&&dt(l,s),ee(e,this,l)})}function og(e,t,r){var s=!0,l=!0;if(typeof e!="function")throw new Jt(b);return Ve(r)&&(s="leading"in r?!!r.leading:s,l="trailing"in r?!!r.trailing:l),Jc(e,t,{leading:s,maxWait:t,trailing:l})}function ag(e){return zc(e,1)}function lg(e,t){return yl(il(t),e)}function ug(){if(!arguments.length)return[];var e=arguments[0];return he(e)?e:[e]}function cg(e){return tn(e,Y)}function dg(e,t){return t=typeof t=="function"?t:i,tn(e,Y,t)}function fg(e){return tn(e,q|Y)}function hg(e,t){return t=typeof t=="function"?t:i,tn(e,q|Y,t)}function pg(e,t){return t==null||Wu(e,t,ft(t))}function bn(e,t){return e===t||e!==e&&t!==t}var _g=xo(Ya),vg=xo(function(e,t){return e>=t}),Vr=Gu((function(){return arguments})())?Gu:function(e){return Xe(e)&&Re.call(e,"callee")&&!ku.call(e,"callee")},he=A.isArray,gg=u?Wt(u):xp;function Lt(e){return e!=null&&$o(e.length)&&!Qn(e)}function Je(e){return Xe(e)&&Lt(e)}function mg(e){return e===!0||e===!1||Xe(e)&&wt(e)==Qe}var br=Lh||Dl,bg=c?Wt(c):Cp;function yg(e){return Xe(e)&&e.nodeType===1&&!ps(e)}function Eg(e){if(e==null)return!0;if(Lt(e)&&(he(e)||typeof e=="string"||typeof e.splice=="function"||br(e)||Ei(e)||Vr(e)))return!e.length;var t=mt(e);if(t==Et||t==ut)return!e.size;if(fs(e))return!Xa(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0}function wg(e,t){return us(e,t)}function Ag(e,t,r){r=typeof r=="function"?r:i;var s=r?r(e,t):i;return s===i?us(e,t,i,r):!!s}function El(e){if(!Xe(e))return!1;var t=wt(e);return t==An||t==Fn||typeof e.message=="string"&&typeof e.name=="string"&&!ps(e)}function Tg(e){return typeof e=="number"&&Ru(e)}function Qn(e){if(!Ve(e))return!1;var t=wt(e);return t==Bt||t==Sr||t==St||t==Ui}function td(e){return typeof e=="number"&&e==ve(e)}function $o(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ye}function Ve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Xe(e){return e!=null&&typeof e=="object"}var nd=g?Wt(g):Op;function xg(e,t){return e===t||za(e,t,dl(t))}function Cg(e,t,r){return r=typeof r=="function"?r:i,za(e,t,dl(t),r)}function Sg(e){return rd(e)&&e!=+e}function Og(e){if(d_(e))throw new fe(E);return zu(e)}function Ig(e){return e===null}function Ng(e){return e==null}function rd(e){return typeof e=="number"||Xe(e)&&wt(e)==Qt}function ps(e){if(!Xe(e)||wt(e)!=Ge)return!1;var t=oo(e);if(t===null)return!0;var r=Re.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&no.call(r)==Ch}var wl=T?Wt(T):Ip;function Dg(e){return td(e)&&e>=-Ye&&e<=Ye}var id=M?Wt(M):Np;function Ro(e){return typeof e=="string"||!he(e)&&Xe(e)&&wt(e)==Tn}function Ht(e){return typeof e=="symbol"||Xe(e)&&wt(e)==Un}var Ei=z?Wt(z):Dp;function Lg(e){return e===i}function kg(e){return Xe(e)&&mt(e)==xn}function $g(e){return Xe(e)&&wt(e)==Jr}var Rg=xo(Qa),Pg=xo(function(e,t){return e<=t});function sd(e){if(!e)return[];if(Lt(e))return Ro(e)?gn(e):Dt(e);if(ts&&e[ts])return ph(e[ts]());var t=mt(e),r=t==Et?Ma:t==ut?Js:wi;return r(e)}function jn(e){if(!e)return e===0?e:0;if(e=sn(e),e===We||e===-We){var t=e<0?-1:1;return t*dn}return e===e?e:0}function ve(e){var t=jn(e),r=t%1;return t===t?r?t-r:t:0}function od(e){return e?Ur(ve(e),0,_t):0}function sn(e){if(typeof e=="number")return e;if(Ht(e))return fn;if(Ve(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ve(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xu(e);var r=pa.test(e);return r||Wn.test(e)?Ia(e.slice(2),r?2:8):ha.test(e)?fn:+e}function ad(e){return Ln(e,kt(e))}function Mg(e){return e?Ur(ve(e),-Ye,Ye):e===0?e:0}function Ie(e){return e==null?"":qt(e)}var Fg=mi(function(e,t){if(fs(t)||Lt(t)){Ln(t,ft(t),e);return}for(var r in t)Re.call(t,r)&&os(e,r,t[r])}),ld=mi(function(e,t){Ln(t,kt(t),e)}),Po=mi(function(e,t,r,s){Ln(t,kt(t),e,s)}),Bg=mi(function(e,t,r,s){Ln(t,ft(t),e,s)}),Ug=zn(Ha);function Wg(e,t){var r=gi(e);return t==null?r:Uu(r,t)}var qg=me(function(e,t){e=Be(e);var r=-1,s=t.length,l=s>2?t[2]:i;for(l&&At(t[0],t[1],l)&&(s=1);++r<s;)for(var h=t[r],v=kt(h),m=-1,w=v.length;++m<w;){var I=v[m],N=e[I];(N===i||bn(N,pi[I])&&!Re.call(e,I))&&(e[I]=h[I])}return e}),Hg=me(function(e){return e.push(i,xc),ee(ud,i,e)});function Vg(e,t){return Eu(e,oe(t,3),Dn)}function Kg(e,t){return Eu(e,oe(t,3),Ka)}function Yg(e,t){return e==null?e:Va(e,oe(t,3),kt)}function Gg(e,t){return e==null?e:Ku(e,oe(t,3),kt)}function zg(e,t){return e&&Dn(e,oe(t,3))}function Xg(e,t){return e&&Ka(e,oe(t,3))}function Qg(e){return e==null?[]:go(e,ft(e))}function jg(e){return e==null?[]:go(e,kt(e))}function Al(e,t,r){var s=e==null?i:Wr(e,t);return s===i?r:s}function Zg(e,t){return e!=null&&Oc(e,t,Ep)}function Tl(e,t){return e!=null&&Oc(e,t,wp)}var Jg=yc(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ro.call(t)),e[t]=r},Cl($t)),em=yc(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ro.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]},oe),tm=me(ls);function ft(e){return Lt(e)?Fu(e):Xa(e)}function kt(e){return Lt(e)?Fu(e,!0):Lp(e)}function nm(e,t){var r={};return t=oe(t,3),Dn(e,function(s,l,h){Yn(r,t(s,l,h),s)}),r}function rm(e,t){var r={};return t=oe(t,3),Dn(e,function(s,l,h){Yn(r,l,t(s,l,h))}),r}var im=mi(function(e,t,r){mo(e,t,r)}),ud=mi(function(e,t,r,s){mo(e,t,r,s)}),sm=zn(function(e,t){var r={};if(e==null)return r;var s=!1;t=re(t,function(h){return h=gr(h,e),s||(s=h.length>1),h}),Ln(e,ul(e),r),s&&(r=tn(r,q|X|Y,Jp));for(var l=t.length;l--;)tl(r,t[l]);return r});function om(e,t){return cd(e,ko(oe(t)))}var am=zn(function(e,t){return e==null?{}:$p(e,t)});function cd(e,t){if(e==null)return{};var r=re(ul(e),function(s){return[s]});return t=oe(t),tc(e,r,function(s,l){return t(s,l[0])})}function lm(e,t,r){t=gr(t,e);var s=-1,l=t.length;for(l||(l=1,e=i);++s<l;){var h=e==null?i:e[kn(t[s])];h===i&&(s=l,h=r),e=Qn(h)?h.call(e):h}return e}function um(e,t,r){return e==null?e:cs(e,t,r)}function cm(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:cs(e,t,r,s)}var dd=Ac(ft),fd=Ac(kt);function dm(e,t,r){var s=he(e),l=s||br(e)||Ei(e);if(t=oe(t,4),r==null){var h=e&&e.constructor;l?r=s?new h:[]:Ve(e)?r=Qn(h)?gi(oo(e)):{}:r={}}return(l?H:Dn)(e,function(v,m,w){return t(r,v,m,w)}),r}function fm(e,t){return e==null?!0:tl(e,t)}function hm(e,t,r){return e==null?e:oc(e,t,il(r))}function pm(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:oc(e,t,il(r),s)}function wi(e){return e==null?[]:Pa(e,ft(e))}function _m(e){return e==null?[]:Pa(e,kt(e))}function vm(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=sn(r),r=r===r?r:0),t!==i&&(t=sn(t),t=t===t?t:0),Ur(sn(e),t,r)}function gm(e,t,r){return t=jn(t),r===i?(r=t,t=0):r=jn(r),e=sn(e),Ap(e,t,r)}function mm(e,t,r){if(r&&typeof r!="boolean"&&At(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=jn(e),t===i?(t=e,e=0):t=jn(t)),e>t){var s=e;e=t,t=s}if(r||e%1||t%1){var l=Pu();return gt(e+l*(t-e+Oa("1e-"+((l+"").length-1))),t)}return Za(e,t)}var bm=bi(function(e,t,r){return t=t.toLowerCase(),e+(r?hd(t):t)});function hd(e){return xl(Ie(e).toLowerCase())}function pd(e){return e=Ie(e),e&&e.replace(ii,uh).replace(wa,"")}function ym(e,t,r){e=Ie(e),t=qt(t);var s=e.length;r=r===i?s:Ur(ve(r),0,s);var l=r;return r-=t.length,r>=0&&e.slice(r,l)==t}function Em(e){return e=Ie(e),e&&ks.test(e)?e.replace(Ls,ch):e}function wm(e){return e=Ie(e),e&&ca.test(e)?e.replace(qi,"\\$&"):e}var Am=bi(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Tm=bi(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),xm=gc("toLowerCase");function Cm(e,t,r){e=Ie(e),t=ve(t);var s=t?fi(e):0;if(!t||s>=t)return e;var l=(t-s)/2;return To(co(l),r)+e+To(uo(l),r)}function Sm(e,t,r){e=Ie(e),t=ve(t);var s=t?fi(e):0;return t&&s<t?e+To(t-s,r):e}function Om(e,t,r){e=Ie(e),t=ve(t);var s=t?fi(e):0;return t&&s<t?To(t-s,r)+e:e}function Im(e,t,r){return r||t==null?t=0:t&&(t=+t),Ph(Ie(e).replace(ri,""),t||0)}function Nm(e,t,r){return(r?At(e,t,r):t===i)?t=1:t=ve(t),Ja(Ie(e),t)}function Dm(){var e=arguments,t=Ie(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Lm=bi(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function km(e,t,r){return r&&typeof r!="number"&&At(e,t,r)&&(t=r=i),r=r===i?_t:r>>>0,r?(e=Ie(e),e&&(typeof t=="string"||t!=null&&!wl(t))&&(t=qt(t),!t&&di(e))?mr(gn(e),0,r):e.split(t,r)):[]}var $m=bi(function(e,t,r){return e+(r?" ":"")+xl(t)});function Rm(e,t,r){return e=Ie(e),r=r==null?0:Ur(ve(r),0,e.length),t=qt(t),e.slice(r,r+t.length)==t}function Pm(e,t,r){var s=f.templateSettings;r&&At(e,t,r)&&(t=i),e=Ie(e),t=Po({},t,s,Tc);var l=Po({},t.imports,s.imports,Tc),h=ft(l),v=Pa(l,h),m,w,I=0,N=t.interpolate||ur,L="__p += '",V=Fa((t.escape||ur).source+"|"+N.source+"|"+(N===ti?vt:ur).source+"|"+(t.evaluate||ur).source+"|$","g"),te="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rr+"]")+`
`;e.replace(V,function(le,be,Ee,Vt,Tt,Kt){return Ee||(Ee=Vt),L+=e.slice(I,Kt).replace(va,dh),be&&(m=!0,L+=`' +
__e(`+be+`) +
'`),Tt&&(w=!0,L+=`';
`+Tt+`;
__p += '`),Ee&&(L+=`' +
((__t = (`+Ee+`)) == null ? '' : __t) +
'`),I=Kt+le.length,le}),L+=`';
`;var ae=Re.call(t,"variable")&&t.variable;if(!ae)L=`with (obj) {
`+L+`
}
`;else if(ar.test(ae))throw new fe(x);L=(w?L.replace(la,""):L).replace(ua,"$1").replace(Ns,"$1;"),L="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var ge=vd(function(){return Ce(h,te+"return "+L).apply(i,v)});if(ge.source=L,El(ge))throw ge;return ge}function Mm(e){return Ie(e).toLowerCase()}function Fm(e){return Ie(e).toUpperCase()}function Bm(e,t,r){if(e=Ie(e),e&&(r||t===i))return xu(e);if(!e||!(t=qt(t)))return e;var s=gn(e),l=gn(t),h=Cu(s,l),v=Su(s,l)+1;return mr(s,h,v).join("")}function Um(e,t,r){if(e=Ie(e),e&&(r||t===i))return e.slice(0,Iu(e)+1);if(!e||!(t=qt(t)))return e;var s=gn(e),l=Su(s,gn(t))+1;return mr(s,0,l).join("")}function Wm(e,t,r){if(e=Ie(e),e&&(r||t===i))return e.replace(ri,"");if(!e||!(t=qt(t)))return e;var s=gn(e),l=Cu(s,gn(t));return mr(s,l).join("")}function qm(e,t){var r=Me,s=tt;if(Ve(t)){var l="separator"in t?t.separator:l;r="length"in t?ve(t.length):r,s="omission"in t?qt(t.omission):s}e=Ie(e);var h=e.length;if(di(e)){var v=gn(e);h=v.length}if(r>=h)return e;var m=r-fi(s);if(m<1)return s;var w=v?mr(v,0,m).join(""):e.slice(0,m);if(l===i)return w+s;if(v&&(m+=w.length-m),wl(l)){if(e.slice(m).search(l)){var I,N=w;for(l.global||(l=Fa(l.source,Ie(lr.exec(l))+"g")),l.lastIndex=0;I=l.exec(N);)var L=I.index;w=w.slice(0,L===i?m:L)}}else if(e.indexOf(qt(l),m)!=m){var V=w.lastIndexOf(l);V>-1&&(w=w.slice(0,V))}return w+s}function Hm(e){return e=Ie(e),e&&ht.test(e)?e.replace(Ds,mh):e}var Vm=bi(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),xl=gc("toUpperCase");function _d(e,t,r){return e=Ie(e),t=r?i:t,t===i?hh(e)?Eh(e):Da(e):e.match(t)||[]}var vd=me(function(e,t){try{return ee(e,i,t)}catch(r){return El(r)?r:new fe(r)}}),Km=zn(function(e,t){return H(t,function(r){r=kn(r),Yn(e,r,bl(e[r],e))}),e});function Ym(e){var t=e==null?0:e.length,r=oe();return e=t?re(e,function(s){if(typeof s[1]!="function")throw new Jt(b);return[r(s[0]),s[1]]}):[],me(function(s){for(var l=-1;++l<t;){var h=e[l];if(ee(h[0],this,s))return ee(h[1],this,s)}})}function Gm(e){return mp(tn(e,q))}function Cl(e){return function(){return e}}function zm(e,t){return e==null||e!==e?t:e}var Xm=bc(),Qm=bc(!0);function $t(e){return e}function Sl(e){return Xu(typeof e=="function"?e:tn(e,q))}function jm(e){return ju(tn(e,q))}function Zm(e,t){return Zu(e,tn(t,q))}var Jm=me(function(e,t){return function(r){return ls(r,e,t)}}),eb=me(function(e,t){return function(r){return ls(e,r,t)}});function Ol(e,t,r){var s=ft(t),l=go(t,s);r==null&&!(Ve(t)&&(l.length||!s.length))&&(r=t,t=e,e=this,l=go(t,ft(t)));var h=!(Ve(r)&&"chain"in r)||!!r.chain,v=Qn(e);return H(l,function(m){var w=t[m];e[m]=w,v&&(e.prototype[m]=function(){var I=this.__chain__;if(h||I){var N=e(this.__wrapped__),L=N.__actions__=Dt(this.__actions__);return L.push({func:w,args:arguments,thisArg:e}),N.__chain__=I,N}return w.apply(e,dt([this.value()],arguments))})}),e}function tb(){return Fe._===this&&(Fe._=Sh),this}function Il(){}function nb(e){return e=ve(e),me(function(t){return Ju(t,e)})}var rb=ol(re),ib=ol(Se),sb=ol(Hn);function gd(e){return hl(e)?La(kn(e)):Rp(e)}function ob(e){return function(t){return e==null?i:Wr(e,t)}}var ab=Ec(),lb=Ec(!0);function Nl(){return[]}function Dl(){return!1}function ub(){return{}}function cb(){return""}function db(){return!0}function fb(e,t){if(e=ve(e),e<1||e>Ye)return[];var r=_t,s=gt(e,_t);t=oe(t),e-=_t;for(var l=Ra(s,t);++r<e;)t(r);return l}function hb(e){return he(e)?re(e,kn):Ht(e)?[e]:Dt(Mc(Ie(e)))}function pb(e){var t=++xh;return Ie(e)+t}var _b=Ao(function(e,t){return e+t},0),vb=al("ceil"),gb=Ao(function(e,t){return e/t},1),mb=al("floor");function bb(e){return e&&e.length?vo(e,$t,Ya):i}function yb(e,t){return e&&e.length?vo(e,oe(t,2),Ya):i}function Eb(e){return Au(e,$t)}function wb(e,t){return Au(e,oe(t,2))}function Ab(e){return e&&e.length?vo(e,$t,Qa):i}function Tb(e,t){return e&&e.length?vo(e,oe(t,2),Qa):i}var xb=Ao(function(e,t){return e*t},1),Cb=al("round"),Sb=Ao(function(e,t){return e-t},0);function Ob(e){return e&&e.length?$a(e,$t):0}function Ib(e,t){return e&&e.length?$a(e,oe(t,2)):0}return f.after=jv,f.ary=zc,f.assign=Fg,f.assignIn=ld,f.assignInWith=Po,f.assignWith=Bg,f.at=Ug,f.before=Xc,f.bind=bl,f.bindAll=Km,f.bindKey=Qc,f.castArray=ug,f.chain=Kc,f.chunk=m_,f.compact=b_,f.concat=y_,f.cond=Ym,f.conforms=Gm,f.constant=Cl,f.countBy=Ov,f.create=Wg,f.curry=jc,f.curryRight=Zc,f.debounce=Jc,f.defaults=qg,f.defaultsDeep=Hg,f.defer=Zv,f.delay=Jv,f.difference=E_,f.differenceBy=w_,f.differenceWith=A_,f.drop=T_,f.dropRight=x_,f.dropRightWhile=C_,f.dropWhile=S_,f.fill=O_,f.filter=Nv,f.flatMap=kv,f.flatMapDeep=$v,f.flatMapDepth=Rv,f.flatten=Wc,f.flattenDeep=I_,f.flattenDepth=N_,f.flip=eg,f.flow=Xm,f.flowRight=Qm,f.fromPairs=D_,f.functions=Qg,f.functionsIn=jg,f.groupBy=Pv,f.initial=k_,f.intersection=$_,f.intersectionBy=R_,f.intersectionWith=P_,f.invert=Jg,f.invertBy=em,f.invokeMap=Fv,f.iteratee=Sl,f.keyBy=Bv,f.keys=ft,f.keysIn=kt,f.map=No,f.mapKeys=nm,f.mapValues=rm,f.matches=jm,f.matchesProperty=Zm,f.memoize=Lo,f.merge=im,f.mergeWith=ud,f.method=Jm,f.methodOf=eb,f.mixin=Ol,f.negate=ko,f.nthArg=nb,f.omit=sm,f.omitBy=om,f.once=tg,f.orderBy=Uv,f.over=rb,f.overArgs=ng,f.overEvery=ib,f.overSome=sb,f.partial=yl,f.partialRight=ed,f.partition=Wv,f.pick=am,f.pickBy=cd,f.property=gd,f.propertyOf=ob,f.pull=U_,f.pullAll=Hc,f.pullAllBy=W_,f.pullAllWith=q_,f.pullAt=H_,f.range=ab,f.rangeRight=lb,f.rearg=rg,f.reject=Vv,f.remove=V_,f.rest=ig,f.reverse=gl,f.sampleSize=Yv,f.set=um,f.setWith=cm,f.shuffle=Gv,f.slice=K_,f.sortBy=Qv,f.sortedUniq=Z_,f.sortedUniqBy=J_,f.split=km,f.spread=sg,f.tail=ev,f.take=tv,f.takeRight=nv,f.takeRightWhile=rv,f.takeWhile=iv,f.tap=bv,f.throttle=og,f.thru=Io,f.toArray=sd,f.toPairs=dd,f.toPairsIn=fd,f.toPath=hb,f.toPlainObject=ad,f.transform=dm,f.unary=ag,f.union=sv,f.unionBy=ov,f.unionWith=av,f.uniq=lv,f.uniqBy=uv,f.uniqWith=cv,f.unset=fm,f.unzip=ml,f.unzipWith=Vc,f.update=hm,f.updateWith=pm,f.values=wi,f.valuesIn=_m,f.without=dv,f.words=_d,f.wrap=lg,f.xor=fv,f.xorBy=hv,f.xorWith=pv,f.zip=_v,f.zipObject=vv,f.zipObjectDeep=gv,f.zipWith=mv,f.entries=dd,f.entriesIn=fd,f.extend=ld,f.extendWith=Po,Ol(f,f),f.add=_b,f.attempt=vd,f.camelCase=bm,f.capitalize=hd,f.ceil=vb,f.clamp=vm,f.clone=cg,f.cloneDeep=fg,f.cloneDeepWith=hg,f.cloneWith=dg,f.conformsTo=pg,f.deburr=pd,f.defaultTo=zm,f.divide=gb,f.endsWith=ym,f.eq=bn,f.escape=Em,f.escapeRegExp=wm,f.every=Iv,f.find=Dv,f.findIndex=Bc,f.findKey=Vg,f.findLast=Lv,f.findLastIndex=Uc,f.findLastKey=Kg,f.floor=mb,f.forEach=Yc,f.forEachRight=Gc,f.forIn=Yg,f.forInRight=Gg,f.forOwn=zg,f.forOwnRight=Xg,f.get=Al,f.gt=_g,f.gte=vg,f.has=Zg,f.hasIn=Tl,f.head=qc,f.identity=$t,f.includes=Mv,f.indexOf=L_,f.inRange=gm,f.invoke=tm,f.isArguments=Vr,f.isArray=he,f.isArrayBuffer=gg,f.isArrayLike=Lt,f.isArrayLikeObject=Je,f.isBoolean=mg,f.isBuffer=br,f.isDate=bg,f.isElement=yg,f.isEmpty=Eg,f.isEqual=wg,f.isEqualWith=Ag,f.isError=El,f.isFinite=Tg,f.isFunction=Qn,f.isInteger=td,f.isLength=$o,f.isMap=nd,f.isMatch=xg,f.isMatchWith=Cg,f.isNaN=Sg,f.isNative=Og,f.isNil=Ng,f.isNull=Ig,f.isNumber=rd,f.isObject=Ve,f.isObjectLike=Xe,f.isPlainObject=ps,f.isRegExp=wl,f.isSafeInteger=Dg,f.isSet=id,f.isString=Ro,f.isSymbol=Ht,f.isTypedArray=Ei,f.isUndefined=Lg,f.isWeakMap=kg,f.isWeakSet=$g,f.join=M_,f.kebabCase=Am,f.last=rn,f.lastIndexOf=F_,f.lowerCase=Tm,f.lowerFirst=xm,f.lt=Rg,f.lte=Pg,f.max=bb,f.maxBy=yb,f.mean=Eb,f.meanBy=wb,f.min=Ab,f.minBy=Tb,f.stubArray=Nl,f.stubFalse=Dl,f.stubObject=ub,f.stubString=cb,f.stubTrue=db,f.multiply=xb,f.nth=B_,f.noConflict=tb,f.noop=Il,f.now=Do,f.pad=Cm,f.padEnd=Sm,f.padStart=Om,f.parseInt=Im,f.random=mm,f.reduce=qv,f.reduceRight=Hv,f.repeat=Nm,f.replace=Dm,f.result=lm,f.round=Cb,f.runInContext=y,f.sample=Kv,f.size=zv,f.snakeCase=Lm,f.some=Xv,f.sortedIndex=Y_,f.sortedIndexBy=G_,f.sortedIndexOf=z_,f.sortedLastIndex=X_,f.sortedLastIndexBy=Q_,f.sortedLastIndexOf=j_,f.startCase=$m,f.startsWith=Rm,f.subtract=Sb,f.sum=Ob,f.sumBy=Ib,f.template=Pm,f.times=fb,f.toFinite=jn,f.toInteger=ve,f.toLength=od,f.toLower=Mm,f.toNumber=sn,f.toSafeInteger=Mg,f.toString=Ie,f.toUpper=Fm,f.trim=Bm,f.trimEnd=Um,f.trimStart=Wm,f.truncate=qm,f.unescape=Hm,f.uniqueId=pb,f.upperCase=Vm,f.upperFirst=xl,f.each=Yc,f.eachRight=Gc,f.first=qc,Ol(f,(function(){var e={};return Dn(f,function(t,r){Re.call(f.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),f.VERSION=d,H(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),H(["drop","take"],function(e,t){ye.prototype[e]=function(r){r=r===i?1:at(ve(r),0);var s=this.__filtered__&&!t?new ye(this):this.clone();return s.__filtered__?s.__takeCount__=gt(r,s.__takeCount__):s.__views__.push({size:gt(r,_t),type:e+(s.__dir__<0?"Right":"")}),s},ye.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),H(["filter","map","takeWhile"],function(e,t){var r=t+1,s=r==Xt||r==lt;ye.prototype[e]=function(l){var h=this.clone();return h.__iteratees__.push({iteratee:oe(l,3),type:r}),h.__filtered__=h.__filtered__||s,h}}),H(["head","last"],function(e,t){var r="take"+(t?"Right":"");ye.prototype[e]=function(){return this[r](1).value()[0]}}),H(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");ye.prototype[e]=function(){return this.__filtered__?new ye(this):this[r](1)}}),ye.prototype.compact=function(){return this.filter($t)},ye.prototype.find=function(e){return this.filter(e).head()},ye.prototype.findLast=function(e){return this.reverse().find(e)},ye.prototype.invokeMap=me(function(e,t){return typeof e=="function"?new ye(this):this.map(function(r){return ls(r,e,t)})}),ye.prototype.reject=function(e){return this.filter(ko(oe(e)))},ye.prototype.slice=function(e,t){e=ve(e);var r=this;return r.__filtered__&&(e>0||t<0)?new ye(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=ve(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},ye.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ye.prototype.toArray=function(){return this.take(_t)},Dn(ye.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),l=f[s?"take"+(t=="last"?"Right":""):t],h=s||/^find/.test(t);l&&(f.prototype[t]=function(){var v=this.__wrapped__,m=s?[1]:arguments,w=v instanceof ye,I=m[0],N=w||he(v),L=function(be){var Ee=l.apply(f,dt([be],m));return s&&V?Ee[0]:Ee};N&&r&&typeof I=="function"&&I.length!=1&&(w=N=!1);var V=this.__chain__,te=!!this.__actions__.length,ae=h&&!V,ge=w&&!te;if(!h&&N){v=ge?v:new ye(this);var le=e.apply(v,m);return le.__actions__.push({func:Io,args:[L],thisArg:i}),new en(le,V)}return ae&&ge?e.apply(this,m):(le=this.thru(L),ae?s?le.value()[0]:le.value():le)})}),H(["pop","push","shift","sort","splice","unshift"],function(e){var t=eo[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(s&&!this.__chain__){var h=this.value();return t.apply(he(h)?h:[],l)}return this[r](function(v){return t.apply(he(v)?v:[],l)})}}),Dn(ye.prototype,function(e,t){var r=f[t];if(r){var s=r.name+"";Re.call(vi,s)||(vi[s]=[]),vi[s].push({name:t,func:r})}}),vi[wo(i,S).name]=[{name:"wrapper",func:i}],ye.prototype.clone=Hh,ye.prototype.reverse=Vh,ye.prototype.value=Kh,f.prototype.at=yv,f.prototype.chain=Ev,f.prototype.commit=wv,f.prototype.next=Av,f.prototype.plant=xv,f.prototype.reverse=Cv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Sv,f.prototype.first=f.prototype.head,ts&&(f.prototype[ts]=Tv),f}),hi=wh();Nt?((Nt.exports=hi)._=hi,ji._=hi):Fe._=hi}).call(V1)})(ys,ys.exports)),ys.exports}var As=K1();function Y1(o){let n=null,i=null,d=new Map;const p=q=>JSON.stringify(q),E=async(q,X,Y,de)=>{if(de===(Y==="cart"?n:i))return{success:!0,skipped:!0};if(d.has(Y))return console.log(`⏳ Skipping duplicate ${Y} request`),{success:!1,skipped:!0};const Z=new AbortController,J=setTimeout(()=>Z.abort(),5e3);d.set(Y,!0);try{const S=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(X),signal:Z.signal});if(clearTimeout(J),!S.ok)throw new Error(`HTTP ${S.status}`);const U=await S.json();return Y==="cart"?n=de:i=de,console.log(`✅ ${Y} updated - v${U.version}`),{success:!0,data:U}}catch(S){return S.name==="AbortError"?console.warn(`⚠️ ${Y} update timeout`):console.error(`❌ Failed to update ${Y}:`,S.message),{success:!1,error:S}}finally{d.delete(Y)}},b=As.debounce(async q=>{const X=p(q);await E("/api/pos/terminal/update-cart",{terminal_id:o,cart:q},"cart",X)},800),x=As.debounce(async q=>{const X=p(q);await E("/api/pos/terminal/update-ui",{terminal_id:o,ui:q},"ui",X)},300),O=async q=>{const X=p(q);return await E("/api/pos/terminal/update-cart",{terminal_id:o,cart:q},"cart",X)},B=As.debounce(async(q,X)=>{const Y=p(q),de=p(X);if(Y===n&&de===i)return{success:!0,skipped:!0};const Z=new AbortController,J=setTimeout(()=>Z.abort(),5e3);try{const S=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:o,cart:q,ui:X}),signal:Z.signal});if(clearTimeout(J),!S.ok)throw new Error(`HTTP ${S.status}`);const U=await S.json();return n=Y,i=de,console.log(`✅ Batch update successful - v${U.version}`),{success:!0,data:U}}catch(S){return console.error("❌ Batch update failed:",S.message),{success:!1,error:S}}},500);return{broadcastCartUpdate:b,broadcastUIUpdate:x,broadcastImmediateCartUpdate:O,broadcastBatchUpdate:B,clearBroadcastCache:()=>{n=null,i=null,d.clear(),console.log("🧹 Broadcast cache cleared")}}}const G1={class:"page-wrapper"},z1={class:"container-fluid px-3 py-3"},X1={class:"row gx-3 gy-3"},Q1={key:0,class:"row g-3 tablet-screen"},j1={class:"d-flex justify-content-between align-items-center mb-3"},Z1={style:{width:"250px",position:"relative"}},J1={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},eA={key:0,class:"col-12 text-center py-5"},tA=["onClick"],nA={class:"cat-icon-wrap"},rA={class:"cat-icon"},iA=["src"],sA={key:1},oA={class:"cat-name"},aA={class:"cat-pill"},lA={key:0,class:"col-12"},uA={key:1},cA={class:"d-flex flex-wrap gap-2 align-items-center justify-content-between mb-3"},dA={class:"fw-bold mb-0"},fA={class:"d-flex gap-2 ms-auto align-items-center"},hA={class:"search-wrap position-relative"},pA={class:"row g-3"},_A={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},vA=["src"],gA={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},mA={key:0,class:"text-muted text-decoration-line-through me-1"},bA={class:"fw-bold text-success me-2"},yA={key:1,class:"text-muted text-decoration-line-through me-1"},EA={class:"fw-bold text-success"},wA={class:"text-decoration-line-through opacity-75 me-1"},AA={class:"fw-bold text-white"},TA={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},xA={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},CA={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},SA={key:0,class:"mb-3"},OA=["onUpdate:modelValue","onChange"],IA=["value"],NA={key:1},DA={class:"form-label small fw-semibold mb-2"},LA={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},kA={key:0,class:"d-flex flex-wrap gap-1"},$A={key:1},RA={class:"d-flex justify-content-between align-items-center w-100"},PA={class:"fw-semibold text-success"},MA=["onClick"],FA=["onClick","disabled"],BA={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},UA=["onClick","disabled"],WA={key:0,class:"col-lg-4"},qA={class:"cart card border-0 shadow-lg rounded-4"},HA={class:"cart-header"},VA={class:"order-type"},KA=["onClick"],YA={class:"cart-body"},GA={class:"mb-3"},zA={key:0,class:"row g-2"},XA={class:"col-6 table-dropdown"},QA=["value"],jA={key:0,class:"invalid-feedback d-block"},ZA={class:"col-6 table-dropdown"},JA={key:1},eT={key:0,class:"invalid-feedback d-block"},tT={key:2,class:"mt-2"},nT={key:0,class:"invalid-feedback d-block"},rT={key:1,class:"invalid-feedback d-block"},iT={class:"cart-lines"},sT={key:0,class:"empty"},oT={class:"line-left"},aT=["src"],lT={class:"meta"},uT=["title"],cT={key:0},dT={class:"badge bg-success",style:{"font-size":"0.65rem"}},fT={key:1,class:"addon-icons mt-1"},hT=["onClick","title"],pT={class:"text-muted small"},_T={key:0,class:"badge ms-1",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},vT={key:1,class:"badge bg-success ms-1",style:{"font-size":"0.65rem"}},gT={key:2,class:"note"},mT={class:"line-right"},bT={class:"qty-controls"},yT=["onClick"],ET={class:"qty"},wT=["onClick","disabled"],AT={class:"price-delete"},TT={class:"price"},xT=["onClick"],CT={class:"totals"},ST={class:"trow"},OT={class:"sub-total"},IT={key:0,class:"trow"},NT={class:"text-info"},DT={key:1,class:"trow"},LT={class:"fw-semibold"},kT={key:2,class:"trow"},$T={class:"fw-semibold"},RT={key:3,class:"trow"},PT={class:"text-danger"},MT={key:4,class:"promos-section mb-3"},FT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},BT={class:"d-flex justify-content-between align-items-center"},UT={class:"text-success fs-6"},WT={key:5,class:"pending-discounts-section mb-3"},qT={class:"d-flex align-items-center gap-2 text-warning"},HT={class:"text-warning"},VT={key:6,class:"approved-discounts-section mb-3"},KT={class:"trow border-top pt-2 mt-2"},YT={class:"text-success"},GT={class:"trow total"},zT={class:"mb-3"},XT={class:"mb-3"},QT={class:"cart-footer"},jT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},ZT={class:"modal-dialog modal-lg modal-dialog-centered"},JT={class:"modal-content rounded-4 border-0 shadow"},ex={class:"modal-header border-0"},tx={class:"modal-title fw-bold"},nx={class:"modal-body"},rx={class:"row g-3"},ix={class:"col-md-5"},sx=["src"],ox={class:"col-md-7"},ax={class:"h4 mb-3"},lx={class:"h4 d-flex align-items-center gap-2 flex-wrap"},ux={class:"text-decoration-line-through text-muted small"},cx={class:"badge bg-success"},dx={class:"text-decoration-line-through text-muted small"},fx={class:"badge bg-success"},hx={key:0,class:"mb-3"},px=["value"],_x={key:1,class:"mb-3"},vx={class:"border rounded-3 p-3 bg-light",style:{"max-height":"180px","overflow-y":"auto"}},gx={class:"d-flex align-items-center flex-grow-1 gap-3"},mx=["id","checked","onChange"],bx=["for"],yx={key:2},Ex={class:"form-label small fw-semibold mb-2"},wx={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},Ax={key:0,class:"d-flex flex-wrap gap-1"},Tx={key:1},xx={class:"d-flex justify-content-between align-items-center w-100"},Cx={class:"fw-semibold text-success"},Sx={class:"chips mb-3"},Ox={key:0,class:"chip chip-orange"},Ix={key:1,class:"chip chip-green"},Nx={key:2,class:"chip chip-purple"},Dx={key:3,class:"chip chip-blue"},Lx={class:"qty-group gap-1"},kx={class:"qty-box rounded-pill"},$x=["disabled"],Rx={class:"mt-3"},Px={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},Mx={class:"modal-dialog modal-lg modal-dialog-centered"},Fx={class:"modal-content rounded-4 border-0 shadow-lg"},Bx={key:0,class:"modal-body pt-2"},Ux={class:"alert alert-light border rounded-3 mb-3"},Wx={class:"d-flex align-items-center gap-3"},qx=["src"],Hx={class:"flex-grow-1"},Vx={class:"fw-bold fs-6"},Kx={class:"d-flex gap-3 mt-1"},Yx={class:"text-muted"},Gx={class:"fw-semibold"},zx={class:"text-muted"},Xx={class:"fw-semibold"},Qx={key:0,class:"table-responsive"},jx={class:"table table-hover align-middle mb-0"},Zx={class:"text-center"},Jx={class:"form-check d-flex justify-content-center"},eC=["checked","onChange"],tC={class:"d-flex align-items-center gap-2"},nC={class:"fw-semibold"},rC={key:0,class:"text-muted"},iC={class:"text-center"},sC={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},oC={class:"d-flex align-items-center justify-content-center gap-2"},aC=["onClick","disabled"],lC={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},uC=["onClick","disabled"],cC={key:1,class:"text-center text-muted py-5"},dC={class:"mt-3 p-3 rounded-3"},fC={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},hC={class:"text-success fw-semibold"},pC={__name:"Index",props:["client_secret","order_code"],setup(o){const{printReceipt:n,printKOT:i}=Vb(),{formatCurrencySymbol:d}=Ub();_s(()=>{Ll(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>{new sa(a)})})});const p=ne([]),E=ne(!0),b=ne(""),x=ne(Date.now()),O=`category-search-${Math.random().toString(36).substr(2,9)}`,B=ne(!1),D=bt(()=>{const a=b.value.trim().toLowerCase();return a?Pe.value.filter(u=>u.name.toLowerCase().includes(a)):Pe.value}),q=async()=>{E.value=!0;try{const a=await axios.get("/api/pos/fetch-menu-categories");p.value=a.data,p.value.length>0&&(Fn.value=p.value[0].id)}catch(a){console.error("Error fetching categories:",a)}finally{E.value=!1}},X=ne([]),Y=async()=>{try{const a=await axios.get("/api/pos/fetch-menu-items");X.value=a.data.data}catch(a){console.error("Error fetching inventory:",a)}},de=bt(()=>{const a={};return X.value.forEach(u=>{const c=u.category?.id||"uncategorized",g=u.category?.name||"Uncategorized";a[c]||(a[c]=[]);const T={id:u.id,title:u.name,img:u.image_url||"/assets/img/default.png",stock:0,price:Number(u.price),label_color:u.label_color||"#1B1670",family:g,description:u.description,nutrition:u.nutrition,tags:u.tags,allergies:u.allergies,ingredients:u.ingredients??[],variants:u.variants??[],addon_groups:u.addon_groups??[],is_saleable:u.is_saleable,resale_type:u.resale_type,resale_value:u.resale_value};a[c].push(T)}),a}),Z=ne({});vs(()=>X.value,a=>{a&&a.length>0&&a.forEach(u=>{u.variants&&u.variants.length>0&&(Z.value[u.id]||(Z.value[u.id]=u.variants[0].id))})},{immediate:!0,deep:!0});const J=a=>{if(!a.variants||a.variants.length===0)return null;const u=Z.value[a.id];return u&&a.variants.find(c=>c.id===u)||a.variants[0]},S=(a,u)=>{const c=parseInt(u.target.value);Z.value[a.id]=c;const g=a.variants.find(T=>T.id===c);g&&console.log(`Selected ${g.name} for ${a.title} - ${d(g.price)}`)},U=ne({}),ie=(a,u,c)=>{const g=a.id;U.value[g]||(U.value[g]={});const T=a.addon_groups.find(M=>M.group_id===u);if(T&&T.max_select>0&&c.length>T.max_select){ce.warning(`You can only select up to ${T.max_select} ${T.group_name}`);const M=U.value[g][u]||[];U.value[g][u]=M.slice(0,T.max_select);return}U.value[g][u]=c},F=a=>{const u=a.id;if(!U.value[u])return 0;let c=0;return Object.values(U.value[u]).forEach(g=>{g.forEach(T=>{c+=parseFloat(T.price||0)})}),c},k=a=>{const u=a.id;if(!U.value[u])return[];const c=[];return Object.values(U.value[u]).forEach(g=>{g.forEach(T=>{c.push({id:T.id,name:T.name,price:parseFloat(T.price),group_id:T.group_id||T.pivot?.addon_group_id})})}),c},K=ne([]),ue=()=>{if(!j.value)return[];const a=qe();return a&&a.ingredients&&a.ingredients.length>0?a.ingredients:j.value.ingredients||[]},xe=a=>K.value.includes(a),Ne=a=>{const u=K.value.indexOf(a);u>-1?(K.value.splice(u,1),ce.info("Ingredient added back")):(K.value.push(a),ce.info("Ingredient removed"))},Me=()=>{if(K.value.length===0)return null;const a=ue(),u=K.value.map(c=>{const g=a.find(T=>T.id===c||T.inventory_item_id===c);return g?g.product_name||g.name:null}).filter(Boolean);return u.length===0?null:`No ${u.join(", ")}`},tt=async a=>{j.value=a,Or.value="",In.value=null,pn.value={},a.variants&&a.variants.length>0&&(In.value=a.variants[0].id);const u=a.variants&&a.variants.length>0?a.variants[0]:null,c=u?u.id:null,g=Ut(a,c),T=rt(a,c,g);Ze.value=T>0?1:0,K.value=[];const M=document.getElementById("chooseItem"),z=new bootstrap.Modal(M);M.addEventListener("shown.bs.modal",async()=>{await Ll()},{once:!0}),z.show()},rt=(a,u,c)=>{const g=c.filter(z=>!K.value.includes(z.id||z.inventory_item_id));if(!g||g.length===0)return 999999;const T={};for(const z of Q.value)Ut(z,z.variant_id).filter(H=>!z.removed_ingredients||z.removed_ingredients.length===0?!0:!z.removed_ingredients.includes(H.id||H.inventory_item_id)).forEach(H=>{const $e=H.inventory_item_id,Se=Number(H.inventory_stock??H.inventory_item?.stock??0);T[$e]||(T[$e]={totalStock:Se,used:0});const Oe=Number(H.quantity??H.qty??1)*z.qty;T[$e].used+=Oe});let M=999999;for(const z of g){const ee=z.inventory_item_id,ke=Number(z.inventory_stock??z.inventory_item?.stock??0),H=Number(z.quantity??z.qty??1);if(T[ee]){const $e=T[ee].totalStock-T[ee].used,Se=Math.floor($e/H);M=Math.min(M,Se)}else{const $e=Math.floor(ke/H);M=Math.min(M,$e)}}return M},it=()=>{const a=qe(),u=a?a.id:null,c=Ut(j.value,u),g=rt(j.value,u,c);if(g<=0){ce.error("No stock available for this variant. Please remove items from cart first."),Ze.value=0;return}Ze.value=Math.min(1,g)},Xt=(a,u)=>{if(!j.value)return;const c=j.value.addon_groups.find(g=>g.group_id===a);if(c&&c.max_select>0&&u.length>c.max_select){ce.warning(`You can only select up to ${c.max_select} ${c.group_name}`),pn.value[a]=u.slice(0,c.max_select);return}pn.value[a]=u},qe=()=>{if(!j.value||!j.value.variants||j.value.variants.length===0)return null;const a=In.value;return a&&j.value.variants.find(u=>u.id===a)||j.value.variants[0]},lt=()=>{if(!j.value)return 0;const a=qe();return parseFloat(a?a.price:j.value.price||0)},We=()=>{let a=0;return Object.values(pn.value).forEach(u=>{u.forEach(c=>{a+=parseFloat(c.price||0)})}),a},Ye=()=>{if(!j.value)return{};const a=qe();return a&&a.nutrition?a.nutrition:j.value.nutrition||{}},dn=()=>{if(!j.value)return[];const a=qe();return a&&a.allergies&&a.allergies.length>0?a.allergies:j.value.allergies||[]},fn=()=>{if(!j.value)return[];const a=qe();return a&&a.tags&&a.tags.length>0?a.tags:j.value.tags||[]},_t=()=>{const a=[];return Object.values(pn.value).forEach(u=>{u.forEach(c=>{a.push({id:c.id,name:c.name,price:parseFloat(c.price),group_id:c.group_id||c.pivot?.addon_group_id})})}),a},Mt=a=>{if(!a)return 0;const u=J(a),c=u?u.id:null,g=Ut(a,c);if(!g.length)return 999999;let T=1/0;return g.forEach(M=>{const z=Number(M.quantity??M.qty??1),ee=Number(M.inventory_stock??M.inventory_item?.stock??0);if(z<=0)return;const ke=Math.floor(ee/z);T=Math.min(T,ke)}),T===1/0?0:T},Mn=a=>Mt(a),Ft=ne(""),we=ne("dine"),nt=ne("Walk In"),St=ne(" "),Qe=ne(" "),hn=ne(10),Fn=ne(null),An=a=>Fn.value=a,Bt=ne(!0),Sr=a=>{An(a.id),Bt.value=!1},Et=()=>Bt.value=!0,Qt=ne({}),Bn=ne([]),Ge=ne(null),Zr=async()=>{try{const a=await axios.get("/api/pos/fetch-profile-tables");Qt.value=a.data,Qt.value.order_types&&(Bn.value=Qt.value.order_types.map(u=>u.charAt(0).toUpperCase()+u.slice(1)),we.value=Bn.value[0])}catch(a){console.error("Error fetching profile tables:",a)}},Ui=bt(()=>de.value[Fn.value]??[]),Ue=ne({sortBy:"",priceMin:null,priceMax:null}),ut=bt(()=>{let a=Ui.value;const u=Ft.value.trim().toLowerCase();if(u&&(a=a.filter(c=>c.title.toLowerCase().includes(u)||(c.family||"").toLowerCase().includes(u)||(c.description||"").toLowerCase().includes(u)||(c.tags?.map(g=>g.name.toLowerCase()).join(", ")||"").includes(u))),Ue.value.priceMin!==null&&Ue.value.priceMin!==""&&(a=a.filter(c=>c.price>=Ue.value.priceMin)),Ue.value.priceMax!==null&&Ue.value.priceMax!==""&&(a=a.filter(c=>c.price<=Ue.value.priceMax)),Ue.value.sortBy)switch(a=[...a],Ue.value.sortBy){case"name_asc":a.sort((c,g)=>c.title.localeCompare(g.title));break;case"name_desc":a.sort((c,g)=>g.title.localeCompare(c.title));break;case"price_asc":a.sort((c,g)=>c.price-g.price);break;case"price_desc":a.sort((c,g)=>g.price-c.price);break;case"stock_asc":a.sort((c,g)=>(c.stock??0)-(g.stock??0));break;case"stock_desc":a.sort((c,g)=>(g.stock??0)-(c.stock??0));break}return a}),Tn=a=>{Ue.value={...a}},Un=()=>{Ue.value={sortBy:"",priceMin:null,priceMax:null}},Q=ne([]),xn=async a=>{const u=Q.value[a];if(u){if((u.stock??0)<=0){ce.error("Item out of stock.");return}if(!Xi(u)){const c=u.variant_name?` (${u.variant_name})`:"";ce.error(`Not enough ingredients for "${u.title}${c}".`),u.outOfStock=!0;return}u.outOfStock=!1,u.qty++,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty)}},Jr=async a=>{const u=Q.value[a];if(!u||u.qty<=1){ce.error("Cannot reduce below 1.");return}u.qty--,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty),u.outOfStock=!1},Cn=a=>{if(Q.value[a],Q.value.splice(a,1),Q.value.length===0){vt.value=[],De.value=[],Ot.value=[],Wn();return}De.value.length>0&&(De.value=De.value.filter(c=>{if(!c.menu_items||c.menu_items.length===0)return!0;const g=c.menu_items.map(M=>M.id);return Q.value.some(M=>g.includes(M.id))}));const u=[];vt.value.forEach(c=>{c.min_purchase&&je.value<c.min_purchase?ce.info(`Discount "${c.name}" removed — subtotal is lower than minimum required (${d(c.min_purchase)}).`):u.push(c)}),vt.value=u},je=bt(()=>Q.value.reduce((a,u)=>a+u.price,0)),Sn=bt(()=>{if(we.value!=="Delivery")return 0;const a=jt.props.onboarding.tax_and_vat;return a.has_delivery_charges?a.delivery_charge_flat?parseFloat(a.delivery_charge_flat):a.delivery_charge_percentage?je.value*parseFloat(a.delivery_charge_percentage)/100:0:0}),On=bt(()=>{const a=jt.props.onboarding.tax_and_vat;return a.has_service_charges?a.service_charge_flat?parseFloat(a.service_charge_flat):a.service_charge_percentage?je.value*parseFloat(a.service_charge_percentage)/100:0:0}),ei=a=>`£${(Math.round(a*100)/100).toFixed(2)}`,j=ne(null),Ze=ne(0),Or=ne(""),In=ne(null),pn=ne({}),_n=ne(""),la=async()=>{if(!j.value)return;const a=qe(),u=a?a.id:null,c=a?` (${a.name})`:"";if(Ze.value<=0){ce.error(`No stock available for "${j.value.title}${c}". Please remove some from cart first.`);return}const g=a?a.name:null,T=parseFloat(a?a.price:j.value.price),M=_t(),z=We(),ee=T+z,ke=a?It(a,!0):It(j.value,!1),H=Ut(j.value,u),$e=rt(j.value,u,H);if(Ze.value>$e){$e<=0?ce.error(`No more stock available for "${j.value.title}${c}". Please remove some from cart first.`):(ce.error(`Only ${$e} item(s) available. Please reduce quantity or remove items from cart.`),Ze.value=$e);return}const Se=Me(),Oe={};for(const ze of Q.value)Ut(ze,ze.variant_id).forEach(re=>{const dt=re.inventory_item_id;Oe[dt]||(Oe[dt]=parseFloat(re.inventory_stock)),Oe[dt]-=parseFloat(re.quantity)*ze.qty});if(H.length>0)for(const ze of H){const ct=ze.inventory_item_id,re=Oe[ct]??parseFloat(ze.inventory_stock),dt=parseFloat(ze.quantity)*Ze.value;if(re<dt){ce.error(`Not enough stock for "${j.value.title}${c}".`);return}}try{const ze=M.map(st=>st.id).sort((st,Pr)=>st-Pr).join("-"),ct=H.length>0?ua(H):999999,re=Q.value.findIndex(st=>{if(st.variant_id!==u)return!1;const Pr=(st.addons||[]).map(Hn=>Hn.id).sort((Hn,Ji)=>Hn-Ji).join("-");return st.id===j.value.id&&Pr===ze});if(re>=0){if(Q.value[re].qty+=Ze.value,Q.value[re].price=Q.value[re].unit_price*Q.value[re].qty,Q.value[re].total_resale_discount=ke*Q.value[re].qty,_n.value&&_n.value.trim()){const st=Q.value[re].item_kitchen_note||"",Pr=_n.value.trim(),Hn=[st,Pr,Se].filter(Boolean).filter((Ji,Na,Da)=>Da.indexOf(Ji)===Na);Q.value[re].item_kitchen_note=Hn.join("; ")}else if(Se){const st=Q.value[re].item_kitchen_note||"";Q.value[re].item_kitchen_note=[st,Se].filter(Boolean).join("; ")}K.value.length>0&&(Q.value[re].removed_ingredients=[...K.value]),ce.success(`Quantity updated to ${Q.value[re].qty}`)}else{const st=[_n.value.trim(),Se].filter(Boolean).join(". ");Q.value.push({id:j.value.id,title:j.value.title,img:j.value.img,price:ee*Ze.value,unit_price:Number(ee),qty:Ze.value,note:Or.value||"",item_kitchen_note:st,stock:ct,ingredients:H,variant_id:u,variant_name:g,addons:M,removed_ingredients:[...K.value],resale_discount_per_item:ke,total_resale_discount:ke*Ze.value}),ce.success(`${j.value.title} added to cart`)}await Ws(j.value),bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),Ze.value=0,Or.value="",_n.value="",In.value=null,pn.value={},K.value=[]}catch(ze){ce.error("Failed to add item: "+(ze.response?.data?.message||ze.message))}},ua=a=>{if(!a||a.length===0)return 999999;let u=1/0;return a.forEach(c=>{const g=Number(c.quantity??c.qty??1),T=Number(c.inventory_stock??c.inventory_item?.stock??0);if(g<=0)return;const M=Math.floor(T/g);u=Math.min(u,M)}),u===1/0?0:u},Ns=()=>{if(!j.value)return!1;const a=qe(),u=a?a.id:null,c=Ut(j.value,u);if(!c.length)return!0;const g=rt(j.value,u,c);return Ze.value+1<=g},Ds=()=>{if(!Ns()){const a=qe(),u=a?` (${a.name})`:"",c=a?a.id:null,g=Ut(j.value,c);rt(j.value,c,g)<=0?ce.error(`No more stock available for "${j.value?.title}${u}". Please remove some from cart first.`):ce.error(`Not enough ingredients for "${j.value?.title}${u}".`);return}Ze.value++},Ls=()=>{Ze.value>1&&Ze.value--},ht=ne({}),ks=()=>{Q.value=[],nt.value="Walk In",Qe.value="",St.value="",Ge.value=null,we.value=Bn.value[0]||"dine_in",sr.value="",or.value="",hn.value=0,De.value=[],vt.value=[],Ot.value=[],lr.value=[],Wn()};vs(we,()=>ht.value={});const sr=ne(""),or=ne(""),ti=ne(!1),Ir=ne(null),ni=ne(!1),Wi=ne(0),qi=()=>{const a={};for(const u of Q.value){const c=u.ingredients||[];c.length!==0&&c.forEach(g=>{const T=g.inventory_item_id,M=parseFloat(g.inventory_stock??g.inventory_item?.stock??0),z=parseFloat(g.quantity??g.qty??1)*u.qty;a[T]||(a[T]={name:g.product_name||"Unknown",totalStock:M,totalUsed:0}),a[T].totalUsed+=z})}for(const[u,c]of Object.entries(a))if(c.totalUsed>c.totalStock)return ce.error(`Not enough "${c.name}". Need ${c.totalUsed.toFixed(2)} but only ${c.totalStock.toFixed(2)} available.`),!1;return!0},ca=()=>{if(Q.value.length===0){ce.error("Please add at least one item to the cart.");return}if(we.value==="Dine_in"&&!Ge.value){ht.value.table_number=["Table number is required for dine-in orders."],ce.error("Please select a table number for Dine In orders.");return}if((we.value==="Delivery"||we.value==="Takeaway")&&!nt.value){ht.value.customer=["Customer name is required."],ce.error("Customer name is required.");return}if(we.value==="Delivery"&&!St.value){ht.value.phoneNumber=["Phone number is required for delivery."],ce.error("Phone number is required for delivery.");return}if(we.value==="Delivery"&&!Qe.value){ht.value.deliveryLocation=["Delivery location is required."],ce.error("Delivery location is required.");return}qi()&&(Wi.value=parseFloat(dr.value).toFixed(2),ni.value=!0)},ri=()=>({name:"Business Name",phone:"",address:"",footer:"Thank you!",currency:"£",logo_url:null}),$s=async a=>{const u=ri();await n({order_date:a.order_date,order_time:a.order_time,customer_name:a.customer_name||"Walk In",order_type:a.order_type,payment_type:a.payment_type,cash_received:a.cash_received||0,sub_total:a.sub_total,total_amount:a.total_amount,items:a.items.map(c=>({title:c.title,quantity:c.quantity||c.qty,unit_price:c.unit_price}))},u)},Rs=async a=>{const u=ri();await i({order_date:a.order_date,order_time:a.order_time,customer_name:a.customer_name||a.table_number,order_type:a.order_type,kitchen_note:a.kitchen_note,items:a.items.map(c=>({title:c.title,quantity:c.quantity||c.qty,item_kitchen_note:c.item_kitchen_note}))},u)},da=ne("cash"),fa=ne(0),Ot=ne([]),ar=ne(null),Ps=ne(!1),vt=ne([]),lr=ne([]),ha=async a=>{if(!a||a.length===0){ce.warning("No discounts selected.");return}const u=lr.value.map(g=>g.id),c=a.filter(g=>!u.includes(g.id));if(c.length===0){ce.error("All selected discounts have been rejected for this order.");return}if(c.length<a.length){const g=a.length-c.length;ce.warning(`${g} discount(s) were previously rejected and cannot be requested again.`)}try{const g=await axios.post("/api/discount-approvals/request",{discounts:a.map(T=>({discount_id:T.id,discount_percentage:parseFloat(T.discount_amount),discount_name:T.name})),order_items:Q.value.map(T=>({id:T.id,title:T.title,qty:T.qty,unit_price:T.unit_price,price:T.price})),order_subtotal:je.value,request_note:`Discount approval request from ${Rr.value?.name||"Cashier"}`});g.data.success&&(Ot.value=g.data.data.map(T=>({...T,discountData:a.find(M=>M.id===T.discount_id),percentage:parseFloat(T.discount_percentage),status:"pending"})),Lr.value=!1,Ps.value=!0,ce.info("Discount approval request sent to Super Admin. Waiting for approval..."),pa())}catch(g){console.error("Error requesting discount approval:",g),ce.error(g.response?.data?.message||"Failed to request discount approval")}},pa=()=>{ar.value&&clearInterval(ar.value),ar.value=setInterval(async()=>{await Ms()},3e3)},Ms=async()=>{if(Ot.value.length===0){Wn();return}try{const a=Ot.value.map(c=>c.id),u=await axios.post("/api/discount-approvals/check-status",{approval_ids:a});u.data.success&&(u.data.data.forEach(g=>{if(g.status!=="pending"){const T=Ot.value.findIndex(M=>M.id===g.id);if(T>=0){if(g.status==="approved"){const M={id:g.discount_id,name:g.discount_name||g.discount?.name,percentage:parseFloat(g.discount_percentage),approval_id:g.id};_a(M),ce.success(`Discount "${M.name}" (${M.percentage}%) approved!`)}else g.status==="rejected"&&(lr.value.push({id:g.discount_id,name:g.discount_name,percentage:parseFloat(g.discount_percentage),rejection_reason:g.approval_note}),ce.error(`Discount "${g.discount_name}" rejected.`+(g.approval_note?` Reason: ${g.approval_note}`:"")));Ot.value.splice(T,1)}}}),Ot.value.length===0&&(Ps.value=!1,Wn()))}catch(a){console.error("Error checking approval status:",a)}},Wn=()=>{ar.value&&(clearInterval(ar.value),ar.value=null)},_a=a=>{vt.value.push(a)};kb(()=>{Wn()}),_s(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",a=>{Ms()})});const ii=bt(()=>!vt.value||vt.value.length===0?0:vt.value.reduce((a,u)=>{const c=parseFloat(u.percentage||0),g=je.value*c/100;return a+g},0)),ur=a=>je.value*a/100,va=()=>{vt.value=[],Ot.value=[],lr.value=[],Wn()},si=async({paymentMethod:a,cashReceived:u,cardAmount:c,changeAmount:g,items:T,autoPrintKot:M,done:z})=>{ht.value={};try{const ee={customer_name:nt.value,phone_number:St.value,delivery_location:Qe.value,sub_total:je.value,tax:Nn.value,service_charges:On.value,delivery_charges:Sn.value,sales_discount:Zt.value,approved_discounts:ii.value,approved_discount_details:vt.value.map(H=>({discount_id:H.id,discount_name:H.name,discount_percentage:H.percentage,discount_amount:ur(H.percentage),approval_id:H.approval_id})),promo_discount:cr.value,applied_promos:De.value.map(H=>({promo_id:H.id,promo_name:H.name,promo_type:H.type,discount_amount:H.applied_discount||0,applied_to_items:H.applied_to_items||[]})),total_amount:dr.value,note:sr.value,kitchen_note:or.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:we.value==="Dine_in"?"Dine In":we.value==="Delivery"?"Delivery":we.value==="Takeaway"?"Takeaway":"Collection",table_number:Ge.value?.name||null,payment_method:a,auto_print_kot:M,cash_received:u,change:g,...a==="Split"&&{payment_type:"split",cash_amount:u,card_amount:c},items:(Q.value??[]).map(H=>{const $e=X.value.find(ct=>ct.id===H.id);let Se=$e;if(H.variant_id&&$e?.variants){const ct=$e.variants.find(re=>re.id===H.variant_id);ct&&(Se=ct)}const Oe=Se?It(Se,!!H.variant_id):0,ze=parseFloat(Se?.price||H.unit_price);return{product_id:H.id,title:H.title,quantity:H.qty,price:H.price,note:H.note??"",kitchen_note:or.value??"",unit_price:H.unit_price,item_kitchen_note:H.item_kitchen_note??"",tax_percentage:ba(H),tax_amount:Ks(H),variant_id:H.variant_id||null,variant_name:H.variant_name||null,addons:H.addons||[],sale_discount_per_item:Oe,removed_ingredients:H.removed_ingredients||[]}})},ke=await axios.post("/pos/order",ee);if(ke.data.logout===!0){ce.success(ke.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=ke.data.redirect||"/login"},1e3),z&&z();return}ks(),ni.value=!1,ce.success(ke.data.message),Ir.value={...ke.data.order,...ee,items:ee.items,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?u:null,card_amount:a==="Split"?c:null},M&&(Nr.value=await ma(),Rs(JSON.parse(JSON.stringify(Ir.value)))),$s(JSON.parse(JSON.stringify(Ir.value))),De.value=[],vt.value=[],Ot.value=[],Wn()}catch(ee){console.error("Order submission error:",ee),ce.error(ee.response?.data?.message||"Failed to place order")}finally{z&&z()}};_s(async()=>{if(window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(u=>new window.bootstrap.Tooltip(u));const a=document.getElementById("chooseItem");a&&new window.bootstrap.Modal(a,{backdrop:"static"})}b.value="",x.value=Date.now(),await Ll(),setTimeout(()=>{B.value=!0;const a=document.getElementById(O);a&&(a.value="",b.value="")},100),q(),Y(),Zr()});const jt=Lb();function Fs(){const a=jt.props.flash?.success,u=jt.props.flash?.error;a&&ce.success(a,{autoClose:4e3}),u&&ce.error(u,{autoClose:6e3})}_s(()=>Fs()),_s(()=>{jt.props.flash?.success;const a=jt.props.flash?.error;a&&ce.error(a);const u=jt.props.flash?.print_payload;u&&setTimeout(()=>$s(u),250),u&&setTimeout(()=>Rs(u),250)}),vs(()=>jt.props.flash,()=>Fs(),{deep:!0});const ga=({id:a,status:u,message:c})=>{Nr.value=Nr.value.map(g=>g.id===a?{...g,status:u}:g)},Hi=ne(!1),Nr=ne([]),Bs=ne(!1),oi=ne(!1),Vi=ne([]),Ki=ne(!1),ma=async()=>{oi.value=!0,Vi.value=[],Ki.value=!0;try{const a=await axios.get("/api/pos/orders/today");Vi.value=a.data.orders}catch(a){console.error("Failed to fetch POS orders:",a),ce.error(a.response?.data?.message||"Failed to fetch POS orders")}finally{Ki.value=!1}},Dr=ne(!1),Lr=ne(!1),ai=ne(!0),kr=ne(!0),li=ne([]),$r=ne([]),De=ne([]),Us=a=>{if(De.value=a,!a||a.length===0){ce.warning("No promos selected.");return}const u=a.reduce((g,T)=>g+parseFloat(T.applied_discount||0),0);if(u<=0){ce.warning("Selected promos don't provide any discount for current cart items."),De.value=[];return}const c=new Set(a.flatMap(g=>g.applied_to_items||[])).size;ce.success(`${a.length} promo(s) applied! Applied to ${c} item(s). You saved ${d(u)}`),Dr.value=!1},Ws=async()=>{ai.value=!0,Dr.value=!0;try{const a=await axios.get("/api/promos/current");a.data?.success?li.value=a.data.data||[]:(console.warn("Failed to fetch promos:",a.data),li.value=[],ce.warning("No promos available at the moment"))}catch(a){console.error("Error fetching current meal promos:",a),li.value=[],ce.error("Failed to load promotions")}finally{ai.value=!1}},qs=async()=>{kr.value=!0,Lr.value=!0;try{const a=await axios.get("/api/discounts/all");a.data?.success?$r.value=a.data.data||[]:(console.warn("Failed to fetch discounts:",a.data),$r.value=[],ce.warning("No discounts available at the moment"))}catch(a){console.error("Error fetching current meal discounts:",a),$r.value=[],ce.error("Failed to load discounts")}finally{kr.value=!1}},Hs=a=>!De.value||De.value.length===0?!1:De.value.some(u=>!u.menu_items||u.menu_items.length===0?!0:u.menu_items.map(g=>g.id).includes(a.id)),Yi=a=>{Ir.value=a,ti.value=!0,oi.value=!1},cr=bt(()=>!De.value||De.value.length===0?0:De.value.reduce((a,u)=>{const c=parseFloat(u.discount_amount??0)||0;if(u.applied_discount!==void 0)return a+parseFloat(u.applied_discount);const g=Vs(u);if(u.min_purchase&&g<parseFloat(u.min_purchase))return a;if(u.type==="flat")return a+c;if(u.type==="percent"){const T=g*c/100,M=parseFloat(u.max_discount??0)||0;return M>0&&T>M?a+M:a+T}return a},0)),Vs=a=>{if(!a.menu_items||a.menu_items.length===0)return Q.value.reduce((c,g)=>c+g.unit_price*g.qty,0);const u=a.menu_items.map(c=>c.id);return Q.value.filter(c=>u.includes(c.id)).reduce((c,g)=>c+g.unit_price*g.qty,0)},Gi=bt(()=>!De.value||De.value.length===0?[]:De.value.map(a=>({promo_id:a.id,promo_name:a.name,promo_type:a.type,discount_amount:a.applied_discount||0,applied_to_items:a.applied_to_items||[]}))),Nn=bt(()=>{let a=0;const u=parseFloat(jt.props.onboarding.tax_and_vat.tax_rate)||0;return Q.value.forEach(c=>{const g=X.value.find(T=>T.id===c.id);if(g&&g.is_taxable){const M=c.unit_price*c.qty*u/100;a+=M}}),a}),Zt=bt(()=>Q.value.reduce((a,u)=>a+(u.total_resale_discount||0),0)),dr=bt(()=>{const a=je.value+Nn.value+Sn.value+On.value-Zt.value-cr.value-ii.value;return Math.max(0,a)}),Ks=a=>{const u=X.value.find(c=>c.id===a.id);return u&&u.is_taxable&&u.tax_percentage?a.unit_price*a.qty*parseFloat(u.tax_percentage)/100:0},ba=a=>{const u=X.value.find(c=>c.id===a.id);return u&&u.is_taxable&&u.tax_percentage?parseFloat(u.tax_percentage):0},ui=a=>{const u=J(a),c=u?u.id:null,T=k(a).map(z=>z.id).sort().join("-"),M=Q.value.find(z=>{const ee=(z.addons||[]).map(ke=>ke.id).sort().join("-");return z.id===a.id&&z.variant_id===c&&ee===T});return M?M.qty:0},zi=a=>{const u=J(a),c=u?u.id:null,g=Ut(a,c);if(!g.length)return!0;const T=ui(a);if(Mn(a)<=0)return!1;const z={};for(const ee of Q.value)Ut(ee,ee.variant_id).forEach(H=>{const $e=H.inventory_item_id,Se=Number(H.inventory_stock??H.inventory_item?.stock??0);z[$e]||(z[$e]={totalStock:Se,used:0});const Oe=Number(H.quantity??H.qty??1)*ee.qty;z[$e].used+=Oe});for(const ee of g){const ke=ee.inventory_item_id,H=Number(ee.inventory_stock??ee.inventory_item?.stock??0),$e=Number(ee.quantity??ee.qty??1)*(T+1);if(z[ke]){const Se=z[ke].totalStock-z[ke].used,ze=k(a).map(re=>re.id).sort().join("-"),ct=Q.value.find(re=>{const dt=(re.addons||[]).map(st=>st.id).sort().join("-");return re.id===a.id&&re.variant_id===c&&dt===ze});if(ct){const re=Number(ee.quantity??ee.qty??1)*ct.qty;if(Se+re<$e)return!1}else if(Se<$e)return!1}else if(H<$e)return!1}return!0},Ys=a=>{if(Mt(a)<=0)return;const u=J(a),c=parseFloat(u?u.price:a.price),g=u?u.id:null,T=u?u.name:null,M=k(a),z=F(a),ee=c+z,ke=M.map(Oe=>Oe.id).sort().join("-"),H=u?It(u,!0):It(a,!1),$e=Ut(a,g);if(!zi(a)){if($e.length>0){const Oe=T?` (${T})`:"";ce.error(`Not enough ingredients for "${a.title}${Oe}".`)}return}const Se=Q.value.findIndex(Oe=>{const ze=(Oe.addons||[]).map(ct=>ct.id).sort().join("-");return Oe.id===a.id&&Oe.variant_id===g&&ze===ke});if(Se>=0)Q.value[Se].qty++,Q.value[Se].price=Q.value[Se].unit_price*Q.value[Se].qty,Q.value[Se].total_resale_discount=H*Q.value[Se].qty,Q.value[Se].outOfStock=!1;else{const Oe=Mn(a);Q.value.push({id:a.id,title:a.title,img:a.img,price:ee,unit_price:Number(ee),qty:1,note:"",stock:Oe,ingredients:$e,variant_id:g,variant_name:T,addons:M,outOfStock:!1,resale_discount_per_item:H,total_resale_discount:H})}},Gs=a=>{const u=J(a),c=u?u.id:null,T=k(a).map(ee=>ee.id).sort().join("-"),M=Q.value.findIndex(ee=>{const ke=(ee.addons||[]).map(H=>H.id).sort().join("-");return ee.id===a.id&&ee.variant_id===c&&ke===T});if(M<0)return;const z=Q.value[M];z.qty<=1?Q.value.splice(M,1):(z.qty--,z.price=z.unit_price*z.qty,z.outOfStock=!1)},Ut=(a,u)=>!u||!a.variants?.length?a.ingredients??[]:a.variants.find(g=>g.id===u)?.ingredients??a.ingredients??[],Xi=a=>{if(!a||!a.ingredients?.length)return!0;const u={};for(const c of Q.value)(c.ingredients??[]).forEach(T=>{const M=T.inventory_item_id,z=Number(T.inventory_stock??T.inventory_item?.stock??0);u[M]||(u[M]={totalStock:z,used:0});const ee=Number(T.quantity??T.qty??1)*c.qty;u[M].used+=ee});for(const c of a.ingredients){const g=c.inventory_item_id,T=Number(c.inventory_stock??c.inventory_item?.stock??0);if(u[g]){const M=u[g].totalStock-u[g].used,z=Number(c.quantity??c.qty??1)*a.qty,ee=M+z,ke=Number(c.quantity??c.qty??1)*(a.qty+1);if(ee<ke)return!1}else if(T<Number(c.quantity??c.qty??1))return!1}return!0},He=ne(null),vn=ne(null);let fr=null;const ya=(a,u)=>{He.value=JSON.parse(JSON.stringify(a)),vn.value=u;const c=X.value.find(g=>g.id===a.id);if(c&&c.addon_groups&&c.addon_groups.length>0){const g=new Map;a.addons&&a.addons.forEach(M=>{g.set(M.id,{quantity:M.quantity||1,selected:!0})});const T=[];c.addon_groups.forEach(M=>{M.addons&&M.addons.length>0&&M.addons.forEach(z=>{const ee=g.get(z.id);T.push({id:z.id,name:z.name,price:parseFloat(z.price||0),group_id:M.group_id,group_name:M.group_name,quantity:ee?.quantity||1,selected:ee?.selected||!1})})}),He.value.addons=T}else He.value.addons=[];if(!fr){const g=document.getElementById("addonManagementModal");g&&(fr=new bootstrap.Modal(g))}fr&&fr.show()},Ea=a=>{a.selected=!a.selected,a.selected||(a.quantity=1)},wa=a=>{a.selected&&(a.quantity=(a.quantity||1)+1)},Qi=a=>{a.selected&&(a.quantity||1)>1&&(a.quantity-=1)},zs=a=>a.addons?a.addons.reduce((u,c)=>c.selected!==!1?u+parseFloat(c.price)*(c.quantity||1):u,0):0,Aa=()=>{if(vn.value===null)return;const a=He.value.addons.filter(M=>M.selected!==!1),u=He.value.variant_id?X.value.find(M=>M.id===He.value.id)?.variants?.find(M=>M.id===He.value.variant_id):null,c=parseFloat(u?u.price:He.value.unit_price),g=a.reduce((M,z)=>M+parseFloat(z.price)*(z.quantity||1),0),T=c+g;Q.value[vn.value].addons=a,Q.value[vn.value].unit_price=T,Q.value[vn.value].price=T*Q.value[vn.value].qty,ce.success("Addons updated successfully!"),fr&&fr.hide(),He.value=null,vn.value=null},Ta=a=>!a.addons||a.addons.length===0?"":a.addons.map(u=>u.name).join(", "),Xs=()=>!He.value||!He.value.addons?0:He.value.addons.filter(a=>a.selected!==!1).length,Rr=bt(()=>jt.props.current_user),Pe=bt(()=>p.value.filter(a=>a.menu_items_count&&a.menu_items_count>0)),Le=bt(()=>Rr.value?.roles?.includes("Cashier")||Rr.value?.roles?.includes("Admin")||Rr.value?.roles?.includes("Manager")),Qs=ne(`terminal-${Rr.value?.id}`),{broadcastCartUpdate:xa,broadcastUIUpdate:Ca}=Y1(Qs.value),Sa=As.debounce(a=>{console.log("📤 Broadcasting cart:",a.items.length,"items"),xa(a)},300),Oa=As.debounce(a=>{console.log("📤 Broadcasting UI"),Ca(a)},100);vs(()=>({items:Q.value.map(a=>({id:a.id,title:a.name||a.title,img:a.image_url||a.img||"/assets/img/default.png",price:parseFloat(a.total||a.price||0),qty:parseInt(a.qty||1),variant_name:a.variant?.name||null,addons:(a.addons||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0)})),resale_discount_per_item:parseFloat(a.resale_discount_per_item||0)})),customer:nt.value||"Walk In",phone_number:St.value||"",delivery_location:Qe.value||"",orderType:we.value||"Dine In",table:Ge.value?{id:Ge.value.id,name:Ge.value.name}:null,subtotal:parseFloat(je.value||0),tax:parseFloat(Nn.value||0),serviceCharges:parseFloat(On.value||0),deliveryCharges:parseFloat(Sn.value||0),saleDiscount:parseFloat(Zt.value||0),promoDiscount:parseFloat(cr.value||0),total:parseFloat(dr.value||0),note:sr.value||"",appliedPromos:(De.value||[]).map(a=>({id:a.id,name:a.name,discount:parseFloat(a.discount||0),applied_to_items:a.applied_to_items||[]}))}),a=>{console.log("🔔 Cart changed:",a.items.length,"items, Total:",a.total),Sa(a)},{deep:!0,immediate:!0}),vs(()=>({showCategories:Bt.value??!0,activeCat:Fn.value||null,menuCategories:(p.value||[]).map(a=>({id:a.id,name:a.name,menu_items_count:a.menu_items_count||0})),menuItems:(X.value||[]).map(a=>({id:a.id,name:a.name,price:parseFloat(a.price||0),image_url:a.image_url||null,description:a.description||"",label_color:a.label_color||"#1B1670",category:a.category?{id:a.category.id,name:a.category.name}:null,variants:(a.variants||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0),is_saleable:u.is_saleable??!1,resale_type:u.resale_type||null,resale_value:parseFloat(u.resale_value||0)})),addon_groups:(a.addon_groups||[]).map(u=>({id:u.id,name:u.name,addons:(u.addons||[]).map(c=>({id:c.id,name:c.name,price:parseFloat(c.price||0)}))})),is_saleable:a.is_saleable??!1,resale_type:a.resale_type||null,resale_value:parseFloat(a.resale_value||0)})),searchQuery:Ft.value||"",selectedCardVariant:Z.value||{},selectedCardAddons:U.value||{}}),a=>{console.log("🔔 UI changed - Categories:",a.menuCategories.length,"Items:",a.menuItems.length),Oa(a)},{deep:!0,immediate:!0});const Ia=()=>{if(!Le.value){ce.error("Only cashiers can access customer display");return}const a=route("customer-display.index",{terminal:Qs.value});window.open(a,"_blank","width=1920,height=1080")},It=(a,u=!1)=>{if(!a)return 0;const c=a.is_saleable??a?.menu_item?.is_saleable,g=a.resale_type??a?.menu_item?.resale_type,T=a.resale_value??a?.menu_item?.resale_value,M=parseFloat(a.price||0);return!c||!g||!T?0:g==="flat"?parseFloat(T):g==="percentage"?M*parseFloat(T)/100:0},qn=(a,u=!1)=>{const c=parseFloat(a.price||0),g=It(a,u);return Math.max(0,c-g)},Fe=(a,u=!1)=>{if(!a)return null;const c=a.is_saleable??a?.menu_item?.is_saleable,g=a.resale_type??a?.menu_item?.resale_type,T=a.resale_value??a?.menu_item?.resale_value,M=It(a,u);return!c||!g||!T||M<=0?null:{type:g,value:T,amount:M,display:g==="flat"?`Sale ${d(M)}`:`${T}% OFF`}},ji=a=>{const u=J(a);let c;u?c=qn(u,!0):c=qn(a,!1);const g=F(a);return c+g},Nt=a=>{if(!a.variants||a.variants.length===0){const T=It(a,!1)>0;return{min:qn(a,!1),max:qn(a,!1),minOriginal:T?parseFloat(a.price||0):null,maxOriginal:T?parseFloat(a.price||0):null}}const u=a.variants.map(T=>qn(T,!0)),c=a.variants.map(T=>parseFloat(T.price||0)),g=a.variants.some(T=>It(T,!0)>0);return{min:Math.min(...u),max:Math.max(...u),minOriginal:g?Math.min(...c):null,maxOriginal:g?Math.max(...c):null}},js=()=>{if(!j.value)return 0;const a=qe();return a?qn(a,!0):qn(j.value,!1)},Zi=()=>js()+We();return(a,u)=>(P(),R(Ke,null,[En(Ae($b),{title:"Sale"}),En(Rb,null,{default:gs(()=>[_("div",G1,[_("div",z1,[_("div",X1,[_("div",{class:Jn(Bt.value?"col-md-12":"col-lg-8")},[Bt.value?(P(),R("div",Q1,[_("div",j1,[u[24]||(u[24]=_("h4",{class:"mb-0"},"Menu Categories",-1)),Le.value?(P(),R("button",{key:0,onClick:Ia,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...u[22]||(u[22]=[_("i",{class:"bi bi-tv"},null,-1),_("span",null,"Customer View",-1)])])):_e("",!0),_("div",Z1,[u[23]||(u[23]=_("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),B.value?on((P(),R("input",{id:O,"onUpdate:modelValue":u[0]||(u[0]=c=>b.value=c),key:x.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:O,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[er,b.value]]):(P(),R("input",J1))])]),u[27]||(u[27]=_("hr",null,null,-1)),E.value?(P(),R("div",eA,[...u[25]||(u[25]=[_("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),_("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(P(),R(Ke,{key:1},[(P(!0),R(Ke,null,yt(D.value,c=>(P(),R("div",{key:c.id,class:"col-6 col-md-4 col-lg-4"},[_("div",{class:"cat-card",onClick:g=>Sr(c)},[_("div",nA,[_("span",rA,[c.image_url?(P(),R("img",{key:0,src:c.image_url,alt:"Category Image",class:"cat-image"},null,8,iA)):(P(),R("span",sA,"🍵"))])]),_("div",oA,W(c.name),1),_("div",aA,W(c.menu_items_count)+" Menu ",1)],8,tA)]))),128)),!E.value&&D.value.length===0?(P(),R("div",lA,[...u[26]||(u[26]=[_("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):_e("",!0)],64))])):(P(),R("div",uA,[_("div",cA,[_("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:Et},[...u[28]||(u[28]=[_("i",{class:"bi bi-arrow-left me-1"},null,-1),Rt(" Back ",-1)])]),_("h5",dA,W(p.value.find(c=>c.id===Fn.value)?.name||"Items"),1),_("div",fA,[En(qb,{modelValue:Ue.value,"onUpdate:modelValue":u[1]||(u[1]=c=>Ue.value=c),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:Tn,onClear:Un},null,8,["modelValue"]),_("div",hA,[u[29]||(u[29]=_("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),on(_("input",{"onUpdate:modelValue":u[2]||(u[2]=c=>Ft.value=c),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[er,Ft.value]])])])]),_("div",pA,[(P(!0),R(Ke,null,yt(ut.value,c=>(P(),R("div",{class:"col-12 col-md-6 cat-cards col-xl-6 d-flex",key:c.id},[_("div",{class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:kl({borderColor:c.label_color||"#1B1670"})},[_("div",_A,[_("img",{src:c.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,vA),c.variants&&c.variants.length>0?(P(),R("div",gA,[Nt(c).minOriginal!==null?(P(),R("span",mA,W(Ae(d)(Nt(c).minOriginal)),1)):_e("",!0),_("span",bA,W(Ae(d)(Nt(c).min))+" - ",1),Nt(c).maxOriginal!==null?(P(),R("span",yA,W(Ae(d)(Nt(c).maxOriginal)),1)):_e("",!0),_("span",EA,W(Ae(d)(Nt(c).max)),1)])):_e("",!0),_("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:kl({background:c.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[Fe(J(c)||c,!!c.variants?.length)?(P(),R(Ke,{key:0},[_("span",wA,W(Ae(d)(J(c)?.price||c.price)),1),_("span",AA,W(Ae(d)(ji(c))),1)],64)):(P(),R(Ke,{key:1},[Rt(W(Ae(d)(J(c)?.price||c.price)),1)],64))],4),Mt(c)<=0?(P(),R("span",TA," OUT OF STOCK ")):_e("",!0)]),_("div",xA,[c.variants&&c.variants.length>0&&Fe(J(c),!0)||(!c.variants||c.variants.length===0)&&Fe(c,!1)?(P(),R("span",CA,W(c.variants&&c.variants.length>0?Fe(J(c),!0).display:Fe(c,!1).display),1)):_e("",!0),_("div",null,[_("div",{class:"h5 fw-bold mb-2 menu-name",style:kl({color:c.label_color||"#1B1670"})},W(c.title.length>17?c.title.slice(0,15)+"...":c.title),5),c.variants&&c.variants.length>0?(P(),R("div",SA,[u[30]||(u[30]=_("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),on(_("select",{"onUpdate:modelValue":g=>Z.value[c.id]=g,class:"form-select form-select-sm variant-select",onChange:g=>S(c,g),onClick:u[3]||(u[3]=Fo(()=>{},["stop"]))},[(P(!0),R(Ke,null,yt(c.variants,g=>(P(),R("option",{key:g.id,value:g.id},[Rt(W(g.name)+" - "+W(Ae(d)(g.price))+" ",1),g.is_saleable&&It(g,!0)>0?(P(),R(Ke,{key:0},[Rt(" (Sale: "+W(Ae(d)(It(g,!0)))+") ",1)],64)):_e("",!0)],8,IA))),128))],40,OA),[[$l,Z.value[c.id]]])])):_e("",!0),c.addon_groups&&c.addon_groups.length>0?(P(),R("div",NA,[(P(!0),R(Ke,null,yt(c.addon_groups,g=>(P(),R("div",{key:g.group_id,class:"mb-3"},[_("label",DA,[Rt(W(g.group_name)+" ",1),g.max_select>0?(P(),R("span",LA," (Max "+W(g.max_select)+") ",1)):_e("",!0)]),En(Ae(bd),{modelValue:U.value[c.id]?.[g.group_id]||[],"onUpdate:modelValue":T=>ie(c,g.group_id,T),options:g.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect"},{value:gs(T=>[T.value&&T.value.length>0?(P(),R("div",kA,[(P(!0),R(Ke,null,yt(T.value,M=>(P(),R("span",{key:M.id,class:"badge bg-primary"},W(M.name)+" +"+W(Ae(d)(M.price)),1))),128))])):(P(),R("span",$A,W(T.placeholder),1))]),option:gs(T=>[_("div",RA,[_("span",null,W(T.option.name),1),_("span",PA," +"+W(Ae(d)(T.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):_e("",!0),_("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:g=>tt(c)}," View Details ",8,MA)]),_("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:u[4]||(u[4]=Fo(()=>{},["stop"]))},[_("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Fo(g=>Gs(c),["stop"]),disabled:ui(c)<=0},[...u[31]||(u[31]=[_("strong",null,"−",-1)])],8,FA),_("div",BA,W(ui(c)),1),_("button",{class:Jn(["qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",{"opacity-50":Mt(c)<=0}]),style:{width:"55px",height:"36px"},onClick:Fo(g=>Ys(c),["stop"]),disabled:!zi(c)||Mt(c)<=0},[...u[32]||(u[32]=[_("strong",null,"+",-1)])],10,UA)])])],4)]))),128))])]))],2),Bt.value?_e("",!0):(P(),R("div",WA,[_("div",{class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},[_("button",{class:"btn btn-warning rounded-pill px-3 py-2 promos-btn",onClick:Ws}," Promos "),_("button",{class:"btn btn-warning rounded-pill px-3 py-2 discount-btn",onClick:qs}," Discounts ")]),_("div",qA,[_("div",HA,[_("div",VA,[(P(!0),R(Ke,null,yt(Bn.value,(c,g)=>(P(),R("button",{key:g,class:Jn(["ot-pill btn cart-header-buttons",{active:we.value===c}]),onClick:T=>we.value=c},W(c.replace(/_/g," ")),11,KA))),128)),u[33]||(u[33]=_("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),_("div",YA,[_("div",GA,[we.value==="Dine_in"?(P(),R("div",zA,[_("div",XA,[u[35]||(u[35]=_("label",{class:"form-label small"},"Table",-1)),on(_("select",{"onUpdate:modelValue":u[5]||(u[5]=c=>Ge.value=c),class:"form-select form-select-sm"},[u[34]||(u[34]=_("option",{value:null},"Select Table",-1)),(P(!0),R(Ke,null,yt(Qt.value.table_details,(c,g)=>(P(),R("option",{key:g,value:c},W(c.name),9,QA))),128))],512),[[$l,Ge.value]]),ht.value.table_number?(P(),R("div",jA,W(ht.value.table_number[0]),1)):_e("",!0)]),_("div",ZA,[u[36]||(u[36]=_("label",{class:"form-label small"},"Customer",-1)),on(_("input",{"onUpdate:modelValue":u[6]||(u[6]=c=>nt.value=c),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[er,nt.value]])])])):(P(),R("div",JA,[u[37]||(u[37]=_("label",{class:"form-label small"},"Customer",-1)),on(_("input",{"onUpdate:modelValue":u[7]||(u[7]=c=>nt.value=c),class:Jn(["form-control form-control-sm",{"is-invalid":ht.value.customer}]),placeholder:"Walk In"},null,2),[[er,nt.value]]),ht.value.customer?(P(),R("div",eT,W(ht.value.customer[0]),1)):_e("",!0)])),we.value==="Delivery"?(P(),R("div",tT,[u[38]||(u[38]=_("label",{class:"form-label small"},"Delivery Location",-1)),on(_("input",{"onUpdate:modelValue":u[8]||(u[8]=c=>Qe.value=c),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[er,Qe.value]]),ht.value.delivery_location?(P(),R("div",nT,W(ht.value.delivery_location[0]),1)):_e("",!0),u[39]||(u[39]=_("label",{class:"form-label small mt-2"},"Phone Number",-1)),on(_("input",{"onUpdate:modelValue":u[9]||(u[9]=c=>St.value=c),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[er,St.value]]),ht.value.phone_number?(P(),R("div",rT,W(ht.value.phone_number[0]),1)):_e("",!0)])):_e("",!0)]),_("div",iT,[Q.value.length===0?(P(),R("div",sT," Add items from the left ")):_e("",!0),(P(!0),R(Ke,null,yt(Q.value,(c,g)=>(P(),R("div",{key:c.title,class:"line"},[_("div",oT,[_("img",{src:c.img,alt:""},null,8,aT),_("div",lT,[_("div",{class:"name",title:c.title},W(c.title.length>4?c.title.slice(0,10)+"...":c.title),9,uT),c.resale_discount_per_item>0?(P(),R("div",cT,[_("span",dT,[u[40]||(u[40]=_("i",{class:"bi bi-tag-fill"},null,-1)),Rt(" Save "+W(Ae(d)(c.resale_discount_per_item)),1)])])):_e("",!0),c.addons&&c.addons.length>0?(P(),R("div",fT,[_("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:T=>ya(c,g),title:Ta(c)},[u[41]||(u[41]=_("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),_("span",pT,W(c.addons.length)+" addon(s)",1)],8,hT),c.variant_name?(P(),R("span",_T,W(c.variant_name),1)):_e("",!0),Hs(c)?(P(),R("span",vT,[...u[42]||(u[42]=[_("i",{class:"bi bi-tag-fill"},null,-1)])])):_e("",!0)])):_e("",!0),c.note?(P(),R("div",gT,W(c.note),1)):_e("",!0)])]),_("div",mT,[_("div",bT,[_("button",{class:"qty-btn",onClick:T=>Jr(g)},"−",8,yT),_("div",ET,W(c.qty),1),_("button",{class:Jn(["qty-btn",{"bg-secondary text-white cursor-not-allowed opacity-70":c.outOfStock||!Xi(c)}]),onClick:T=>xn(g),disabled:c.outOfStock||!Xi(c)}," + ",10,wT)]),_("div",AT,[_("div",TT,W(Ae(d)(c.price)),1),_("button",{class:"del",onClick:T=>Cn(g)},[...u[43]||(u[43]=[_("i",{class:"bi bi-trash"},null,-1)])],8,xT)])])]))),128))]),_("div",CT,[_("div",ST,[u[44]||(u[44]=_("span",null,"Sub Total",-1)),_("b",OT,W(Ae(d)(je.value)),1)]),Nn.value>0?(P(),R("div",IT,[u[45]||(u[45]=_("span",{class:"d-flex align-items-center gap-2"},[_("i",{class:"bi bi-receipt text-info"}),Rt(" Tax ")],-1)),_("b",NT,W(Ae(d)(Nn.value)),1)])):_e("",!0),On.value>0?(P(),R("div",DT,[u[46]||(u[46]=_("span",{class:"text-muted"},"Service Charges:",-1)),_("span",LT,W(Ae(d)(On.value)),1)])):_e("",!0),Sn.value>0?(P(),R("div",kT,[u[47]||(u[47]=_("span",{class:"text-muted"},"Delivery Charges:",-1)),_("span",$T,W(Ae(d)(Sn.value)),1)])):_e("",!0),Zt.value>0?(P(),R("div",RT,[u[48]||(u[48]=_("span",{class:"d-flex align-items-center gap-2"},[_("span",{class:"text-danger"},"Sale Discount:")],-1)),_("b",PT,"-"+W(Ae(d)(Zt.value)),1)])):_e("",!0),De.value&&De.value.length>0?(P(),R("div",MT,[_("div",FT,[_("div",BT,[u[49]||(u[49]=_("span",{class:"text-success"},"Promo Discount:",-1)),_("b",UT,"-"+W(Ae(d)(cr.value)),1)])])])):_e("",!0),Ot.value.length>0?(P(),R("div",WT,[u[51]||(u[51]=_("div",{class:"alert alert-warning py-2 px-3 mb-2"},[_("div",{class:"d-flex align-items-center gap-2"},[_("i",{class:"bi bi-clock-history"}),_("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(P(!0),R(Ke,null,yt(Ot.value,c=>(P(),R("div",{key:c.id,class:"trow"},[_("span",qT,[u[50]||(u[50]=_("i",{class:"bi bi-hourglass-split"},null,-1)),_("span",null,W(c.discountData?.name||"Discount")+" ("+W(c.percentage)+"%)",1)]),_("span",HT," -"+W(Ae(d)(ur(c.percentage))),1)]))),128)),u[52]||(u[52]=_("small",{class:"text-muted d-block mt-1 ms-4"},[_("i",{class:"bi bi-info-circle me-1"}),Rt(" Will apply after Super Admin approval ")],-1))])):_e("",!0),vt.value.length>0?(P(),R("div",VT,[_("div",KT,[u[53]||(u[53]=_("div",{class:"d-flex align-items-center text-success gap-2"},[_("i",{class:"bi bi-check-circle"}),_("small",{class:"fw-semibold"},"Approved Discounts"),_("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),_("b",YT,"-"+W(Ae(d)(ii.value)),1)])])):_e("",!0),_("div",GT,[u[54]||(u[54]=_("span",null,"Total",-1)),_("b",null,W(Ae(d)(dr.value)),1)])]),_("div",zT,[u[55]||(u[55]=_("label",{for:"frontNote",class:"form-label small fw-semibold"},"Front Note",-1)),on(_("textarea",{id:"frontNote","onUpdate:modelValue":u[10]||(u[10]=c=>sr.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[er,sr.value]])]),_("div",XT,[u[56]||(u[56]=_("label",{for:"kitchenNote",class:"form-label small fw-semibold"},"Kitchen Note",-1)),on(_("textarea",{id:"kitchenNote","onUpdate:modelValue":u[11]||(u[11]=c=>or.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[er,or.value]])])]),_("div",QT,[_("button",{class:"btn btn-secondary btn-clear",onClick:u[12]||(u[12]=c=>ks())}," Clear "),_("button",{class:"btn btn-primary btn-place",onClick:ca}," Place Order ")])])]))])]),_("div",jT,[_("div",ZT,[_("div",JT,[_("div",ex,[_("h5",tx,W(j.value?.title||"Choose Item"),1),u[57]||(u[57]=_("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),_("div",nx,[_("div",rx,[_("div",ix,[_("img",{src:j.value?.image_url||j.value?.img||"/assets/img/product/product29.jpg",class:"img-fluid rounded-3 w-100",alt:""},null,8,sx)]),_("div",ox,[_("div",ax,[_("div",lx,[_("span",null,W(Ae(d)(Zi())),1),qe()&&Fe(qe(),!0)?(P(),R(Ke,{key:0},[_("span",ux,W(Ae(d)(lt()+We())),1),_("span",cx,W(Fe(qe(),!0).display),1)],64)):j.value&&(!j.value.variants||j.value.variants.length===0)&&Fe(j.value,!1)?(P(),R(Ke,{key:1},[_("span",dx,W(Ae(d)(lt()+We())),1),_("span",fx,W(Fe(j.value,!1).display),1)],64)):_e("",!0)])]),j.value?.variants&&j.value.variants.length>0?(P(),R("div",hx,[u[58]||(u[58]=_("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),on(_("select",{"onUpdate:modelValue":u[13]||(u[13]=c=>In.value=c),class:"form-select form-select-sm",onChange:it},[(P(!0),R(Ke,null,yt(j.value.variants,c=>(P(),R("option",{key:c.id,value:c.id},W(c.name)+" - "+W(Ae(d)(c.price)),9,px))),128))],544),[[$l,In.value]])])):_e("",!0),ue().length>0?(P(),R("div",_x,[u[59]||(u[59]=_("label",{class:"form-label small fw-semibold mb-2 d-flex align-items-center"},[_("i",{class:"bi bi-egg-fried me-2 text-warning"}),Rt(" Remove Ingredients ")],-1)),_("div",vx,[(P(!0),R(Ke,null,yt(ue(),c=>(P(),R("div",{key:c.id||c.inventory_item_id,class:"form-check d-flex align-items-center justify-content-between py-2 px-2 mb-1 rounded hover-bg-white",style:{cursor:"pointer"}},[_("div",gx,[_("input",{type:"checkbox",class:"form-check-input",id:"ingredient-"+(c.id||c.inventory_item_id),checked:!xe(c.id||c.inventory_item_id),onChange:g=>Ne(c.id||c.inventory_item_id),style:{cursor:"pointer",width:"20px",height:"20px",margin:"0","flex-shrink":"0"}},null,40,mx),_("label",{for:"ingredient-"+(c.id||c.inventory_item_id),class:Jn(["form-check-label mb-0 flex-grow-1",{"text-decoration-line-through text-muted opacity-50":xe(c.id||c.inventory_item_id)}]),style:{cursor:"pointer"}},W(c.product_name||c.name||"Ingredient"),11,bx)]),_("span",{class:Jn(["badge ms-2",xe(c.id||c.inventory_item_id)?"bg-secondary":"bg-primary"])},W(c.quantity||1)+" "+W(c.unit||"unit"),3)]))),128))])])):_e("",!0),j.value?.addon_groups&&j.value.addon_groups.length>0?(P(),R("div",yx,[(P(!0),R(Ke,null,yt(j.value.addon_groups,c=>(P(),R("div",{key:c.group_id,class:"mb-3"},[_("label",Ex,[Rt(W(c.group_name)+" ",1),c.max_select>0?(P(),R("span",wx," (Max "+W(c.max_select)+") ",1)):_e("",!0)]),En(Ae(bd),{modelValue:pn.value[c.group_id]||[],"onUpdate:modelValue":g=>Xt(c.group_id,g),options:c.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect",appendTo:"self"},{value:gs(g=>[g.value&&g.value.length>0?(P(),R("div",Ax,[(P(!0),R(Ke,null,yt(g.value,T=>(P(),R("span",{key:T.id,class:"badge bg-primary"},W(T.name)+" +"+W(Ae(d)(T.price)),1))),128))])):(P(),R("span",Tx,W(g.placeholder),1))]),option:gs(g=>[_("div",xx,[_("span",null,W(g.option.name),1),_("span",Cx," +"+W(Ae(d)(g.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):_e("",!0),_("div",Sx,[u[60]||(u[60]=_("div",{class:"mb-1"},[_("strong",null,"Nutrition:")],-1)),Ye()?.calories?(P(),R("span",Ox," Cal: "+W(Ye().calories),1)):_e("",!0),Ye()?.carbs?(P(),R("span",Ix," Carbs: "+W(Ye().carbs),1)):_e("",!0),Ye()?.fat?(P(),R("span",Nx," Fat: "+W(Ye().fat),1)):_e("",!0),Ye()?.protein?(P(),R("span",Dx," Protein: "+W(Ye().protein),1)):_e("",!0),u[61]||(u[61]=_("div",{class:"w-100 mt-2"},[_("strong",null,"Allergies:")],-1)),(P(!0),R(Ke,null,yt(dn(),(c,g)=>(P(),R("span",{key:"a-"+g,class:"chip chip-red"},W(c.name),1))),128)),u[62]||(u[62]=_("div",{class:"w-100 mt-2"},[_("strong",null,"Tags:")],-1)),(P(!0),R(Ke,null,yt(fn(),(c,g)=>(P(),R("span",{key:"t-"+g,class:"chip chip-teal"},W(c.name),1))),128))]),_("div",Lx,[_("button",{class:"qty-btn",onClick:Ls}," − "),_("div",kx,W(Ze.value),1),_("button",{class:"qty-btn",onClick:Ds,disabled:!Ns()}," + ",8,$x)]),_("div",Rx,[u[63]||(u[63]=_("label",{class:"form-label small fw-semibold mb-1"}," Kitchen Note (Optional) ",-1)),on(_("textarea",{"onUpdate:modelValue":u[14]||(u[14]=c=>_n.value=c),class:"form-control form-control-sm",rows:"4",placeholder:"Special instructions to kitchen for this item (e.g., extra spicy, no onions)...",maxlength:"200"},null,512),[[er,_n.value]])])])])]),_("div",{class:"modal-footer border-0"},[_("button",{class:"btn btn-primary btn-sm py-2 rounded-pill px-4",onClick:la}," Add to Cart ")])])])]),_("div",Px,[_("div",Mx,[_("div",Fx,[u[74]||(u[74]=_("div",{class:"modal-header border-0 pb-2"},[_("h5",{class:"modal-title fw-bold"},[_("i",{class:"bi bi-puzzle-fill text-primary me-2"}),Rt(" Manage Add-ons ")]),_("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),He.value?(P(),R("div",Bx,[_("div",Ux,[_("div",Wx,[_("img",{src:He.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,qx),_("div",Hx,[_("div",Vx,W(He.value.title),1),_("div",Kx,[_("small",Yx,[u[64]||(u[64]=_("i",{class:"bi bi-tag me-1"},null,-1)),u[65]||(u[65]=Rt(" Base Price: ",-1)),_("span",Gx,W(Ae(d)(He.value?.unit_price-zs(Q.value[vn.value]||{addons:[]}))),1)]),_("small",zx,[u[66]||(u[66]=_("i",{class:"bi bi-box me-1"},null,-1)),u[67]||(u[67]=Rt(" Quantity: ",-1)),_("span",Xx,W(He.value.qty),1)])])])])]),He.value.addons&&He.value.addons.length>0?(P(),R("div",Qx,[_("table",jx,[u[70]||(u[70]=_("thead",{class:"table-light"},[_("tr",null,[_("th",{style:{width:"60px"},class:"text-center"},"Select"),_("th",null,"Items"),_("th",{style:{width:"120px"},class:"text-center"},"Price"),_("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),_("tbody",null,[(P(!0),R(Ke,null,yt(He.value.addons,c=>(P(),R("tr",{key:c.id,class:Jn({"table-active":c.selected!==!1})},[_("td",Zx,[_("div",Jx,[_("input",{type:"checkbox",class:"form-check-input",checked:c.selected!==!1,onChange:g=>Ea(c),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,eC)])]),_("td",null,[_("div",tC,[_("div",{class:Jn(["addon-status-indicator",c.selected!==!1?"bg-success":"bg-secondary"])},null,2),_("div",null,[_("div",nC,W(c.name),1),c.group_name?(P(),R("small",rC,W(c.group_name),1)):_e("",!0)])])]),_("td",iC,[_("span",sC," +"+W(Ae(d)(c.price)),1)]),_("td",null,[_("div",oC,[_("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:g=>Qi(c),disabled:!c.selected||(c.quantity||1)<=1},[...u[68]||(u[68]=[_("i",{class:"bi bi-dash-lg"},null,-1)])],8,aC),_("span",lC,W(c.quantity||1),1),_("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:g=>wa(c),disabled:!c.selected},[...u[69]||(u[69]=[_("i",{class:"bi bi-plus-lg"},null,-1)])],8,uC)])])],2))),128))])])])):(P(),R("div",cC,[...u[71]||(u[71]=[_("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),_("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),_("div",dC,[Xs()>0?(P(),R("div",fC,[_("small",hC,[u[72]||(u[72]=_("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),Rt(" "+W(Xs())+" add-on(s) selected • Add-ons Total: "+W(Ae(d)(zs(He.value))),1)])])):_e("",!0)])])):_e("",!0),_("div",{class:"modal-footer border-0 pt-0 bg-light"},[u[73]||(u[73]=_("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),_("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:Aa}," Save ")])])])]),En(Bb,{show:Hi.value,kot:Nr.value,loading:Bs.value,onClose:u[15]||(u[15]=c=>Hi.value=!1),onStatusUpdated:ga},null,8,["show","kot","loading"]),En(Mb,{show:ti.value,order:Ir.value,money:ei,onClose:u[16]||(u[16]=c=>ti.value=!1)},null,8,["show","order"]),En(Pb,{show:ni.value,customer:nt.value,"delivery-location":Qe.value,phone:St.value,"order-type":we.value,"selected-table":Ge.value,"order-items":Q.value,"grand-total":dr.value,money:ei,cashReceived:Wi.value,"onUpdate:cashReceived":u[17]||(u[17]=c=>Wi.value=c),client_secret:o.client_secret,order_code:o.order_code,"sub-total":je.value,tax:Nn.value,"service-charges":On.value,"delivery-charges":Sn.value,"promo-discount":cr.value,"promo-id":De.value?.id,"promo-name":De.value?.name,"promo-type":De.value?.type,"promo-discount-amount":cr.value,note:sr.value,"kitchen-note":or.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":da.value,change:fa.value,onClose:u[18]||(u[18]=c=>ni.value=!1),onConfirm:si,appliedPromos:Gi.value,"approved-discounts":ii.value,"approved-discount-details":vt.value.map(c=>({discount_id:c.id,discount_name:c.name,discount_percentage:c.percentage,discount_amount:ur(c.percentage),approval_id:c.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),En(Wb,{show:oi.value,orders:Vi.value,onClose:u[19]||(u[19]=c=>oi.value=!1),onViewDetails:Yi,loading:Ki.value},null,8,["show","orders","loading"]),En(Fb,{show:Dr.value,loading:ai.value,promos:li.value,"order-items":Q.value,onApplyPromo:Us,onClose:u[20]||(u[20]=c=>Dr.value=!1)},null,8,["show","loading","promos","order-items"]),En(Hb,{show:Lr.value,discounts:$r.value,"order-items":Q.value,loading:kr.value,"applied-discounts":vt.value,"rejected-discounts":lr.value,onClose:u[21]||(u[21]=c=>Lr.value=!1),onApplyDiscount:ha,onClearDiscount:va},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"])])]),_:1})],64))}},WC=Db(pC,[["__scopeId","data-v-9c1f0c86"]]);export{WC as default};

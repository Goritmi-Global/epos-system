import{r as K,R as ky,b6 as ya,y as Ss,c as Ce,k as lt,m as re,ae as Zi,f as O,b as S,e as c,l as ge,t as k,F as Ne,g as Ye,_ as Ly,o as ur,n as hu,A as $y,z as Ry,q as Q,d as Bt,u as he,h as Py,w as _u,i as Zt,v as si,x as Xi,K as uo,S as Hd,a as My}from"./app-DrUr72II.js";import{_ as Fy}from"./Master-BeW6Lctk.js";import qy from"./ConfirmOrderModal-3ZA9wpSl.js";import By from"./ReceiptModal-CrUrQAqB.js";import Uy from"./PromoModal-DJM11MPQ.js";import Wy from"./KotModal-HO9qFHON.js";import{u as Hy}from"./useFormatters-DMzlbhVl.js";import Vy from"./PosOrdersModal-BApAGJLI.js";import{F as zy}from"./FilterModal-nF80RTMq.js";import{s as Vd}from"./index-Boj2KptG.js";import Ky from"./DiscountModal-BGpJwY64.js";import Yy from"./PendingOrdersModal-Q9FxMz5s.js";import{P as zd}from"./pencil-Be4IWqC2.js";import{E as Gy}from"./eye-ByYm4Jhk.js";import"./index-BLyqyTLg.js";import"./createLucideIcon-BENYThoS.js";import"./index-DMd6VC55.js";import"./index-DfwVUbck.js";import"./sun-pxRjjhfX.js";import"./StripePayment-DF1E5Fla.js";import"./SplitPayment-2dcd9ZjT.js";import"./Receipt-P3b5esRU.js";import"./clock-C10rsBT9.js";import"./circle-check-big-CgIbEcoI.js";import"./circle-x-CZ0G9APD.js";import"./printer-D8RzPxtz.js";import"./index-CAExNS8U.js";import"./index-IACkjU4I.js";import"./index-B0UxqGhj.js";const me=ky({device:null,connected:!1,printerName:null,webUSBSupported:!1,lastError:null}),De={INIT:[27,64],CUT:[29,86,0],PARTIAL_CUT:[29,86,1],FEED:[27,100],ALIGN_LEFT:[27,97,0],ALIGN_CENTER:[27,97,1],ALIGN_RIGHT:[27,97,2],BOLD_ON:[27,69,1],BOLD_OFF:[27,69,0],DOUBLE_ON:[29,33,17],DOUBLE_OFF:[29,33,0]},Kd=[1155,1046,1049,1208,1317,1659,5380,6790,3540,4070,8401,5455];function jy(){const n=K(!1),s=()=>(me.webUSBSupported="usb"in navigator,me.webUSBSupported),f=async()=>{if(!me.webUSBSupported)return[];try{return(await navigator.usb.getDevices()).filter(Y=>Kd.includes(Y.vendorId)||Y.productName?.toLowerCase().includes("printer")||Y.productName?.toLowerCase().includes("pos")||Y.productName?.toLowerCase().includes("thermal"))}catch(L){return console.error("Error getting USB devices:",L),[]}},v=async()=>{if(!me.webUSBSupported)return me.lastError="WebUSB not supported. Use Chrome or Edge.",!1;try{n.value=!0,me.lastError=null;const L=Kd.map(se=>({vendorId:se}));me.device=await navigator.usb.requestDevice({filters:L}),await me.device.open(),me.device.configuration===null&&await me.device.selectConfiguration(1);const Y=me.device.configuration.interfaces[0].interfaceNumber;return await me.device.claimInterface(Y),me.connected=!0,me.printerName=me.device.productName||"USB Printer",localStorage.setItem("usb_printer_connected","true"),!0}catch(L){return me.lastError=L.message,me.connected=!1,!1}finally{n.value=!1}},w=async()=>{if(me.device&&me.connected){try{await me.device.close()}catch{}me.device=null,me.connected=!1,me.printerName=null,localStorage.removeItem("usb_printer_connected")}},y=async L=>{if(!me.connected||!me.device)throw new Error("Printer not connected");const Y=me.device.configuration.interfaces[0].alternate.endpoints.find(F=>F.direction==="out");if(!Y)throw new Error("No output endpoint found");const se=L instanceof Uint8Array?L:new Uint8Array(L);await me.device.transferOut(Y.endpointNumber,se)},C=L=>new TextEncoder().encode(L+`
`),A=async L=>{await y(C(L))},W=async(L,Y)=>{const se=48-L.length-Y.length,F=L+" ".repeat(Math.max(1,se))+Y;await A(F)},$=(L,Y="£")=>Y+parseFloat(L).toFixed(2),z=async(L="-")=>{await A(L.repeat(48))},te=async(L,Y)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").customer_printer||"browser")==="browser"||!me.connected)return ne(L,Y);try{n.value=!0,await y(new Uint8Array(De.INIT)),await y(new Uint8Array(De.ALIGN_CENTER)),await y(new Uint8Array(De.BOLD_ON)),await y(new Uint8Array(De.DOUBLE_ON)),await A((Y.name||"Business").toUpperCase()),await y(new Uint8Array(De.DOUBLE_OFF)),await y(new Uint8Array(De.BOLD_OFF)),Y.phone&&await A(Y.phone),Y.address&&await A(Y.address),await z("="),await y(new Uint8Array(De.BOLD_ON)),await A("CUSTOMER RECEIPT"),await y(new Uint8Array(De.BOLD_OFF)),await z("="),await y(new Uint8Array(De.ALIGN_LEFT)),await W("Date:",L.order_date||new Date().toLocaleDateString()),await W("Time:",L.order_time||new Date().toLocaleTimeString()),await W("Customer:",L.customer_name||"Walk In"),await W("Order Type:",L.order_type||"Collection"),L.note&&await W("Note:",L.note),await z("-"),await y(new Uint8Array(De.BOLD_ON)),await A("Item                     Qty    Price    Total"),await y(new Uint8Array(De.BOLD_OFF)),await z("-");const B=Y.currency||"£";for(const J of L.items||[]){const fe=(J.title||"Item").substring(0,24).padEnd(24),ke=(J.quantity||J.qty||1).toString().padStart(4),Le=$(J.unit_price||J.price||0,B).padStart(8),_e=$((J.unit_price||J.price||0)*(J.quantity||J.qty||1),B).padStart(8);await A(fe+ke+Le+_e)}if(await z("-"),await W("Subtotal:",$(L.sub_total||0,B)),await y(new Uint8Array(De.BOLD_ON)),await W("Total:",$(L.total_amount||L.sub_total||0,B)),await y(new Uint8Array(De.BOLD_OFF)),L.payment_type&&(await y(new Uint8Array([...De.FEED,1])),await W("Payment:",L.payment_type.toUpperCase()),L.payment_type==="cash"&&L.cash_received>0)){await W("Cash Received:",$(L.cash_received,B));const J=L.cash_received-(L.total_amount||L.sub_total||0);J>0&&await W("Change:",$(J,B))}return await y(new Uint8Array([...De.FEED,2])),await y(new Uint8Array(De.ALIGN_CENTER)),await A((Y.footer||"Thank you!").toUpperCase()),await y(new Uint8Array([...De.FEED,3])),await y(new Uint8Array(De.CUT)),{success:!0,method:"usb"}}catch(B){return console.error("USB print error:",B),ne(L,Y)}finally{n.value=!1}},j=async(L,Y)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").kot_printer||"browser")==="browser"||!me.connected)return ie(L,Y);try{n.value=!0,await y(new Uint8Array(De.INIT)),await y(new Uint8Array(De.ALIGN_CENTER)),await y(new Uint8Array(De.BOLD_ON)),await y(new Uint8Array(De.DOUBLE_ON)),await A((Y.name||"KITCHEN").toUpperCase()),await y(new Uint8Array(De.DOUBLE_OFF)),await y(new Uint8Array(De.BOLD_OFF)),await z("="),await y(new Uint8Array(De.BOLD_ON)),await A("KITCHEN ORDER TICKET"),await y(new Uint8Array(De.BOLD_OFF)),await z("="),await y(new Uint8Array(De.ALIGN_LEFT)),await W("Date:",L.order_date||new Date().toLocaleDateString()),await W("Time:",L.order_time||new Date().toLocaleTimeString()),await W("Customer:",L.customer_name||"Walk In"),await W("Order Type:",L.order_type||"Dine In"),L.kitchen_note&&await W("Note:",L.kitchen_note),await z("-"),await y(new Uint8Array(De.BOLD_ON)),await W("Item","Qty"),await y(new Uint8Array(De.BOLD_OFF)),await z("-");for(const B of L.items||[]){const J=(B.title||"Item").substring(0,40),fe=(B.quantity||B.qty||1).toString();await W(J,fe),B.item_kitchen_note&&await A("  Note: "+B.item_kitchen_note)}return await z("-"),await y(new Uint8Array([...De.FEED,2])),await y(new Uint8Array(De.ALIGN_CENTER)),await A((Y.footer||"KITCHEN COPY").toUpperCase()),await y(new Uint8Array([...De.FEED,3])),await y(new Uint8Array(De.CUT)),{success:!0,method:"usb"}}catch(B){return console.error("USB KOT print error:",B),ie(L,Y)}finally{n.value=!1}},ne=(L,Y)=>{const se=Y.currency||"£";let F="";for(const fe of L.items||[]){const ke=fe.quantity||fe.qty||1,Le=fe.unit_price||fe.price||0,_e=Le*ke;F+="<tr>",F+="<td>"+(fe.title||"Item")+"</td>",F+='<td style="text-align:center">'+ke+"</td>",F+='<td style="text-align:right">'+$(Le,se)+"</td>",F+='<td style="text-align:right">'+$(_e,se)+"</td>",F+="</tr>"}let B='<!DOCTYPE html><html><head><meta charset="UTF-8">';B+="<title>Receipt</title>",B+="<style>",B+="@page { size: 80mm auto; margin: 0; }",B+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',B+=".header { text-align: center; margin-bottom: 10px; }",B+=".business-name { font-size: 16px; font-weight: bold; }",B+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",B+=".info-row { display: flex; justify-content: space-between; }",B+="table { width: 100%; border-collapse: collapse; }",B+="th, td { padding: 3px 0; }",B+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",B+="</style></head><body>",B+='<div class="header">',Y.logo_url&&(B+='<img src="'+Y.logo_url+'" style="max-width:100px;max-height:60px;margin-bottom:5px">'),B+='<div class="business-name">'+(Y.name||"Business").toUpperCase()+"</div>",B+="<div>"+(Y.phone||"")+"</div>",B+="<div>"+(Y.address||"")+"</div>",B+="</div>",B+='<div class="divider"></div>',B+='<div style="text-align:center;font-weight:bold">CUSTOMER RECEIPT</div>',B+='<div class="divider"></div>',B+='<div class="info-row"><span>Date:</span><span>'+(L.order_date||new Date().toLocaleDateString())+"</span></div>",B+='<div class="info-row"><span>Time:</span><span>'+(L.order_time||new Date().toLocaleTimeString())+"</span></div>",B+='<div class="info-row"><span>Customer:</span><span>'+(L.customer_name||"Walk In")+"</span></div>",B+='<div class="info-row"><span>Order Type:</span><span>'+(L.order_type||"Collection")+"</span></div>",B+='<div class="divider"></div>',B+="<table><thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead>",B+="<tbody>"+F+"</tbody></table>",B+='<div class="divider"></div>',B+='<div class="info-row"><span>Subtotal:</span><span>'+$(L.sub_total||0,se)+"</span></div>",B+='<div class="info-row" style="font-weight:bold"><span>Total:</span><span>'+$(L.total_amount||L.sub_total||0,se)+"</span></div>",B+='<div class="divider"></div>',B+='<div class="footer">'+(Y.footer||"Thank you!").toUpperCase()+"</div>",B+="</body></html>";const J=window.open("","_blank","width=400,height=600");return J.document.write(B),J.document.close(),setTimeout(function(){J.focus(),J.print()},500),{success:!0,method:"browser"}},ie=(L,Y)=>{let se="";for(const J of L.items||[]){const fe=J.quantity||J.qty||1;se+="<tr>",se+="<td>"+(J.title||"Item")+"</td>",se+='<td style="text-align:right">'+fe+"</td>",se+="</tr>",J.item_kitchen_note&&(se+='<tr><td colspan="2" style="padding-left:15px;font-style:italic">Note: '+J.item_kitchen_note+"</td></tr>")}let F='<!DOCTYPE html><html><head><meta charset="UTF-8">';F+="<title>Kitchen Order</title>",F+="<style>",F+="@page { size: 80mm auto; margin: 0; }",F+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',F+=".header { text-align: center; margin-bottom: 10px; }",F+=".business-name { font-size: 16px; font-weight: bold; }",F+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",F+=".info-row { display: flex; justify-content: space-between; }",F+="table { width: 100%; border-collapse: collapse; }",F+="th, td { padding: 3px 0; }",F+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",F+="</style></head><body>",F+='<div class="header">',F+='<div class="business-name">'+(Y.name||"KITCHEN").toUpperCase()+"</div>",F+="</div>",F+='<div class="divider"></div>',F+='<div style="text-align:center;font-weight:bold;font-size:14px">KITCHEN ORDER TICKET</div>',F+='<div class="divider"></div>',F+='<div class="info-row"><span>Date:</span><span>'+(L.order_date||new Date().toLocaleDateString())+"</span></div>",F+='<div class="info-row"><span>Time:</span><span>'+(L.order_time||new Date().toLocaleTimeString())+"</span></div>",F+='<div class="info-row"><span>Customer:</span><span>'+(L.customer_name||"Walk In")+"</span></div>",F+='<div class="info-row"><span>Order Type:</span><span>'+(L.order_type||"Dine In")+"</span></div>",L.kitchen_note&&(F+='<div class="info-row"><span>Note:</span><span>'+L.kitchen_note+"</span></div>"),F+='<div class="divider"></div>',F+='<table><thead><tr><th>Item</th><th style="text-align:right">Qty</th></tr></thead>',F+="<tbody>"+se+"</tbody></table>",F+='<div class="divider"></div>',F+='<div class="footer">KITCHEN COPY</div>',F+="</body></html>";const B=window.open("","_blank","width=400,height=600");return B.document.write(F),B.document.close(),setTimeout(function(){B.focus(),B.print()},500),{success:!0,method:"browser"}};return{isConnected:()=>me.connected,printerName:()=>me.printerName,isWebUSBSupported:()=>me.webUSBSupported,lastError:()=>me.lastError,loading:n,checkSupport:s,connectPrinter:v,disconnectPrinter:w,autoReconnect:async()=>{if(s(),me.webUSBSupported&&localStorage.getItem("usb_printer_connected")){const L=await f();if(L.length>0)try{me.device=L[0],await me.device.open(),me.device.configuration===null&&await me.device.selectConfiguration(1);const Y=me.device.configuration.interfaces[0].interfaceNumber;await me.device.claimInterface(Y),me.connected=!0,me.printerName=me.device.productName||"USB Printer"}catch(Y){console.log("Auto-reconnect failed:",Y.message)}}},getPairedDevices:f,printReceipt:te,printKOT:j,browserPrintReceipt:ne,browserPrintKOT:ie}}var Ut="top",fn="bottom",pn="right",Wt="left",$a="auto",xr=[Ut,fn,pn,Wt],Ns="start",vr="end",Nf="clippingParents",qu="viewport",fr="popper",kf="reference",ku=xr.reduce(function(u,n){return u.concat([n+"-"+Ns,n+"-"+vr])},[]),Bu=[].concat(xr,[$a]).reduce(function(u,n){return u.concat([n,n+"-"+Ns,n+"-"+vr])},[]),Lf="beforeRead",$f="read",Rf="afterRead",Pf="beforeMain",Mf="main",Ff="afterMain",qf="beforeWrite",Bf="write",Uf="afterWrite",Wf=[Lf,$f,Rf,Pf,Mf,Ff,qf,Bf,Uf];function ai(u){return u?(u.nodeName||"").toLowerCase():null}function hn(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var n=u.ownerDocument;return n&&n.defaultView||window}return u}function ks(u){var n=hn(u).Element;return u instanceof n||u instanceof Element}function xn(u){var n=hn(u).HTMLElement;return u instanceof n||u instanceof HTMLElement}function Uu(u){if(typeof ShadowRoot>"u")return!1;var n=hn(u).ShadowRoot;return u instanceof n||u instanceof ShadowRoot}function Qy(u){var n=u.state;Object.keys(n.elements).forEach(function(s){var f=n.styles[s]||{},v=n.attributes[s]||{},w=n.elements[s];!xn(w)||!ai(w)||(Object.assign(w.style,f),Object.keys(v).forEach(function(y){var C=v[y];C===!1?w.removeAttribute(y):w.setAttribute(y,C===!0?"":C)}))})}function Xy(u){var n=u.state,s={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,s.popper),n.styles=s,n.elements.arrow&&Object.assign(n.elements.arrow.style,s.arrow),function(){Object.keys(n.elements).forEach(function(f){var v=n.elements[f],w=n.attributes[f]||{},y=Object.keys(n.styles.hasOwnProperty(f)?n.styles[f]:s[f]),C=y.reduce(function(A,W){return A[W]="",A},{});!xn(v)||!ai(v)||(Object.assign(v.style,C),Object.keys(w).forEach(function(A){v.removeAttribute(A)}))})}}const Wu={name:"applyStyles",enabled:!0,phase:"write",fn:Qy,effect:Xy,requires:["computeStyles"]};function ri(u){return u.split("-")[0]}var Ds=Math.max,Da=Math.min,mr=Math.round;function Lu(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Hf(){return!/^((?!chrome|android).)*safari/i.test(Lu())}function gr(u,n,s){n===void 0&&(n=!1),s===void 0&&(s=!1);var f=u.getBoundingClientRect(),v=1,w=1;n&&xn(u)&&(v=u.offsetWidth>0&&mr(f.width)/u.offsetWidth||1,w=u.offsetHeight>0&&mr(f.height)/u.offsetHeight||1);var y=ks(u)?hn(u):window,C=y.visualViewport,A=!Hf()&&s,W=(f.left+(A&&C?C.offsetLeft:0))/v,$=(f.top+(A&&C?C.offsetTop:0))/w,z=f.width/v,te=f.height/w;return{width:z,height:te,top:$,right:W+z,bottom:$+te,left:W,x:W,y:$}}function Hu(u){var n=gr(u),s=u.offsetWidth,f=u.offsetHeight;return Math.abs(n.width-s)<=1&&(s=n.width),Math.abs(n.height-f)<=1&&(f=n.height),{x:u.offsetLeft,y:u.offsetTop,width:s,height:f}}function Vf(u,n){var s=n.getRootNode&&n.getRootNode();if(u.contains(n))return!0;if(s&&Uu(s)){var f=n;do{if(f&&u.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Si(u){return hn(u).getComputedStyle(u)}function Jy(u){return["table","td","th"].indexOf(ai(u))>=0}function is(u){return((ks(u)?u.ownerDocument:u.document)||window.document).documentElement}function Ra(u){return ai(u)==="html"?u:u.assignedSlot||u.parentNode||(Uu(u)?u.host:null)||is(u)}function Yd(u){return!xn(u)||Si(u).position==="fixed"?null:u.offsetParent}function Zy(u){var n=/firefox/i.test(Lu()),s=/Trident/i.test(Lu());if(s&&xn(u)){var f=Si(u);if(f.position==="fixed")return null}var v=Ra(u);for(Uu(v)&&(v=v.host);xn(v)&&["html","body"].indexOf(ai(v))<0;){var w=Si(v);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||n&&w.willChange==="filter"||n&&w.filter&&w.filter!=="none")return v;v=v.parentNode}return null}function go(u){for(var n=hn(u),s=Yd(u);s&&Jy(s)&&Si(s).position==="static";)s=Yd(s);return s&&(ai(s)==="html"||ai(s)==="body"&&Si(s).position==="static")?n:s||Zy(u)||n}function Vu(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function ho(u,n,s){return Ds(u,Da(n,s))}function eb(u,n,s){var f=ho(u,n,s);return f>s?s:f}function zf(){return{top:0,right:0,bottom:0,left:0}}function Kf(u){return Object.assign({},zf(),u)}function Yf(u,n){return n.reduce(function(s,f){return s[f]=u,s},{})}var tb=function(n,s){return n=typeof n=="function"?n(Object.assign({},s.rects,{placement:s.placement})):n,Kf(typeof n!="number"?n:Yf(n,xr))};function nb(u){var n,s=u.state,f=u.name,v=u.options,w=s.elements.arrow,y=s.modifiersData.popperOffsets,C=ri(s.placement),A=Vu(C),W=[Wt,pn].indexOf(C)>=0,$=W?"height":"width";if(!(!w||!y)){var z=tb(v.padding,s),te=Hu(w),j=A==="y"?Ut:Wt,ne=A==="y"?fn:pn,ie=s.rects.reference[$]+s.rects.reference[A]-y[A]-s.rects.popper[$],Z=y[A]-s.rects.reference[A],L=go(w),Y=L?A==="y"?L.clientHeight||0:L.clientWidth||0:0,se=ie/2-Z/2,F=z[j],B=Y-te[$]-z[ne],J=Y/2-te[$]/2+se,fe=ho(F,J,B),ke=A;s.modifiersData[f]=(n={},n[ke]=fe,n.centerOffset=fe-J,n)}}function ib(u){var n=u.state,s=u.options,f=s.element,v=f===void 0?"[data-popper-arrow]":f;v!=null&&(typeof v=="string"&&(v=n.elements.popper.querySelector(v),!v)||Vf(n.elements.popper,v)&&(n.elements.arrow=v))}const Gf={name:"arrow",enabled:!0,phase:"main",fn:nb,effect:ib,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yr(u){return u.split("-")[1]}var sb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rb(u,n){var s=u.x,f=u.y,v=n.devicePixelRatio||1;return{x:mr(s*v)/v||0,y:mr(f*v)/v||0}}function Gd(u){var n,s=u.popper,f=u.popperRect,v=u.placement,w=u.variation,y=u.offsets,C=u.position,A=u.gpuAcceleration,W=u.adaptive,$=u.roundOffsets,z=u.isFixed,te=y.x,j=te===void 0?0:te,ne=y.y,ie=ne===void 0?0:ne,Z=typeof $=="function"?$({x:j,y:ie}):{x:j,y:ie};j=Z.x,ie=Z.y;var L=y.hasOwnProperty("x"),Y=y.hasOwnProperty("y"),se=Wt,F=Ut,B=window;if(W){var J=go(s),fe="clientHeight",ke="clientWidth";if(J===hn(s)&&(J=is(s),Si(J).position!=="static"&&C==="absolute"&&(fe="scrollHeight",ke="scrollWidth")),J=J,v===Ut||(v===Wt||v===pn)&&w===vr){F=fn;var Le=z&&J===B&&B.visualViewport?B.visualViewport.height:J[fe];ie-=Le-f.height,ie*=A?1:-1}if(v===Wt||(v===Ut||v===fn)&&w===vr){se=pn;var _e=z&&J===B&&B.visualViewport?B.visualViewport.width:J[ke];j-=_e-f.width,j*=A?1:-1}}var ze=Object.assign({position:C},W&&sb),pt=$===!0?rb({x:j,y:ie},hn(s)):{x:j,y:ie};if(j=pt.x,ie=pt.y,A){var Ge;return Object.assign({},ze,(Ge={},Ge[F]=Y?"0":"",Ge[se]=L?"0":"",Ge.transform=(B.devicePixelRatio||1)<=1?"translate("+j+"px, "+ie+"px)":"translate3d("+j+"px, "+ie+"px, 0)",Ge))}return Object.assign({},ze,(n={},n[F]=Y?ie+"px":"",n[se]=L?j+"px":"",n.transform="",n))}function ob(u){var n=u.state,s=u.options,f=s.gpuAcceleration,v=f===void 0?!0:f,w=s.adaptive,y=w===void 0?!0:w,C=s.roundOffsets,A=C===void 0?!0:C,W={placement:ri(n.placement),variation:yr(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:v,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Gd(Object.assign({},W,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:y,roundOffsets:A})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Gd(Object.assign({},W,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const zu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ob,data:{}};var ba={passive:!0};function ab(u){var n=u.state,s=u.instance,f=u.options,v=f.scroll,w=v===void 0?!0:v,y=f.resize,C=y===void 0?!0:y,A=hn(n.elements.popper),W=[].concat(n.scrollParents.reference,n.scrollParents.popper);return w&&W.forEach(function($){$.addEventListener("scroll",s.update,ba)}),C&&A.addEventListener("resize",s.update,ba),function(){w&&W.forEach(function($){$.removeEventListener("scroll",s.update,ba)}),C&&A.removeEventListener("resize",s.update,ba)}}const Ku={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ab,data:{}};var lb={left:"right",right:"left",bottom:"top",top:"bottom"};function Sa(u){return u.replace(/left|right|bottom|top/g,function(n){return lb[n]})}var ub={start:"end",end:"start"};function jd(u){return u.replace(/start|end/g,function(n){return ub[n]})}function Yu(u){var n=hn(u),s=n.pageXOffset,f=n.pageYOffset;return{scrollLeft:s,scrollTop:f}}function Gu(u){return gr(is(u)).left+Yu(u).scrollLeft}function cb(u,n){var s=hn(u),f=is(u),v=s.visualViewport,w=f.clientWidth,y=f.clientHeight,C=0,A=0;if(v){w=v.width,y=v.height;var W=Hf();(W||!W&&n==="fixed")&&(C=v.offsetLeft,A=v.offsetTop)}return{width:w,height:y,x:C+Gu(u),y:A}}function db(u){var n,s=is(u),f=Yu(u),v=(n=u.ownerDocument)==null?void 0:n.body,w=Ds(s.scrollWidth,s.clientWidth,v?v.scrollWidth:0,v?v.clientWidth:0),y=Ds(s.scrollHeight,s.clientHeight,v?v.scrollHeight:0,v?v.clientHeight:0),C=-f.scrollLeft+Gu(u),A=-f.scrollTop;return Si(v||s).direction==="rtl"&&(C+=Ds(s.clientWidth,v?v.clientWidth:0)-w),{width:w,height:y,x:C,y:A}}function ju(u){var n=Si(u),s=n.overflow,f=n.overflowX,v=n.overflowY;return/auto|scroll|overlay|hidden/.test(s+v+f)}function jf(u){return["html","body","#document"].indexOf(ai(u))>=0?u.ownerDocument.body:xn(u)&&ju(u)?u:jf(Ra(u))}function _o(u,n){var s;n===void 0&&(n=[]);var f=jf(u),v=f===((s=u.ownerDocument)==null?void 0:s.body),w=hn(f),y=v?[w].concat(w.visualViewport||[],ju(f)?f:[]):f,C=n.concat(y);return v?C:C.concat(_o(Ra(y)))}function $u(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function fb(u,n){var s=gr(u,!1,n==="fixed");return s.top=s.top+u.clientTop,s.left=s.left+u.clientLeft,s.bottom=s.top+u.clientHeight,s.right=s.left+u.clientWidth,s.width=u.clientWidth,s.height=u.clientHeight,s.x=s.left,s.y=s.top,s}function Qd(u,n,s){return n===qu?$u(cb(u,s)):ks(n)?fb(n,s):$u(db(is(u)))}function pb(u){var n=_o(Ra(u)),s=["absolute","fixed"].indexOf(Si(u).position)>=0,f=s&&xn(u)?go(u):u;return ks(f)?n.filter(function(v){return ks(v)&&Vf(v,f)&&ai(v)!=="body"}):[]}function hb(u,n,s,f){var v=n==="clippingParents"?pb(u):[].concat(n),w=[].concat(v,[s]),y=w[0],C=w.reduce(function(A,W){var $=Qd(u,W,f);return A.top=Ds($.top,A.top),A.right=Da($.right,A.right),A.bottom=Da($.bottom,A.bottom),A.left=Ds($.left,A.left),A},Qd(u,y,f));return C.width=C.right-C.left,C.height=C.bottom-C.top,C.x=C.left,C.y=C.top,C}function Qf(u){var n=u.reference,s=u.element,f=u.placement,v=f?ri(f):null,w=f?yr(f):null,y=n.x+n.width/2-s.width/2,C=n.y+n.height/2-s.height/2,A;switch(v){case Ut:A={x:y,y:n.y-s.height};break;case fn:A={x:y,y:n.y+n.height};break;case pn:A={x:n.x+n.width,y:C};break;case Wt:A={x:n.x-s.width,y:C};break;default:A={x:n.x,y:n.y}}var W=v?Vu(v):null;if(W!=null){var $=W==="y"?"height":"width";switch(w){case Ns:A[W]=A[W]-(n[$]/2-s[$]/2);break;case vr:A[W]=A[W]+(n[$]/2-s[$]/2);break}}return A}function br(u,n){n===void 0&&(n={});var s=n,f=s.placement,v=f===void 0?u.placement:f,w=s.strategy,y=w===void 0?u.strategy:w,C=s.boundary,A=C===void 0?Nf:C,W=s.rootBoundary,$=W===void 0?qu:W,z=s.elementContext,te=z===void 0?fr:z,j=s.altBoundary,ne=j===void 0?!1:j,ie=s.padding,Z=ie===void 0?0:ie,L=Kf(typeof Z!="number"?Z:Yf(Z,xr)),Y=te===fr?kf:fr,se=u.rects.popper,F=u.elements[ne?Y:te],B=hb(ks(F)?F:F.contextElement||is(u.elements.popper),A,$,y),J=gr(u.elements.reference),fe=Qf({reference:J,element:se,placement:v}),ke=$u(Object.assign({},se,fe)),Le=te===fr?ke:J,_e={top:B.top-Le.top+L.top,bottom:Le.bottom-B.bottom+L.bottom,left:B.left-Le.left+L.left,right:Le.right-B.right+L.right},ze=u.modifiersData.offset;if(te===fr&&ze){var pt=ze[v];Object.keys(_e).forEach(function(Ge){var Ct=[pn,fn].indexOf(Ge)>=0?1:-1,Ht=[Ut,fn].indexOf(Ge)>=0?"y":"x";_e[Ge]+=pt[Ht]*Ct})}return _e}function _b(u,n){n===void 0&&(n={});var s=n,f=s.placement,v=s.boundary,w=s.rootBoundary,y=s.padding,C=s.flipVariations,A=s.allowedAutoPlacements,W=A===void 0?Bu:A,$=yr(f),z=$?C?ku:ku.filter(function(ne){return yr(ne)===$}):xr,te=z.filter(function(ne){return W.indexOf(ne)>=0});te.length===0&&(te=z);var j=te.reduce(function(ne,ie){return ne[ie]=br(u,{placement:ie,boundary:v,rootBoundary:w,padding:y})[ri(ie)],ne},{});return Object.keys(j).sort(function(ne,ie){return j[ne]-j[ie]})}function vb(u){if(ri(u)===$a)return[];var n=Sa(u);return[jd(u),n,jd(n)]}function mb(u){var n=u.state,s=u.options,f=u.name;if(!n.modifiersData[f]._skip){for(var v=s.mainAxis,w=v===void 0?!0:v,y=s.altAxis,C=y===void 0?!0:y,A=s.fallbackPlacements,W=s.padding,$=s.boundary,z=s.rootBoundary,te=s.altBoundary,j=s.flipVariations,ne=j===void 0?!0:j,ie=s.allowedAutoPlacements,Z=n.options.placement,L=ri(Z),Y=L===Z,se=A||(Y||!ne?[Sa(Z)]:vb(Z)),F=[Z].concat(se).reduce(function(In,yt){return In.concat(ri(yt)===$a?_b(n,{placement:yt,boundary:$,rootBoundary:z,padding:W,flipVariations:ne,allowedAutoPlacements:ie}):yt)},[]),B=n.rects.reference,J=n.rects.popper,fe=new Map,ke=!0,Le=F[0],_e=0;_e<F.length;_e++){var ze=F[_e],pt=ri(ze),Ge=yr(ze)===Ns,Ct=[Ut,fn].indexOf(pt)>=0,Ht=Ct?"width":"height",gt=br(n,{placement:ze,boundary:$,rootBoundary:z,altBoundary:te,padding:W}),Je=Ct?Ge?pn:Wt:Ge?fn:Ut;B[Ht]>J[Ht]&&(Je=Sa(Je));var Lt=Sa(Je),Sn=[];if(w&&Sn.push(gt[pt]<=0),C&&Sn.push(gt[Je]<=0,gt[Lt]<=0),Sn.every(function(In){return In})){Le=ze,ke=!1;break}fe.set(ze,Sn)}if(ke)for(var On=ne?3:1,St=function(yt){var nt=F.find(function(Di){var ht=fe.get(Di);if(ht)return ht.slice(0,yt).every(function(Dn){return Dn})});if(nt)return Le=nt,"break"},li=On;li>0;li--){var Ii=St(li);if(Ii==="break")break}n.placement!==Le&&(n.modifiersData[f]._skip=!0,n.placement=Le,n.reset=!0)}}const Xf={name:"flip",enabled:!0,phase:"main",fn:mb,requiresIfExists:["offset"],data:{_skip:!1}};function Xd(u,n,s){return s===void 0&&(s={x:0,y:0}),{top:u.top-n.height-s.y,right:u.right-n.width+s.x,bottom:u.bottom-n.height+s.y,left:u.left-n.width-s.x}}function Jd(u){return[Ut,pn,fn,Wt].some(function(n){return u[n]>=0})}function gb(u){var n=u.state,s=u.name,f=n.rects.reference,v=n.rects.popper,w=n.modifiersData.preventOverflow,y=br(n,{elementContext:"reference"}),C=br(n,{altBoundary:!0}),A=Xd(y,f),W=Xd(C,v,w),$=Jd(A),z=Jd(W);n.modifiersData[s]={referenceClippingOffsets:A,popperEscapeOffsets:W,isReferenceHidden:$,hasPopperEscaped:z},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":$,"data-popper-escaped":z})}const Jf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gb};function yb(u,n,s){var f=ri(u),v=[Wt,Ut].indexOf(f)>=0?-1:1,w=typeof s=="function"?s(Object.assign({},n,{placement:u})):s,y=w[0],C=w[1];return y=y||0,C=(C||0)*v,[Wt,pn].indexOf(f)>=0?{x:C,y}:{x:y,y:C}}function bb(u){var n=u.state,s=u.options,f=u.name,v=s.offset,w=v===void 0?[0,0]:v,y=Bu.reduce(function($,z){return $[z]=yb(z,n.rects,w),$},{}),C=y[n.placement],A=C.x,W=C.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=A,n.modifiersData.popperOffsets.y+=W),n.modifiersData[f]=y}const Zf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bb};function wb(u){var n=u.state,s=u.name;n.modifiersData[s]=Qf({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const Qu={name:"popperOffsets",enabled:!0,phase:"read",fn:wb,data:{}};function Eb(u){return u==="x"?"y":"x"}function xb(u){var n=u.state,s=u.options,f=u.name,v=s.mainAxis,w=v===void 0?!0:v,y=s.altAxis,C=y===void 0?!1:y,A=s.boundary,W=s.rootBoundary,$=s.altBoundary,z=s.padding,te=s.tether,j=te===void 0?!0:te,ne=s.tetherOffset,ie=ne===void 0?0:ne,Z=br(n,{boundary:A,rootBoundary:W,padding:z,altBoundary:$}),L=ri(n.placement),Y=yr(n.placement),se=!Y,F=Vu(L),B=Eb(F),J=n.modifiersData.popperOffsets,fe=n.rects.reference,ke=n.rects.popper,Le=typeof ie=="function"?ie(Object.assign({},n.rects,{placement:n.placement})):ie,_e=typeof Le=="number"?{mainAxis:Le,altAxis:Le}:Object.assign({mainAxis:0,altAxis:0},Le),ze=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,pt={x:0,y:0};if(J){if(w){var Ge,Ct=F==="y"?Ut:Wt,Ht=F==="y"?fn:pn,gt=F==="y"?"height":"width",Je=J[F],Lt=Je+Z[Ct],Sn=Je-Z[Ht],On=j?-ke[gt]/2:0,St=Y===Ns?fe[gt]:ke[gt],li=Y===Ns?-ke[gt]:-fe[gt],Ii=n.elements.arrow,In=j&&Ii?Hu(Ii):{width:0,height:0},yt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:zf(),nt=yt[Ct],Di=yt[Ht],ht=ho(0,fe[gt],In[gt]),Dn=se?fe[gt]/2-On-ht-nt-_e.mainAxis:St-ht-nt-_e.mainAxis,Rs=se?-fe[gt]/2+On+ht+Di+_e.mainAxis:li+ht+Di+_e.mainAxis,Nn=n.elements.arrow&&go(n.elements.arrow),Vt=Nn?F==="y"?Nn.clientTop||0:Nn.clientLeft||0:0,Me=(Ge=ze?.[F])!=null?Ge:0,We=Je+Dn-Me-Vt,bt=Je+Rs-Me,zt=ho(j?Da(Lt,We):Lt,Je,j?Ds(Sn,bt):Sn);J[F]=zt,pt[F]=zt-Je}if(C){var Kt,qn=F==="x"?Ut:Wt,Sr=F==="x"?fn:pn,je=J[B],_t=B==="y"?"height":"width",Bn=je+Z[qn],tn=je-Z[Sr],_n=[Ut,Wt].indexOf(L)!==-1,it=(Kt=ze?.[B])!=null?Kt:0,Ps=_n?Bn:je-fe[_t]-ke[_t]-it+_e.altAxis,Un=_n?je+fe[_t]+ke[_t]-it-_e.altAxis:tn,He=j&&_n?eb(Ps,je,Un):ho(j?Ps:Bn,je,j?Un:tn);J[B]=He,pt[B]=He-je}n.modifiersData[f]=pt}}const ep={name:"preventOverflow",enabled:!0,phase:"main",fn:xb,requiresIfExists:["offset"]};function Ab(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTop}}function Tb(u){return u===hn(u)||!xn(u)?Yu(u):Ab(u)}function Cb(u){var n=u.getBoundingClientRect(),s=mr(n.width)/u.offsetWidth||1,f=mr(n.height)/u.offsetHeight||1;return s!==1||f!==1}function Sb(u,n,s){s===void 0&&(s=!1);var f=xn(n),v=xn(n)&&Cb(n),w=is(n),y=gr(u,v,s),C={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(f||!f&&!s)&&((ai(n)!=="body"||ju(w))&&(C=Tb(n)),xn(n)?(A=gr(n,!0),A.x+=n.clientLeft,A.y+=n.clientTop):w&&(A.x=Gu(w))),{x:y.left+C.scrollLeft-A.x,y:y.top+C.scrollTop-A.y,width:y.width,height:y.height}}function Ob(u){var n=new Map,s=new Set,f=[];u.forEach(function(w){n.set(w.name,w)});function v(w){s.add(w.name);var y=[].concat(w.requires||[],w.requiresIfExists||[]);y.forEach(function(C){if(!s.has(C)){var A=n.get(C);A&&v(A)}}),f.push(w)}return u.forEach(function(w){s.has(w.name)||v(w)}),f}function Ib(u){var n=Ob(u);return Wf.reduce(function(s,f){return s.concat(n.filter(function(v){return v.phase===f}))},[])}function Db(u){var n;return function(){return n||(n=new Promise(function(s){Promise.resolve().then(function(){n=void 0,s(u())})})),n}}function Nb(u){var n=u.reduce(function(s,f){var v=s[f.name];return s[f.name]=v?Object.assign({},v,f,{options:Object.assign({},v.options,f.options),data:Object.assign({},v.data,f.data)}):f,s},{});return Object.keys(n).map(function(s){return n[s]})}var Zd={placement:"bottom",modifiers:[],strategy:"absolute"};function ef(){for(var u=arguments.length,n=new Array(u),s=0;s<u;s++)n[s]=arguments[s];return!n.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Pa(u){u===void 0&&(u={});var n=u,s=n.defaultModifiers,f=s===void 0?[]:s,v=n.defaultOptions,w=v===void 0?Zd:v;return function(C,A,W){W===void 0&&(W=w);var $={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zd,w),modifiersData:{},elements:{reference:C,popper:A},attributes:{},styles:{}},z=[],te=!1,j={state:$,setOptions:function(L){var Y=typeof L=="function"?L($.options):L;ie(),$.options=Object.assign({},w,$.options,Y),$.scrollParents={reference:ks(C)?_o(C):C.contextElement?_o(C.contextElement):[],popper:_o(A)};var se=Ib(Nb([].concat(f,$.options.modifiers)));return $.orderedModifiers=se.filter(function(F){return F.enabled}),ne(),j.update()},forceUpdate:function(){if(!te){var L=$.elements,Y=L.reference,se=L.popper;if(ef(Y,se)){$.rects={reference:Sb(Y,go(se),$.options.strategy==="fixed"),popper:Hu(se)},$.reset=!1,$.placement=$.options.placement,$.orderedModifiers.forEach(function(_e){return $.modifiersData[_e.name]=Object.assign({},_e.data)});for(var F=0;F<$.orderedModifiers.length;F++){if($.reset===!0){$.reset=!1,F=-1;continue}var B=$.orderedModifiers[F],J=B.fn,fe=B.options,ke=fe===void 0?{}:fe,Le=B.name;typeof J=="function"&&($=J({state:$,options:ke,name:Le,instance:j})||$)}}}},update:Db(function(){return new Promise(function(Z){j.forceUpdate(),Z($)})}),destroy:function(){ie(),te=!0}};if(!ef(C,A))return j;j.setOptions(W).then(function(Z){!te&&W.onFirstUpdate&&W.onFirstUpdate(Z)});function ne(){$.orderedModifiers.forEach(function(Z){var L=Z.name,Y=Z.options,se=Y===void 0?{}:Y,F=Z.effect;if(typeof F=="function"){var B=F({state:$,name:L,instance:j,options:se}),J=function(){};z.push(B||J)}})}function ie(){z.forEach(function(Z){return Z()}),z=[]}return j}}var kb=Pa(),Lb=[Ku,Qu,zu,Wu],$b=Pa({defaultModifiers:Lb}),Rb=[Ku,Qu,zu,Wu,Zf,Xf,ep,Gf,Jf],Xu=Pa({defaultModifiers:Rb});const tp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ff,afterRead:Rf,afterWrite:Uf,applyStyles:Wu,arrow:Gf,auto:$a,basePlacements:xr,beforeMain:Pf,beforeRead:Lf,beforeWrite:qf,bottom:fn,clippingParents:Nf,computeStyles:zu,createPopper:Xu,createPopperBase:kb,createPopperLite:$b,detectOverflow:br,end:vr,eventListeners:Ku,flip:Xf,hide:Jf,left:Wt,main:Mf,modifierPhases:Wf,offset:Zf,placements:Bu,popper:fr,popperGenerator:Pa,popperOffsets:Qu,preventOverflow:ep,read:$f,reference:kf,right:pn,start:Ns,top:Ut,variationPlacements:ku,viewport:qu,write:Bf},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ji=new Map,vu={set(u,n,s){Ji.has(u)||Ji.set(u,new Map);const f=Ji.get(u);if(!f.has(n)&&f.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`);return}f.set(n,s)},get(u,n){return Ji.has(u)&&Ji.get(u).get(n)||null},remove(u,n){if(!Ji.has(u))return;const s=Ji.get(u);s.delete(n),s.size===0&&Ji.delete(u)}},Pb=1e6,Mb=1e3,Ru="transitionend",np=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(n,s)=>`#${CSS.escape(s)}`)),u),Fb=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),qb=u=>{do u+=Math.floor(Math.random()*Pb);while(document.getElementById(u));return u},Bb=u=>{if(!u)return 0;let{transitionDuration:n,transitionDelay:s}=window.getComputedStyle(u);const f=Number.parseFloat(n),v=Number.parseFloat(s);return!f&&!v?0:(n=n.split(",")[0],s=s.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(s))*Mb)},ip=u=>{u.dispatchEvent(new Event(Ru))},Ti=u=>!u||typeof u!="object"?!1:(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),es=u=>Ti(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(np(u)):null,Ar=u=>{if(!Ti(u)||u.getClientRects().length===0)return!1;const n=getComputedStyle(u).getPropertyValue("visibility")==="visible",s=u.closest("details:not([open])");if(!s)return n;if(s!==u){const f=u.closest("summary");if(f&&f.parentNode!==s||f===null)return!1}return n},ts=u=>!u||u.nodeType!==Node.ELEMENT_NODE||u.classList.contains("disabled")?!0:typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false",sp=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const n=u.getRootNode();return n instanceof ShadowRoot?n:null}return u instanceof ShadowRoot?u:u.parentNode?sp(u.parentNode):null},Na=()=>{},yo=u=>{u.offsetHeight},rp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,mu=[],Ub=u=>{document.readyState==="loading"?(mu.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of mu)n()}),mu.push(u)):u()},An=()=>document.documentElement.dir==="rtl",Cn=u=>{Ub(()=>{const n=rp();if(n){const s=u.NAME,f=n.fn[s];n.fn[s]=u.jQueryInterface,n.fn[s].Constructor=u,n.fn[s].noConflict=()=>(n.fn[s]=f,u.jQueryInterface)}})},en=(u,n=[],s=u)=>typeof u=="function"?u.call(...n):s,op=(u,n,s=!0)=>{if(!s){en(u);return}const v=Bb(n)+5;let w=!1;const y=({target:C})=>{C===n&&(w=!0,n.removeEventListener(Ru,y),en(u))};n.addEventListener(Ru,y),setTimeout(()=>{w||ip(n)},v)},Ju=(u,n,s,f)=>{const v=u.length;let w=u.indexOf(n);return w===-1?!s&&f?u[v-1]:u[0]:(w+=s?1:-1,f&&(w=(w+v)%v),u[Math.max(0,Math.min(w,v-1))])},Wb=/[^.]*(?=\..*)\.|.*/,Hb=/\..*/,Vb=/::\d+$/,gu={};let tf=1;const ap={mouseenter:"mouseover",mouseleave:"mouseout"},zb=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function lp(u,n){return n&&`${n}::${tf++}`||u.uidEvent||tf++}function up(u){const n=lp(u);return u.uidEvent=n,gu[n]=gu[n]||{},gu[n]}function Kb(u,n){return function s(f){return Zu(f,{delegateTarget:u}),s.oneOff&&U.off(u,f.type,n),n.apply(u,[f])}}function Yb(u,n,s){return function f(v){const w=u.querySelectorAll(n);for(let{target:y}=v;y&&y!==this;y=y.parentNode)for(const C of w)if(C===y)return Zu(v,{delegateTarget:y}),f.oneOff&&U.off(u,v.type,n,s),s.apply(y,[v])}}function cp(u,n,s=null){return Object.values(u).find(f=>f.callable===n&&f.delegationSelector===s)}function dp(u,n,s){const f=typeof n=="string",v=f?s:n||s;let w=fp(u);return zb.has(w)||(w=u),[f,v,w]}function nf(u,n,s,f,v){if(typeof n!="string"||!u)return;let[w,y,C]=dp(n,s,f);n in ap&&(y=(ne=>function(ie){if(!ie.relatedTarget||ie.relatedTarget!==ie.delegateTarget&&!ie.delegateTarget.contains(ie.relatedTarget))return ne.call(this,ie)})(y));const A=up(u),W=A[C]||(A[C]={}),$=cp(W,y,w?s:null);if($){$.oneOff=$.oneOff&&v;return}const z=lp(y,n.replace(Wb,"")),te=w?Yb(u,s,y):Kb(u,y);te.delegationSelector=w?s:null,te.callable=y,te.oneOff=v,te.uidEvent=z,W[z]=te,u.addEventListener(C,te,w)}function Pu(u,n,s,f,v){const w=cp(n[s],f,v);w&&(u.removeEventListener(s,w,!!v),delete n[s][w.uidEvent])}function Gb(u,n,s,f){const v=n[s]||{};for(const[w,y]of Object.entries(v))w.includes(f)&&Pu(u,n,s,y.callable,y.delegationSelector)}function fp(u){return u=u.replace(Hb,""),ap[u]||u}const U={on(u,n,s,f){nf(u,n,s,f,!1)},one(u,n,s,f){nf(u,n,s,f,!0)},off(u,n,s,f){if(typeof n!="string"||!u)return;const[v,w,y]=dp(n,s,f),C=y!==n,A=up(u),W=A[y]||{},$=n.startsWith(".");if(typeof w<"u"){if(!Object.keys(W).length)return;Pu(u,A,y,w,v?s:null);return}if($)for(const z of Object.keys(A))Gb(u,A,z,n.slice(1));for(const[z,te]of Object.entries(W)){const j=z.replace(Vb,"");(!C||n.includes(j))&&Pu(u,A,y,te.callable,te.delegationSelector)}},trigger(u,n,s){if(typeof n!="string"||!u)return null;const f=rp(),v=fp(n),w=n!==v;let y=null,C=!0,A=!0,W=!1;w&&f&&(y=f.Event(n,s),f(u).trigger(y),C=!y.isPropagationStopped(),A=!y.isImmediatePropagationStopped(),W=y.isDefaultPrevented());const $=Zu(new Event(n,{bubbles:C,cancelable:!0}),s);return W&&$.preventDefault(),A&&u.dispatchEvent($),$.defaultPrevented&&y&&y.preventDefault(),$}};function Zu(u,n={}){for(const[s,f]of Object.entries(n))try{u[s]=f}catch{Object.defineProperty(u,s,{configurable:!0,get(){return f}})}return u}function sf(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function yu(u){return u.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Ci={setDataAttribute(u,n,s){u.setAttribute(`data-bs-${yu(n)}`,s)},removeDataAttribute(u,n){u.removeAttribute(`data-bs-${yu(n)}`)},getDataAttributes(u){if(!u)return{};const n={},s=Object.keys(u.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of s){let v=f.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1),n[v]=sf(u.dataset[f])}return n},getDataAttribute(u,n){return sf(u.getAttribute(`data-bs-${yu(n)}`))}};class bo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,s){const f=Ti(s)?Ci.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...Ti(s)?Ci.getDataAttributes(s):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,s=this.constructor.DefaultType){for(const[f,v]of Object.entries(s)){const w=n[f],y=Ti(w)?"element":Fb(w);if(!new RegExp(v).test(y))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${f}" provided type "${y}" but expected type "${v}".`)}}}const jb="5.3.8";class Fn extends bo{constructor(n,s){super(),n=es(n),n&&(this._element=n,this._config=this._getConfig(s),vu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){vu.remove(this._element,this.constructor.DATA_KEY),U.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,s,f=!0){op(n,s,f)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return vu.get(es(n),this.DATA_KEY)}static getOrCreateInstance(n,s={}){return this.getInstance(n)||new this(n,typeof s=="object"?s:null)}static get VERSION(){return jb}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const bu=u=>{let n=u.getAttribute("data-bs-target");if(!n||n==="#"){let s=u.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),n=s&&s!=="#"?s.trim():null}return n?n.split(",").map(s=>np(s)).join(","):null},oe={find(u,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,u))},findOne(u,n=document.documentElement){return Element.prototype.querySelector.call(n,u)},children(u,n){return[].concat(...u.children).filter(s=>s.matches(n))},parents(u,n){const s=[];let f=u.parentNode.closest(n);for(;f;)s.push(f),f=f.parentNode.closest(n);return s},prev(u,n){let s=u.previousElementSibling;for(;s;){if(s.matches(n))return[s];s=s.previousElementSibling}return[]},next(u,n){let s=u.nextElementSibling;for(;s;){if(s.matches(n))return[s];s=s.nextElementSibling}return[]},focusableChildren(u){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(n,u).filter(s=>!ts(s)&&Ar(s))},getSelectorFromElement(u){const n=bu(u);return n&&oe.findOne(n)?n:null},getElementFromSelector(u){const n=bu(u);return n?oe.findOne(n):null},getMultipleElementsFromSelector(u){const n=bu(u);return n?oe.find(n):[]}},Ma=(u,n="hide")=>{const s=`click.dismiss${u.EVENT_KEY}`,f=u.NAME;U.on(document,s,`[data-bs-dismiss="${f}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),ts(this))return;const w=oe.getElementFromSelector(this)||this.closest(`.${f}`);u.getOrCreateInstance(w)[n]()})},Qb="alert",Xb="bs.alert",pp=`.${Xb}`,Jb=`close${pp}`,Zb=`closed${pp}`,e0="fade",t0="show";class Fa extends Fn{static get NAME(){return Qb}close(){if(U.trigger(this._element,Jb).defaultPrevented)return;this._element.classList.remove(t0);const s=this._element.classList.contains(e0);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),U.trigger(this._element,Zb),this.dispose()}static jQueryInterface(n){return this.each(function(){const s=Fa.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ma(Fa,"close");Cn(Fa);const n0="button",i0="bs.button",s0=`.${i0}`,r0=".data-api",o0="active",rf='[data-bs-toggle="button"]',a0=`click${s0}${r0}`;class qa extends Fn{static get NAME(){return n0}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(o0))}static jQueryInterface(n){return this.each(function(){const s=qa.getOrCreateInstance(this);n==="toggle"&&s[n]()})}}U.on(document,a0,rf,u=>{u.preventDefault();const n=u.target.closest(rf);qa.getOrCreateInstance(n).toggle()});Cn(qa);const l0="swipe",Tr=".bs.swipe",u0=`touchstart${Tr}`,c0=`touchmove${Tr}`,d0=`touchend${Tr}`,f0=`pointerdown${Tr}`,p0=`pointerup${Tr}`,h0="touch",_0="pen",v0="pointer-event",m0=40,g0={endCallback:null,leftCallback:null,rightCallback:null},y0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ka extends bo{constructor(n,s){super(),this._element=n,!(!n||!ka.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return g0}static get DefaultType(){return y0}static get NAME(){return l0}dispose(){U.off(this._element,Tr)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),en(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=m0)return;const s=n/this._deltaX;this._deltaX=0,s&&en(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(U.on(this._element,f0,n=>this._start(n)),U.on(this._element,p0,n=>this._end(n)),this._element.classList.add(v0)):(U.on(this._element,u0,n=>this._start(n)),U.on(this._element,c0,n=>this._move(n)),U.on(this._element,d0,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===_0||n.pointerType===h0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const b0="carousel",w0="bs.carousel",ss=`.${w0}`,hp=".data-api",E0="ArrowLeft",x0="ArrowRight",A0=500,co="next",cr="prev",pr="left",Oa="right",T0=`slide${ss}`,wu=`slid${ss}`,C0=`keydown${ss}`,S0=`mouseenter${ss}`,O0=`mouseleave${ss}`,I0=`dragstart${ss}`,D0=`load${ss}${hp}`,N0=`click${ss}${hp}`,_p="carousel",wa="active",k0="slide",L0="carousel-item-end",$0="carousel-item-start",R0="carousel-item-next",P0="carousel-item-prev",vp=".active",mp=".carousel-item",M0=vp+mp,F0=".carousel-item img",q0=".carousel-indicators",B0="[data-bs-slide], [data-bs-slide-to]",U0='[data-bs-ride="carousel"]',W0={[E0]:Oa,[x0]:pr},H0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},V0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class wo extends Fn{constructor(n,s){super(n,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=oe.findOne(q0,this._element),this._addEventListeners(),this._config.ride===_p&&this.cycle()}static get Default(){return H0}static get DefaultType(){return V0}static get NAME(){return b0}next(){this._slide(co)}nextWhenVisible(){!document.hidden&&Ar(this._element)&&this.next()}prev(){this._slide(cr)}pause(){this._isSliding&&ip(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){U.one(this._element,wu,()=>this.cycle());return}this.cycle()}}to(n){const s=this._getItems();if(n>s.length-1||n<0)return;if(this._isSliding){U.one(this._element,wu,()=>this.to(n));return}const f=this._getItemIndex(this._getActive());if(f===n)return;const v=n>f?co:cr;this._slide(v,s[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&U.on(this._element,C0,n=>this._keydown(n)),this._config.pause==="hover"&&(U.on(this._element,S0,()=>this.pause()),U.on(this._element,O0,()=>this._maybeEnableCycle())),this._config.touch&&ka.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of oe.find(F0,this._element))U.on(f,I0,v=>v.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(pr)),rightCallback:()=>this._slide(this._directionToOrder(Oa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),A0+this._config.interval))}};this._swipeHelper=new ka(this._element,s)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const s=W0[n.key];s&&(n.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const s=oe.findOne(vp,this._indicatorsElement);s.classList.remove(wa),s.removeAttribute("aria-current");const f=oe.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);f&&(f.classList.add(wa),f.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const s=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(n,s=null){if(this._isSliding)return;const f=this._getActive(),v=n===co,w=s||Ju(this._getItems(),f,v,this._config.wrap);if(w===f)return;const y=this._getItemIndex(w),C=j=>U.trigger(this._element,j,{relatedTarget:w,direction:this._orderToDirection(n),from:this._getItemIndex(f),to:y});if(C(T0).defaultPrevented||!f||!w)return;const W=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(y),this._activeElement=w;const $=v?$0:L0,z=v?R0:P0;w.classList.add(z),yo(w),f.classList.add($),w.classList.add($);const te=()=>{w.classList.remove($,z),w.classList.add(wa),f.classList.remove(wa,z,$),this._isSliding=!1,C(wu)};this._queueCallback(te,f,this._isAnimated()),W&&this.cycle()}_isAnimated(){return this._element.classList.contains(k0)}_getActive(){return oe.findOne(M0,this._element)}_getItems(){return oe.find(mp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return An()?n===pr?cr:co:n===pr?co:cr}_orderToDirection(n){return An()?n===cr?pr:Oa:n===cr?Oa:pr}static jQueryInterface(n){return this.each(function(){const s=wo.getOrCreateInstance(this,n);if(typeof n=="number"){s.to(n);return}if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}U.on(document,N0,B0,function(u){const n=oe.getElementFromSelector(this);if(!n||!n.classList.contains(_p))return;u.preventDefault();const s=wo.getOrCreateInstance(n),f=this.getAttribute("data-bs-slide-to");if(f){s.to(f),s._maybeEnableCycle();return}if(Ci.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});U.on(window,D0,()=>{const u=oe.find(U0);for(const n of u)wo.getOrCreateInstance(n)});Cn(wo);const z0="collapse",K0="bs.collapse",Eo=`.${K0}`,Y0=".data-api",G0=`show${Eo}`,j0=`shown${Eo}`,Q0=`hide${Eo}`,X0=`hidden${Eo}`,J0=`click${Eo}${Y0}`,Eu="show",_r="collapse",Ea="collapsing",Z0="collapsed",e1=`:scope .${_r} .${_r}`,t1="collapse-horizontal",n1="width",i1="height",s1=".collapse.show, .collapse.collapsing",Mu='[data-bs-toggle="collapse"]',r1={parent:null,toggle:!0},o1={parent:"(null|element)",toggle:"boolean"};class mo extends Fn{constructor(n,s){super(n,s),this._isTransitioning=!1,this._triggerArray=[];const f=oe.find(Mu);for(const v of f){const w=oe.getSelectorFromElement(v),y=oe.find(w).filter(C=>C===this._element);w!==null&&y.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return r1}static get DefaultType(){return o1}static get NAME(){return z0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(s1).filter(C=>C!==this._element).map(C=>mo.getOrCreateInstance(C,{toggle:!1}))),n.length&&n[0]._isTransitioning||U.trigger(this._element,G0).defaultPrevented)return;for(const C of n)C.hide();const f=this._getDimension();this._element.classList.remove(_r),this._element.classList.add(Ea),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(Ea),this._element.classList.add(_r,Eu),this._element.style[f]="",U.trigger(this._element,j0)},y=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(v,this._element,!0),this._element.style[f]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||U.trigger(this._element,Q0).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,yo(this._element),this._element.classList.add(Ea),this._element.classList.remove(_r,Eu);for(const v of this._triggerArray){const w=oe.getElementFromSelector(v);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(Ea),this._element.classList.add(_r),U.trigger(this._element,X0)};this._element.style[s]="",this._queueCallback(f,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Eu)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=es(n.parent),n}_getDimension(){return this._element.classList.contains(t1)?n1:i1}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Mu);for(const s of n){const f=oe.getElementFromSelector(s);f&&this._addAriaAndCollapsedClass([s],this._isShown(f))}}_getFirstLevelChildren(n){const s=oe.find(e1,this._config.parent);return oe.find(n,this._config.parent).filter(f=>!s.includes(f))}_addAriaAndCollapsedClass(n,s){if(n.length)for(const f of n)f.classList.toggle(Z0,!s),f.setAttribute("aria-expanded",s)}static jQueryInterface(n){const s={};return typeof n=="string"&&/show|hide/.test(n)&&(s.toggle=!1),this.each(function(){const f=mo.getOrCreateInstance(this,s);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n]()}})}}U.on(document,J0,Mu,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const n of oe.getMultipleElementsFromSelector(this))mo.getOrCreateInstance(n,{toggle:!1}).toggle()});Cn(mo);const of="dropdown",a1="bs.dropdown",Ls=`.${a1}`,ec=".data-api",l1="Escape",af="Tab",u1="ArrowUp",lf="ArrowDown",c1=2,d1=`hide${Ls}`,f1=`hidden${Ls}`,p1=`show${Ls}`,h1=`shown${Ls}`,gp=`click${Ls}${ec}`,yp=`keydown${Ls}${ec}`,_1=`keyup${Ls}${ec}`,hr="show",v1="dropup",m1="dropend",g1="dropstart",y1="dropup-center",b1="dropdown-center",Os='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',w1=`${Os}.${hr}`,Ia=".dropdown-menu",E1=".navbar",x1=".navbar-nav",A1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",T1=An()?"top-end":"top-start",C1=An()?"top-start":"top-end",S1=An()?"bottom-end":"bottom-start",O1=An()?"bottom-start":"bottom-end",I1=An()?"left-start":"right-start",D1=An()?"right-start":"left-start",N1="top",k1="bottom",L1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class oi extends Fn{constructor(n,s){super(n,s),this._popper=null,this._parent=this._element.parentNode,this._menu=oe.next(this._element,Ia)[0]||oe.prev(this._element,Ia)[0]||oe.findOne(Ia,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return L1}static get DefaultType(){return $1}static get NAME(){return of}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ts(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!U.trigger(this._element,p1,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(x1))for(const f of[].concat(...document.body.children))U.on(f,"mouseover",Na);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(hr),this._element.classList.add(hr),U.trigger(this._element,h1,n)}}hide(){if(ts(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!U.trigger(this._element,d1,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))U.off(f,"mouseover",Na);this._popper&&this._popper.destroy(),this._menu.classList.remove(hr),this._element.classList.remove(hr),this._element.setAttribute("aria-expanded","false"),Ci.removeDataAttribute(this._menu,"popper"),U.trigger(this._element,f1,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!Ti(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${of.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof tp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:Ti(this._config.reference)?n=es(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const s=this._getPopperConfig();this._popper=Xu(n,this._menu,s)}_isShown(){return this._menu.classList.contains(hr)}_getPlacement(){const n=this._parent;if(n.classList.contains(m1))return I1;if(n.classList.contains(g1))return D1;if(n.classList.contains(y1))return N1;if(n.classList.contains(b1))return k1;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(v1)?s?C1:T1:s?O1:S1}_detectNavbar(){return this._element.closest(E1)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ci.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...en(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:s}){const f=oe.find(A1,this._menu).filter(v=>Ar(v));f.length&&Ju(f,s,n===lf,!f.includes(s)).focus()}static jQueryInterface(n){return this.each(function(){const s=oi.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}static clearMenus(n){if(n.button===c1||n.type==="keyup"&&n.key!==af)return;const s=oe.find(w1);for(const f of s){const v=oi.getInstance(f);if(!v||v._config.autoClose===!1)continue;const w=n.composedPath(),y=w.includes(v._menu);if(w.includes(v._element)||v._config.autoClose==="inside"&&!y||v._config.autoClose==="outside"&&y||v._menu.contains(n.target)&&(n.type==="keyup"&&n.key===af||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const C={relatedTarget:v._element};n.type==="click"&&(C.clickEvent=n),v._completeHide(C)}}static dataApiKeydownHandler(n){const s=/input|textarea/i.test(n.target.tagName),f=n.key===l1,v=[u1,lf].includes(n.key);if(!v&&!f||s&&!f)return;n.preventDefault();const w=this.matches(Os)?this:oe.prev(this,Os)[0]||oe.next(this,Os)[0]||oe.findOne(Os,n.delegateTarget.parentNode),y=oi.getOrCreateInstance(w);if(v){n.stopPropagation(),y.show(),y._selectMenuItem(n);return}y._isShown()&&(n.stopPropagation(),y.hide(),w.focus())}}U.on(document,yp,Os,oi.dataApiKeydownHandler);U.on(document,yp,Ia,oi.dataApiKeydownHandler);U.on(document,gp,oi.clearMenus);U.on(document,_1,oi.clearMenus);U.on(document,gp,Os,function(u){u.preventDefault(),oi.getOrCreateInstance(this).toggle()});Cn(oi);const bp="backdrop",R1="fade",uf="show",cf=`mousedown.bs.${bp}`,P1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},M1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wp extends bo{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return P1}static get DefaultType(){return M1}static get NAME(){return bp}show(n){if(!this._config.isVisible){en(n);return}this._append();const s=this._getElement();this._config.isAnimated&&yo(s),s.classList.add(uf),this._emulateAnimation(()=>{en(n)})}hide(n){if(!this._config.isVisible){en(n);return}this._getElement().classList.remove(uf),this._emulateAnimation(()=>{this.dispose(),en(n)})}dispose(){this._isAppended&&(U.off(this._element,cf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(R1),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=es(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),U.on(n,cf,()=>{en(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){op(n,this._getElement(),this._config.isAnimated)}}const F1="focustrap",q1="bs.focustrap",La=`.${q1}`,B1=`focusin${La}`,U1=`keydown.tab${La}`,W1="Tab",H1="forward",df="backward",V1={autofocus:!0,trapElement:null},z1={autofocus:"boolean",trapElement:"element"};class Ep extends bo{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return V1}static get DefaultType(){return z1}static get NAME(){return F1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),U.off(document,La),U.on(document,B1,n=>this._handleFocusin(n)),U.on(document,U1,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,U.off(document,La))}_handleFocusin(n){const{trapElement:s}=this._config;if(n.target===document||n.target===s||s.contains(n.target))return;const f=oe.focusableChildren(s);f.length===0?s.focus():this._lastTabNavDirection===df?f[f.length-1].focus():f[0].focus()}_handleKeydown(n){n.key===W1&&(this._lastTabNavDirection=n.shiftKey?df:H1)}}const ff=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pf=".sticky-top",xa="padding-right",hf="margin-right";class Fu{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xa,s=>s+n),this._setElementAttributes(ff,xa,s=>s+n),this._setElementAttributes(pf,hf,s=>s-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xa),this._resetElementAttributes(ff,xa),this._resetElementAttributes(pf,hf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,s,f){const v=this.getWidth(),w=y=>{if(y!==this._element&&window.innerWidth>y.clientWidth+v)return;this._saveInitialAttribute(y,s);const C=window.getComputedStyle(y).getPropertyValue(s);y.style.setProperty(s,`${f(Number.parseFloat(C))}px`)};this._applyManipulationCallback(n,w)}_saveInitialAttribute(n,s){const f=n.style.getPropertyValue(s);f&&Ci.setDataAttribute(n,s,f)}_resetElementAttributes(n,s){const f=v=>{const w=Ci.getDataAttribute(v,s);if(w===null){v.style.removeProperty(s);return}Ci.removeDataAttribute(v,s),v.style.setProperty(s,w)};this._applyManipulationCallback(n,f)}_applyManipulationCallback(n,s){if(Ti(n)){s(n);return}for(const f of oe.find(n,this._element))s(f)}}const K1="modal",Y1="bs.modal",Tn=`.${Y1}`,G1=".data-api",j1="Escape",Q1=`hide${Tn}`,X1=`hidePrevented${Tn}`,xp=`hidden${Tn}`,Ap=`show${Tn}`,J1=`shown${Tn}`,Z1=`resize${Tn}`,ew=`click.dismiss${Tn}`,tw=`mousedown.dismiss${Tn}`,nw=`keydown.dismiss${Tn}`,iw=`click${Tn}${G1}`,_f="modal-open",sw="fade",vf="show",xu="modal-static",rw=".modal.show",ow=".modal-dialog",aw=".modal-body",lw='[data-bs-toggle="modal"]',uw={backdrop:!0,focus:!0,keyboard:!0},cw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class wr extends Fn{constructor(n,s){super(n,s),this._dialog=oe.findOne(ow,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fu,this._addEventListeners()}static get Default(){return uw}static get DefaultType(){return cw}static get NAME(){return K1}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||U.trigger(this._element,Ap,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_f),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||U.trigger(this._element,Q1).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(vf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){U.off(window,Tn),U.off(this._dialog,Tn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ep({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=oe.findOne(aw,this._dialog);s&&(s.scrollTop=0),yo(this._element),this._element.classList.add(vf);const f=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,U.trigger(this._element,J1,{relatedTarget:n})};this._queueCallback(f,this._dialog,this._isAnimated())}_addEventListeners(){U.on(this._element,nw,n=>{if(n.key===j1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),U.on(window,Z1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),U.on(this._element,tw,n=>{U.one(this._element,ew,s=>{if(!(this._element!==n.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_f),this._resetAdjustments(),this._scrollBar.reset(),U.trigger(this._element,xp)})}_isAnimated(){return this._element.classList.contains(sw)}_triggerBackdropTransition(){if(U.trigger(this._element,X1).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(xu)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(xu),this._queueCallback(()=>{this._element.classList.remove(xu),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),f=s>0;if(f&&!n){const v=An()?"paddingLeft":"paddingRight";this._element.style[v]=`${s}px`}if(!f&&n){const v=An()?"paddingRight":"paddingLeft";this._element.style[v]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,s){return this.each(function(){const f=wr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n](s)}})}}U.on(document,iw,lw,function(u){const n=oe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),U.one(n,Ap,v=>{v.defaultPrevented||U.one(n,xp,()=>{Ar(this)&&this.focus()})});const s=oe.findOne(rw);s&&wr.getInstance(s).hide(),wr.getOrCreateInstance(n).toggle(this)});Ma(wr);Cn(wr);const dw="offcanvas",fw="bs.offcanvas",Oi=`.${fw}`,Tp=".data-api",pw=`load${Oi}${Tp}`,hw="Escape",mf="show",gf="showing",yf="hiding",_w="offcanvas-backdrop",Cp=".offcanvas.show",vw=`show${Oi}`,mw=`shown${Oi}`,gw=`hide${Oi}`,bf=`hidePrevented${Oi}`,Sp=`hidden${Oi}`,yw=`resize${Oi}`,bw=`click${Oi}${Tp}`,ww=`keydown.dismiss${Oi}`,Ew='[data-bs-toggle="offcanvas"]',xw={backdrop:!0,keyboard:!0,scroll:!1},Aw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ns extends Fn{constructor(n,s){super(n,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xw}static get DefaultType(){return Aw}static get NAME(){return dw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||U.trigger(this._element,vw,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(gf);const f=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(mf),this._element.classList.remove(gf),U.trigger(this._element,mw,{relatedTarget:n})};this._queueCallback(f,this._element,!0)}hide(){if(!this._isShown||U.trigger(this._element,gw).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(yf),this._backdrop.hide();const s=()=>{this._element.classList.remove(mf,yf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fu().reset(),U.trigger(this._element,Sp)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){U.trigger(this._element,bf);return}this.hide()},s=!!this._config.backdrop;return new wp({className:_w,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?n:null})}_initializeFocusTrap(){return new Ep({trapElement:this._element})}_addEventListeners(){U.on(this._element,ww,n=>{if(n.key===hw){if(this._config.keyboard){this.hide();return}U.trigger(this._element,bf)}})}static jQueryInterface(n){return this.each(function(){const s=ns.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}U.on(document,bw,Ew,function(u){const n=oe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),ts(this))return;U.one(n,Sp,()=>{Ar(this)&&this.focus()});const s=oe.findOne(Cp);s&&s!==n&&ns.getInstance(s).hide(),ns.getOrCreateInstance(n).toggle(this)});U.on(window,pw,()=>{for(const u of oe.find(Cp))ns.getOrCreateInstance(u).show()});U.on(window,yw,()=>{for(const u of oe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&ns.getOrCreateInstance(u).hide()});Ma(ns);Cn(ns);const Tw=/^aria-[\w-]*$/i,Op={"*":["class","dir","id","lang","role",Tw],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Cw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Sw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ow=(u,n)=>{const s=u.nodeName.toLowerCase();return n.includes(s)?Cw.has(s)?!!Sw.test(u.nodeValue):!0:n.filter(f=>f instanceof RegExp).some(f=>f.test(s))};function Iw(u,n,s){if(!u.length)return u;if(s&&typeof s=="function")return s(u);const v=new window.DOMParser().parseFromString(u,"text/html"),w=[].concat(...v.body.querySelectorAll("*"));for(const y of w){const C=y.nodeName.toLowerCase();if(!Object.keys(n).includes(C)){y.remove();continue}const A=[].concat(...y.attributes),W=[].concat(n["*"]||[],n[C]||[]);for(const $ of A)Ow($,W)||y.removeAttribute($.nodeName)}return v.body.innerHTML}const Dw="TemplateFactory",Nw={allowList:Op,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Lw={entry:"(string|element|function|null)",selector:"(string|element)"};class $w extends bo{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Nw}static get DefaultType(){return kw}static get NAME(){return Dw}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[v,w]of Object.entries(this._config.content))this._setContent(n,w,v);const s=n.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&s.classList.add(...f.split(" ")),s}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[s,f]of Object.entries(n))super._typeCheckConfig({selector:s,entry:f},Lw)}_setContent(n,s,f){const v=oe.findOne(f,n);if(v){if(s=this._resolvePossibleFunction(s),!s){v.remove();return}if(Ti(s)){this._putElementInTemplate(es(s),v);return}if(this._config.html){v.innerHTML=this._maybeSanitize(s);return}v.textContent=s}}_maybeSanitize(n){return this._config.sanitize?Iw(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return en(n,[void 0,this])}_putElementInTemplate(n,s){if(this._config.html){s.innerHTML="",s.append(n);return}s.textContent=n.textContent}}const Rw="tooltip",Pw=new Set(["sanitize","allowList","sanitizeFn"]),Au="fade",Mw="modal",Aa="show",Fw=".tooltip-inner",wf=`.${Mw}`,Ef="hide.bs.modal",fo="hover",Tu="focus",Cu="click",qw="manual",Bw="hide",Uw="hidden",Ww="show",Hw="shown",Vw="inserted",zw="click",Kw="focusin",Yw="focusout",Gw="mouseenter",jw="mouseleave",Qw={AUTO:"auto",TOP:"top",RIGHT:An()?"left":"right",BOTTOM:"bottom",LEFT:An()?"right":"left"},Xw={allowList:Op,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Cr extends Fn{constructor(n,s){if(typeof tp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xw}static get DefaultType(){return Jw}static get NAME(){return Rw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),U.off(this._element.closest(wf),Ef,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=U.trigger(this._element,this.constructor.eventName(Ww)),f=(sp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!f)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(v),U.trigger(this._element,this.constructor.eventName(Vw))),this._popper=this._createPopper(v),v.classList.add(Aa),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))U.on(C,"mouseover",Na);const y=()=>{U.trigger(this._element,this.constructor.eventName(Hw)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(y,this.tip,this._isAnimated())}hide(){if(!this._isShown()||U.trigger(this._element,this.constructor.eventName(Bw)).defaultPrevented)return;if(this._getTipElement().classList.remove(Aa),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))U.off(v,"mouseover",Na);this._activeTrigger[Cu]=!1,this._activeTrigger[Tu]=!1,this._activeTrigger[fo]=!1,this._isHovered=null;const f=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),U.trigger(this._element,this.constructor.eventName(Uw)))};this._queueCallback(f,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const s=this._getTemplateFactory(n).toHtml();if(!s)return null;s.classList.remove(Au,Aa),s.classList.add(`bs-${this.constructor.NAME}-auto`);const f=qb(this.constructor.NAME).toString();return s.setAttribute("id",f),this._isAnimated()&&s.classList.add(Au),s}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new $w({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Fw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Au)}_isShown(){return this.tip&&this.tip.classList.contains(Aa)}_createPopper(n){const s=en(this._config.placement,[this,n,this._element]),f=Qw[s.toUpperCase()];return Xu(this._element,n,this._getPopperConfig(f))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(s=>Number.parseInt(s,10)):typeof n=="function"?s=>n(s,this._element):n}_resolvePossibleFunction(n){return en(n,[this._element,this._element])}_getPopperConfig(n){const s={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...s,...en(this._config.popperConfig,[void 0,s])}}_setListeners(){const n=this._config.trigger.split(" ");for(const s of n)if(s==="click")U.on(this._element,this.constructor.eventName(zw),this._config.selector,f=>{const v=this._initializeOnDelegatedTarget(f);v._activeTrigger[Cu]=!(v._isShown()&&v._activeTrigger[Cu]),v.toggle()});else if(s!==qw){const f=s===fo?this.constructor.eventName(Gw):this.constructor.eventName(Kw),v=s===fo?this.constructor.eventName(jw):this.constructor.eventName(Yw);U.on(this._element,f,this._config.selector,w=>{const y=this._initializeOnDelegatedTarget(w);y._activeTrigger[w.type==="focusin"?Tu:fo]=!0,y._enter()}),U.on(this._element,v,this._config.selector,w=>{const y=this._initializeOnDelegatedTarget(w);y._activeTrigger[w.type==="focusout"?Tu:fo]=y._element.contains(w.relatedTarget),y._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},U.on(this._element.closest(wf),Ef,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,s){clearTimeout(this._timeout),this._timeout=setTimeout(n,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const s=Ci.getDataAttributes(this._element);for(const f of Object.keys(s))Pw.has(f)&&delete s[f];return n={...s,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:es(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[s,f]of Object.entries(this._config))this.constructor.Default[s]!==f&&(n[s]=f);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const s=Cr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Cn(Cr);const Zw="popover",eE=".popover-header",tE=".popover-body",nE={...Cr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},iE={...Cr.DefaultType,content:"(null|string|element|function)"};class Ba extends Cr{static get Default(){return nE}static get DefaultType(){return iE}static get NAME(){return Zw}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[eE]:this._getTitle(),[tE]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const s=Ba.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n]()}})}}Cn(Ba);const sE="scrollspy",rE="bs.scrollspy",tc=`.${rE}`,oE=".data-api",aE=`activate${tc}`,xf=`click${tc}`,lE=`load${tc}${oE}`,uE="dropdown-item",dr="active",cE='[data-bs-spy="scroll"]',Su="[href]",dE=".nav, .list-group",Af=".nav-link",fE=".nav-item",pE=".list-group-item",hE=`${Af}, ${fE} > ${Af}, ${pE}`,_E=".dropdown",vE=".dropdown-toggle",mE={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gE={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ua extends Fn{constructor(n,s){super(n,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mE}static get DefaultType(){return gE}static get NAME(){return sE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=es(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(s=>Number.parseFloat(s))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(U.off(this._config.target,xf),U.on(this._config.target,xf,Su,n=>{const s=this._observableSections.get(n.target.hash);if(s){n.preventDefault();const f=this._rootElement||window,v=s.offsetTop-this._element.offsetTop;if(f.scrollTo){f.scrollTo({top:v,behavior:"smooth"});return}f.scrollTop=v}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),n)}_observerCallback(n){const s=y=>this._targetLinks.get(`#${y.target.id}`),f=y=>{this._previousScrollData.visibleEntryTop=y.target.offsetTop,this._process(s(y))},v=(this._rootElement||document.documentElement).scrollTop,w=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const y of n){if(!y.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(y));continue}const C=y.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&C){if(f(y),!v)return;continue}!w&&!C&&f(y)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=oe.find(Su,this._config.target);for(const s of n){if(!s.hash||ts(s))continue;const f=oe.findOne(decodeURI(s.hash),this._element);Ar(f)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,f))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(dr),this._activateParents(n),U.trigger(this._element,aE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(uE)){oe.findOne(vE,n.closest(_E)).classList.add(dr);return}for(const s of oe.parents(n,dE))for(const f of oe.prev(s,hE))f.classList.add(dr)}_clearActiveClass(n){n.classList.remove(dr);const s=oe.find(`${Su}.${dr}`,n);for(const f of s)f.classList.remove(dr)}static jQueryInterface(n){return this.each(function(){const s=Ua.getOrCreateInstance(this,n);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}U.on(window,lE,()=>{for(const u of oe.find(cE))Ua.getOrCreateInstance(u)});Cn(Ua);const yE="tab",bE="bs.tab",$s=`.${bE}`,wE=`hide${$s}`,EE=`hidden${$s}`,xE=`show${$s}`,AE=`shown${$s}`,TE=`click${$s}`,CE=`keydown${$s}`,SE=`load${$s}`,OE="ArrowLeft",Tf="ArrowRight",IE="ArrowUp",Cf="ArrowDown",Ou="Home",Sf="End",Is="active",Of="fade",Iu="show",DE="dropdown",Ip=".dropdown-toggle",NE=".dropdown-menu",Du=`:not(${Ip})`,kE='.list-group, .nav, [role="tablist"]',LE=".nav-item, .list-group-item",$E=`.nav-link${Du}, .list-group-item${Du}, [role="tab"]${Du}`,Dp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Nu=`${$E}, ${Dp}`,RE=`.${Is}[data-bs-toggle="tab"], .${Is}[data-bs-toggle="pill"], .${Is}[data-bs-toggle="list"]`;class Er extends Fn{constructor(n){super(n),this._parent=this._element.closest(kE),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),U.on(this._element,CE,s=>this._keydown(s)))}static get NAME(){return yE}show(){const n=this._element;if(this._elemIsActive(n))return;const s=this._getActiveElem(),f=s?U.trigger(s,wE,{relatedTarget:n}):null;U.trigger(n,xE,{relatedTarget:s}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(s,n),this._activate(n,s))}_activate(n,s){if(!n)return;n.classList.add(Is),this._activate(oe.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Iu);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),U.trigger(n,AE,{relatedTarget:s})};this._queueCallback(f,n,n.classList.contains(Of))}_deactivate(n,s){if(!n)return;n.classList.remove(Is),n.blur(),this._deactivate(oe.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Iu);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),U.trigger(n,EE,{relatedTarget:s})};this._queueCallback(f,n,n.classList.contains(Of))}_keydown(n){if(![OE,Tf,IE,Cf,Ou,Sf].includes(n.key))return;n.stopPropagation(),n.preventDefault();const s=this._getChildren().filter(v=>!ts(v));let f;if([Ou,Sf].includes(n.key))f=s[n.key===Ou?0:s.length-1];else{const v=[Tf,Cf].includes(n.key);f=Ju(s,n.target,v,!0)}f&&(f.focus({preventScroll:!0}),Er.getOrCreateInstance(f).show())}_getChildren(){return oe.find(Nu,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,s){this._setAttributeIfNotExists(n,"role","tablist");for(const f of s)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const s=this._elemIsActive(n),f=this._getOuterElement(n);n.setAttribute("aria-selected",s),f!==n&&this._setAttributeIfNotExists(f,"role","presentation"),s||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const s=oe.getElementFromSelector(n);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,s){const f=this._getOuterElement(n);if(!f.classList.contains(DE))return;const v=(w,y)=>{const C=oe.findOne(w,f);C&&C.classList.toggle(y,s)};v(Ip,Is),v(NE,Iu),f.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(n,s,f){n.hasAttribute(s)||n.setAttribute(s,f)}_elemIsActive(n){return n.classList.contains(Is)}_getInnerElement(n){return n.matches(Nu)?n:oe.findOne(Nu,n)}_getOuterElement(n){return n.closest(LE)||n}static jQueryInterface(n){return this.each(function(){const s=Er.getOrCreateInstance(this);if(typeof n=="string"){if(s[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);s[n]()}})}}U.on(document,TE,Dp,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),!ts(this)&&Er.getOrCreateInstance(this).show()});U.on(window,SE,()=>{for(const u of oe.find(RE))Er.getOrCreateInstance(u)});Cn(Er);const PE="toast",ME="bs.toast",rs=`.${ME}`,FE=`mouseover${rs}`,qE=`mouseout${rs}`,BE=`focusin${rs}`,UE=`focusout${rs}`,WE=`hide${rs}`,HE=`hidden${rs}`,VE=`show${rs}`,zE=`shown${rs}`,KE="fade",If="hide",Ta="show",Ca="showing",YE={animation:"boolean",autohide:"boolean",delay:"number"},GE={animation:!0,autohide:!0,delay:5e3};class Wa extends Fn{constructor(n,s){super(n,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return GE}static get DefaultType(){return YE}static get NAME(){return PE}show(){if(U.trigger(this._element,VE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(KE);const s=()=>{this._element.classList.remove(Ca),U.trigger(this._element,zE),this._maybeScheduleHide()};this._element.classList.remove(If),yo(this._element),this._element.classList.add(Ta,Ca),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||U.trigger(this._element,WE).defaultPrevented)return;const s=()=>{this._element.classList.add(If),this._element.classList.remove(Ca,Ta),U.trigger(this._element,HE)};this._element.classList.add(Ca),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ta),super.dispose()}isShown(){return this._element.classList.contains(Ta)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,s){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const f=n.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){U.on(this._element,FE,n=>this._onInteraction(n,!0)),U.on(this._element,qE,n=>this._onInteraction(n,!1)),U.on(this._element,BE,n=>this._onInteraction(n,!0)),U.on(this._element,UE,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const s=Wa.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof s[n]>"u")throw new TypeError(`No method named "${n}"`);s[n](this)}})}}Ma(Wa);Cn(Wa);var po={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var jE=po.exports,Df;function QE(){return Df||(Df=1,(function(u,n){(function(){var s,f="4.17.21",v=200,w="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",C="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",W=500,$="__lodash_placeholder__",z=1,te=2,j=4,ne=1,ie=2,Z=1,L=2,Y=4,se=8,F=16,B=32,J=64,fe=128,ke=256,Le=512,_e=30,ze="...",pt=800,Ge=16,Ct=1,Ht=2,gt=3,Je=1/0,Lt=9007199254740991,Sn=17976931348623157e292,On=NaN,St=4294967295,li=St-1,Ii=St>>>1,In=[["ary",fe],["bind",Z],["bindKey",L],["curry",se],["curryRight",F],["flip",Le],["partial",B],["partialRight",J],["rearg",ke]],yt="[object Arguments]",nt="[object Array]",Di="[object AsyncFunction]",ht="[object Boolean]",Dn="[object Date]",Rs="[object DOMException]",Nn="[object Error]",Vt="[object Function]",Me="[object GeneratorFunction]",We="[object Map]",bt="[object Number]",zt="[object Null]",Kt="[object Object]",qn="[object Promise]",Sr="[object Proxy]",je="[object RegExp]",_t="[object Set]",Bn="[object String]",tn="[object Symbol]",_n="[object Undefined]",it="[object WeakMap]",Ps="[object WeakSet]",Un="[object ArrayBuffer]",He="[object DataView]",Ms="[object Float32Array]",os="[object Float64Array]",Or="[object Int8Array]",Wn="[object Int16Array]",Ir="[object Int32Array]",Fs="[object Uint8Array]",Dr="[object Uint8ClampedArray]",as="[object Uint16Array]",H="[object Uint32Array]",Ha=/\b__p \+= '';/g,Nr=/\b(__p \+=) '' \+/g,Va=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xo=/&(?:amp|lt|gt|quot|#39);/g,$t=/[&<>"']/g,ui=RegExp(xo.source),ci=RegExp($t.source),Ao=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,st=/<%=([\s\S]+?)%>/g,kr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hn=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nn=/[\\^$.*+?()[\]{}|]/g,za=RegExp(nn.source),Ni=/^\s+/,Ka=/\s/,Ya=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wt=/\{\n\/\* \[wrapped with (.+)\] \*/,Lr=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,$r=/\\(\\)?/g,ki=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ls=/\w*$/,Rr=/^[-+]0x[0-9a-f]+$/i,Ga=/^0b[01]+$/i,To=/^\[object .+?Constructor\]$/,Co=/^0o[0-7]+$/i,ja=/^(?:0|[1-9]\d*)$/,Qa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Li=/['\n\r\u2028\u2029\\]/g,us="\\ud800-\\udfff",ut="\\u0300-\\u036f",cs="\\ufe20-\\ufe2f",Xa="\\u20d0-\\u20ff",So=ut+cs+Xa,Pr="\\u2700-\\u27bf",zn="a-z\\xdf-\\xf6\\xf8-\\xff",Ja="\\xac\\xb1\\xd7\\xf7",ds="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qs="\\u2000-\\u206f",Za=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ln="A-Z\\xc0-\\xd6\\xd8-\\xde",Yt="\\ufe0e\\ufe0f",sn=Ja+ds+qs+Za,$i="['’]",Bs="["+us+"]",fs="["+sn+"]",Us="["+So+"]",Oo="\\d+",el="["+Pr+"]",rn="["+zn+"]",Mr="[^"+us+sn+Oo+Pr+zn+Ln+"]",Fr="\\ud83c[\\udffb-\\udfff]",Io="(?:"+Us+"|"+Fr+")",ps="[^"+us+"]",qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="["+Ln+"]",Ws="\\u200d",Do="(?:"+rn+"|"+Mr+")",Hs="(?:"+Kn+"|"+Mr+")",hs="(?:"+$i+"(?:d|ll|m|re|s|t|ve))?",Vs="(?:"+$i+"(?:D|LL|M|RE|S|T|VE))?",zs=Io+"?",_s="["+Yt+"]?",Ks="(?:"+Ws+"(?:"+[ps,qr,Ri].join("|")+")"+_s+zs+")*",Fe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",No=_s+zs+Ks,nl="(?:"+[el,qr,Ri].join("|")+")"+No,il="(?:"+[ps+Us+"?",Us,qr,Ri,Bs].join("|")+")",sl=RegExp($i,"g"),di=RegExp(Us,"g"),Br=RegExp(Fr+"(?="+Fr+")|"+il+No,"g"),rl=RegExp([Kn+"?"+rn+"+"+hs+"(?="+[fs,Kn,"$"].join("|")+")",Hs+"+"+Vs+"(?="+[fs,Kn+Do,"$"].join("|")+")",Kn+"?"+Do+"+"+hs,Kn+"+"+Vs,tl,Fe,Oo,nl].join("|"),"g"),fi=RegExp("["+Ws+us+So+Yt+"]"),Pi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ol=-1,Be={};Be[Ms]=Be[os]=Be[Or]=Be[Wn]=Be[Ir]=Be[Fs]=Be[Dr]=Be[as]=Be[H]=!0,Be[yt]=Be[nt]=Be[Un]=Be[ht]=Be[He]=Be[Dn]=Be[Nn]=Be[Vt]=Be[We]=Be[bt]=Be[Kt]=Be[je]=Be[_t]=Be[Bn]=Be[it]=!1;var Re={};Re[yt]=Re[nt]=Re[Un]=Re[He]=Re[ht]=Re[Dn]=Re[Ms]=Re[os]=Re[Or]=Re[Wn]=Re[Ir]=Re[We]=Re[bt]=Re[Kt]=Re[je]=Re[_t]=Re[Bn]=Re[tn]=Re[Fs]=Re[Dr]=Re[as]=Re[H]=!0,Re[Nn]=Re[Vt]=Re[it]=!1;var al={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ll={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=parseFloat,Fi=parseInt,ko=typeof ya=="object"&&ya&&ya.Object===Object&&ya,ul=typeof self=="object"&&self&&self.Object===Object&&self,ct=ko||ul||Function("return this")(),Ur=n&&!n.nodeType&&n,Gn=Ur&&!0&&u&&!u.nodeType&&u,Lo=Gn&&Gn.exports===Ur,Wr=Lo&&ko.process,Ot=(function(){try{var b=Gn&&Gn.require&&Gn.require("util").types;return b||Wr&&Wr.binding&&Wr.binding("util")}catch{}})(),qi=Ot&&Ot.isArrayBuffer,Hr=Ot&&Ot.isDate,Vr=Ot&&Ot.isMap,Ys=Ot&&Ot.isRegExp,$o=Ot&&Ot.isSet,Ro=Ot&&Ot.isTypedArray;function Rt(b,N,T){switch(T.length){case 0:return b.call(N);case 1:return b.call(N,T[0]);case 2:return b.call(N,T[0],T[1]);case 3:return b.call(N,T[0],T[1],T[2])}return b.apply(N,T)}function cl(b,N,T,X){for(var pe=-1,Ie=b==null?0:b.length;++pe<Ie;){var Ze=b[pe];N(X,Ze,T(Ze),b)}return X}function Gt(b,N){for(var T=-1,X=b==null?0:b.length;++T<X&&N(b[T],T,b)!==!1;);return b}function Pt(b,N){for(var T=b==null?0:b.length;T--&&N(b[T],T,b)!==!1;);return b}function jn(b,N){for(var T=-1,X=b==null?0:b.length;++T<X;)if(!N(b[T],T,b))return!1;return!0}function It(b,N){for(var T=-1,X=b==null?0:b.length,pe=0,Ie=[];++T<X;){var Ze=b[T];N(Ze,T,b)&&(Ie[pe++]=Ze)}return Ie}function Gs(b,N){var T=b==null?0:b.length;return!!T&&Bi(b,N,0)>-1}function Qn(b,N,T){for(var X=-1,pe=b==null?0:b.length;++X<pe;)if(T(N,b[X]))return!0;return!1}function Ve(b,N){for(var T=-1,X=b==null?0:b.length,pe=Array(X);++T<X;)pe[T]=N(b[T],T,b);return pe}function Xn(b,N){for(var T=-1,X=N.length,pe=b.length;++T<X;)b[pe+T]=N[T];return b}function hi(b,N,T,X){var pe=-1,Ie=b==null?0:b.length;for(X&&Ie&&(T=b[++pe]);++pe<Ie;)T=N(T,b[pe],pe,b);return T}function js(b,N,T,X){var pe=b==null?0:b.length;for(X&&pe&&(T=b[--pe]);pe--;)T=N(T,b[pe],pe,b);return T}function Jn(b,N){for(var T=-1,X=b==null?0:b.length;++T<X;)if(N(b[T],T,b))return!0;return!1}var dl=Qe("length");function fl(b){return b.split("")}function pl(b){return b.match(Vn)||[]}function zr(b,N,T){var X;return T(b,function(pe,Ie,Ze){if(N(pe,Ie,Ze))return X=Ie,!1}),X}function vs(b,N,T,X){for(var pe=b.length,Ie=T+(X?1:-1);X?Ie--:++Ie<pe;)if(N(b[Ie],Ie,b))return Ie;return-1}function Bi(b,N,T){return N===N?Bo(b,N,T):vs(b,Pe,T)}function hl(b,N,T,X){for(var pe=T-1,Ie=b.length;++pe<Ie;)if(X(b[pe],N))return pe;return-1}function Pe(b){return b!==b}function qe(b,N){var T=b==null?0:b.length;return T?vn(b,N)/T:On}function Qe(b){return function(N){return N==null?s:N[b]}}function on(b){return function(N){return b==null?s:b[N]}}function Dt(b,N,T,X,pe){return pe(b,function(Ie,Ze,o){T=X?(X=!1,Ie):N(T,Ie,Ze,o)}),T}function Ui(b,N){var T=b.length;for(b.sort(N);T--;)b[T]=b[T].value;return b}function vn(b,N){for(var T,X=-1,pe=b.length;++X<pe;){var Ie=N(b[X]);Ie!==s&&(T=T===s?Ie:T+Ie)}return T}function Wi(b,N){for(var T=-1,X=Array(b);++T<b;)X[T]=N(T);return X}function dt(b,N){return Ve(N,function(T){return[T,b[T]]})}function ms(b){return b&&b.slice(0,Uo(b)+1).replace(Ni,"")}function vt(b){return function(N){return b(N)}}function _i(b,N){return Ve(N,function(T){return b[T]})}function Zn(b,N){return b.has(N)}function Po(b,N){for(var T=-1,X=b.length;++T<X&&Bi(N,b[T],0)>-1;);return T}function Mo(b,N){for(var T=b.length;T--&&Bi(N,b[T],0)>-1;);return T}function Qs(b,N){for(var T=b.length,X=0;T--;)b[T]===N&&++X;return X}var Kr=on(al),_l=on(ll);function vl(b){return"\\"+ot[b]}function ml(b,N){return b==null?s:b[N]}function Hi(b){return fi.test(b)}function gl(b){return Pi.test(b)}function Fo(b){for(var N,T=[];!(N=b.next()).done;)T.push(N.value);return T}function Yr(b){var N=-1,T=Array(b.size);return b.forEach(function(X,pe){T[++N]=[pe,X]}),T}function qo(b,N){return function(T){return b(N(T))}}function ei(b,N){for(var T=-1,X=b.length,pe=0,Ie=[];++T<X;){var Ze=b[T];(Ze===N||Ze===$)&&(b[T]=$,Ie[pe++]=T)}return Ie}function Xs(b){var N=-1,T=Array(b.size);return b.forEach(function(X){T[++N]=X}),T}function yl(b){var N=-1,T=Array(b.size);return b.forEach(function(X){T[++N]=[X,X]}),T}function Bo(b,N,T){for(var X=T-1,pe=b.length;++X<pe;)if(b[X]===N)return X;return-1}function Js(b,N,T){for(var X=T+1;X--;)if(b[X]===N)return X;return X}function $n(b){return Hi(b)?Vi(b):dl(b)}function an(b){return Hi(b)?Gr(b):fl(b)}function Uo(b){for(var N=b.length;N--&&Ka.test(b.charAt(N)););return N}var Zs=on(pi);function Vi(b){for(var N=Br.lastIndex=0;Br.test(b);)++N;return N}function Gr(b){return b.match(Br)||[]}function bl(b){return b.match(rl)||[]}var gs=(function b(N){N=N==null?ct:zi.defaults(ct.Object(),N,zi.pick(ct,Mi));var T=N.Array,X=N.Date,pe=N.Error,Ie=N.Function,Ze=N.Math,o=N.Object,r=N.RegExp,l=N.String,_=N.TypeError,x=T.prototype,D=Ie.prototype,I=o.prototype,V=N["__core-js_shared__"],ae=D.toString,R=I.hasOwnProperty,we=0,Ue=(function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),le=I.toString,at=ae.call(o),Oe=ct._,xt=r("^"+ae.call(R).replace(nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Lo?N.Buffer:s,mn=N.Symbol,er=N.Uint8Array,Wo=At?At.allocUnsafe:s,Ho=qo(o.getPrototypeOf,o),nc=o.create,ic=I.propertyIsEnumerable,Vo=x.splice,sc=mn?mn.isConcatSpreadable:s,jr=mn?mn.iterator:s,ys=mn?mn.toStringTag:s,zo=(function(){try{var e=As(o,"defineProperty");return e({},"",{}),e}catch{}})(),Np=N.clearTimeout!==ct.clearTimeout&&N.clearTimeout,kp=X&&X.now!==ct.Date.now&&X.now,Lp=N.setTimeout!==ct.setTimeout&&N.setTimeout,Ko=Ze.ceil,Yo=Ze.floor,wl=o.getOwnPropertySymbols,$p=At?At.isBuffer:s,rc=N.isFinite,Rp=x.join,Pp=qo(o.keys,o),ft=Ze.max,Nt=Ze.min,Mp=X.now,Fp=N.parseInt,oc=Ze.random,qp=x.reverse,El=As(N,"DataView"),Qr=As(N,"Map"),xl=As(N,"Promise"),tr=As(N,"Set"),Xr=As(N,"WeakMap"),Jr=As(o,"create"),Go=Xr&&new Xr,nr={},Bp=Ts(El),Up=Ts(Qr),Wp=Ts(xl),Hp=Ts(tr),Vp=Ts(Xr),jo=mn?mn.prototype:s,Zr=jo?jo.valueOf:s,ac=jo?jo.toString:s;function p(e){if(Xe(e)&&!ve(e)&&!(e instanceof Te)){if(e instanceof gn)return e;if(R.call(e,"__wrapped__"))return ld(e)}return new gn(e)}var ir=(function(){function e(){}return function(t){if(!Ke(t))return{};if(nc)return nc(t);e.prototype=t;var i=new e;return e.prototype=s,i}})();function Qo(){}function gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=s}p.templateSettings={escape:Ao,evaluate:be,interpolate:st,variable:"",imports:{_:p}},p.prototype=Qo.prototype,p.prototype.constructor=p,gn.prototype=ir(Qo.prototype),gn.prototype.constructor=gn;function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function zp(){var e=new Te(this.__wrapped__);return e.__actions__=jt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=jt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=jt(this.__views__),e}function Kp(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Yp(){var e=this.__wrapped__.value(),t=this.__dir__,i=ve(e),a=t<0,d=i?e.length:0,h=r_(0,d,this.__views__),m=h.start,g=h.end,E=g-m,P=a?g:m-1,M=this.__iteratees__,q=M.length,G=0,ee=Nt(E,this.__takeCount__);if(!i||!a&&d==E&&ee==E)return Nc(e,this.__actions__);var ce=[];e:for(;E--&&G<ee;){P+=t;for(var Ee=-1,de=e[P];++Ee<q;){var Ae=M[Ee],Se=Ae.iteratee,cn=Ae.type,qt=Se(de);if(cn==Ht)de=qt;else if(!qt){if(cn==Ct)continue e;break e}}ce[G++]=de}return ce}Te.prototype=ir(Qo.prototype),Te.prototype.constructor=Te;function bs(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Gp(){this.__data__=Jr?Jr(null):{},this.size=0}function jp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Qp(e){var t=this.__data__;if(Jr){var i=t[e];return i===A?s:i}return R.call(t,e)?t[e]:s}function Xp(e){var t=this.__data__;return Jr?t[e]!==s:R.call(t,e)}function Jp(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Jr&&t===s?A:t,this}bs.prototype.clear=Gp,bs.prototype.delete=jp,bs.prototype.get=Qp,bs.prototype.has=Xp,bs.prototype.set=Jp;function vi(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Zp(){this.__data__=[],this.size=0}function eh(e){var t=this.__data__,i=Xo(t,e);if(i<0)return!1;var a=t.length-1;return i==a?t.pop():Vo.call(t,i,1),--this.size,!0}function th(e){var t=this.__data__,i=Xo(t,e);return i<0?s:t[i][1]}function nh(e){return Xo(this.__data__,e)>-1}function ih(e,t){var i=this.__data__,a=Xo(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this}vi.prototype.clear=Zp,vi.prototype.delete=eh,vi.prototype.get=th,vi.prototype.has=nh,vi.prototype.set=ih;function mi(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function sh(){this.size=0,this.__data__={hash:new bs,map:new(Qr||vi),string:new bs}}function rh(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t}function oh(e){return ua(this,e).get(e)}function ah(e){return ua(this,e).has(e)}function lh(e,t){var i=ua(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this}mi.prototype.clear=sh,mi.prototype.delete=rh,mi.prototype.get=oh,mi.prototype.has=ah,mi.prototype.set=lh;function ws(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new mi;++t<i;)this.add(e[t])}function uh(e){return this.__data__.set(e,A),this}function ch(e){return this.__data__.has(e)}ws.prototype.add=ws.prototype.push=uh,ws.prototype.has=ch;function Rn(e){var t=this.__data__=new vi(e);this.size=t.size}function dh(){this.__data__=new vi,this.size=0}function fh(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function ph(e){return this.__data__.get(e)}function hh(e){return this.__data__.has(e)}function _h(e,t){var i=this.__data__;if(i instanceof vi){var a=i.__data__;if(!Qr||a.length<v-1)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new mi(a)}return i.set(e,t),this.size=i.size,this}Rn.prototype.clear=dh,Rn.prototype.delete=fh,Rn.prototype.get=ph,Rn.prototype.has=hh,Rn.prototype.set=_h;function lc(e,t){var i=ve(e),a=!i&&Cs(e),d=!i&&!a&&Qi(e),h=!i&&!a&&!d&&ar(e),m=i||a||d||h,g=m?Wi(e.length,l):[],E=g.length;for(var P in e)(t||R.call(e,P))&&!(m&&(P=="length"||d&&(P=="offset"||P=="parent")||h&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||wi(P,E)))&&g.push(P);return g}function uc(e){var t=e.length;return t?e[$l(0,t-1)]:s}function vh(e,t){return ca(jt(e),Es(t,0,e.length))}function mh(e){return ca(jt(e))}function Al(e,t,i){(i!==s&&!Pn(e[t],i)||i===s&&!(t in e))&&gi(e,t,i)}function eo(e,t,i){var a=e[t];(!(R.call(e,t)&&Pn(a,i))||i===s&&!(t in e))&&gi(e,t,i)}function Xo(e,t){for(var i=e.length;i--;)if(Pn(e[i][0],t))return i;return-1}function gh(e,t,i,a){return Ki(e,function(d,h,m){t(a,d,i(d),m)}),a}function cc(e,t){return e&&ni(t,mt(t),e)}function yh(e,t){return e&&ni(t,Xt(t),e)}function gi(e,t,i){t=="__proto__"&&zo?zo(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Tl(e,t){for(var i=-1,a=t.length,d=T(a),h=e==null;++i<a;)d[i]=h?s:ru(e,t[i]);return d}function Es(e,t,i){return e===e&&(i!==s&&(e=e<=i?e:i),t!==s&&(e=e>=t?e:t)),e}function yn(e,t,i,a,d,h){var m,g=t&z,E=t&te,P=t&j;if(i&&(m=d?i(e,a,d,h):i(e)),m!==s)return m;if(!Ke(e))return e;var M=ve(e);if(M){if(m=a_(e),!g)return jt(e,m)}else{var q=kt(e),G=q==Vt||q==Me;if(Qi(e))return $c(e,g);if(q==Kt||q==yt||G&&!d){if(m=E||G?{}:Zc(e),!g)return E?Qh(e,yh(m,e)):jh(e,cc(m,e))}else{if(!Re[q])return d?e:{};m=l_(e,q,g)}}h||(h=new Rn);var ee=h.get(e);if(ee)return ee;h.set(e,m),Od(e)?e.forEach(function(de){m.add(yn(de,t,i,de,e,h))}):Cd(e)&&e.forEach(function(de,Ae){m.set(Ae,yn(de,t,i,Ae,e,h))});var ce=P?E?zl:Vl:E?Xt:mt,Ee=M?s:ce(e);return Gt(Ee||e,function(de,Ae){Ee&&(Ae=de,de=e[Ae]),eo(m,Ae,yn(de,t,i,Ae,e,h))}),m}function bh(e){var t=mt(e);return function(i){return dc(i,e,t)}}function dc(e,t,i){var a=i.length;if(e==null)return!a;for(e=o(e);a--;){var d=i[a],h=t[d],m=e[d];if(m===s&&!(d in e)||!h(m))return!1}return!0}function fc(e,t,i){if(typeof e!="function")throw new _(y);return ao(function(){e.apply(s,i)},t)}function to(e,t,i,a){var d=-1,h=Gs,m=!0,g=e.length,E=[],P=t.length;if(!g)return E;i&&(t=Ve(t,vt(i))),a?(h=Qn,m=!1):t.length>=v&&(h=Zn,m=!1,t=new ws(t));e:for(;++d<g;){var M=e[d],q=i==null?M:i(M);if(M=a||M!==0?M:0,m&&q===q){for(var G=P;G--;)if(t[G]===q)continue e;E.push(M)}else h(t,q,a)||E.push(M)}return E}var Ki=qc(ti),pc=qc(Sl,!0);function wh(e,t){var i=!0;return Ki(e,function(a,d,h){return i=!!t(a,d,h),i}),i}function Jo(e,t,i){for(var a=-1,d=e.length;++a<d;){var h=e[a],m=t(h);if(m!=null&&(g===s?m===m&&!un(m):i(m,g)))var g=m,E=h}return E}function Eh(e,t,i,a){var d=e.length;for(i=ye(i),i<0&&(i=-i>d?0:d+i),a=a===s||a>d?d:ye(a),a<0&&(a+=d),a=i>a?0:Dd(a);i<a;)e[i++]=t;return e}function hc(e,t){var i=[];return Ki(e,function(a,d,h){t(a,d,h)&&i.push(a)}),i}function Tt(e,t,i,a,d){var h=-1,m=e.length;for(i||(i=c_),d||(d=[]);++h<m;){var g=e[h];t>0&&i(g)?t>1?Tt(g,t-1,i,a,d):Xn(d,g):a||(d[d.length]=g)}return d}var Cl=Bc(),_c=Bc(!0);function ti(e,t){return e&&Cl(e,t,mt)}function Sl(e,t){return e&&_c(e,t,mt)}function Zo(e,t){return It(t,function(i){return Ei(e[i])})}function xs(e,t){t=Gi(t,e);for(var i=0,a=t.length;e!=null&&i<a;)e=e[ii(t[i++])];return i&&i==a?e:s}function vc(e,t,i){var a=t(e);return ve(e)?a:Xn(a,i(e))}function Mt(e){return e==null?e===s?_n:zt:ys&&ys in o(e)?s_(e):m_(e)}function Ol(e,t){return e>t}function xh(e,t){return e!=null&&R.call(e,t)}function Ah(e,t){return e!=null&&t in o(e)}function Th(e,t,i){return e>=Nt(t,i)&&e<ft(t,i)}function Il(e,t,i){for(var a=i?Qn:Gs,d=e[0].length,h=e.length,m=h,g=T(h),E=1/0,P=[];m--;){var M=e[m];m&&t&&(M=Ve(M,vt(t))),E=Nt(M.length,E),g[m]=!i&&(t||d>=120&&M.length>=120)?new ws(m&&M):s}M=e[0];var q=-1,G=g[0];e:for(;++q<d&&P.length<E;){var ee=M[q],ce=t?t(ee):ee;if(ee=i||ee!==0?ee:0,!(G?Zn(G,ce):a(P,ce,i))){for(m=h;--m;){var Ee=g[m];if(!(Ee?Zn(Ee,ce):a(e[m],ce,i)))continue e}G&&G.push(ce),P.push(ee)}}return P}function Ch(e,t,i,a){return ti(e,function(d,h,m){t(a,i(d),h,m)}),a}function no(e,t,i){t=Gi(t,e),e=id(e,t);var a=e==null?e:e[ii(wn(t))];return a==null?s:Rt(a,e,i)}function mc(e){return Xe(e)&&Mt(e)==yt}function Sh(e){return Xe(e)&&Mt(e)==Un}function Oh(e){return Xe(e)&&Mt(e)==Dn}function io(e,t,i,a,d){return e===t?!0:e==null||t==null||!Xe(e)&&!Xe(t)?e!==e&&t!==t:Ih(e,t,i,a,io,d)}function Ih(e,t,i,a,d,h){var m=ve(e),g=ve(t),E=m?nt:kt(e),P=g?nt:kt(t);E=E==yt?Kt:E,P=P==yt?Kt:P;var M=E==Kt,q=P==Kt,G=E==P;if(G&&Qi(e)){if(!Qi(t))return!1;m=!0,M=!1}if(G&&!M)return h||(h=new Rn),m||ar(e)?Qc(e,t,i,a,d,h):n_(e,t,E,i,a,d,h);if(!(i&ne)){var ee=M&&R.call(e,"__wrapped__"),ce=q&&R.call(t,"__wrapped__");if(ee||ce){var Ee=ee?e.value():e,de=ce?t.value():t;return h||(h=new Rn),d(Ee,de,i,a,h)}}return G?(h||(h=new Rn),i_(e,t,i,a,d,h)):!1}function Dh(e){return Xe(e)&&kt(e)==We}function Dl(e,t,i,a){var d=i.length,h=d,m=!a;if(e==null)return!h;for(e=o(e);d--;){var g=i[d];if(m&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++d<h;){g=i[d];var E=g[0],P=e[E],M=g[1];if(m&&g[2]){if(P===s&&!(E in e))return!1}else{var q=new Rn;if(a)var G=a(P,M,E,e,t,q);if(!(G===s?io(M,P,ne|ie,a,q):G))return!1}}return!0}function gc(e){if(!Ke(e)||f_(e))return!1;var t=Ei(e)?xt:To;return t.test(Ts(e))}function Nh(e){return Xe(e)&&Mt(e)==je}function kh(e){return Xe(e)&&kt(e)==_t}function Lh(e){return Xe(e)&&va(e.length)&&!!Be[Mt(e)]}function yc(e){return typeof e=="function"?e:e==null?Jt:typeof e=="object"?ve(e)?Ec(e[0],e[1]):wc(e):Ud(e)}function Nl(e){if(!oo(e))return Pp(e);var t=[];for(var i in o(e))R.call(e,i)&&i!="constructor"&&t.push(i);return t}function $h(e){if(!Ke(e))return v_(e);var t=oo(e),i=[];for(var a in e)a=="constructor"&&(t||!R.call(e,a))||i.push(a);return i}function kl(e,t){return e<t}function bc(e,t){var i=-1,a=Qt(e)?T(e.length):[];return Ki(e,function(d,h,m){a[++i]=t(d,h,m)}),a}function wc(e){var t=Yl(e);return t.length==1&&t[0][2]?td(t[0][0],t[0][1]):function(i){return i===e||Dl(i,e,t)}}function Ec(e,t){return jl(e)&&ed(t)?td(ii(e),t):function(i){var a=ru(i,e);return a===s&&a===t?ou(i,e):io(t,a,ne|ie)}}function ea(e,t,i,a,d){e!==t&&Cl(t,function(h,m){if(d||(d=new Rn),Ke(h))Rh(e,t,m,i,ea,a,d);else{var g=a?a(Xl(e,m),h,m+"",e,t,d):s;g===s&&(g=h),Al(e,m,g)}},Xt)}function Rh(e,t,i,a,d,h,m){var g=Xl(e,i),E=Xl(t,i),P=m.get(E);if(P){Al(e,i,P);return}var M=h?h(g,E,i+"",e,t,m):s,q=M===s;if(q){var G=ve(E),ee=!G&&Qi(E),ce=!G&&!ee&&ar(E);M=E,G||ee||ce?ve(g)?M=g:et(g)?M=jt(g):ee?(q=!1,M=$c(E,!0)):ce?(q=!1,M=Rc(E,!0)):M=[]:lo(E)||Cs(E)?(M=g,Cs(g)?M=Nd(g):(!Ke(g)||Ei(g))&&(M=Zc(E))):q=!1}q&&(m.set(E,M),d(M,E,a,h,m),m.delete(E)),Al(e,i,M)}function xc(e,t){var i=e.length;if(i)return t+=t<0?i:0,wi(t,i)?e[t]:s}function Ac(e,t,i){t.length?t=Ve(t,function(h){return ve(h)?function(m){return xs(m,h.length===1?h[0]:h)}:h}):t=[Jt];var a=-1;t=Ve(t,vt(ue()));var d=bc(e,function(h,m,g){var E=Ve(t,function(P){return P(h)});return{criteria:E,index:++a,value:h}});return Ui(d,function(h,m){return Gh(h,m,i)})}function Ph(e,t){return Tc(e,t,function(i,a){return ou(e,a)})}function Tc(e,t,i){for(var a=-1,d=t.length,h={};++a<d;){var m=t[a],g=xs(e,m);i(g,m)&&so(h,Gi(m,e),g)}return h}function Mh(e){return function(t){return xs(t,e)}}function Ll(e,t,i,a){var d=a?hl:Bi,h=-1,m=t.length,g=e;for(e===t&&(t=jt(t)),i&&(g=Ve(e,vt(i)));++h<m;)for(var E=0,P=t[h],M=i?i(P):P;(E=d(g,M,E,a))>-1;)g!==e&&Vo.call(g,E,1),Vo.call(e,E,1);return e}function Cc(e,t){for(var i=e?t.length:0,a=i-1;i--;){var d=t[i];if(i==a||d!==h){var h=d;wi(d)?Vo.call(e,d,1):Ml(e,d)}}return e}function $l(e,t){return e+Yo(oc()*(t-e+1))}function Fh(e,t,i,a){for(var d=-1,h=ft(Ko((t-e)/(i||1)),0),m=T(h);h--;)m[a?h:++d]=e,e+=i;return m}function Rl(e,t){var i="";if(!e||t<1||t>Lt)return i;do t%2&&(i+=e),t=Yo(t/2),t&&(e+=e);while(t);return i}function xe(e,t){return Jl(nd(e,t,Jt),e+"")}function qh(e){return uc(lr(e))}function Bh(e,t){var i=lr(e);return ca(i,Es(t,0,i.length))}function so(e,t,i,a){if(!Ke(e))return e;t=Gi(t,e);for(var d=-1,h=t.length,m=h-1,g=e;g!=null&&++d<h;){var E=ii(t[d]),P=i;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(d!=m){var M=g[E];P=a?a(M,E,g):s,P===s&&(P=Ke(M)?M:wi(t[d+1])?[]:{})}eo(g,E,P),g=g[E]}return e}var Sc=Go?function(e,t){return Go.set(e,t),e}:Jt,Uh=zo?function(e,t){return zo(e,"toString",{configurable:!0,enumerable:!1,value:lu(t),writable:!0})}:Jt;function Wh(e){return ca(lr(e))}function bn(e,t,i){var a=-1,d=e.length;t<0&&(t=-t>d?0:d+t),i=i>d?d:i,i<0&&(i+=d),d=t>i?0:i-t>>>0,t>>>=0;for(var h=T(d);++a<d;)h[a]=e[a+t];return h}function Hh(e,t){var i;return Ki(e,function(a,d,h){return i=t(a,d,h),!i}),!!i}function ta(e,t,i){var a=0,d=e==null?a:e.length;if(typeof t=="number"&&t===t&&d<=Ii){for(;a<d;){var h=a+d>>>1,m=e[h];m!==null&&!un(m)&&(i?m<=t:m<t)?a=h+1:d=h}return d}return Pl(e,t,Jt,i)}function Pl(e,t,i,a){var d=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var m=t!==t,g=t===null,E=un(t),P=t===s;d<h;){var M=Yo((d+h)/2),q=i(e[M]),G=q!==s,ee=q===null,ce=q===q,Ee=un(q);if(m)var de=a||ce;else P?de=ce&&(a||G):g?de=ce&&G&&(a||!ee):E?de=ce&&G&&!ee&&(a||!Ee):ee||Ee?de=!1:de=a?q<=t:q<t;de?d=M+1:h=M}return Nt(h,li)}function Oc(e,t){for(var i=-1,a=e.length,d=0,h=[];++i<a;){var m=e[i],g=t?t(m):m;if(!i||!Pn(g,E)){var E=g;h[d++]=m===0?0:m}}return h}function Ic(e){return typeof e=="number"?e:un(e)?On:+e}function ln(e){if(typeof e=="string")return e;if(ve(e))return Ve(e,ln)+"";if(un(e))return ac?ac.call(e):"";var t=e+"";return t=="0"&&1/e==-Je?"-0":t}function Yi(e,t,i){var a=-1,d=Gs,h=e.length,m=!0,g=[],E=g;if(i)m=!1,d=Qn;else if(h>=v){var P=t?null:e_(e);if(P)return Xs(P);m=!1,d=Zn,E=new ws}else E=t?[]:g;e:for(;++a<h;){var M=e[a],q=t?t(M):M;if(M=i||M!==0?M:0,m&&q===q){for(var G=E.length;G--;)if(E[G]===q)continue e;t&&E.push(q),g.push(M)}else d(E,q,i)||(E!==g&&E.push(q),g.push(M))}return g}function Ml(e,t){return t=Gi(t,e),e=id(e,t),e==null||delete e[ii(wn(t))]}function Dc(e,t,i,a){return so(e,t,i(xs(e,t)),a)}function na(e,t,i,a){for(var d=e.length,h=a?d:-1;(a?h--:++h<d)&&t(e[h],h,e););return i?bn(e,a?0:h,a?h+1:d):bn(e,a?h+1:0,a?d:h)}function Nc(e,t){var i=e;return i instanceof Te&&(i=i.value()),hi(t,function(a,d){return d.func.apply(d.thisArg,Xn([a],d.args))},i)}function Fl(e,t,i){var a=e.length;if(a<2)return a?Yi(e[0]):[];for(var d=-1,h=T(a);++d<a;)for(var m=e[d],g=-1;++g<a;)g!=d&&(h[d]=to(h[d]||m,e[g],t,i));return Yi(Tt(h,1),t,i)}function kc(e,t,i){for(var a=-1,d=e.length,h=t.length,m={};++a<d;){var g=a<h?t[a]:s;i(m,e[a],g)}return m}function ql(e){return et(e)?e:[]}function Bl(e){return typeof e=="function"?e:Jt}function Gi(e,t){return ve(e)?e:jl(e,t)?[e]:ad($e(e))}var Vh=xe;function ji(e,t,i){var a=e.length;return i=i===s?a:i,!t&&i>=a?e:bn(e,t,i)}var Lc=Np||function(e){return ct.clearTimeout(e)};function $c(e,t){if(t)return e.slice();var i=e.length,a=Wo?Wo(i):new e.constructor(i);return e.copy(a),a}function Ul(e){var t=new e.constructor(e.byteLength);return new er(t).set(new er(e)),t}function zh(e,t){var i=t?Ul(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Kh(e){var t=new e.constructor(e.source,ls.exec(e));return t.lastIndex=e.lastIndex,t}function Yh(e){return Zr?o(Zr.call(e)):{}}function Rc(e,t){var i=t?Ul(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Pc(e,t){if(e!==t){var i=e!==s,a=e===null,d=e===e,h=un(e),m=t!==s,g=t===null,E=t===t,P=un(t);if(!g&&!P&&!h&&e>t||h&&m&&E&&!g&&!P||a&&m&&E||!i&&E||!d)return 1;if(!a&&!h&&!P&&e<t||P&&i&&d&&!a&&!h||g&&i&&d||!m&&d||!E)return-1}return 0}function Gh(e,t,i){for(var a=-1,d=e.criteria,h=t.criteria,m=d.length,g=i.length;++a<m;){var E=Pc(d[a],h[a]);if(E){if(a>=g)return E;var P=i[a];return E*(P=="desc"?-1:1)}}return e.index-t.index}function Mc(e,t,i,a){for(var d=-1,h=e.length,m=i.length,g=-1,E=t.length,P=ft(h-m,0),M=T(E+P),q=!a;++g<E;)M[g]=t[g];for(;++d<m;)(q||d<h)&&(M[i[d]]=e[d]);for(;P--;)M[g++]=e[d++];return M}function Fc(e,t,i,a){for(var d=-1,h=e.length,m=-1,g=i.length,E=-1,P=t.length,M=ft(h-g,0),q=T(M+P),G=!a;++d<M;)q[d]=e[d];for(var ee=d;++E<P;)q[ee+E]=t[E];for(;++m<g;)(G||d<h)&&(q[ee+i[m]]=e[d++]);return q}function jt(e,t){var i=-1,a=e.length;for(t||(t=T(a));++i<a;)t[i]=e[i];return t}function ni(e,t,i,a){var d=!i;i||(i={});for(var h=-1,m=t.length;++h<m;){var g=t[h],E=a?a(i[g],e[g],g,i,e):s;E===s&&(E=e[g]),d?gi(i,g,E):eo(i,g,E)}return i}function jh(e,t){return ni(e,Gl(e),t)}function Qh(e,t){return ni(e,Xc(e),t)}function ia(e,t){return function(i,a){var d=ve(i)?cl:gh,h=t?t():{};return d(i,e,ue(a,2),h)}}function sr(e){return xe(function(t,i){var a=-1,d=i.length,h=d>1?i[d-1]:s,m=d>2?i[2]:s;for(h=e.length>3&&typeof h=="function"?(d--,h):s,m&&Ft(i[0],i[1],m)&&(h=d<3?s:h,d=1),t=o(t);++a<d;){var g=i[a];g&&e(t,g,a,h)}return t})}function qc(e,t){return function(i,a){if(i==null)return i;if(!Qt(i))return e(i,a);for(var d=i.length,h=t?d:-1,m=o(i);(t?h--:++h<d)&&a(m[h],h,m)!==!1;);return i}}function Bc(e){return function(t,i,a){for(var d=-1,h=o(t),m=a(t),g=m.length;g--;){var E=m[e?g:++d];if(i(h[E],E,h)===!1)break}return t}}function Xh(e,t,i){var a=t&Z,d=ro(e);function h(){var m=this&&this!==ct&&this instanceof h?d:e;return m.apply(a?i:this,arguments)}return h}function Uc(e){return function(t){t=$e(t);var i=Hi(t)?an(t):s,a=i?i[0]:t.charAt(0),d=i?ji(i,1).join(""):t.slice(1);return a[e]()+d}}function rr(e){return function(t){return hi(qd(Fd(t).replace(sl,"")),e,"")}}function ro(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=ir(e.prototype),a=e.apply(i,t);return Ke(a)?a:i}}function Jh(e,t,i){var a=ro(e);function d(){for(var h=arguments.length,m=T(h),g=h,E=or(d);g--;)m[g]=arguments[g];var P=h<3&&m[0]!==E&&m[h-1]!==E?[]:ei(m,E);if(h-=P.length,h<i)return Kc(e,t,sa,d.placeholder,s,m,P,s,s,i-h);var M=this&&this!==ct&&this instanceof d?a:e;return Rt(M,this,m)}return d}function Wc(e){return function(t,i,a){var d=o(t);if(!Qt(t)){var h=ue(i,3);t=mt(t),i=function(g){return h(d[g],g,d)}}var m=e(t,i,a);return m>-1?d[h?t[m]:m]:s}}function Hc(e){return bi(function(t){var i=t.length,a=i,d=gn.prototype.thru;for(e&&t.reverse();a--;){var h=t[a];if(typeof h!="function")throw new _(y);if(d&&!m&&la(h)=="wrapper")var m=new gn([],!0)}for(a=m?a:i;++a<i;){h=t[a];var g=la(h),E=g=="wrapper"?Kl(h):s;E&&Ql(E[0])&&E[1]==(fe|se|B|ke)&&!E[4].length&&E[9]==1?m=m[la(E[0])].apply(m,E[3]):m=h.length==1&&Ql(h)?m[g]():m.thru(h)}return function(){var P=arguments,M=P[0];if(m&&P.length==1&&ve(M))return m.plant(M).value();for(var q=0,G=i?t[q].apply(this,P):M;++q<i;)G=t[q].call(this,G);return G}})}function sa(e,t,i,a,d,h,m,g,E,P){var M=t&fe,q=t&Z,G=t&L,ee=t&(se|F),ce=t&Le,Ee=G?s:ro(e);function de(){for(var Ae=arguments.length,Se=T(Ae),cn=Ae;cn--;)Se[cn]=arguments[cn];if(ee)var qt=or(de),dn=Qs(Se,qt);if(a&&(Se=Mc(Se,a,d,ee)),h&&(Se=Fc(Se,h,m,ee)),Ae-=dn,ee&&Ae<P){var tt=ei(Se,qt);return Kc(e,t,sa,de.placeholder,i,Se,tt,g,E,P-Ae)}var Mn=q?i:this,Ai=G?Mn[e]:e;return Ae=Se.length,g?Se=g_(Se,g):ce&&Ae>1&&Se.reverse(),M&&E<Ae&&(Se.length=E),this&&this!==ct&&this instanceof de&&(Ai=Ee||ro(Ai)),Ai.apply(Mn,Se)}return de}function Vc(e,t){return function(i,a){return Ch(i,e,t(a),{})}}function ra(e,t){return function(i,a){var d;if(i===s&&a===s)return t;if(i!==s&&(d=i),a!==s){if(d===s)return a;typeof i=="string"||typeof a=="string"?(i=ln(i),a=ln(a)):(i=Ic(i),a=Ic(a)),d=e(i,a)}return d}}function Wl(e){return bi(function(t){return t=Ve(t,vt(ue())),xe(function(i){var a=this;return e(t,function(d){return Rt(d,a,i)})})})}function oa(e,t){t=t===s?" ":ln(t);var i=t.length;if(i<2)return i?Rl(t,e):t;var a=Rl(t,Ko(e/$n(t)));return Hi(t)?ji(an(a),0,e).join(""):a.slice(0,e)}function Zh(e,t,i,a){var d=t&Z,h=ro(e);function m(){for(var g=-1,E=arguments.length,P=-1,M=a.length,q=T(M+E),G=this&&this!==ct&&this instanceof m?h:e;++P<M;)q[P]=a[P];for(;E--;)q[P++]=arguments[++g];return Rt(G,d?i:this,q)}return m}function zc(e){return function(t,i,a){return a&&typeof a!="number"&&Ft(t,i,a)&&(i=a=s),t=xi(t),i===s?(i=t,t=0):i=xi(i),a=a===s?t<i?1:-1:xi(a),Fh(t,i,a,e)}}function aa(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=En(t),i=En(i)),e(t,i)}}function Kc(e,t,i,a,d,h,m,g,E,P){var M=t&se,q=M?m:s,G=M?s:m,ee=M?h:s,ce=M?s:h;t|=M?B:J,t&=~(M?J:B),t&Y||(t&=-4);var Ee=[e,t,d,ee,q,ce,G,g,E,P],de=i.apply(s,Ee);return Ql(e)&&sd(de,Ee),de.placeholder=a,rd(de,e,t)}function Hl(e){var t=Ze[e];return function(i,a){if(i=En(i),a=a==null?0:Nt(ye(a),292),a&&rc(i)){var d=($e(i)+"e").split("e"),h=t(d[0]+"e"+(+d[1]+a));return d=($e(h)+"e").split("e"),+(d[0]+"e"+(+d[1]-a))}return t(i)}}var e_=tr&&1/Xs(new tr([,-0]))[1]==Je?function(e){return new tr(e)}:du;function Yc(e){return function(t){var i=kt(t);return i==We?Yr(t):i==_t?yl(t):dt(t,e(t))}}function yi(e,t,i,a,d,h,m,g){var E=t&L;if(!E&&typeof e!="function")throw new _(y);var P=a?a.length:0;if(P||(t&=-97,a=d=s),m=m===s?m:ft(ye(m),0),g=g===s?g:ye(g),P-=d?d.length:0,t&J){var M=a,q=d;a=d=s}var G=E?s:Kl(e),ee=[e,t,i,a,d,M,q,h,m,g];if(G&&__(ee,G),e=ee[0],t=ee[1],i=ee[2],a=ee[3],d=ee[4],g=ee[9]=ee[9]===s?E?0:e.length:ft(ee[9]-P,0),!g&&t&(se|F)&&(t&=-25),!t||t==Z)var ce=Xh(e,t,i);else t==se||t==F?ce=Jh(e,t,g):(t==B||t==(Z|B))&&!d.length?ce=Zh(e,t,i,a):ce=sa.apply(s,ee);var Ee=G?Sc:sd;return rd(Ee(ce,ee),e,t)}function Gc(e,t,i,a){return e===s||Pn(e,I[i])&&!R.call(a,i)?t:e}function jc(e,t,i,a,d,h){return Ke(e)&&Ke(t)&&(h.set(t,e),ea(e,t,s,jc,h),h.delete(t)),e}function t_(e){return lo(e)?s:e}function Qc(e,t,i,a,d,h){var m=i&ne,g=e.length,E=t.length;if(g!=E&&!(m&&E>g))return!1;var P=h.get(e),M=h.get(t);if(P&&M)return P==t&&M==e;var q=-1,G=!0,ee=i&ie?new ws:s;for(h.set(e,t),h.set(t,e);++q<g;){var ce=e[q],Ee=t[q];if(a)var de=m?a(Ee,ce,q,t,e,h):a(ce,Ee,q,e,t,h);if(de!==s){if(de)continue;G=!1;break}if(ee){if(!Jn(t,function(Ae,Se){if(!Zn(ee,Se)&&(ce===Ae||d(ce,Ae,i,a,h)))return ee.push(Se)})){G=!1;break}}else if(!(ce===Ee||d(ce,Ee,i,a,h))){G=!1;break}}return h.delete(e),h.delete(t),G}function n_(e,t,i,a,d,h,m){switch(i){case He:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Un:return!(e.byteLength!=t.byteLength||!h(new er(e),new er(t)));case ht:case Dn:case bt:return Pn(+e,+t);case Nn:return e.name==t.name&&e.message==t.message;case je:case Bn:return e==t+"";case We:var g=Yr;case _t:var E=a&ne;if(g||(g=Xs),e.size!=t.size&&!E)return!1;var P=m.get(e);if(P)return P==t;a|=ie,m.set(e,t);var M=Qc(g(e),g(t),a,d,h,m);return m.delete(e),M;case tn:if(Zr)return Zr.call(e)==Zr.call(t)}return!1}function i_(e,t,i,a,d,h){var m=i&ne,g=Vl(e),E=g.length,P=Vl(t),M=P.length;if(E!=M&&!m)return!1;for(var q=E;q--;){var G=g[q];if(!(m?G in t:R.call(t,G)))return!1}var ee=h.get(e),ce=h.get(t);if(ee&&ce)return ee==t&&ce==e;var Ee=!0;h.set(e,t),h.set(t,e);for(var de=m;++q<E;){G=g[q];var Ae=e[G],Se=t[G];if(a)var cn=m?a(Se,Ae,G,t,e,h):a(Ae,Se,G,e,t,h);if(!(cn===s?Ae===Se||d(Ae,Se,i,a,h):cn)){Ee=!1;break}de||(de=G=="constructor")}if(Ee&&!de){var qt=e.constructor,dn=t.constructor;qt!=dn&&"constructor"in e&&"constructor"in t&&!(typeof qt=="function"&&qt instanceof qt&&typeof dn=="function"&&dn instanceof dn)&&(Ee=!1)}return h.delete(e),h.delete(t),Ee}function bi(e){return Jl(nd(e,s,dd),e+"")}function Vl(e){return vc(e,mt,Gl)}function zl(e){return vc(e,Xt,Xc)}var Kl=Go?function(e){return Go.get(e)}:du;function la(e){for(var t=e.name+"",i=nr[t],a=R.call(nr,t)?i.length:0;a--;){var d=i[a],h=d.func;if(h==null||h==e)return d.name}return t}function or(e){var t=R.call(p,"placeholder")?p:e;return t.placeholder}function ue(){var e=p.iteratee||uu;return e=e===uu?yc:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var i=e.__data__;return d_(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Yl(e){for(var t=mt(e),i=t.length;i--;){var a=t[i],d=e[a];t[i]=[a,d,ed(d)]}return t}function As(e,t){var i=ml(e,t);return gc(i)?i:s}function s_(e){var t=R.call(e,ys),i=e[ys];try{e[ys]=s;var a=!0}catch{}var d=le.call(e);return a&&(t?e[ys]=i:delete e[ys]),d}var Gl=wl?function(e){return e==null?[]:(e=o(e),It(wl(e),function(t){return ic.call(e,t)}))}:fu,Xc=wl?function(e){for(var t=[];e;)Xn(t,Gl(e)),e=Ho(e);return t}:fu,kt=Mt;(El&&kt(new El(new ArrayBuffer(1)))!=He||Qr&&kt(new Qr)!=We||xl&&kt(xl.resolve())!=qn||tr&&kt(new tr)!=_t||Xr&&kt(new Xr)!=it)&&(kt=function(e){var t=Mt(e),i=t==Kt?e.constructor:s,a=i?Ts(i):"";if(a)switch(a){case Bp:return He;case Up:return We;case Wp:return qn;case Hp:return _t;case Vp:return it}return t});function r_(e,t,i){for(var a=-1,d=i.length;++a<d;){var h=i[a],m=h.size;switch(h.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Nt(t,e+m);break;case"takeRight":e=ft(e,t-m);break}}return{start:e,end:t}}function o_(e){var t=e.match(wt);return t?t[1].split(Lr):[]}function Jc(e,t,i){t=Gi(t,e);for(var a=-1,d=t.length,h=!1;++a<d;){var m=ii(t[a]);if(!(h=e!=null&&i(e,m)))break;e=e[m]}return h||++a!=d?h:(d=e==null?0:e.length,!!d&&va(d)&&wi(m,d)&&(ve(e)||Cs(e)))}function a_(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&R.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Zc(e){return typeof e.constructor=="function"&&!oo(e)?ir(Ho(e)):{}}function l_(e,t,i){var a=e.constructor;switch(t){case Un:return Ul(e);case ht:case Dn:return new a(+e);case He:return zh(e,i);case Ms:case os:case Or:case Wn:case Ir:case Fs:case Dr:case as:case H:return Rc(e,i);case We:return new a;case bt:case Bn:return new a(e);case je:return Kh(e);case _t:return new a;case tn:return Yh(e)}}function u_(e,t){var i=t.length;if(!i)return e;var a=i-1;return t[a]=(i>1?"& ":"")+t[a],t=t.join(i>2?", ":" "),e.replace(Ya,`{
/* [wrapped with `+t+`] */
`)}function c_(e){return ve(e)||Cs(e)||!!(sc&&e&&e[sc])}function wi(e,t){var i=typeof e;return t=t??Lt,!!t&&(i=="number"||i!="symbol"&&ja.test(e))&&e>-1&&e%1==0&&e<t}function Ft(e,t,i){if(!Ke(i))return!1;var a=typeof t;return(a=="number"?Qt(i)&&wi(t,i.length):a=="string"&&t in i)?Pn(i[t],e):!1}function jl(e,t){if(ve(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||un(e)?!0:Hn.test(e)||!kr.test(e)||t!=null&&e in o(t)}function d_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ql(e){var t=la(e),i=p[t];if(typeof i!="function"||!(t in Te.prototype))return!1;if(e===i)return!0;var a=Kl(i);return!!a&&e===a[0]}function f_(e){return!!Ue&&Ue in e}var p_=V?Ei:pu;function oo(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||I;return e===i}function ed(e){return e===e&&!Ke(e)}function td(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==s||e in o(i))}}function h_(e){var t=ha(e,function(a){return i.size===W&&i.clear(),a}),i=t.cache;return t}function __(e,t){var i=e[1],a=t[1],d=i|a,h=d<(Z|L|fe),m=a==fe&&i==se||a==fe&&i==ke&&e[7].length<=t[8]||a==(fe|ke)&&t[7].length<=t[8]&&i==se;if(!(h||m))return e;a&Z&&(e[2]=t[2],d|=i&Z?0:Y);var g=t[3];if(g){var E=e[3];e[3]=E?Mc(E,g,t[4]):g,e[4]=E?ei(e[3],$):t[4]}return g=t[5],g&&(E=e[5],e[5]=E?Fc(E,g,t[6]):g,e[6]=E?ei(e[5],$):t[6]),g=t[7],g&&(e[7]=g),a&fe&&(e[8]=e[8]==null?t[8]:Nt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}function v_(e){var t=[];if(e!=null)for(var i in o(e))t.push(i);return t}function m_(e){return le.call(e)}function nd(e,t,i){return t=ft(t===s?e.length-1:t,0),function(){for(var a=arguments,d=-1,h=ft(a.length-t,0),m=T(h);++d<h;)m[d]=a[t+d];d=-1;for(var g=T(t+1);++d<t;)g[d]=a[d];return g[t]=i(m),Rt(e,this,g)}}function id(e,t){return t.length<2?e:xs(e,bn(t,0,-1))}function g_(e,t){for(var i=e.length,a=Nt(t.length,i),d=jt(e);a--;){var h=t[a];e[a]=wi(h,i)?d[h]:s}return e}function Xl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var sd=od(Sc),ao=Lp||function(e,t){return ct.setTimeout(e,t)},Jl=od(Uh);function rd(e,t,i){var a=t+"";return Jl(e,u_(a,y_(o_(a),i)))}function od(e){var t=0,i=0;return function(){var a=Mp(),d=Ge-(a-i);if(i=a,d>0){if(++t>=pt)return arguments[0]}else t=0;return e.apply(s,arguments)}}function ca(e,t){var i=-1,a=e.length,d=a-1;for(t=t===s?a:t;++i<t;){var h=$l(i,d),m=e[h];e[h]=e[i],e[i]=m}return e.length=t,e}var ad=h_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rt,function(i,a,d,h){t.push(d?h.replace($r,"$1"):a||i)}),t});function ii(e){if(typeof e=="string"||un(e))return e;var t=e+"";return t=="0"&&1/e==-Je?"-0":t}function Ts(e){if(e!=null){try{return ae.call(e)}catch{}try{return e+""}catch{}}return""}function y_(e,t){return Gt(In,function(i){var a="_."+i[0];t&i[1]&&!Gs(e,a)&&e.push(a)}),e.sort()}function ld(e){if(e instanceof Te)return e.clone();var t=new gn(e.__wrapped__,e.__chain__);return t.__actions__=jt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function b_(e,t,i){(i?Ft(e,t,i):t===s)?t=1:t=ft(ye(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var d=0,h=0,m=T(Ko(a/t));d<a;)m[h++]=bn(e,d,d+=t);return m}function w_(e){for(var t=-1,i=e==null?0:e.length,a=0,d=[];++t<i;){var h=e[t];h&&(d[a++]=h)}return d}function E_(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),i=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Xn(ve(i)?jt(i):[i],Tt(t,1))}var x_=xe(function(e,t){return et(e)?to(e,Tt(t,1,et,!0)):[]}),A_=xe(function(e,t){var i=wn(t);return et(i)&&(i=s),et(e)?to(e,Tt(t,1,et,!0),ue(i,2)):[]}),T_=xe(function(e,t){var i=wn(t);return et(i)&&(i=s),et(e)?to(e,Tt(t,1,et,!0),s,i):[]});function C_(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===s?1:ye(t),bn(e,t<0?0:t,a)):[]}function S_(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===s?1:ye(t),t=a-t,bn(e,0,t<0?0:t)):[]}function O_(e,t){return e&&e.length?na(e,ue(t,3),!0,!0):[]}function I_(e,t){return e&&e.length?na(e,ue(t,3),!0):[]}function D_(e,t,i,a){var d=e==null?0:e.length;return d?(i&&typeof i!="number"&&Ft(e,t,i)&&(i=0,a=d),Eh(e,t,i,a)):[]}function ud(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var d=i==null?0:ye(i);return d<0&&(d=ft(a+d,0)),vs(e,ue(t,3),d)}function cd(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var d=a-1;return i!==s&&(d=ye(i),d=i<0?ft(a+d,0):Nt(d,a-1)),vs(e,ue(t,3),d,!0)}function dd(e){var t=e==null?0:e.length;return t?Tt(e,1):[]}function N_(e){var t=e==null?0:e.length;return t?Tt(e,Je):[]}function k_(e,t){var i=e==null?0:e.length;return i?(t=t===s?1:ye(t),Tt(e,t)):[]}function L_(e){for(var t=-1,i=e==null?0:e.length,a={};++t<i;){var d=e[t];a[d[0]]=d[1]}return a}function fd(e){return e&&e.length?e[0]:s}function $_(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var d=i==null?0:ye(i);return d<0&&(d=ft(a+d,0)),Bi(e,t,d)}function R_(e){var t=e==null?0:e.length;return t?bn(e,0,-1):[]}var P_=xe(function(e){var t=Ve(e,ql);return t.length&&t[0]===e[0]?Il(t):[]}),M_=xe(function(e){var t=wn(e),i=Ve(e,ql);return t===wn(i)?t=s:i.pop(),i.length&&i[0]===e[0]?Il(i,ue(t,2)):[]}),F_=xe(function(e){var t=wn(e),i=Ve(e,ql);return t=typeof t=="function"?t:s,t&&i.pop(),i.length&&i[0]===e[0]?Il(i,s,t):[]});function q_(e,t){return e==null?"":Rp.call(e,t)}function wn(e){var t=e==null?0:e.length;return t?e[t-1]:s}function B_(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var d=a;return i!==s&&(d=ye(i),d=d<0?ft(a+d,0):Nt(d,a-1)),t===t?Js(e,t,d):vs(e,Pe,d,!0)}function U_(e,t){return e&&e.length?xc(e,ye(t)):s}var W_=xe(pd);function pd(e,t){return e&&e.length&&t&&t.length?Ll(e,t):e}function H_(e,t,i){return e&&e.length&&t&&t.length?Ll(e,t,ue(i,2)):e}function V_(e,t,i){return e&&e.length&&t&&t.length?Ll(e,t,s,i):e}var z_=bi(function(e,t){var i=e==null?0:e.length,a=Tl(e,t);return Cc(e,Ve(t,function(d){return wi(d,i)?+d:d}).sort(Pc)),a});function K_(e,t){var i=[];if(!(e&&e.length))return i;var a=-1,d=[],h=e.length;for(t=ue(t,3);++a<h;){var m=e[a];t(m,a,e)&&(i.push(m),d.push(a))}return Cc(e,d),i}function Zl(e){return e==null?e:qp.call(e)}function Y_(e,t,i){var a=e==null?0:e.length;return a?(i&&typeof i!="number"&&Ft(e,t,i)?(t=0,i=a):(t=t==null?0:ye(t),i=i===s?a:ye(i)),bn(e,t,i)):[]}function G_(e,t){return ta(e,t)}function j_(e,t,i){return Pl(e,t,ue(i,2))}function Q_(e,t){var i=e==null?0:e.length;if(i){var a=ta(e,t);if(a<i&&Pn(e[a],t))return a}return-1}function X_(e,t){return ta(e,t,!0)}function J_(e,t,i){return Pl(e,t,ue(i,2),!0)}function Z_(e,t){var i=e==null?0:e.length;if(i){var a=ta(e,t,!0)-1;if(Pn(e[a],t))return a}return-1}function ev(e){return e&&e.length?Oc(e):[]}function tv(e,t){return e&&e.length?Oc(e,ue(t,2)):[]}function nv(e){var t=e==null?0:e.length;return t?bn(e,1,t):[]}function iv(e,t,i){return e&&e.length?(t=i||t===s?1:ye(t),bn(e,0,t<0?0:t)):[]}function sv(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===s?1:ye(t),t=a-t,bn(e,t<0?0:t,a)):[]}function rv(e,t){return e&&e.length?na(e,ue(t,3),!1,!0):[]}function ov(e,t){return e&&e.length?na(e,ue(t,3)):[]}var av=xe(function(e){return Yi(Tt(e,1,et,!0))}),lv=xe(function(e){var t=wn(e);return et(t)&&(t=s),Yi(Tt(e,1,et,!0),ue(t,2))}),uv=xe(function(e){var t=wn(e);return t=typeof t=="function"?t:s,Yi(Tt(e,1,et,!0),s,t)});function cv(e){return e&&e.length?Yi(e):[]}function dv(e,t){return e&&e.length?Yi(e,ue(t,2)):[]}function fv(e,t){return t=typeof t=="function"?t:s,e&&e.length?Yi(e,s,t):[]}function eu(e){if(!(e&&e.length))return[];var t=0;return e=It(e,function(i){if(et(i))return t=ft(i.length,t),!0}),Wi(t,function(i){return Ve(e,Qe(i))})}function hd(e,t){if(!(e&&e.length))return[];var i=eu(e);return t==null?i:Ve(i,function(a){return Rt(t,s,a)})}var pv=xe(function(e,t){return et(e)?to(e,t):[]}),hv=xe(function(e){return Fl(It(e,et))}),_v=xe(function(e){var t=wn(e);return et(t)&&(t=s),Fl(It(e,et),ue(t,2))}),vv=xe(function(e){var t=wn(e);return t=typeof t=="function"?t:s,Fl(It(e,et),s,t)}),mv=xe(eu);function gv(e,t){return kc(e||[],t||[],eo)}function yv(e,t){return kc(e||[],t||[],so)}var bv=xe(function(e){var t=e.length,i=t>1?e[t-1]:s;return i=typeof i=="function"?(e.pop(),i):s,hd(e,i)});function _d(e){var t=p(e);return t.__chain__=!0,t}function wv(e,t){return t(e),e}function da(e,t){return t(e)}var Ev=bi(function(e){var t=e.length,i=t?e[0]:0,a=this.__wrapped__,d=function(h){return Tl(h,e)};return t>1||this.__actions__.length||!(a instanceof Te)||!wi(i)?this.thru(d):(a=a.slice(i,+i+(t?1:0)),a.__actions__.push({func:da,args:[d],thisArg:s}),new gn(a,this.__chain__).thru(function(h){return t&&!h.length&&h.push(s),h}))});function xv(){return _d(this)}function Av(){return new gn(this.value(),this.__chain__)}function Tv(){this.__values__===s&&(this.__values__=Id(this.value()));var e=this.__index__>=this.__values__.length,t=e?s:this.__values__[this.__index__++];return{done:e,value:t}}function Cv(){return this}function Sv(e){for(var t,i=this;i instanceof Qo;){var a=ld(i);a.__index__=0,a.__values__=s,t?d.__wrapped__=a:t=a;var d=a;i=i.__wrapped__}return d.__wrapped__=e,t}function Ov(){var e=this.__wrapped__;if(e instanceof Te){var t=e;return this.__actions__.length&&(t=new Te(this)),t=t.reverse(),t.__actions__.push({func:da,args:[Zl],thisArg:s}),new gn(t,this.__chain__)}return this.thru(Zl)}function Iv(){return Nc(this.__wrapped__,this.__actions__)}var Dv=ia(function(e,t,i){R.call(e,i)?++e[i]:gi(e,i,1)});function Nv(e,t,i){var a=ve(e)?jn:wh;return i&&Ft(e,t,i)&&(t=s),a(e,ue(t,3))}function kv(e,t){var i=ve(e)?It:hc;return i(e,ue(t,3))}var Lv=Wc(ud),$v=Wc(cd);function Rv(e,t){return Tt(fa(e,t),1)}function Pv(e,t){return Tt(fa(e,t),Je)}function Mv(e,t,i){return i=i===s?1:ye(i),Tt(fa(e,t),i)}function vd(e,t){var i=ve(e)?Gt:Ki;return i(e,ue(t,3))}function md(e,t){var i=ve(e)?Pt:pc;return i(e,ue(t,3))}var Fv=ia(function(e,t,i){R.call(e,i)?e[i].push(t):gi(e,i,[t])});function qv(e,t,i,a){e=Qt(e)?e:lr(e),i=i&&!a?ye(i):0;var d=e.length;return i<0&&(i=ft(d+i,0)),ma(e)?i<=d&&e.indexOf(t,i)>-1:!!d&&Bi(e,t,i)>-1}var Bv=xe(function(e,t,i){var a=-1,d=typeof t=="function",h=Qt(e)?T(e.length):[];return Ki(e,function(m){h[++a]=d?Rt(t,m,i):no(m,t,i)}),h}),Uv=ia(function(e,t,i){gi(e,i,t)});function fa(e,t){var i=ve(e)?Ve:bc;return i(e,ue(t,3))}function Wv(e,t,i,a){return e==null?[]:(ve(t)||(t=t==null?[]:[t]),i=a?s:i,ve(i)||(i=i==null?[]:[i]),Ac(e,t,i))}var Hv=ia(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function Vv(e,t,i){var a=ve(e)?hi:Dt,d=arguments.length<3;return a(e,ue(t,4),i,d,Ki)}function zv(e,t,i){var a=ve(e)?js:Dt,d=arguments.length<3;return a(e,ue(t,4),i,d,pc)}function Kv(e,t){var i=ve(e)?It:hc;return i(e,_a(ue(t,3)))}function Yv(e){var t=ve(e)?uc:qh;return t(e)}function Gv(e,t,i){(i?Ft(e,t,i):t===s)?t=1:t=ye(t);var a=ve(e)?vh:Bh;return a(e,t)}function jv(e){var t=ve(e)?mh:Wh;return t(e)}function Qv(e){if(e==null)return 0;if(Qt(e))return ma(e)?$n(e):e.length;var t=kt(e);return t==We||t==_t?e.size:Nl(e).length}function Xv(e,t,i){var a=ve(e)?Jn:Hh;return i&&Ft(e,t,i)&&(t=s),a(e,ue(t,3))}var Jv=xe(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Ft(e,t[0],t[1])?t=[]:i>2&&Ft(t[0],t[1],t[2])&&(t=[t[0]]),Ac(e,Tt(t,1),[])}),pa=kp||function(){return ct.Date.now()};function Zv(e,t){if(typeof t!="function")throw new _(y);return e=ye(e),function(){if(--e<1)return t.apply(this,arguments)}}function gd(e,t,i){return t=i?s:t,t=e&&t==null?e.length:t,yi(e,fe,s,s,s,s,t)}function yd(e,t){var i;if(typeof t!="function")throw new _(y);return e=ye(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=s),i}}var tu=xe(function(e,t,i){var a=Z;if(i.length){var d=ei(i,or(tu));a|=B}return yi(e,a,t,i,d)}),bd=xe(function(e,t,i){var a=Z|L;if(i.length){var d=ei(i,or(bd));a|=B}return yi(t,a,e,i,d)});function wd(e,t,i){t=i?s:t;var a=yi(e,se,s,s,s,s,s,t);return a.placeholder=wd.placeholder,a}function Ed(e,t,i){t=i?s:t;var a=yi(e,F,s,s,s,s,s,t);return a.placeholder=Ed.placeholder,a}function xd(e,t,i){var a,d,h,m,g,E,P=0,M=!1,q=!1,G=!0;if(typeof e!="function")throw new _(y);t=En(t)||0,Ke(i)&&(M=!!i.leading,q="maxWait"in i,h=q?ft(En(i.maxWait)||0,t):h,G="trailing"in i?!!i.trailing:G);function ee(tt){var Mn=a,Ai=d;return a=d=s,P=tt,m=e.apply(Ai,Mn),m}function ce(tt){return P=tt,g=ao(Ae,t),M?ee(tt):m}function Ee(tt){var Mn=tt-E,Ai=tt-P,Wd=t-Mn;return q?Nt(Wd,h-Ai):Wd}function de(tt){var Mn=tt-E,Ai=tt-P;return E===s||Mn>=t||Mn<0||q&&Ai>=h}function Ae(){var tt=pa();if(de(tt))return Se(tt);g=ao(Ae,Ee(tt))}function Se(tt){return g=s,G&&a?ee(tt):(a=d=s,m)}function cn(){g!==s&&Lc(g),P=0,a=E=d=g=s}function qt(){return g===s?m:Se(pa())}function dn(){var tt=pa(),Mn=de(tt);if(a=arguments,d=this,E=tt,Mn){if(g===s)return ce(E);if(q)return Lc(g),g=ao(Ae,t),ee(E)}return g===s&&(g=ao(Ae,t)),m}return dn.cancel=cn,dn.flush=qt,dn}var em=xe(function(e,t){return fc(e,1,t)}),tm=xe(function(e,t,i){return fc(e,En(t)||0,i)});function nm(e){return yi(e,Le)}function ha(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new _(y);var i=function(){var a=arguments,d=t?t.apply(this,a):a[0],h=i.cache;if(h.has(d))return h.get(d);var m=e.apply(this,a);return i.cache=h.set(d,m)||h,m};return i.cache=new(ha.Cache||mi),i}ha.Cache=mi;function _a(e){if(typeof e!="function")throw new _(y);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function im(e){return yd(2,e)}var sm=Vh(function(e,t){t=t.length==1&&ve(t[0])?Ve(t[0],vt(ue())):Ve(Tt(t,1),vt(ue()));var i=t.length;return xe(function(a){for(var d=-1,h=Nt(a.length,i);++d<h;)a[d]=t[d].call(this,a[d]);return Rt(e,this,a)})}),nu=xe(function(e,t){var i=ei(t,or(nu));return yi(e,B,s,t,i)}),Ad=xe(function(e,t){var i=ei(t,or(Ad));return yi(e,J,s,t,i)}),rm=bi(function(e,t){return yi(e,ke,s,s,s,t)});function om(e,t){if(typeof e!="function")throw new _(y);return t=t===s?t:ye(t),xe(e,t)}function am(e,t){if(typeof e!="function")throw new _(y);return t=t==null?0:ft(ye(t),0),xe(function(i){var a=i[t],d=ji(i,0,t);return a&&Xn(d,a),Rt(e,this,d)})}function lm(e,t,i){var a=!0,d=!0;if(typeof e!="function")throw new _(y);return Ke(i)&&(a="leading"in i?!!i.leading:a,d="trailing"in i?!!i.trailing:d),xd(e,t,{leading:a,maxWait:t,trailing:d})}function um(e){return gd(e,1)}function cm(e,t){return nu(Bl(t),e)}function dm(){if(!arguments.length)return[];var e=arguments[0];return ve(e)?e:[e]}function fm(e){return yn(e,j)}function pm(e,t){return t=typeof t=="function"?t:s,yn(e,j,t)}function hm(e){return yn(e,z|j)}function _m(e,t){return t=typeof t=="function"?t:s,yn(e,z|j,t)}function vm(e,t){return t==null||dc(e,t,mt(t))}function Pn(e,t){return e===t||e!==e&&t!==t}var mm=aa(Ol),gm=aa(function(e,t){return e>=t}),Cs=mc((function(){return arguments})())?mc:function(e){return Xe(e)&&R.call(e,"callee")&&!ic.call(e,"callee")},ve=T.isArray,ym=qi?vt(qi):Sh;function Qt(e){return e!=null&&va(e.length)&&!Ei(e)}function et(e){return Xe(e)&&Qt(e)}function bm(e){return e===!0||e===!1||Xe(e)&&Mt(e)==ht}var Qi=$p||pu,wm=Hr?vt(Hr):Oh;function Em(e){return Xe(e)&&e.nodeType===1&&!lo(e)}function xm(e){if(e==null)return!0;if(Qt(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||Qi(e)||ar(e)||Cs(e)))return!e.length;var t=kt(e);if(t==We||t==_t)return!e.size;if(oo(e))return!Nl(e).length;for(var i in e)if(R.call(e,i))return!1;return!0}function Am(e,t){return io(e,t)}function Tm(e,t,i){i=typeof i=="function"?i:s;var a=i?i(e,t):s;return a===s?io(e,t,s,i):!!a}function iu(e){if(!Xe(e))return!1;var t=Mt(e);return t==Nn||t==Rs||typeof e.message=="string"&&typeof e.name=="string"&&!lo(e)}function Cm(e){return typeof e=="number"&&rc(e)}function Ei(e){if(!Ke(e))return!1;var t=Mt(e);return t==Vt||t==Me||t==Di||t==Sr}function Td(e){return typeof e=="number"&&e==ye(e)}function va(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lt}function Ke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Xe(e){return e!=null&&typeof e=="object"}var Cd=Vr?vt(Vr):Dh;function Sm(e,t){return e===t||Dl(e,t,Yl(t))}function Om(e,t,i){return i=typeof i=="function"?i:s,Dl(e,t,Yl(t),i)}function Im(e){return Sd(e)&&e!=+e}function Dm(e){if(p_(e))throw new pe(w);return gc(e)}function Nm(e){return e===null}function km(e){return e==null}function Sd(e){return typeof e=="number"||Xe(e)&&Mt(e)==bt}function lo(e){if(!Xe(e)||Mt(e)!=Kt)return!1;var t=Ho(e);if(t===null)return!0;var i=R.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&ae.call(i)==at}var su=Ys?vt(Ys):Nh;function Lm(e){return Td(e)&&e>=-Lt&&e<=Lt}var Od=$o?vt($o):kh;function ma(e){return typeof e=="string"||!ve(e)&&Xe(e)&&Mt(e)==Bn}function un(e){return typeof e=="symbol"||Xe(e)&&Mt(e)==tn}var ar=Ro?vt(Ro):Lh;function $m(e){return e===s}function Rm(e){return Xe(e)&&kt(e)==it}function Pm(e){return Xe(e)&&Mt(e)==Ps}var Mm=aa(kl),Fm=aa(function(e,t){return e<=t});function Id(e){if(!e)return[];if(Qt(e))return ma(e)?an(e):jt(e);if(jr&&e[jr])return Fo(e[jr]());var t=kt(e),i=t==We?Yr:t==_t?Xs:lr;return i(e)}function xi(e){if(!e)return e===0?e:0;if(e=En(e),e===Je||e===-Je){var t=e<0?-1:1;return t*Sn}return e===e?e:0}function ye(e){var t=xi(e),i=t%1;return t===t?i?t-i:t:0}function Dd(e){return e?Es(ye(e),0,St):0}function En(e){if(typeof e=="number")return e;if(un(e))return On;if(Ke(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ke(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ms(e);var i=Ga.test(e);return i||Co.test(e)?Fi(e.slice(2),i?2:8):Rr.test(e)?On:+e}function Nd(e){return ni(e,Xt(e))}function qm(e){return e?Es(ye(e),-Lt,Lt):e===0?e:0}function $e(e){return e==null?"":ln(e)}var Bm=sr(function(e,t){if(oo(t)||Qt(t)){ni(t,mt(t),e);return}for(var i in t)R.call(t,i)&&eo(e,i,t[i])}),kd=sr(function(e,t){ni(t,Xt(t),e)}),ga=sr(function(e,t,i,a){ni(t,Xt(t),e,a)}),Um=sr(function(e,t,i,a){ni(t,mt(t),e,a)}),Wm=bi(Tl);function Hm(e,t){var i=ir(e);return t==null?i:cc(i,t)}var Vm=xe(function(e,t){e=o(e);var i=-1,a=t.length,d=a>2?t[2]:s;for(d&&Ft(t[0],t[1],d)&&(a=1);++i<a;)for(var h=t[i],m=Xt(h),g=-1,E=m.length;++g<E;){var P=m[g],M=e[P];(M===s||Pn(M,I[P])&&!R.call(e,P))&&(e[P]=h[P])}return e}),zm=xe(function(e){return e.push(s,jc),Rt(Ld,s,e)});function Km(e,t){return zr(e,ue(t,3),ti)}function Ym(e,t){return zr(e,ue(t,3),Sl)}function Gm(e,t){return e==null?e:Cl(e,ue(t,3),Xt)}function jm(e,t){return e==null?e:_c(e,ue(t,3),Xt)}function Qm(e,t){return e&&ti(e,ue(t,3))}function Xm(e,t){return e&&Sl(e,ue(t,3))}function Jm(e){return e==null?[]:Zo(e,mt(e))}function Zm(e){return e==null?[]:Zo(e,Xt(e))}function ru(e,t,i){var a=e==null?s:xs(e,t);return a===s?i:a}function eg(e,t){return e!=null&&Jc(e,t,xh)}function ou(e,t){return e!=null&&Jc(e,t,Ah)}var tg=Vc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=le.call(t)),e[t]=i},lu(Jt)),ng=Vc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=le.call(t)),R.call(e,t)?e[t].push(i):e[t]=[i]},ue),ig=xe(no);function mt(e){return Qt(e)?lc(e):Nl(e)}function Xt(e){return Qt(e)?lc(e,!0):$h(e)}function sg(e,t){var i={};return t=ue(t,3),ti(e,function(a,d,h){gi(i,t(a,d,h),a)}),i}function rg(e,t){var i={};return t=ue(t,3),ti(e,function(a,d,h){gi(i,d,t(a,d,h))}),i}var og=sr(function(e,t,i){ea(e,t,i)}),Ld=sr(function(e,t,i,a){ea(e,t,i,a)}),ag=bi(function(e,t){var i={};if(e==null)return i;var a=!1;t=Ve(t,function(h){return h=Gi(h,e),a||(a=h.length>1),h}),ni(e,zl(e),i),a&&(i=yn(i,z|te|j,t_));for(var d=t.length;d--;)Ml(i,t[d]);return i});function lg(e,t){return $d(e,_a(ue(t)))}var ug=bi(function(e,t){return e==null?{}:Ph(e,t)});function $d(e,t){if(e==null)return{};var i=Ve(zl(e),function(a){return[a]});return t=ue(t),Tc(e,i,function(a,d){return t(a,d[0])})}function cg(e,t,i){t=Gi(t,e);var a=-1,d=t.length;for(d||(d=1,e=s);++a<d;){var h=e==null?s:e[ii(t[a])];h===s&&(a=d,h=i),e=Ei(h)?h.call(e):h}return e}function dg(e,t,i){return e==null?e:so(e,t,i)}function fg(e,t,i,a){return a=typeof a=="function"?a:s,e==null?e:so(e,t,i,a)}var Rd=Yc(mt),Pd=Yc(Xt);function pg(e,t,i){var a=ve(e),d=a||Qi(e)||ar(e);if(t=ue(t,4),i==null){var h=e&&e.constructor;d?i=a?new h:[]:Ke(e)?i=Ei(h)?ir(Ho(e)):{}:i={}}return(d?Gt:ti)(e,function(m,g,E){return t(i,m,g,E)}),i}function hg(e,t){return e==null?!0:Ml(e,t)}function _g(e,t,i){return e==null?e:Dc(e,t,Bl(i))}function vg(e,t,i,a){return a=typeof a=="function"?a:s,e==null?e:Dc(e,t,Bl(i),a)}function lr(e){return e==null?[]:_i(e,mt(e))}function mg(e){return e==null?[]:_i(e,Xt(e))}function gg(e,t,i){return i===s&&(i=t,t=s),i!==s&&(i=En(i),i=i===i?i:0),t!==s&&(t=En(t),t=t===t?t:0),Es(En(e),t,i)}function yg(e,t,i){return t=xi(t),i===s?(i=t,t=0):i=xi(i),e=En(e),Th(e,t,i)}function bg(e,t,i){if(i&&typeof i!="boolean"&&Ft(e,t,i)&&(t=i=s),i===s&&(typeof t=="boolean"?(i=t,t=s):typeof e=="boolean"&&(i=e,e=s)),e===s&&t===s?(e=0,t=1):(e=xi(e),t===s?(t=e,e=0):t=xi(t)),e>t){var a=e;e=t,t=a}if(i||e%1||t%1){var d=oc();return Nt(e+d*(t-e+Yn("1e-"+((d+"").length-1))),t)}return $l(e,t)}var wg=rr(function(e,t,i){return t=t.toLowerCase(),e+(i?Md(t):t)});function Md(e){return au($e(e).toLowerCase())}function Fd(e){return e=$e(e),e&&e.replace(Qa,Kr).replace(di,"")}function Eg(e,t,i){e=$e(e),t=ln(t);var a=e.length;i=i===s?a:Es(ye(i),0,a);var d=i;return i-=t.length,i>=0&&e.slice(i,d)==t}function xg(e){return e=$e(e),e&&ci.test(e)?e.replace($t,_l):e}function Ag(e){return e=$e(e),e&&za.test(e)?e.replace(nn,"\\$&"):e}var Tg=rr(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Cg=rr(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Sg=Uc("toLowerCase");function Og(e,t,i){e=$e(e),t=ye(t);var a=t?$n(e):0;if(!t||a>=t)return e;var d=(t-a)/2;return oa(Yo(d),i)+e+oa(Ko(d),i)}function Ig(e,t,i){e=$e(e),t=ye(t);var a=t?$n(e):0;return t&&a<t?e+oa(t-a,i):e}function Dg(e,t,i){e=$e(e),t=ye(t);var a=t?$n(e):0;return t&&a<t?oa(t-a,i)+e:e}function Ng(e,t,i){return i||t==null?t=0:t&&(t=+t),Fp($e(e).replace(Ni,""),t||0)}function kg(e,t,i){return(i?Ft(e,t,i):t===s)?t=1:t=ye(t),Rl($e(e),t)}function Lg(){var e=arguments,t=$e(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var $g=rr(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function Rg(e,t,i){return i&&typeof i!="number"&&Ft(e,t,i)&&(t=i=s),i=i===s?St:i>>>0,i?(e=$e(e),e&&(typeof t=="string"||t!=null&&!su(t))&&(t=ln(t),!t&&Hi(e))?ji(an(e),0,i):e.split(t,i)):[]}var Pg=rr(function(e,t,i){return e+(i?" ":"")+au(t)});function Mg(e,t,i){return e=$e(e),i=i==null?0:Es(ye(i),0,e.length),t=ln(t),e.slice(i,i+t.length)==t}function Fg(e,t,i){var a=p.templateSettings;i&&Ft(e,t,i)&&(t=s),e=$e(e),t=ga({},t,a,Gc);var d=ga({},t.imports,a.imports,Gc),h=mt(d),m=_i(d,h),g,E,P=0,M=t.interpolate||Et,q="__p += '",G=r((t.escape||Et).source+"|"+M.source+"|"+(M===st?ki:Et).source+"|"+(t.evaluate||Et).source+"|$","g"),ee="//# sourceURL="+(R.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ol+"]")+`
`;e.replace(G,function(de,Ae,Se,cn,qt,dn){return Se||(Se=cn),q+=e.slice(P,dn).replace(Li,vl),Ae&&(g=!0,q+=`' +
__e(`+Ae+`) +
'`),qt&&(E=!0,q+=`';
`+qt+`;
__p += '`),Se&&(q+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),P=dn+de.length,de}),q+=`';
`;var ce=R.call(t,"variable")&&t.variable;if(!ce)q=`with (obj) {
`+q+`
}
`;else if(kn.test(ce))throw new pe(C);q=(E?q.replace(Ha,""):q).replace(Nr,"$1").replace(Va,"$1;"),q="function("+(ce||"obj")+`) {
`+(ce?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var Ee=Bd(function(){return Ie(h,ee+"return "+q).apply(s,m)});if(Ee.source=q,iu(Ee))throw Ee;return Ee}function qg(e){return $e(e).toLowerCase()}function Bg(e){return $e(e).toUpperCase()}function Ug(e,t,i){if(e=$e(e),e&&(i||t===s))return ms(e);if(!e||!(t=ln(t)))return e;var a=an(e),d=an(t),h=Po(a,d),m=Mo(a,d)+1;return ji(a,h,m).join("")}function Wg(e,t,i){if(e=$e(e),e&&(i||t===s))return e.slice(0,Uo(e)+1);if(!e||!(t=ln(t)))return e;var a=an(e),d=Mo(a,an(t))+1;return ji(a,0,d).join("")}function Hg(e,t,i){if(e=$e(e),e&&(i||t===s))return e.replace(Ni,"");if(!e||!(t=ln(t)))return e;var a=an(e),d=Po(a,an(t));return ji(a,d).join("")}function Vg(e,t){var i=_e,a=ze;if(Ke(t)){var d="separator"in t?t.separator:d;i="length"in t?ye(t.length):i,a="omission"in t?ln(t.omission):a}e=$e(e);var h=e.length;if(Hi(e)){var m=an(e);h=m.length}if(i>=h)return e;var g=i-$n(a);if(g<1)return a;var E=m?ji(m,0,g).join(""):e.slice(0,g);if(d===s)return E+a;if(m&&(g+=E.length-g),su(d)){if(e.slice(g).search(d)){var P,M=E;for(d.global||(d=r(d.source,$e(ls.exec(d))+"g")),d.lastIndex=0;P=d.exec(M);)var q=P.index;E=E.slice(0,q===s?g:q)}}else if(e.indexOf(ln(d),g)!=g){var G=E.lastIndexOf(d);G>-1&&(E=E.slice(0,G))}return E+a}function zg(e){return e=$e(e),e&&ui.test(e)?e.replace(xo,Zs):e}var Kg=rr(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),au=Uc("toUpperCase");function qd(e,t,i){return e=$e(e),t=i?s:t,t===s?gl(e)?bl(e):pl(e):e.match(t)||[]}var Bd=xe(function(e,t){try{return Rt(e,s,t)}catch(i){return iu(i)?i:new pe(i)}}),Yg=bi(function(e,t){return Gt(t,function(i){i=ii(i),gi(e,i,tu(e[i],e))}),e});function Gg(e){var t=e==null?0:e.length,i=ue();return e=t?Ve(e,function(a){if(typeof a[1]!="function")throw new _(y);return[i(a[0]),a[1]]}):[],xe(function(a){for(var d=-1;++d<t;){var h=e[d];if(Rt(h[0],this,a))return Rt(h[1],this,a)}})}function jg(e){return bh(yn(e,z))}function lu(e){return function(){return e}}function Qg(e,t){return e==null||e!==e?t:e}var Xg=Hc(),Jg=Hc(!0);function Jt(e){return e}function uu(e){return yc(typeof e=="function"?e:yn(e,z))}function Zg(e){return wc(yn(e,z))}function ey(e,t){return Ec(e,yn(t,z))}var ty=xe(function(e,t){return function(i){return no(i,e,t)}}),ny=xe(function(e,t){return function(i){return no(e,i,t)}});function cu(e,t,i){var a=mt(t),d=Zo(t,a);i==null&&!(Ke(t)&&(d.length||!a.length))&&(i=t,t=e,e=this,d=Zo(t,mt(t)));var h=!(Ke(i)&&"chain"in i)||!!i.chain,m=Ei(e);return Gt(d,function(g){var E=t[g];e[g]=E,m&&(e.prototype[g]=function(){var P=this.__chain__;if(h||P){var M=e(this.__wrapped__),q=M.__actions__=jt(this.__actions__);return q.push({func:E,args:arguments,thisArg:e}),M.__chain__=P,M}return E.apply(e,Xn([this.value()],arguments))})}),e}function iy(){return ct._===this&&(ct._=Oe),this}function du(){}function sy(e){return e=ye(e),xe(function(t){return xc(t,e)})}var ry=Wl(Ve),oy=Wl(jn),ay=Wl(Jn);function Ud(e){return jl(e)?Qe(ii(e)):Mh(e)}function ly(e){return function(t){return e==null?s:xs(e,t)}}var uy=zc(),cy=zc(!0);function fu(){return[]}function pu(){return!1}function dy(){return{}}function fy(){return""}function py(){return!0}function hy(e,t){if(e=ye(e),e<1||e>Lt)return[];var i=St,a=Nt(e,St);t=ue(t),e-=St;for(var d=Wi(a,t);++i<e;)t(i);return d}function _y(e){return ve(e)?Ve(e,ii):un(e)?[e]:jt(ad($e(e)))}function vy(e){var t=++we;return $e(e)+t}var my=ra(function(e,t){return e+t},0),gy=Hl("ceil"),yy=ra(function(e,t){return e/t},1),by=Hl("floor");function wy(e){return e&&e.length?Jo(e,Jt,Ol):s}function Ey(e,t){return e&&e.length?Jo(e,ue(t,2),Ol):s}function xy(e){return qe(e,Jt)}function Ay(e,t){return qe(e,ue(t,2))}function Ty(e){return e&&e.length?Jo(e,Jt,kl):s}function Cy(e,t){return e&&e.length?Jo(e,ue(t,2),kl):s}var Sy=ra(function(e,t){return e*t},1),Oy=Hl("round"),Iy=ra(function(e,t){return e-t},0);function Dy(e){return e&&e.length?vn(e,Jt):0}function Ny(e,t){return e&&e.length?vn(e,ue(t,2)):0}return p.after=Zv,p.ary=gd,p.assign=Bm,p.assignIn=kd,p.assignInWith=ga,p.assignWith=Um,p.at=Wm,p.before=yd,p.bind=tu,p.bindAll=Yg,p.bindKey=bd,p.castArray=dm,p.chain=_d,p.chunk=b_,p.compact=w_,p.concat=E_,p.cond=Gg,p.conforms=jg,p.constant=lu,p.countBy=Dv,p.create=Hm,p.curry=wd,p.curryRight=Ed,p.debounce=xd,p.defaults=Vm,p.defaultsDeep=zm,p.defer=em,p.delay=tm,p.difference=x_,p.differenceBy=A_,p.differenceWith=T_,p.drop=C_,p.dropRight=S_,p.dropRightWhile=O_,p.dropWhile=I_,p.fill=D_,p.filter=kv,p.flatMap=Rv,p.flatMapDeep=Pv,p.flatMapDepth=Mv,p.flatten=dd,p.flattenDeep=N_,p.flattenDepth=k_,p.flip=nm,p.flow=Xg,p.flowRight=Jg,p.fromPairs=L_,p.functions=Jm,p.functionsIn=Zm,p.groupBy=Fv,p.initial=R_,p.intersection=P_,p.intersectionBy=M_,p.intersectionWith=F_,p.invert=tg,p.invertBy=ng,p.invokeMap=Bv,p.iteratee=uu,p.keyBy=Uv,p.keys=mt,p.keysIn=Xt,p.map=fa,p.mapKeys=sg,p.mapValues=rg,p.matches=Zg,p.matchesProperty=ey,p.memoize=ha,p.merge=og,p.mergeWith=Ld,p.method=ty,p.methodOf=ny,p.mixin=cu,p.negate=_a,p.nthArg=sy,p.omit=ag,p.omitBy=lg,p.once=im,p.orderBy=Wv,p.over=ry,p.overArgs=sm,p.overEvery=oy,p.overSome=ay,p.partial=nu,p.partialRight=Ad,p.partition=Hv,p.pick=ug,p.pickBy=$d,p.property=Ud,p.propertyOf=ly,p.pull=W_,p.pullAll=pd,p.pullAllBy=H_,p.pullAllWith=V_,p.pullAt=z_,p.range=uy,p.rangeRight=cy,p.rearg=rm,p.reject=Kv,p.remove=K_,p.rest=om,p.reverse=Zl,p.sampleSize=Gv,p.set=dg,p.setWith=fg,p.shuffle=jv,p.slice=Y_,p.sortBy=Jv,p.sortedUniq=ev,p.sortedUniqBy=tv,p.split=Rg,p.spread=am,p.tail=nv,p.take=iv,p.takeRight=sv,p.takeRightWhile=rv,p.takeWhile=ov,p.tap=wv,p.throttle=lm,p.thru=da,p.toArray=Id,p.toPairs=Rd,p.toPairsIn=Pd,p.toPath=_y,p.toPlainObject=Nd,p.transform=pg,p.unary=um,p.union=av,p.unionBy=lv,p.unionWith=uv,p.uniq=cv,p.uniqBy=dv,p.uniqWith=fv,p.unset=hg,p.unzip=eu,p.unzipWith=hd,p.update=_g,p.updateWith=vg,p.values=lr,p.valuesIn=mg,p.without=pv,p.words=qd,p.wrap=cm,p.xor=hv,p.xorBy=_v,p.xorWith=vv,p.zip=mv,p.zipObject=gv,p.zipObjectDeep=yv,p.zipWith=bv,p.entries=Rd,p.entriesIn=Pd,p.extend=kd,p.extendWith=ga,cu(p,p),p.add=my,p.attempt=Bd,p.camelCase=wg,p.capitalize=Md,p.ceil=gy,p.clamp=gg,p.clone=fm,p.cloneDeep=hm,p.cloneDeepWith=_m,p.cloneWith=pm,p.conformsTo=vm,p.deburr=Fd,p.defaultTo=Qg,p.divide=yy,p.endsWith=Eg,p.eq=Pn,p.escape=xg,p.escapeRegExp=Ag,p.every=Nv,p.find=Lv,p.findIndex=ud,p.findKey=Km,p.findLast=$v,p.findLastIndex=cd,p.findLastKey=Ym,p.floor=by,p.forEach=vd,p.forEachRight=md,p.forIn=Gm,p.forInRight=jm,p.forOwn=Qm,p.forOwnRight=Xm,p.get=ru,p.gt=mm,p.gte=gm,p.has=eg,p.hasIn=ou,p.head=fd,p.identity=Jt,p.includes=qv,p.indexOf=$_,p.inRange=yg,p.invoke=ig,p.isArguments=Cs,p.isArray=ve,p.isArrayBuffer=ym,p.isArrayLike=Qt,p.isArrayLikeObject=et,p.isBoolean=bm,p.isBuffer=Qi,p.isDate=wm,p.isElement=Em,p.isEmpty=xm,p.isEqual=Am,p.isEqualWith=Tm,p.isError=iu,p.isFinite=Cm,p.isFunction=Ei,p.isInteger=Td,p.isLength=va,p.isMap=Cd,p.isMatch=Sm,p.isMatchWith=Om,p.isNaN=Im,p.isNative=Dm,p.isNil=km,p.isNull=Nm,p.isNumber=Sd,p.isObject=Ke,p.isObjectLike=Xe,p.isPlainObject=lo,p.isRegExp=su,p.isSafeInteger=Lm,p.isSet=Od,p.isString=ma,p.isSymbol=un,p.isTypedArray=ar,p.isUndefined=$m,p.isWeakMap=Rm,p.isWeakSet=Pm,p.join=q_,p.kebabCase=Tg,p.last=wn,p.lastIndexOf=B_,p.lowerCase=Cg,p.lowerFirst=Sg,p.lt=Mm,p.lte=Fm,p.max=wy,p.maxBy=Ey,p.mean=xy,p.meanBy=Ay,p.min=Ty,p.minBy=Cy,p.stubArray=fu,p.stubFalse=pu,p.stubObject=dy,p.stubString=fy,p.stubTrue=py,p.multiply=Sy,p.nth=U_,p.noConflict=iy,p.noop=du,p.now=pa,p.pad=Og,p.padEnd=Ig,p.padStart=Dg,p.parseInt=Ng,p.random=bg,p.reduce=Vv,p.reduceRight=zv,p.repeat=kg,p.replace=Lg,p.result=cg,p.round=Oy,p.runInContext=b,p.sample=Yv,p.size=Qv,p.snakeCase=$g,p.some=Xv,p.sortedIndex=G_,p.sortedIndexBy=j_,p.sortedIndexOf=Q_,p.sortedLastIndex=X_,p.sortedLastIndexBy=J_,p.sortedLastIndexOf=Z_,p.startCase=Pg,p.startsWith=Mg,p.subtract=Iy,p.sum=Dy,p.sumBy=Ny,p.template=Fg,p.times=hy,p.toFinite=xi,p.toInteger=ye,p.toLength=Dd,p.toLower=qg,p.toNumber=En,p.toSafeInteger=qm,p.toString=$e,p.toUpper=Bg,p.trim=Ug,p.trimEnd=Wg,p.trimStart=Hg,p.truncate=Vg,p.unescape=zg,p.uniqueId=vy,p.upperCase=Kg,p.upperFirst=au,p.each=vd,p.eachRight=md,p.first=fd,cu(p,(function(){var e={};return ti(p,function(t,i){R.call(p.prototype,i)||(e[i]=t)}),e})(),{chain:!1}),p.VERSION=f,Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Gt(["drop","take"],function(e,t){Te.prototype[e]=function(i){i=i===s?1:ft(ye(i),0);var a=this.__filtered__&&!t?new Te(this):this.clone();return a.__filtered__?a.__takeCount__=Nt(i,a.__takeCount__):a.__views__.push({size:Nt(i,St),type:e+(a.__dir__<0?"Right":"")}),a},Te.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),Gt(["filter","map","takeWhile"],function(e,t){var i=t+1,a=i==Ct||i==gt;Te.prototype[e]=function(d){var h=this.clone();return h.__iteratees__.push({iteratee:ue(d,3),type:i}),h.__filtered__=h.__filtered__||a,h}}),Gt(["head","last"],function(e,t){var i="take"+(t?"Right":"");Te.prototype[e]=function(){return this[i](1).value()[0]}}),Gt(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[i](1)}}),Te.prototype.compact=function(){return this.filter(Jt)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=xe(function(e,t){return typeof e=="function"?new Te(this):this.map(function(i){return no(i,e,t)})}),Te.prototype.reject=function(e){return this.filter(_a(ue(e)))},Te.prototype.slice=function(e,t){e=ye(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Te(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==s&&(t=ye(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(St)},ti(Te.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),d=p[a?"take"+(t=="last"?"Right":""):t],h=a||/^find/.test(t);d&&(p.prototype[t]=function(){var m=this.__wrapped__,g=a?[1]:arguments,E=m instanceof Te,P=g[0],M=E||ve(m),q=function(Ae){var Se=d.apply(p,Xn([Ae],g));return a&&G?Se[0]:Se};M&&i&&typeof P=="function"&&P.length!=1&&(E=M=!1);var G=this.__chain__,ee=!!this.__actions__.length,ce=h&&!G,Ee=E&&!ee;if(!h&&M){m=Ee?m:new Te(this);var de=e.apply(m,g);return de.__actions__.push({func:da,args:[q],thisArg:s}),new gn(de,G)}return ce&&Ee?e.apply(this,g):(de=this.thru(q),ce?a?de.value()[0]:de.value():de)})}),Gt(["pop","push","shift","sort","splice","unshift"],function(e){var t=x[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var d=arguments;if(a&&!this.__chain__){var h=this.value();return t.apply(ve(h)?h:[],d)}return this[i](function(m){return t.apply(ve(m)?m:[],d)})}}),ti(Te.prototype,function(e,t){var i=p[t];if(i){var a=i.name+"";R.call(nr,a)||(nr[a]=[]),nr[a].push({name:t,func:i})}}),nr[sa(s,L).name]=[{name:"wrapper",func:s}],Te.prototype.clone=zp,Te.prototype.reverse=Kp,Te.prototype.value=Yp,p.prototype.at=Ev,p.prototype.chain=xv,p.prototype.commit=Av,p.prototype.next=Tv,p.prototype.plant=Sv,p.prototype.reverse=Ov,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=Iv,p.prototype.first=p.prototype.head,jr&&(p.prototype[jr]=Cv),p}),zi=gs();Gn?((Gn.exports=zi)._=zi,Ur._=zi):ct._=zi}).call(jE)})(po,po.exports)),po.exports}var vo=QE();function XE(u){let n=null,s=null,f=new Map;const v=z=>JSON.stringify(z),w=async(z,te,j,ne)=>{if(ne===(j==="cart"?n:s))return{success:!0,skipped:!0};if(f.has(j))return console.log(`⏳ Skipping duplicate ${j} request`),{success:!1,skipped:!0};const ie=new AbortController,Z=setTimeout(()=>ie.abort(),5e3);f.set(j,!0);try{const L=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(te),signal:ie.signal});if(clearTimeout(Z),!L.ok)throw new Error(`HTTP ${L.status}`);const Y=await L.json();return j==="cart"?n=ne:s=ne,console.log(`✅ ${j} updated - v${Y.version}`),{success:!0,data:Y}}catch(L){return L.name==="AbortError"?console.warn(`⚠️ ${j} update timeout`):console.error(`❌ Failed to update ${j}:`,L.message),{success:!1,error:L}}finally{f.delete(j)}},y=vo.debounce(async z=>{const te=v(z);await w("/api/pos/terminal/update-cart",{terminal_id:u,cart:z},"cart",te)},800),C=vo.debounce(async z=>{const te=v(z);await w("/api/pos/terminal/update-ui",{terminal_id:u,ui:z},"ui",te)},300),A=async z=>{const te=v(z);return await w("/api/pos/terminal/update-cart",{terminal_id:u,cart:z},"cart",te)},W=vo.debounce(async(z,te)=>{const j=v(z),ne=v(te);if(j===n&&ne===s)return{success:!0,skipped:!0};const ie=new AbortController,Z=setTimeout(()=>ie.abort(),5e3);try{const L=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:u,cart:z,ui:te}),signal:ie.signal});if(clearTimeout(Z),!L.ok)throw new Error(`HTTP ${L.status}`);const Y=await L.json();return n=j,s=ne,console.log(`✅ Batch update successful - v${Y.version}`),{success:!0,data:Y}}catch(L){return console.error("❌ Batch update failed:",L.message),{success:!1,error:L}}},500);return{broadcastCartUpdate:y,broadcastUIUpdate:C,broadcastImmediateCartUpdate:A,broadcastBatchUpdate:W,clearBroadcastCache:()=>{n=null,s=null,f.clear(),console.log("🧹 Broadcast cache cleared")}}}const JE={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)","z-index":"9999"}},ZE={class:"modal-dialog modal-lg modal-dialog-centered"},ex={class:"modal-content"},tx={class:"modal-header bg-warning text-dark"},nx={class:"modal-body"},ix={key:0,class:"alert alert-info mb-3"},sx={class:"mb-0"},rx={key:1,class:"alert alert-danger"},ox={class:"text-muted"},ax={key:2},lx={class:"fw-bold"},ux={key:0,class:"badge bg-secondary ms-2"},cx={class:"table table-sm table-bordered"},dx={class:"text-end"},fx={class:"text-end"},px={class:"text-end text-danger fw-bold"},hx={class:"modal-footer"},_x={__name:"ConfirmMissingIngredientsModal",props:{show:Boolean,missingIngredients:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(u,{emit:n}){const s=u,f=n;Ss(()=>s.show,C=>{console.log("📺 Modal show changed:",C),C&&console.log("📦 Missing ingredients:",s.missingIngredients)},{immediate:!0}),Ss(()=>s.missingIngredients,C=>{console.log("📊 Missing ingredients changed:",C),console.log("📊 Array length:",C?.length),console.log("📊 Is array?:",Array.isArray(C))},{immediate:!0,deep:!0});const v=Ce(()=>{if(console.log("🔄 Computing groupedByItem"),console.log("🔄 Input missingIngredients:",s.missingIngredients),!Array.isArray(s.missingIngredients)||s.missingIngredients.length===0)return console.log("⚠️ No ingredients to group (not array or empty)"),{};const C={};return s.missingIngredients.forEach((A,W)=>{console.log(`📝 Processing ingredient ${W}:`,A);const $=`${A.item_id}-${A.variant_id||"default"}`;C[$]||(C[$]={item_title:A.item_title,variant_name:A.variant_name,ingredients:[]}),C[$].ingredients.push(A)}),console.log("✅ Final grouped data:",C),C}),w=Ce(()=>s.missingIngredients&&s.missingIngredients.length>0),y=Ce(()=>Object.keys(v.value).length);return(C,A)=>u.show?lt((S(),O("div",JE,[c("div",ZE,[c("div",ex,[c("div",tx,[A[4]||(A[4]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-exclamation-triangle-fill me-2"}),ge(" Ingredient Shortage Warning ")],-1)),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:A[0]||(A[0]=W=>f("close"))},[...A[3]||(A[3]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",nx,[w.value?re("",!0):(S(),O("div",ix,[A[5]||(A[5]=c("strong",null,"Debug Info:",-1)),c("ul",sx,[c("li",null,"Has data: "+k(w.value),1),c("li",null,"Array length: "+k(u.missingIngredients?.length||0),1),c("li",null,"Is array: "+k(Array.isArray(u.missingIngredients)),1),c("li",null,"Group count: "+k(y.value),1)])])),A[10]||(A[10]=c("div",{class:"alert alert-warning"},[c("strong",null,"Warning:"),ge(" The following items have ingredient shortages. The order can still be placed, but pending ingredient deductions will be recorded and automatically deducted when stock arrives. ")],-1)),w.value?(S(),O("div",ax,[(S(!0),O(Ne,null,Ye(v.value,(W,$)=>(S(),O("div",{key:$,class:"mb-4"},[c("h6",lx,[ge(k(W.item_title)+" ",1),W.variant_name?(S(),O("span",ux,k(W.variant_name),1)):re("",!0)]),c("table",cx,[A[9]||(A[9]=c("thead",{class:"table-light"},[c("tr",null,[c("th",null,"Ingredient"),c("th",{class:"text-end"},"Required"),c("th",{class:"text-end"},"Available"),c("th",{class:"text-end"},"Short")])],-1)),c("tbody",null,[(S(!0),O(Ne,null,Ye(W.ingredients,z=>(S(),O("tr",{key:z.inventory_item_id},[c("td",null,k(z.inventory_item_name),1),c("td",dx,k(z.required_quantity)+" "+k(z.unit),1),c("td",fx,k(z.available_quantity)+" "+k(z.unit),1),c("td",px,k(z.shortage_quantity)+" "+k(z.unit),1)]))),128))])])]))),128))])):(S(),O("div",rx,[A[6]||(A[6]=c("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),A[7]||(A[7]=ge(" No missing ingredient data available. ",-1)),A[8]||(A[8]=c("br",null,null,-1)),c("small",ox," Received "+k(u.missingIngredients?.length||0)+" ingredient(s) ",1)]))]),c("div",hx,[c("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:A[1]||(A[1]=W=>f("close"))}," Cancel Order "),c("button",{type:"button",class:"btn btn-primary px-4 py-2",onClick:A[2]||(A[2]=W=>f("confirm"))}," Proceed Anyway ")])])])],512)),[[Zi,u.show]]):re("",!0)}},vx={class:"page-wrapper"},mx={class:"container-fluid px-3 py-3"},gx={class:"row gx-3 gy-3"},yx={key:0,class:"row g-3 tablet-screen"},bx={class:"d-flex justify-content-between justify align-items-center mb-3"},wx={style:{width:"250px",position:"relative"}},Ex={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},xx={key:0,class:"col-12 text-center py-5"},Ax={class:"col-6 col-md-4 col-lg-4 category-cards"},Tx={class:"cat-pill"},Cx=["onClick"],Sx={class:"cat-icon-wrap"},Ox={class:"cat-icon"},Ix=["src"],Dx={key:1},Nx={class:"cat-name"},kx={class:"cat-pill"},Lx={key:0,class:"col-12"},$x={key:1},Rx={class:"d-flex flex-wrap gap-2 align-items-center mb-4"},Px={class:"fw-bold mb-0"},Mx={key:0,class:"d-flex gap-2 ms-auto align-items-center"},Fx={class:"search-wrap position-relative"},qx={key:0,class:"col-12"},Bx={class:"alert alert-warning border-0 rounded-4 text-center py-5"},Ux={class:"text-muted mb-3"},Wx={key:1,class:"row g-3"},Hx={key:0,class:"col-12 text-center py-5"},Vx={class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:{"border-color":"#dc3545"}},zx={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},Kx=["src"],Yx={class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold bg-danger",style:{"font-size":"0.58rem","letter-spacing":"0.3px"}},Gx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},jx={class:"h5 fw-bold mb-2 menu-name text-danger"},Qx={class:"mb-3"},Xx={class:"d-flex flex-wrap gap-1"},Jx={class:"mt-2"},Zx=["onClick"],eA=["onClick","disabled"],tA={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},nA=["onClick"],iA={key:0,class:"col-12"},sA={key:2,class:"row g-3"},rA={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},oA=["src"],aA={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},lA={key:0,class:"text-muted text-decoration-line-through me-1"},uA={class:"fw-bold text-success me-2"},cA={key:1,class:"text-muted text-decoration-line-through me-1"},dA={class:"fw-bold text-success"},fA={class:"text-decoration-line-through opacity-75 me-1"},pA={class:"fw-bold text-white"},hA={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},_A={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},vA={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},mA={key:0,class:"mb-3"},gA=["onUpdate:modelValue","onChange"],yA=["value"],bA={key:1},wA={class:"form-label small fw-semibold mb-2"},EA={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},xA={key:0,class:"d-flex flex-wrap gap-1"},AA={key:1},TA={class:"d-flex justify-content-between align-items-center w-100"},CA={class:"fw-semibold text-success"},SA=["onClick"],OA=["onClick","disabled"],IA={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},DA=["onClick"],NA={key:0,class:"col-lg-4 right-cart"},kA={class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},LA={key:0,class:"badge bg-danger ms-1"},$A={class:"cart card border-0 shadow-lg rounded-4"},RA={class:"cart-header"},PA={class:"order-type"},MA=["onClick"],FA={class:"cart-body"},qA={class:"mb-3"},BA={key:0,class:"row g-2"},UA={class:"col-6 table-dropdown"},WA=["value"],HA={key:0,class:"invalid-feedback d-block"},VA={class:"col-6 table-dropdown"},zA={key:1},KA={key:0,class:"invalid-feedback d-block"},YA={key:2,class:"mt-2"},GA={key:0,class:"invalid-feedback d-block"},jA={key:1,class:"invalid-feedback d-block"},QA={class:"cart-lines"},XA={key:0,class:"empty"},JA={class:"line-left"},ZA=["src"],eT={class:"meta"},tT=["title"],nT={key:0},iT={class:"badge bg-success",style:{"font-size":"0.65rem"}},sT={key:1,class:"addon-icons mt-1"},rT=["onClick","title"],oT={class:"text-muted small"},aT={key:2,class:"badge bg-success mt-1 ms-1",style:{"font-size":"0.65rem"}},lT={key:3,class:"mt-1"},uT={class:"badge",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},cT={key:4,class:"note"},dT={class:"line-right"},fT={class:"qty-controls"},pT=["onClick"],hT={class:"qty"},_T=["onClick"],vT={class:"price-delete"},mT={class:"price"},gT=["onClick"],yT={class:"totals"},bT={class:"trow"},wT={class:"sub-total"},ET={key:0,class:"trow"},xT={class:"text-info"},AT={key:1,class:"trow"},TT={class:"fw-semibold"},CT={key:2,class:"trow"},ST={class:"fw-semibold"},OT={key:3,class:"trow"},IT={class:"text-danger"},DT={key:4,class:"promos-section mb-3"},NT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},kT={class:"d-flex justify-content-between align-items-center"},LT={class:"text-success fs-6"},$T={key:5,class:"pending-discounts-section mb-3"},RT={class:"d-flex align-items-center gap-2 text-warning"},PT={class:"text-warning"},MT={key:6,class:"approved-discounts-section mb-3"},FT={class:"trow border-top pt-2 mt-2"},qT={class:"text-success"},BT={class:"trow total"},UT={class:"mb-3"},WT={class:"mb-3"},HT={class:"cart-footer"},VT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},zT={class:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable"},KT={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},YT={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},GT={class:"fw-bold mb-0"},jT={class:"px-3 pt-2 progress-bar"},QT={class:"stepper-container position-relative",style:{"min-height":"60px"}},XT={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},JT={key:1,style:{"font-size":"0.75rem"}},ZT={class:"modal-body px-3 py-2"},eC={class:"row g-3 mb-3"},tC={class:"col-lg-5"},nC={class:"position-relative mb-3"},iC=["src"],sC={key:0,class:"badge bg-danger px-2 py-1 position-absolute top-0 end-0 rounded-end-0 rounded-bottom-0 shadow-sm",style:{"font-size":"0.7rem"}},rC={class:"rounded-3 border shadow-sm p-3 bg-white"},oC={class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},aC={key:0,class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},lC={class:"text-success"},uC={class:"d-flex justify-content-between",style:{"font-size":"1rem"}},cC={class:"fw-bold text-primary"},dC={class:"col-lg-7"},fC={class:"px-1"},pC={class:"step-content"},hC={class:"row g-2"},_C=["onClick"],vC={class:"d-flex justify-content-between align-items-center"},mC={class:"fw-bold mb-0",style:{"font-size":"0.85rem"}},gC={class:"d-flex justify-content-between align-items-center gap-2"},yC={key:0,class:"text-primary"},bC={style:{"font-size":"0.9rem"}},wC={class:"step-content"},EC={class:"row g-2"},xC=["id","checked","disabled","onChange"],AC=["for"],TC={class:"step-content"},CC={class:"fw-semibold mb-2 d-flex justify-content-between",style:{"font-size":"0.85rem"}},SC={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},OC={class:"row g-2"},IC={class:"d-flex align-items-center flex-grow-1"},DC=["id","checked","onChange"],NC=["for"],kC={class:"text-success fw-semibold ms-1"},LC={key:0,class:"d-flex align-items-center gap-2"},$C=["onClick","disabled"],RC={class:"fw-bold",style:{"min-width":"25px","text-align":"center","font-size":"0.9rem"}},PC=["onClick"],MC={class:"step-content"},FC={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},qC={key:0,class:"summary-item"},BC={class:"summary-value"},UC={key:1,class:"summary-item"},WC={class:"summary-value"},HC={key:2,class:"summary-item"},VC={class:"summary-value"},zC={class:"d-flex align-items-center mb-3"},KC={class:"qty-group gap-1"},YC=["disabled"],GC={class:"qty-box rounded-pill"},jC={class:"mb-2"},QC={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},XC={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end gap-2"},JC={class:"modal fade",id:"customizeDealModal",tabindex:"-1","aria-hidden":"true"},ZC={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},eS={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},tS={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},nS={class:"fw-bold mb-0"},iS={class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},sS={class:"px-3 pt-2 progress-bar"},rS={class:"stepper-container position-relative",style:{"min-height":"60px"}},oS={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},aS={key:1,style:{"font-size":"0.75rem"}},lS={class:"modal-body px-3 py-2"},uS={class:"row g-3 mb-3"},cS={class:"col-lg-4"},dS={class:"position-relative mb-3"},fS=["src"],pS={class:"badge bg-danger position-absolute top-0 end-0 m-2"},hS={key:0},_S={key:1},vS={class:"rounded-3 border shadow-sm p-3 bg-white mb-3"},mS={class:"fw-bold mb-2 d-flex align-content-center",style:{"font-size":"0.9rem"}},gS={class:"d-flex align-items-center"},yS={class:"flex-grow-1"},bS={class:"text-muted small"},wS={key:0,class:"text-success small fw-semibold"},ES={class:"fw-bold text-primary"},xS={class:"rounded-3 border shadow-sm p-3 bg-white"},AS={class:"list-group list-group-flush"},TS={class:"d-flex align-items-center"},CS={key:0,class:"bi bi-check-circle-fill text-success me-2"},SS={key:2,class:"bi bi-circle text-muted me-2"},OS={class:"col-lg-8"},IS={class:"px-1"},DS={class:"step-content"},NS={class:"d-flex align-items-start mb-2"},kS={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},LS={class:"row g-2"},$S=["id","checked","disabled","onChange"],RS=["for"],PS={class:"step-content"},MS={class:"d-flex align-items-start mb-2"},FS={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},qS={class:"fw-semibold mb-1 d-flex justify-content-between",style:{"font-size":"0.85rem"}},BS={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},US={class:"step-content"},WS={class:"d-flex align-items-start mb-2"},HS={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},VS={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},zS={class:"summary-item"},KS={class:"summary-value"},YS={class:"summary-item"},GS={class:"summary-value"},jS={key:0,class:"summary-item"},QS={class:"summary-value text-danger"},XS={key:1,class:"summary-item"},JS={class:"summary-value text-success"},ZS={key:2,class:"summary-item"},eO={class:"summary-value text-success fw-bold"},tO={class:"summary-item border-top pt-2 mt-2"},nO={class:"summary-value fw-bold text-primary"},iO={class:"mb-2"},sO={class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},rO={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},oO={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end"},aO={class:"d-flex gap-2"},lO={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},uO={class:"modal-dialog modal-lg modal-dialog-centered"},cO={class:"modal-content rounded-4 border-0 shadow-lg"},dO={key:0,class:"modal-body pt-2"},fO={class:"alert alert-light border rounded-3 mb-3"},pO={class:"d-flex align-items-center gap-3"},hO=["src"],_O={class:"flex-grow-1"},vO={class:"fw-bold fs-6"},mO={class:"d-flex gap-3 mt-1"},gO={class:"text-muted"},yO={class:"fw-semibold"},bO={class:"text-muted"},wO={class:"fw-semibold"},EO={key:0,class:"table-responsive"},xO={class:"table table-hover align-middle mb-0"},AO={class:"text-center"},TO={class:"form-check d-flex justify-content-center"},CO=["checked","onChange"],SO={class:"d-flex align-items-center gap-2"},OO={class:"fw-semibold"},IO={key:0,class:"text-muted"},DO={class:"text-center"},NO={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},kO={class:"d-flex align-items-center justify-content-center gap-2"},LO=["onClick","disabled"],$O={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},RO=["onClick","disabled"],PO={key:1,class:"text-center text-muted py-5"},MO={class:"mt-3 p-3 rounded-3"},FO={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},qO={class:"text-success fw-semibold"},BO={__name:"Index",props:["client_secret","order_code"],setup(u){jy();const{formatCurrencySymbol:n}=Hy();ur(()=>{hu(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(o=>{new Ba(o)})})});const s=K([]),f=K(!0),v=K(""),w=K(Date.now()),y=`category-search-${Math.random().toString(36).substr(2,9)}`,C=K(!1),A=Ce(()=>{const o=v.value.trim().toLowerCase();return o?Hr.value.filter(r=>r.name.toLowerCase().includes(o)):Hr.value}),W=async()=>{f.value=!0;try{const o=await axios.get("/api/pos/fetch-menu-categories");s.value=o.data,s.value.length>0&&(qn.value=s.value[0].id)}catch(o){console.error("Error fetching categories:",o)}finally{f.value=!1}},$=K([]),z=async()=>{try{const o=await axios.get("/api/pos/fetch-menu-items");$.value=o.data.data}catch(o){console.error("Error fetching inventory:",o)}},te=Ce(()=>{const o={};return $.value.forEach(r=>{const l=r.category?.id||"uncategorized",_=r.category?.name||"Uncategorized";o[l]||(o[l]=[]);const x={id:r.id,title:r.name,img:r.image_url||"/assets/img/default.png",stock:0,price:Number(r.price),label_color:r.label_color||"#1B1670",family:_,description:r.description,nutrition:r.nutrition,tags:r.tags,allergies:r.allergies,ingredients:r.ingredients??[],variants:r.variants??[],addon_groups:r.addon_groups??[],is_saleable:r.is_saleable,resale_type:r.resale_type,resale_value:r.resale_value};o[l].push(x)}),o}),j=K({});Ss(()=>$.value,o=>{o&&o.length>0&&o.forEach(r=>{r.variants&&r.variants.length>0&&(j.value[r.id]||(j.value[r.id]=r.variants[0].id))})},{immediate:!0,deep:!0});const ne=o=>{if(!o.variants||o.variants.length===0)return null;const r=j.value[o.id];return r&&o.variants.find(l=>l.id===r)||o.variants[0]},ie=(o,r)=>{const l=parseInt(r.target.value);j.value[o.id]=l;const _=o.variants.find(x=>x.id===l);_&&console.log(`Selected ${_.name} for ${o.title} - ${n(_.price)}`)},Z=K({}),L=(o,r,l)=>{const _=o.id;Z.value[_]||(Z.value[_]={});const x=o.addon_groups.find(D=>D.group_id===r);if(x&&x.max_select>0&&l.length>x.max_select){Q.warning(`You can only select up to ${x.max_select} ${x.group_name}`);const D=Z.value[_][r]||[];Z.value[_][r]=D.slice(0,x.max_select);return}Z.value[_][r]=l},Y=o=>{const r=o.id;if(!Z.value[r])return 0;let l=0;return Object.values(Z.value[r]).forEach(_=>{_.forEach(x=>{l+=parseFloat(x.price||0)})}),l},se=o=>{const r=o.id;if(!Z.value[r])return[];const l=[];return Object.values(Z.value[r]).forEach(_=>{_.forEach(x=>{l.push({id:x.id,name:x.name,price:parseFloat(x.price),group_id:x.group_id||x.pivot?.addon_group_id})})}),l},F=K([]),B=()=>{if(!be.value)return[];const o=nt();return o&&o.ingredients&&o.ingredients.length>0?o.ingredients:be.value.ingredients||[]},J=o=>F.value.includes(o),fe=o=>{const r=F.value.indexOf(o);r>-1?(F.value.splice(r,1),Q.info("Ingredient added back")):(F.value.push(o),Q.info("Ingredient removed"))},ke=()=>B().filter(o=>!F.value.includes(o.id||o.inventory_item_id)).length,Le=()=>{if(F.value.length===0)return null;const o=B(),r=F.value.map(l=>{const _=o.find(x=>x.id===l||x.inventory_item_id===l);return _?_.product_name||_.name:null}).filter(Boolean);return r.length===0?null:`No ${r.join(", ")}`},_e=K(1),ze=Ce(()=>be.value?.variants&&be.value.variants.length>0),pt=Ce(()=>B().length>0),Ge=Ce(()=>be.value?.addon_groups&&be.value.addon_groups.length>0),Ct=Ce(()=>{const o=[];return ze.value&&o.push({id:"variants",name:"Variant"}),pt.value&&o.push({id:"ingredients",name:"Ingredients"}),Ge.value&&o.push({id:"addons",name:"Add-ons"}),o.push({id:"review",name:"Review"}),o}),Ht=Ce(()=>Ct.value.length),gt=Ce(()=>{if(_e.value===1)return"0%";const o=Ct.value.length,r=(_e.value-1)/(o-1);return`calc(${r*100}% - ${14-r*28}px)`}),Je=o=>o<_e.value?"bg-success text-white":o===_e.value?"bg-primary text-white":"bg-light text-muted border",Lt=()=>{let o=_e.value+1;for(;o<=Ht.value;){const r=Ct.value[o-1];if(r.id==="variants"&&!ze.value){o++;continue}if(r.id==="ingredients"&&!pt.value){o++;continue}if(r.id==="addons"&&!Ge.value){o++;continue}break}o<=Ht.value&&(_e.value=o)},Sn=()=>{let o=_e.value-1;for(;o>=1;){const r=Ct.value[o-1];if(r.id==="variants"&&!ze.value){o--;continue}if(r.id==="ingredients"&&!pt.value){o--;continue}if(r.id==="addons"&&!Ge.value){o--;continue}break}o>=1&&(_e.value=o)},On=o=>{Hn.value=o,yt()},St=()=>ze.value&&be.value?.variants?.find(r=>r.id===Hn.value)?.name||"",li=()=>{const o=[];return Object.values(rt.value).forEach(r=>{r.forEach(l=>{const _=l.quantity>1?` x${l.quantity}`:"";o.push(`${l.name}${_} (+${n(l.price*(l.quantity||1))})`)})}),o.join(", ")},Ii=async o=>{be.value=o,kr.value="",nn.value="",Hn.value=null,rt.value={},F.value=[],_e.value=1,o.variants&&o.variants.length>0&&(Hn.value=o.variants[0].id);const r=o.variants&&o.variants.length>0?o.variants[0]:null,l=r?r.id:null,_=pi(o,l),x=In(o,l,_);st.value=x>0?1:0,F.value=[];const D=document.getElementById("chooseItem"),I=new bootstrap.Modal(D);D.addEventListener("shown.bs.modal",async()=>{await hu()},{once:!0}),I.show()},In=(o,r,l)=>{const _=l.filter(I=>!F.value.includes(I.id||I.inventory_item_id));if(!_||_.length===0)return 999999;const x={};for(const I of H.value)pi(I,I.variant_id).filter(R=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(R.id||R.inventory_item_id)).forEach(R=>{const we=R.inventory_item_id,Ue=Number(R.inventory_stock??R.inventory_item?.stock??0);x[we]||(x[we]={totalStock:Ue,used:0});const le=Number(R.quantity??R.qty??1)*I.qty;x[we].used+=le});let D=999999;for(const I of _){const V=I.inventory_item_id,ae=Number(I.inventory_stock??I.inventory_item?.stock??0),R=Number(I.quantity??I.qty??1);if(x[V]){const we=x[V].totalStock-x[V].used,Ue=Math.floor(we/R);D=Math.min(D,Ue)}else{const we=Math.floor(ae/R);D=Math.min(D,we)}}return D},yt=()=>{const o=nt(),r=o?o.id:null,l=pi(be.value,r),_=In(be.value,r,l);if(_<=0){Q.error("No stock available for this variant. Please remove items from cart first."),st.value=0;return}st.value=Math.min(1,_)},nt=()=>{if(!be.value||!be.value.variants||be.value.variants.length===0)return null;const o=Hn.value;return o&&be.value.variants.find(r=>r.id===o)||be.value.variants[0]},Di=()=>{if(!be.value)return 0;const o=nt();return parseFloat(o?o.price:be.value.price||0)},ht=()=>{let o=0;return Object.values(rt.value).forEach(r=>{r.forEach(l=>{o+=parseFloat(l.price||0)*(l.quantity||1)})}),o},Dn=()=>{const o=[];return Object.values(rt.value).forEach(r=>{r.forEach(l=>{o.push({id:l.id,name:l.name,price:parseFloat(l.price),group_id:l.group_id||l.pivot?.addon_group_id})})}),o},Rs=o=>{if(!o)return 0;const r=ne(o),l=r?r.id:null,_=pi(o,l);if(!_.length)return 999999;let x=1/0;return _.forEach(D=>{const I=Number(D.quantity??D.qty??1),V=Number(D.inventory_stock??D.inventory_item?.stock??0);if(I<=0)return;const ae=Math.floor(V/I);x=Math.min(x,ae)}),x===1/0?0:x},Nn=o=>Rs(o),Vt=K(""),Me=K("dine"),We=K("Walk In"),bt=K(" "),zt=K(" "),Kt=K(10),qn=K(null),Sr=o=>qn.value=o,je=K(!0),_t=o=>{Sr(o.id),je.value=!1},Bn=()=>je.value=!0,tn=K({}),_n=K([]),it=K(null),Ps=async()=>{try{const o=await axios.get("/api/pos/fetch-profile-tables");if(tn.value=o.data,tn.value.order_types){_n.value=tn.value.order_types.map(l=>l.charAt(0).toUpperCase()+l.slice(1));const r=localStorage.getItem("quickOrderType");if(r){const l=_n.value.find(_=>_.toLowerCase().replace(/_/g," ")===r.toLowerCase().replace(/_/g," "));l?Me.value=l:Me.value=_n.value[0]}else Me.value=_n.value[0]}}catch(o){console.error("Error fetching profile tables:",o)}},Un=Ce(()=>te.value[qn.value]??[]),He=K({sortBy:"",priceMin:null,priceMax:null}),Ms=Ce(()=>{let o=Un.value;const r=Vt.value.trim().toLowerCase();if(r&&(o=o.filter(l=>l.title.toLowerCase().includes(r)||(l.family||"").toLowerCase().includes(r)||(l.description||"").toLowerCase().includes(r)||(l.tags?.map(_=>_.name.toLowerCase()).join(", ")||"").includes(r))),He.value.priceMin!==null&&He.value.priceMin!==""&&(o=o.filter(l=>l.price>=He.value.priceMin)),He.value.priceMax!==null&&He.value.priceMax!==""&&(o=o.filter(l=>l.price<=He.value.priceMax)),He.value.sortBy)switch(o=[...o],He.value.sortBy){case"name_asc":o.sort((l,_)=>l.title.localeCompare(_.title));break;case"name_desc":o.sort((l,_)=>_.title.localeCompare(l.title));break;case"price_asc":o.sort((l,_)=>l.price-_.price);break;case"price_desc":o.sort((l,_)=>_.price-l.price);break;case"stock_asc":o.sort((l,_)=>(l.stock??0)-(_.stock??0));break;case"stock_desc":o.sort((l,_)=>(_.stock??0)-(l.stock??0));break}return o}),os=K(!1),Or=o=>{He.value={...o},os.value=!0},Wn=K(""),Ir=()=>{const o=localStorage.getItem("pos_walkin_counter");o?Wn.value=parseInt(o):(Wn.value=1,localStorage.setItem("pos_walkin_counter","1"))},Fs=()=>`Walk In-${String(Wn.value).padStart(3,"0")}`,Dr=()=>{Wn.value++,localStorage.setItem("pos_walkin_counter",Wn.value.toString())},as=()=>{He.value={sortBy:"",priceMin:null,priceMax:null}},H=K([]),Ha=async o=>{const r=H.value[o];if(!r)return;if(r.isDeal){const _=vs({id:r.dealId,title:r.title,menu_items:r.menu_items},r.qty+1);if(!_.canAdd){console.log("🚨 Missing ingredients for deal (cart increment)"),sn.value={itemIndex:o,item:r,newQty:r.qty+1,isDeal:!0},Yt.value=_.missing,Ln.value=!0,Q.warning("Some ingredients are missing. Confirm to proceed.");return}r.qty++,r.price=r.unit_price*r.qty,Q.success("Deal quantity updated");return}const l=Nr(r,r.qty+1);if(!l.canAdd){console.log("🚨 Missing ingredients detected (client-side)"),sn.value={itemIndex:o,item:r,newQty:r.qty+1,isDeal:!1},Yt.value=l.missing,Ln.value=!0,Q.warning("Some ingredients are missing. Confirm to proceed.");return}r.outOfStock=!1,r.qty++,r.price=r.unit_price*r.qty,r.resale_discount_per_item&&(r.total_resale_discount=r.resale_discount_per_item*r.qty)},Nr=(o,r)=>{const l=o.ingredients||[];if(l.length===0)return{canAdd:!0,missing:[]};const _=[],x={};return H.value.forEach(I=>{(I.ingredients||[]).filter(R=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(R.id||R.inventory_item_id)).forEach(R=>{const we=R.inventory_item_id,Ue=Number(R.inventory_stock??R.inventory_item?.stock??0);x[we]||(x[we]={totalStock:Ue,used:0,name:R.product_name||R.name,unit:R.unit||"unit"});const le=Number(R.quantity??R.qty??1)*I.qty;x[we].used+=le})}),l.filter(I=>!o.removed_ingredients||o.removed_ingredients.length===0?!0:!o.removed_ingredients.includes(I.id||I.inventory_item_id)).forEach(I=>{const V=I.inventory_item_id,ae=Number(I.quantity??I.qty??1)*r,R=Number(I.inventory_stock??I.inventory_item?.stock??0);if(!x[V])R<ae&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:V,inventory_item_name:I.product_name||I.name,required_quantity:ae,available_quantity:R,shortage_quantity:ae-R,unit:I.unit||"unit",order_quantity:r});else{const we=x[V].totalStock-x[V].used,Ue=H.value.find(le=>le.id===o.id&&le.variant_id===o.variant_id&&JSON.stringify(le.addons?.map(at=>at.id).sort())===JSON.stringify(o.addons?.map(at=>at.id).sort()));if(Ue){const le=Number(I.quantity??I.qty??1)*Ue.qty,at=we+le;at<ae&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:V,inventory_item_name:I.product_name||I.name,required_quantity:ae,available_quantity:at,shortage_quantity:ae-at,unit:I.unit||"unit",order_quantity:r})}else we<ae&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:V,inventory_item_name:I.product_name||I.name,required_quantity:ae,available_quantity:we,shortage_quantity:ae-we,unit:I.unit||"unit",order_quantity:r})}}),{canAdd:_.length===0,missing:_}},Va=async o=>{const r=H.value[o];if(!r||r.qty<=1){Q.error("Cannot reduce below 1.");return}r.qty--,r.price=r.unit_price*r.qty,r.resale_discount_per_item&&(r.total_resale_discount=r.resale_discount_per_item*r.qty),r.outOfStock=!1},xo=o=>{if(H.value[o],H.value.splice(o,1),H.value.length===0){ut.value=[],Fe.value=[],Et.value=[],zn();return}Fe.value.length>0&&(Fe.value=Fe.value.filter(l=>{if(!l.menu_items||l.menu_items.length===0)return!0;const _=l.menu_items.map(D=>D.id);return H.value.some(D=>_.includes(D.id))}));const r=[];ut.value.forEach(l=>{l.min_purchase&&$t.value<l.min_purchase?Q.info(`Discount "${l.name}" removed — subtotal is lower than minimum required (${n(l.min_purchase)}).`):r.push(l)}),ut.value=r},$t=Ce(()=>H.value.reduce((o,r)=>o+r.price,0)),ui=Ce(()=>{if(Me.value!=="Delivery")return 0;const o=rn.props.onboarding.tax_and_vat;return o.has_delivery_charges?o.delivery_charge_flat?parseFloat(o.delivery_charge_flat):o.delivery_charge_percentage?$t.value*parseFloat(o.delivery_charge_percentage)/100:0:0}),ci=Ce(()=>{if(H.value.length===0)return 0;const o=rn.props.onboarding.tax_and_vat;return o.has_service_charges?o.service_charge_flat?parseFloat(o.service_charge_flat):o.service_charge_percentage?$t.value*parseFloat(o.service_charge_percentage)/100:0:0}),Ao=o=>`£${(Math.round(o*100)/100).toFixed(2)}`,be=K(null),st=K(0),kr=K(""),Hn=K(null),rt=K({}),nn=K(""),za=async()=>{if(!be.value)return;if(st.value<=0){Q.error("Please select at least 1 item to add to cart");return}const o=nt(),r=o?o.id:null;o&&`${o.name}`;const l=o?o.name:null,_=parseFloat(o?o.price:be.value.price),x=Dn(),D=ht(),I=_+D,V=o?Pt(o,!0):Pt(be.value,!1),ae=pi(be.value,r),R=Le();try{const we=x.map(Oe=>Oe.id).sort((Oe,xt)=>Oe-xt).join("-"),Ue=ae.length>0?Ni(ae):999999,le=H.value.findIndex(Oe=>{if(Oe.variant_id!==r)return!1;const xt=(Oe.addons||[]).map(At=>At.id).sort((At,mn)=>At-mn).join("-");return Oe.id===be.value.id&&xt===we});if(le>=0){if(H.value[le].qty+=st.value,H.value[le].price=H.value[le].unit_price*H.value[le].qty,H.value[le].total_resale_discount=V*H.value[le].qty,nn.value&&nn.value.trim()){const Oe=H.value[le].item_kitchen_note||"",xt=nn.value.trim(),At=[Oe,xt,R].filter(Boolean).filter((mn,er,Wo)=>Wo.indexOf(mn)===er);H.value[le].item_kitchen_note=At.join("; ")}else if(R){const Oe=H.value[le].item_kitchen_note||"";H.value[le].item_kitchen_note=[Oe,R].filter(Boolean).join("; ")}F.value.length>0&&(H.value[le].removed_ingredients=[...F.value]),Q.success(`Quantity updated to ${H.value[le].qty}`)}else{const Oe=[nn.value.trim(),R].filter(Boolean).join(". ");H.value.push({id:be.value.id,title:be.value.title,img:be.value.img,price:I*st.value,unit_price:Number(I),qty:st.value,note:kr.value||"",item_kitchen_note:Oe,stock:Ue,ingredients:ae,variant_id:r,variant_name:l,addons:x,removed_ingredients:[...F.value],resale_discount_per_item:V,total_resale_discount:V*st.value}),Q.success(`${be.value.title} added to cart`)}bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),st.value=0,kr.value="",nn.value="",Hn.value=null,rt.value={},F.value=[]}catch(we){Q.error("Failed to add item: "+(we.response?.data?.message||we.message))}},Ni=o=>{if(!o||o.length===0)return 999999;let r=1/0;return o.forEach(l=>{const _=Number(l.quantity??l.qty??1),x=Number(l.inventory_stock??l.inventory_item?.stock??0);if(_<=0)return;const D=Math.floor(x/_);r=Math.min(r,D)}),r===1/0?0:r},Ka=async()=>{if(!be.value)return;const o=nt(),r=o?o.id:null,l=B(),_=Nr({id:be.value.id,title:be.value.title,variant_id:r,variant_name:o?o.name:null,ingredients:l,removed_ingredients:F.value||[]},st.value+1);if(!_.canAdd){console.log("🚨 Missing ingredients for modal increment (client-side)"),Bs.value={currentQty:st.value},Yt.value=_.missing,Ln.value=!0,Q.warning("Some ingredients are missing. Confirm to proceed.");return}st.value++},Ya=()=>{st.value>1&&st.value--},wt=K({}),Lr=()=>{H.value=[],We.value=Fs(),zt.value="",bt.value="",it.value=null,Me.value=_n.value[0]||"eat_in",Vn.value="",kn.value="",Kt.value=0,Fe.value=[],ut.value=[],Et.value=[],cs.value=[],zn()};Ss(Me,()=>wt.value={});const Vn=K(""),kn=K(""),$r=K(!1),ki=K(null),ls=K(!1),Rr=K(0),Ga=()=>{if(H.value.length===0){Q.error("Please add at least one item to the cart.");return}if(Me.value==="Eat_in"&&!it.value){wt.value.table_number=["Table number is required for dine-in orders."],Q.error("Please select a table number for Dine In orders.");return}if((Me.value==="Delivery"||Me.value==="Takeaway")&&!We.value){wt.value.customer=["Customer name is required."],Q.error("Customer name is required.");return}if(Me.value==="Delivery"&&!bt.value){wt.value.phoneNumber=["Phone number is required for delivery."],Q.error("Phone number is required for delivery.");return}if(Me.value==="Delivery"&&!zt.value){wt.value.deliveryLocation=["Delivery location is required."],Q.error("Delivery location is required.");return}Rr.value=parseFloat(Mi.value).toFixed(2),ls.value=!0},To=async o=>{try{const r=await axios.post("http://localhost:8085/print",{order:o,type:"customer"},{headers:{"Content-Type":"application/json"},timeout:5e3});console.info("✅ Customer print OK"),console.info("Status:",r.status),console.info("Data  :",r.data),console.info("✅ Server is up! Response: "+JSON.stringify(r.data))}catch(r){console.error("❌ Print request failed"),r.response?console.error("❌ Server responded with error: "+r.response.status):r.request?console.error("❌ No response from server (server is DOWN or unreachable)"):console.error("❌ Error: "+r.message)}console.info("The Customer request send back: "+res.data)},Co=async o=>{try{const r=await axios.post("http://localhost:8085/print",{order:o,type:"KOT"},{headers:{"Content-Type":"application/json"},timeout:5e3});console.info("✅ Customer print OK"),console.info("Status:",r.status),console.info("Data  :",r.data)}catch(r){console.error("❌ Print request failed"),r.response?(console.error("Status:",r.response.status),console.error("Data  :",r.response.data)):r.request?(console.error("No response from server"),console.error("Request object:",r.request)):console.error("Error message:",r.message)}console.info("The KOT request send back: "+res.data)},ja=K("cash"),Qa=K(0),Et=K([]),Li=K(null),us=K(!1),ut=K([]),cs=K([]),Xa=async o=>{if(!o||o.length===0){Q.warning("No discounts selected.");return}const r=cs.value.map(_=>_.id),l=o.filter(_=>!r.includes(_.id));if(l.length===0){Q.error("All selected discounts have been rejected for this order.");return}if(l.length<o.length){const _=o.length-l.length;Q.warning(`${_} discount(s) were previously rejected and cannot be requested again.`)}try{const _=await axios.post("/api/discount-approvals/request",{discounts:o.map(x=>({discount_id:x.id,discount_percentage:parseFloat(x.discount_amount),discount_name:x.name})),order_items:H.value.map(x=>({id:x.id,title:x.title,qty:x.qty,unit_price:x.unit_price,price:x.price})),order_subtotal:$t.value,request_note:`Discount approval request from ${qi.value?.name||"Cashier"}`});_.data.success&&(Et.value=_.data.data.map(x=>({...x,discountData:o.find(D=>D.id===x.discount_id),percentage:parseFloat(x.discount_percentage),status:"pending"})),hs.value=!1,us.value=!0,Q.info("Discount approval request sent to Super Admin. Waiting for approval..."),So())}catch(_){console.error("Error requesting discount approval:",_),Q.error(_.response?.data?.message||"Failed to request discount approval")}},So=()=>{Li.value&&clearInterval(Li.value),Li.value=setInterval(async()=>{await Pr()},3e3)},Pr=async()=>{if(Et.value.length===0){zn();return}try{const o=Et.value.map(l=>l.id),r=await axios.post("/api/discount-approvals/check-status",{approval_ids:o});r.data.success&&(r.data.data.forEach(_=>{if(_.status!=="pending"){const x=Et.value.findIndex(D=>D.id===_.id);if(x>=0){if(_.status==="approved"){const D={id:_.discount_id,name:_.discount_name||_.discount?.name,percentage:parseFloat(_.discount_percentage),approval_id:_.id};Ja(D),Q.success(`Discount "${D.name}" (${D.percentage}%) approved!`)}else _.status==="rejected"&&(cs.value.push({id:_.discount_id,name:_.discount_name,percentage:parseFloat(_.discount_percentage),rejection_reason:_.approval_note}),Q.error(`Discount "${_.discount_name}" rejected.`+(_.approval_note?` Reason: ${_.approval_note}`:"")));Et.value.splice(x,1)}}}),Et.value.length===0&&(us.value=!1,zn()))}catch(o){console.error("Error checking approval status:",o)}},zn=()=>{Li.value&&(clearInterval(Li.value),Li.value=null)},Ja=o=>{ut.value.push(o)};Ry(()=>{zn()}),ur(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",o=>{Pr()})});const ds=Ce(()=>!ut.value||ut.value.length===0?0:ut.value.reduce((o,r)=>{const l=parseFloat(r.percentage||0),_=$t.value*l/100;return o+_},0)),qs=o=>$t.value*o/100,Za=()=>{ut.value=[],Et.value=[],cs.value=[],zn()},Ln=K(!1),Yt=K([]),sn=K(null),$i=K(null),Bs=K(null),fs=K(null),Us=K(null),Oo=async({paymentMethod:o,cashReceived:r,cardAmount:l,changeAmount:_,items:x,autoPrintKot:D,done:I})=>{wt.value={};try{const V={customer_name:We.value,phone_number:bt.value,delivery_location:zt.value,sub_total:$t.value,tax:fi.value,service_charges:ci.value,delivery_charges:ui.value,sales_discount:Pi.value,approved_discounts:ds.value,approved_discount_details:ut.value.map(R=>({discount_id:R.id,discount_name:R.name,discount_percentage:R.percentage,discount_amount:qs(R.percentage),approval_id:R.approval_id})),promo_discount:di.value,applied_promos:Fe.value.map(R=>({promo_id:R.id,promo_name:R.name,promo_type:R.type,discount_amount:R.applied_discount||0,applied_to_items:R.applied_to_items||[]})),total_amount:Mi.value,note:Vn.value,kitchen_note:kn.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:Me.value==="Eat_in"?"Eat In":Me.value==="Delivery"?"Delivery":Me.value==="Takeaway"?"Takeaway":"Collection",table_number:it.value?.name||null,payment_method:o,auto_print_kot:D,cash_received:r,change:_,...o==="Split"&&{payment_type:"split",cash_amount:r,card_amount:l},items:(H.value??[]).map(R=>{if(R.isDeal)return{product_id:R.dealId,title:R.title,quantity:R.qty,price:R.price,note:R.note??"",kitchen_note:kn.value??"",unit_price:R.unit_price,item_kitchen_note:R.item_kitchen_note??"",tax_percentage:0,tax_amount:0,variant_id:null,variant_name:null,addons:[],sale_discount_per_item:0,removed_ingredients:[],is_deal:!0,deal_id:R.dealId,menu_items:R.menu_items||[]};const we=$.value.find(Oe=>Oe.id===R.id);let Ue=we;if(R.variant_id&&we?.variants){const Oe=we.variants.find(xt=>xt.id===R.variant_id);Oe&&(Ue=Oe)}const le=Ue?Pt(Ue,!!R.variant_id):0,at=(R.removed_ingredients||[]).map(Oe=>{const xt=(R.ingredients||[]).find(At=>At.id===Oe||At.inventory_item_id===Oe);return{id:Oe,name:xt?xt.product_name||xt.name:"Unknown Ingredient"}});return{product_id:R.id,title:R.title,quantity:R.qty,price:R.price,note:R.note??"",kitchen_note:kn.value??"",unit_price:R.unit_price,item_kitchen_note:R.item_kitchen_note??"",tax_percentage:Be(R),tax_amount:ol(R),variant_id:R.variant_id||null,variant_name:R.variant_name||null,addons:R.addons||[],sale_discount_per_item:le,removed_ingredients:at||[],is_deal:!1}}),confirm_missing_ingredients:!0};console.log("📤 Sending order");const ae=await axios.post("/pos/order",V);if(console.log("✅ Order created successfully:",ae.data),ae.data.logout===!0){Q.success(ae.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=ae.data.redirect||"/login"},1e3),I&&I();return}Dr(),Lr(),ls.value=!1,Q.success(ae.data.message||"Order placed successfully!"),ki.value={...ae.data.order,...V,items:V.items,payment_type:o==="Split"?"split":o.toLowerCase(),cash_amount:o==="Split"?r:null,card_amount:o==="Split"?l:null},console.log("🧾 Last order data prepared:",ki.value),D&&(ps.value=await Do(),Co(JSON.parse(JSON.stringify(ki.value)))),To(JSON.parse(JSON.stringify(ki.value))),Fe.value=[],ut.value=[],Et.value=[],zn()}catch(V){console.error("❌ Order submission error:",V),Q.error(V.response?.data?.message||"Failed to place order")}finally{I&&I()}},el=async()=>{if(console.log("✅ User confirmed missing ingredients"),Ln.value=!1,sn.value&&!sn.value.isDeal){const{itemIndex:o,newQty:r}=sn.value,l=H.value[o];l&&(l.outOfStock=!1,l.qty=r,l.price=l.unit_price*l.qty,l.resale_discount_per_item&&(l.total_resale_discount=l.resale_discount_per_item*l.qty),Q.success("Quantity updated")),sn.value=null,Yt.value=[];return}if(sn.value&&sn.value.isDeal){const{itemIndex:o,newQty:r}=sn.value,l=H.value[o];l&&l.isDeal&&(l.qty=r,l.price=l.unit_price*l.qty,Q.success("Deal quantity updated")),sn.value=null,Yt.value=[];return}if(fs.value){const{deal:o,existingIndex:r,newQty:l}=fs.value;if(r>=0)H.value[r].qty=l,H.value[r].price=H.value[r].unit_price*l,Q.success("Deal quantity updated");else{const x=[];o.menu_items.forEach(I=>{I.ingredients&&I.ingredients.length>0&&x.push(...I.ingredients.map(V=>({...V,menu_item_id:I.id,menu_item_name:I.name})))});const D={id:`deal-${o.id}`,title:o.title,price:Js.value,unit_price:parseFloat(o.price),img:o.img,qty:1,stock:999999,ingredients:x,isDeal:!0,dealId:o.id,menu_items:o.menu_items.map(I=>({id:I.id,name:I.name,price:I.price,ingredients:(I.ingredients||[]).map(V=>({inventory_item_id:V.id,inventory_item_id:V.inventory_item_id,product_name:V.product_name||V.name,quantity:V.quantity||V.qty||"1.00",inventory_stock:V.inventory_stock||V.stock||0,unit:V.unit||"unit",category_id:V.category_id,supplier_id:V.supplier_id})),stock:Ni(I.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};H.value.push(D),Q.success(`${o.title} added to cart!`)}fs.value=null,Yt.value=[];return}if($i.value){const{product:o,variantId:r,variantName:l,variantPrice:_,selectedAddons:x,addonsPrice:D,resaleDiscountPerItem:I,existingIndex:V,newQty:ae}=$i.value,R=_+D;if(V>=0)H.value[V].qty=ae,H.value[V].price=H.value[V].unit_price*ae,H.value[V].total_resale_discount=I*ae,H.value[V].outOfStock=!1,Q.success("Quantity updated");else{const we=pi(o,r),Ue=Nn(o);H.value.push({id:o.id,title:o.title,img:o.img,price:R,unit_price:Number(R),qty:1,note:"",stock:Ue,ingredients:we,variant_id:r,variant_name:l,addons:x,outOfStock:!1,resale_discount_per_item:I,total_resale_discount:I}),Q.success("Item added to cart")}$i.value=null,Yt.value=[];return}if(Bs.value){st.value=Bs.value.currentQty+1,Q.success("Quantity increased"),Bs.value=null,Yt.value=[];return}};ur(async()=>{Ir();const o=String(Wn.value).padStart(3,"0");if(We.value=`Walk In-${o}`,window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(_=>new window.bootstrap.Tooltip(_));const l=document.getElementById("chooseItem");l&&new window.bootstrap.Modal(l,{backdrop:"static"})}v.value="",w.value=Date.now(),await hu(),setTimeout(()=>{C.value=!0;const l=document.getElementById(y);l&&(l.value="",v.value="")},100),W(),z(),Ps();const r=document.getElementById("menuFilterModal");r&&r.addEventListener("hidden.bs.modal",()=>{os.value||as(),os.value=!1})});const rn=$y();function Mr(){const o=rn.props.flash?.success,r=rn.props.flash?.error;o&&Q.success(o,{autoClose:4e3}),r&&Q.error(r,{autoClose:6e3})}ur(()=>Mr()),ur(()=>{rn.props.flash?.success;const o=rn.props.flash?.error;o&&Q.error(o);const r=rn.props.flash?.print_payload;r&&setTimeout(()=>To(r),250),r&&setTimeout(()=>Co(r),250)}),Ss(()=>rn.props.flash,()=>Mr(),{deep:!0});const Fr=({id:o,status:r,message:l})=>{ps.value=ps.value.map(_=>_.id===o?{..._,status:r}:_)},Io=K(!1),ps=K([]),qr=K(!1),Ri=K(!1),Kn=K([]),Ws=K(!1),Do=async()=>{Ri.value=!0,Kn.value=[],Ws.value=!0;try{const o=await axios.get("/api/pos/orders/today");Kn.value=o.data.orders}catch(o){console.error("Failed to fetch POS orders:",o),Q.error(o.response?.data?.message||"Failed to fetch POS orders")}finally{Ws.value=!1}},Hs=K(!1),hs=K(!1),Vs=K(!0),zs=K(!0),_s=K([]),Ks=K([]),Fe=K([]),tl=o=>{if(Fe.value=o,!o||o.length===0){Q.warning("No promos selected.");return}const r=o.reduce((_,x)=>_+parseFloat(x.applied_discount||0),0);if(r<=0){Q.warning("Selected promos don't provide any discount for current cart items."),Fe.value=[];return}const l=new Set(o.flatMap(_=>_.applied_to_items||[])).size;Q.success(`${o.length} promo(s) applied! Applied to ${l} item(s). You saved ${n(r)}`),Hs.value=!1},No=async()=>{Vs.value=!0,Hs.value=!0;try{const o=await axios.get("/api/promos/current");o.data?.success?_s.value=o.data.data||[]:(console.warn("Failed to fetch promos:",o.data),_s.value=[],Q.warning("No promos available at the moment"))}catch(o){console.error("Error fetching current meal promos:",o),_s.value=[],Q.error("Failed to load promotions")}finally{Vs.value=!1}},nl=async()=>{zs.value=!0,hs.value=!0;try{const o=await axios.get("/api/discounts/all");o.data?.success?Ks.value=o.data.data||[]:(console.warn("Failed to fetch discounts:",o.data),Ks.value=[],Q.warning("No discounts available at the moment"))}catch(o){console.error("Error fetching current meal discounts:",o),Ks.value=[],Q.error("Failed to load discounts")}finally{zs.value=!1}},il=o=>!Fe.value||Fe.value.length===0?!1:Fe.value.some(r=>!r.menu_items||r.menu_items.length===0?!0:r.menu_items.map(_=>_.id).includes(o.id)),sl=o=>{ki.value=o,$r.value=!0,Ri.value=!1},di=Ce(()=>!Fe.value||Fe.value.length===0?0:Fe.value.reduce((o,r)=>{const l=parseFloat(r.discount_amount??0)||0;if(r.applied_discount!==void 0)return o+parseFloat(r.applied_discount);const _=Br(r);if(r.min_purchase&&_<parseFloat(r.min_purchase))return o;if(r.type==="flat")return o+l;if(r.type==="percent"){const x=_*l/100,D=parseFloat(r.max_discount??0)||0;return D>0&&x>D?o+D:o+x}return o},0)),Br=o=>{if(!o.menu_items||o.menu_items.length===0)return H.value.reduce((l,_)=>l+_.unit_price*_.qty,0);const r=o.menu_items.map(l=>l.id);return H.value.filter(l=>r.includes(l.id)).reduce((l,_)=>l+_.unit_price*_.qty,0)},rl=Ce(()=>!Fe.value||Fe.value.length===0?[]:Fe.value.map(o=>({promo_id:o.id,promo_name:o.name,promo_type:o.type,discount_amount:o.applied_discount||0,applied_to_items:o.applied_to_items||[]}))),fi=Ce(()=>{let o=0;const r=parseFloat(rn.props.onboarding.tax_and_vat.tax_rate)||0;return H.value.forEach(l=>{const _=$.value.find(x=>x.id===l.id);if(_&&_.is_taxable){const D=l.unit_price*l.qty*r/100;o+=D}}),o}),Pi=Ce(()=>H.value.reduce((o,r)=>o+(r.total_resale_discount||0),0)),Mi=Ce(()=>{const o=$t.value+fi.value+ui.value+ci.value-Pi.value-di.value-ds.value;return Math.max(0,o)}),ol=o=>{const r=$.value.find(l=>l.id===o.id);return r&&r.is_taxable&&r.tax_percentage?o.unit_price*o.qty*parseFloat(r.tax_percentage)/100:0},Be=o=>{const r=$.value.find(l=>l.id===o.id);return r&&r.is_taxable&&r.tax_percentage?parseFloat(r.tax_percentage):0},Re=o=>{const r=ne(o),l=r?r.id:null,x=se(o).map(I=>I.id).sort().join("-"),D=H.value.find(I=>{const V=(I.addons||[]).map(ae=>ae.id).sort().join("-");return I.id===o.id&&I.variant_id===l&&V===x});return D?D.qty:0},al=async o=>{const r=ne(o),l=r?r.id:null,_=se(o),x=_.map(Oe=>Oe.id).sort().join("-"),D=H.value.findIndex(Oe=>{const xt=(Oe.addons||[]).map(At=>At.id).sort().join("-");return Oe.id===o.id&&Oe.variant_id===l&&xt===x});let I=1,V=null;const ae=pi(o,l);D>=0&&(V=H.value[D],I=V.qty+1);const R=Nr({id:o.id,title:o.title,variant_id:l,variant_name:r?r.name:null,ingredients:ae,removed_ingredients:V?.removed_ingredients||[],addons:_},I);if(!R.canAdd){console.log("🚨 Missing ingredients for card increment (client-side)");const Oe=parseFloat(r?r.price:o.price),xt=Y(o),At=r?Pt(r,!0):Pt(o,!1);$i.value={product:o,variant:r,variantId:l,variantName:r?r.name:null,variantPrice:Oe,selectedAddons:_,addonsPrice:xt,resaleDiscountPerItem:At,existingIndex:D,newQty:I},Yt.value=R.missing,Ln.value=!0,Q.warning("Some ingredients are missing. Confirm to proceed.");return}const we=parseFloat(r?r.price:o.price),Ue=Y(o),le=we+Ue,at=r?Pt(r,!0):Pt(o,!1);if(D>=0)H.value[D].qty++,H.value[D].price=H.value[D].unit_price*H.value[D].qty,H.value[D].total_resale_discount=at*H.value[D].qty,H.value[D].outOfStock=!1;else{const Oe=Nn(o);H.value.push({id:o.id,title:o.title,img:o.img,price:le,unit_price:Number(le),qty:1,note:"",stock:Oe,ingredients:ae,variant_id:l,variant_name:r?r.name:null,addons:_,outOfStock:!1,resale_discount_per_item:at,total_resale_discount:at})}},ll=o=>{const r=ne(o),l=r?r.id:null,x=se(o).map(V=>V.id).sort().join("-"),D=H.value.findIndex(V=>{const ae=(V.addons||[]).map(R=>R.id).sort().join("-");return V.id===o.id&&V.variant_id===l&&ae===x});if(D<0)return;const I=H.value[D];I.qty<=1?H.value.splice(D,1):(I.qty--,I.price=I.unit_price*I.qty,I.outOfStock=!1)},pi=(o,r)=>!r||!o.variants?.length?o.ingredients??[]:o.variants.find(_=>_.id===r)?.ingredients??o.ingredients??[],ot=K(null),Yn=K(null);let Fi=null;const ko=(o,r)=>{ot.value=JSON.parse(JSON.stringify(o)),Yn.value=r;const l=$.value.find(_=>_.id===o.id);if(l&&l.addon_groups&&l.addon_groups.length>0){const _=new Map;o.addons&&o.addons.forEach(D=>{_.set(D.id,{quantity:D.quantity||1,selected:!0})});const x=[];l.addon_groups.forEach(D=>{D.addons&&D.addons.length>0&&D.addons.forEach(I=>{const V=_.get(I.id);x.push({id:I.id,name:I.name,price:parseFloat(I.price||0),group_id:D.group_id,group_name:D.group_name,quantity:V?.quantity||1,selected:V?.selected||!1})})}),ot.value.addons=x}else ot.value.addons=[];if(!Fi){const _=document.getElementById("addonManagementModal");_&&(Fi=new bootstrap.Modal(_))}Fi&&Fi.show()},ul=o=>{o.selected=!o.selected,o.selected||(o.quantity=1)},ct=o=>{o.selected&&(o.quantity=(o.quantity||1)+1)},Ur=o=>{o.selected&&(o.quantity||1)>1&&(o.quantity-=1)},Gn=o=>o.addons?o.addons.reduce((r,l)=>l.selected!==!1?r+parseFloat(l.price)*(l.quantity||1):r,0):0,Lo=()=>{if(Yn.value===null)return;const o=ot.value.addons.filter(D=>D.selected!==!1),r=ot.value.variant_id?$.value.find(D=>D.id===ot.value.id)?.variants?.find(D=>D.id===ot.value.variant_id):null,l=parseFloat(r?r.price:ot.value.unit_price),_=o.reduce((D,I)=>D+parseFloat(I.price)*(I.quantity||1),0),x=l+_;H.value[Yn.value].addons=o,H.value[Yn.value].unit_price=x,H.value[Yn.value].price=x*H.value[Yn.value].qty,Q.success("Addons updated successfully!"),Fi&&Fi.hide(),ot.value=null,Yn.value=null},Wr=o=>!o.addons||o.addons.length===0?"":o.addons.map(r=>r.name).join(", "),Ot=()=>{let o=0;return rt.value&&typeof rt.value=="object"&&Object.values(rt.value).forEach(r=>{Array.isArray(r)&&(o+=r.length)}),o},qi=Ce(()=>rn.props.current_user),Hr=Ce(()=>s.value.filter(o=>o.menu_items_count&&o.menu_items_count>0)),Vr=Ce(()=>qi.value?.roles?.includes("Cashier")||qi.value?.roles?.includes("Admin")||qi.value?.roles?.includes("Manager")),Ys=K(`terminal-${qi.value?.id}`),{broadcastCartUpdate:$o,broadcastUIUpdate:Ro}=XE(Ys.value),Rt=vo.debounce(o=>{console.log("📤 Broadcasting cart:",o.items.length,"items"),$o(o)},300),cl=vo.debounce(o=>{console.log("📤 Broadcasting UI"),Ro(o)},100);Ss(()=>({items:H.value.map(o=>({id:o.id,title:o.name||o.title,img:o.image_url||o.img||"/assets/img/default.png",price:parseFloat(o.total||o.price||0),qty:parseInt(o.qty||1),variant_name:o.variant?.name||null,addons:(o.addons||[]).map(r=>({id:r.id,name:r.name,price:parseFloat(r.price||0)})),resale_discount_per_item:parseFloat(o.resale_discount_per_item||0)})),customer:We.value||"Walk In",phone_number:bt.value||"",delivery_location:zt.value||"",orderType:Me.value||"Dine In",table:it.value?{id:it.value.id,name:it.value.name}:null,subtotal:parseFloat($t.value||0),tax:parseFloat(fi.value||0),serviceCharges:parseFloat(ci.value||0),deliveryCharges:parseFloat(ui.value||0),saleDiscount:parseFloat(Pi.value||0),promoDiscount:parseFloat(di.value||0),total:parseFloat(Mi.value||0),note:Vn.value||"",appliedPromos:(Fe.value||[]).map(o=>({id:o.id,name:o.name,discount:parseFloat(o.discount||0),applied_to_items:o.applied_to_items||[]}))}),o=>{console.log("🔔 Cart changed:",o.items.length,"items, Total:",o.total),Rt(o)},{deep:!0,immediate:!0}),Ss(()=>({showCategories:je.value??!0,activeCat:qn.value||null,menuCategories:(s.value||[]).map(o=>({id:o.id,name:o.name,menu_items_count:o.menu_items_count||0})),menuItems:($.value||[]).map(o=>({id:o.id,name:o.name,price:parseFloat(o.price||0),image_url:o.image_url||null,description:o.description||"",label_color:o.label_color||"#1B1670",category:o.category?{id:o.category.id,name:o.category.name}:null,variants:(o.variants||[]).map(r=>({id:r.id,name:r.name,price:parseFloat(r.price||0),is_saleable:r.is_saleable??!1,resale_type:r.resale_type||null,resale_value:parseFloat(r.resale_value||0)})),addon_groups:(o.addon_groups||[]).map(r=>({id:r.id,name:r.name,addons:(r.addons||[]).map(l=>({id:l.id,name:l.name,price:parseFloat(l.price||0)}))})),is_saleable:o.is_saleable??!1,resale_type:o.resale_type||null,resale_value:parseFloat(o.resale_value||0)})),searchQuery:Vt.value||"",selectedCardVariant:j.value||{},selectedCardAddons:Z.value||{}}),o=>{console.log("🔔 UI changed - Categories:",o.menuCategories.length,"Items:",o.menuItems.length),cl(o)},{deep:!0,immediate:!0});const Gt=()=>{if(!Vr.value){Q.error("Only cashiers can access customer display");return}const o=route("customer-display.index",{terminal:Ys.value});window.open(o,"_blank","width=1920,height=1080")},Pt=(o,r=!1)=>{if(!o)return 0;const l=o.is_saleable??o?.menu_item?.is_saleable,_=o.resale_type??o?.menu_item?.resale_type,x=o.resale_value??o?.menu_item?.resale_value,D=parseFloat(o.price||0);return!l||!_||!x?0:_==="flat"?parseFloat(x):_==="percentage"?D*parseFloat(x)/100:0},jn=(o,r=!1)=>{const l=parseFloat(o.price||0),_=Pt(o,r);return Math.max(0,l-_)},It=(o,r=!1)=>{if(!o)return null;const l=o.is_saleable??o?.menu_item?.is_saleable,_=o.resale_type??o?.menu_item?.resale_type,x=o.resale_value??o?.menu_item?.resale_value,D=Pt(o,r);return!l||!_||!x||D<=0?null:{type:_,value:x,amount:D,display:_==="flat"?`Sale ${n(D)}`:`${x}% OFF`}},Gs=o=>{const r=ne(o);let l;r?l=jn(r,!0):l=jn(o,!1);const _=Y(o);return l+_},Qn=o=>{if(!o.variants||o.variants.length===0){const x=Pt(o,!1)>0;return{min:jn(o,!1),max:jn(o,!1),minOriginal:x?parseFloat(o.price||0):null,maxOriginal:x?parseFloat(o.price||0):null}}const r=o.variants.map(x=>jn(x,!0)),l=o.variants.map(x=>parseFloat(x.price||0)),_=o.variants.some(x=>Pt(x,!0)>0);return{min:Math.min(...r),max:Math.max(...r),minOriginal:_?Math.min(...l):null,maxOriginal:_?Math.max(...l):null}},Ve=()=>{if(!be.value)return 0;const o=nt();return o?jn(o,!0):jn(be.value,!1)},Xn=()=>Ve()+ht(),hi=K([]),js=K(!1),Jn=K(!1),dl=async()=>{js.value=!0;try{const o=await axios.get("/api/deals",{params:{status:1,per_page:100}});console.log("Fetched deals:",o.data.data),hi.value=o.data.data.map(r=>({id:r.id,title:r.name,price:r.price,img:r.image_url||"/assets/img/product/product29.jpg",description:r.description,menu_items:r.menu_items||[],status:r.status}))}catch(o){console.error("Error fetching deals:",o),Q.error("Failed to load deals")}finally{js.value=!1}},fl=()=>{Jn.value=!0,je.value=!1},pl=()=>{Jn.value=!1,je.value=!0},zr=o=>{const r=H.value.find(l=>l.isDeal&&l.dealId===o.id);return r?r.qty:0},vs=(o,r)=>{const l=[],_={};return H.value.forEach(x=>{let D=[];x.isDeal?x.menu_items?.forEach(I=>{D.push(...I.ingredients||[])}):D=x.ingredients||[],D.forEach(I=>{const V=I.inventory_item_id||I.id,ae=Number(I.inventory_stock??I.stock??0),R=Number(I.quantity??I.qty??1)*x.qty;_[V]||(_[V]={totalStock:ae,used:0,name:I.product_name||I.name,unit:I.unit||"unit"}),_[V].used+=R})}),o.menu_items.forEach(x=>{const D=x.ingredients||[];D.length!==0&&D.forEach(I=>{const V=I.inventory_item_id||I.id,ae=Number(I.quantity??I.qty??1)*r;let we=Number(I.inventory_stock??I.stock??0);_[V]&&(we=_[V].totalStock-_[V].used);const Ue=H.value.find(le=>le.isDeal&&le.dealId===o.id);if(Ue){const le=Number(I.quantity??I.qty??1)*Ue.qty;we+=le}we<ae&&l.push({deal_id:o.id,deal_title:o.title,menu_item_id:x.id,menu_item_name:x.name,inventory_item_id:V,inventory_item_name:I.product_name||I.name,required_quantity:ae,available_quantity:Math.max(0,we),shortage_quantity:ae-we,unit:I.unit||"unit",order_quantity:r})})}),{canAdd:l.length===0,missing:l}},Bi=async o=>{const r=H.value.findIndex(x=>x.isDeal&&x.dealId===o.id),l=r>=0?H.value[r].qty+1:1,_=vs(o,l);if(!_.canAdd){console.log("🚨 Missing ingredients for deal (client-side)"),fs.value={deal:o,existingIndex:r,newQty:l},Yt.value=_.missing,Ln.value=!0,Q.warning("Some ingredients are missing. Confirm to proceed.");return}if(r>=0)H.value[r].qty++,H.value[r].price=H.value[r].unit_price*H.value[r].qty,Q.success("Deal quantity updated");else{const D=[];o.menu_items.forEach(V=>{V.ingredients&&V.ingredients.length>0&&D.push(...V.ingredients.map(ae=>({...ae,menu_item_id:V.id,menu_item_name:V.name})))});const I={id:`deal-${o.id}`,title:o.title,price:parseFloat(o.price),unit_price:parseFloat(o.price),img:o.img,qty:1,stock:999999,ingredients:D,isDeal:!0,dealId:o.id,menu_items:o.menu_items.map(V=>({id:V.id,name:V.name,price:V.price,ingredients:V.ingredients||[],stock:Ni(V.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};H.value.push(I),Q.success(`${o.title} added to cart!`)}},hl=o=>{const r=H.value.findIndex(_=>_.isDeal&&_.dealId===o.id);if(r<0)return;const l=H.value[r];l.qty<=1?(H.value.splice(r,1),Q.info("Deal removed from cart")):(l.qty--,l.price=l.unit_price*l.qty,Q.success("Deal quantity decreased"))};ur(()=>{dl(),gs()});const Pe=K(null),qe=K(0),Qe=K(1),on=K({}),Dt=K({}),Ui=K({}),vn=K([]);let Wi=null;const dt=Ce(()=>!Pe.value||!Pe.value.menu_items?null:Pe.value.menu_items[qe.value]),ms=Ce(()=>Qs().length>0),vt=Ce(()=>dt.value?.addon_groups&&dt.value.addon_groups.length>0),_i=Ce(()=>{const o=[];return ms.value&&o.push({id:"ingredients",name:"Ingredients"}),vt.value&&o.push({id:"addons",name:"Add-ons"}),o.push({id:"review",name:"Review"}),o}),Zn=Ce(()=>_i.value.length),Po=Ce(()=>{if(Qe.value===1)return"0%";const o=_i.value.length,r=(Qe.value-1)/(o-1);return`calc(${r*100}% - ${14-r*28}px)`}),Mo=Ce(()=>qe.value===Pe.value?.menu_items?.length-1);Ce(()=>Pe.value?.menu_items?.length?vn.value.length/Pe.value.menu_items.length*100:0);const Qs=()=>dt.value?dt.value.ingredients||[]:[],Kr=o=>(on.value[qe.value]||[]).includes(o),_l=o=>{const r=qe.value;on.value[r]||(on.value[r]=[]);const l=on.value[r],_=l.indexOf(o);_>-1?(l.splice(_,1),Q.info("Ingredient added back")):(l.push(o),Q.info("Ingredient removed"))},vl=()=>{const o=Qs(),r=on.value[qe.value]||[];return o.filter(l=>!r.includes(l.id)).length},ml=(o,r)=>{const l=qe.value;Dt.value[l]||(Dt.value[l]={});const x=dt.value?.addon_groups?.find(D=>D.group_id===o);if(x&&x.max_select>0&&r.length>x.max_select){Q.warning(`You can only select up to ${x.max_select} ${x.group_name}`),Dt.value[l][o]=r.slice(0,x.max_select);return}Dt.value[l][o]=r},Hi=()=>{const o=qe.value,r=Dt.value[o];if(!r)return 0;let l=0;return Object.values(r).forEach(_=>{l+=_.length}),l},gl=()=>{const o=qe.value,r=Dt.value[o];if(!r)return"";const l=[];return Object.values(r).forEach(_=>{_.forEach(x=>{l.push(`${x.name} (+${n(x.price)})`)})}),l.join(", ")},Fo=()=>{const o=qe.value,r=on.value[o]||[];if(r.length===0)return"";const l=Qs(),_=r.map(x=>{const D=l.find(I=>I.id===x);return D?D.product_name||D.name:null}).filter(Boolean);return _.length===0?"":`No ${_.join(", ")}`},Yr=o=>o<Qe.value?"bg-success text-white":o===Qe.value?"bg-primary text-white":"bg-light text-muted border",qo=()=>{let o=Qe.value+1;for(;o<=Zn.value;){const r=_i.value[o-1];if(r.id==="ingredients"&&!ms.value){o++;continue}if(r.id==="addons"&&!vt.value){o++;continue}break}o<=Zn.value&&(Qe.value=o)},ei=()=>{let o=Qe.value-1;for(;o>=1;){const r=_i.value[o-1];if(r.id==="ingredients"&&!ms.value){o--;continue}if(r.id==="addons"&&!vt.value){o--;continue}break}o>=1&&(Qe.value=o)},Xs=()=>{vn.value.includes(qe.value)||vn.value.push(qe.value),qe.value++,Qe.value=1,Q.success("Item customized! Configure next item.")},yl=async()=>{if(!Pe.value)return;vn.value.includes(qe.value)||vn.value.push(qe.value);const o=Pe.value.menu_items.map((D,I)=>{const V=on.value[I]||[],ae=Dt.value[I]||{},R=Ui.value[I]||"",we=[];Object.values(ae).forEach(le=>{le.forEach(at=>{we.push({id:at.id,name:at.name,price:parseFloat(at.price||0)})})});const Ue=(D.ingredients||[]).filter(le=>!V.includes(le.id)).map(le=>({id:le.id,inventory_item_id:le.inventory_item_id||le.id,product_name:le.product_name||le.name,quantity:le.quantity||le.qty||"1.00",stock:le.stock||0,unit:le.unit||"unit"}));return{id:D.id,name:D.name,price:D.price,ingredients:Ue,addons:we,kitchen_note:R,removed_ingredients:V,stock:Ni(Ue)}}),r=H.value.findIndex(D=>D.isDeal&&D.dealId===Pe.value.id),l=999999,_=[];if(o.forEach(D=>{D.ingredients&&D.ingredients.length>0&&_.push(...D.ingredients.map(I=>({...I,menu_item_id:D.id,menu_item_name:D.name})))}),r>=0)H.value[r].qty++,H.value[r].price=H.value[r].unit_price*H.value[r].qty,Q.success("Deal quantity updated!");else{const D={id:`deal-${Pe.value.id}`,title:Pe.value.title,price:Js.value,unit_price:parseFloat(Pe.value.price),img:Pe.value.img,qty:1,stock:l,ingredients:_,isDeal:!0,dealId:Pe.value.id,menu_items:o,resale_discount_per_item:0,total_resale_discount:0};H.value.push(D),Q.success(`${Pe.value.title} added to cart!`)}const x=bootstrap.Modal.getInstance(document.getElementById("customizeDealModal"));x&&x.hide(),Uo()},Bo=Ce(()=>{if(!dt.value)return 0;const o=parseFloat(dt.value.price||0),r=qe.value,l=Dt.value[r];if(!l)return o;let _=0;return Object.values(l).forEach(x=>{x.forEach(D=>{_+=parseFloat(D.price||0)})}),o+_}),Js=Ce(()=>{if(!Pe.value)return 0;const o=parseFloat(Pe.value.price||0);let r=0;return Object.values(Dt.value).forEach(l=>{Object.values(l).forEach(_=>{_.forEach(x=>{r+=parseFloat(x.price||0)})})}),o+r}),$n=Ce(()=>{const o=qe.value,r=Dt.value[o];if(!r)return 0;let l=0;return Object.values(r).forEach(_=>{_.forEach(x=>{l+=parseFloat(x.price||0)})}),l}),an=o=>{if(Pe.value=o,qe.value=0,Qe.value=1,on.value={},Dt.value={},Ui.value={},vn.value=[],!Wi){const r=document.getElementById("customizeDealModal");r&&(Wi=new bootstrap.Modal(r,{backdrop:"static"}))}Wi&&Wi.show()},Uo=()=>{Pe.value=null,qe.value=0,Qe.value=1,on.value={},Dt.value={},Ui.value={},vn.value=[]},Zs=K(!1),Vi=K([]),Gr=K(!1),bl=async()=>{if(H.value.length===0){Q.error("No items in cart to hold");return}try{const o={customer_name:We.value,phone_number:bt.value,delivery_location:zt.value,order_type:Me.value,table_number:it.value?.name||null,sub_total:$t.value,tax:fi.value,service_charges:ci.value,delivery_charges:ui.value,sale_discount:Pi.value,promo_discount:di.value,approved_discounts:ds.value,total_amount:Mi.value,note:Vn.value,kitchen_note:kn.value,order_items:H.value.map(l=>({product_id:l.id,title:l.title,quantity:l.qty,price:l.price,unit_price:l.unit_price,note:l.note||"",item_kitchen_note:l.item_kitchen_note||"",variant_id:l.variant_id||null,variant_name:l.variant_name||null,addons:l.addons||[],ingredients:l.ingredients||[],removed_ingredients:l.removed_ingredients||[],sale_discount_per_item:l.resale_discount_per_item||0,total_resale_discount:l.total_resale_discount||0,isDeal:l.isDeal||!1,dealId:l.dealId||null,menu_items:l.menu_items||[]})),applied_promos:Fe.value.map(l=>({promo_id:l.id,promo_name:l.name,promo_type:l.type,discount_amount:l.applied_discount||0,applied_to_items:l.applied_to_items||[]})),approved_discount_details:ut.value.map(l=>({discount_id:l.id,discount_name:l.name,discount_percentage:l.percentage,discount_amount:qs(l.percentage),approval_id:l.approval_id})),selected_discounts:ut.value,terminal_id:Ys.value};(await axios.post("/pending-orders",o)).data.success&&(Q.success("Order held successfully!"),Lr(),await gs())}catch(o){Q.error(o.response?.data?.message||"Failed to hold order")}},gs=async()=>{Gr.value=!0;try{const o=await axios.get("/pending-orders");o.data.success?Vi.value=o.data.data:Vi.value=[]}catch{Q.error("Failed to load pending orders"),Vi.value=[]}finally{Gr.value=!1}},zi=async()=>{Zs.value=!0,await gs()},b=async o=>{try{if(We.value=o.customer_name||Fs(),bt.value=o.phone_number||"",zt.value=o.delivery_location||"",Me.value=o.order_type,Vn.value=o.note||"",kn.value=o.kitchen_note||"",o.table_number){const r=tn.value.table_details?.find(l=>l.name===o.table_number);it.value=r||null}H.value=o.order_items.map(r=>({id:r.product_id,title:r.title,qty:r.quantity,price:r.price,unit_price:r.unit_price,note:r.note||"",item_kitchen_note:r.item_kitchen_note||"",img:r.img||"/assets/img/default.png",variant_id:r.variant_id||null,variant_name:r.variant_name||null,addons:r.addons||[],ingredients:r.ingredients||[],removed_ingredients:r.removed_ingredients||[],resale_discount_per_item:r.sale_discount_per_item||0,total_resale_discount:r.total_resale_discount||0,stock:r.stock||999999,isDeal:r.isDeal||!1,dealId:r.dealId||null,menu_items:r.menu_items||[]})),Fe.value=o.applied_promos||[],ut.value=o.selected_discounts||[],await axios.delete(`/pending-orders/${o.id}`),Q.success("Order resumed successfully!"),Zs.value=!1,await gs()}catch{Q.error("Failed to resume order")}},N=async o=>{try{await axios.delete(`/pending-orders/${o.id}`),Q.success("Pending order rejected"),await gs()}catch{Q.error("Failed to reject order")}},T=(o,r)=>rt.value[o]?.some(l=>l.id===r),X=(o,r)=>rt.value[o]?.find(_=>_.id===r)?.quantity||1,pe=(o,r)=>{rt.value[o]||(rt.value[o]=[]);const l=rt.value[o].findIndex(_=>_.id===r.id);if(l>-1)rt.value[o].splice(l,1);else{const _=be.value.addon_groups.find(x=>x.group_id===o);if(_&&_.max_select>0&&rt.value[o].length>=_.max_select){Q.warning(`You can only select up to ${_.max_select} ${_.group_name}`);return}rt.value[o].push({id:r.id,name:r.name,price:parseFloat(r.price),group_id:o,quantity:1})}},Ie=(o,r)=>{const l=rt.value[o]?.find(_=>_.id===r);l&&l.quantity++},Ze=(o,r)=>{const l=rt.value[o]?.find(_=>_.id===r);l&&l.quantity>1&&l.quantity--};return(o,r)=>(S(),O(Ne,null,[Bt(he(Py),{title:"Sale"}),Bt(Fy,null,{default:_u(()=>[c("div",vx,[c("div",mx,[c("div",gx,[c("div",{class:Zt(je.value?"col-md-12":"col-lg-8")},[je.value?(S(),O("div",yx,[c("div",bx,[r[28]||(r[28]=c("h4",{class:"mb-0"},"Menu Categories",-1)),Vr.value?(S(),O("button",{key:0,onClick:Gt,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...r[26]||(r[26]=[c("i",{class:"bi bi-tv"},null,-1),c("span",null,"Customer View",-1)])])):re("",!0),c("div",wx,[r[27]||(r[27]=c("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),C.value?lt((S(),O("input",{id:y,"onUpdate:modelValue":r[0]||(r[0]=l=>v.value=l),key:w.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:y,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[si,v.value]]):(S(),O("input",Ex))])]),r[33]||(r[33]=c("hr",null,null,-1)),f.value?(S(),O("div",xx,[...r[29]||(r[29]=[c("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),c("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(S(),O(Ne,{key:1},[c("div",Ax,[c("div",{class:"cat-card",onClick:fl,style:{cursor:"pointer"}},[r[30]||(r[30]=c("div",{class:"cat-icon-wrap"},[c("span",{class:"cat-icon"},[c("i",{class:"bi bi-gift-fill text-danger",style:{"font-size":"2rem"}})])],-1)),r[31]||(r[31]=c("div",{class:"cat-name"},"Deals",-1)),c("div",Tx,k(hi.value.length)+" Deal"+k(hi.value.length!==1?"s":""),1)])]),(S(!0),O(Ne,null,Ye(A.value,l=>(S(),O("div",{key:l.id,class:"col-6 col-md-4 col-lg-4 category-cards"},[c("div",{class:"cat-card",onClick:_=>_t(l)},[c("div",Sx,[c("span",Ox,[l.image_url?(S(),O("img",{key:0,src:l.image_url,alt:"Category Image",class:"cat-image"},null,8,Ix)):(S(),O("span",Dx,"🍵"))])]),c("div",Nx,k(l.name),1),c("div",kx,k(l.menu_items_count)+" Menu ",1)],8,Cx)]))),128)),!f.value&&A.value.length===0?(S(),O("div",Lx,[...r[32]||(r[32]=[c("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):re("",!0)],64))])):(S(),O("div",$x,[c("div",Rx,[c("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:r[1]||(r[1]=l=>Jn.value?pl():Bn())},[...r[34]||(r[34]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ge(" Back ",-1)])]),c("h5",Px,k(Jn.value?"Deals":s.value.find(l=>l.id===qn.value)?.name||"Items"),1),Jn.value?re("",!0):(S(),O("div",Mx,[Bt(zy,{modelValue:He.value,"onUpdate:modelValue":r[2]||(r[2]=l=>He.value=l),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:Or,onClear:as},null,8,["modelValue"]),c("div",Fx,[r[35]||(r[35]=c("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),lt(c("input",{"onUpdate:modelValue":r[3]||(r[3]=l=>Vt.value=l),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[si,Vt.value]])])]))]),Ms.value.length===0?(S(),O("div",qx,[c("div",Bx,[r[39]||(r[39]=c("i",{class:"bi bi-search me-2",style:{"font-size":"2rem",opacity:"0.5"}},null,-1)),r[40]||(r[40]=c("h5",{class:"mt-2 mb-2 text-dark fw-semibold"},"No Menu Found",-1)),c("p",Ux,[Vt.value&&He.value.priceRange&&He.value.priceRange.length>0?(S(),O(Ne,{key:0},[ge(" No items match your search and filter criteria. ")],64)):Vt.value?(S(),O(Ne,{key:1},[r[36]||(r[36]=ge(' No items found matching "',-1)),c("strong",null,k(Vt.value),1),r[37]||(r[37]=ge('" ',-1))],64)):He.value.priceRange&&He.value.priceRange.length>0?(S(),O(Ne,{key:2},[ge(" No items match the selected price range. ")],64)):(S(),O(Ne,{key:3},[ge(" No Menu available in this category. ")],64))]),c("button",{class:"btn btn-sm btn-outline-secondary rounded-pill",onClick:as},[...r[38]||(r[38]=[c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),ge("Clear Filters ",-1)])])])])):re("",!0),Jn.value?(S(),O("div",Wx,[js.value?(S(),O("div",Hx,[...r[41]||(r[41]=[c("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),c("div",{class:"mt-2 fw-semibold text-muted"},"Loading deals...",-1)])])):(S(),O(Ne,{key:1},[(S(!0),O(Ne,null,Ye(hi.value,l=>(S(),O("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:l.id},[c("div",Vx,[c("div",zx,[c("img",{src:l.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,Kx),c("span",Yx,[r[42]||(r[42]=c("i",{class:"bi bi-gift-fill me-1"},null,-1)),ge(" "+k(he(n)(l.price)),1)])]),c("div",Gx,[c("div",null,[c("div",jx,k(l.title),1),c("div",Qx,[r[43]||(r[43]=c("small",{class:"text-muted fw-semibold d-block mb-1",style:{"font-size":"0.75rem"}},[c("i",{class:"bi bi-box-seam me-1"}),ge("Includes: ")],-1)),c("div",Xx,[(S(!0),O(Ne,null,Ye(l.menu_items,_=>(S(),O("span",{key:_.id,class:"badge bg-light text-dark border",style:{"font-size":"1rem !important","font-weight":"500"}},k(_.name),1))),128))])])]),c("div",Jx,[c("button",{class:"btn btn-primary btn-sm w-75 mb-2",onClick:Xi(_=>an(l),["stop"])},[...r[44]||(r[44]=[c("i",{class:"bi bi-sliders me-1"},null,-1),ge(" Customize Deal ",-1)])],8,Zx),c("div",{class:"d-flex align-items-center justify-content-start gap-2",onClick:r[4]||(r[4]=Xi(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xi(_=>hl(l),["stop"]),disabled:zr(l)<=0},[...r[45]||(r[45]=[c("strong",null,"−",-1)])],8,eA),c("div",tA,k(zr(l)),1),c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xi(_=>Bi(l),["stop"])},[...r[46]||(r[46]=[c("strong",null,"+",-1)])],8,nA)])])])])]))),128)),!js.value&&hi.value.length===0?(S(),O("div",iA,[...r[47]||(r[47]=[c("div",{class:"alert alert-light border text-center rounded-4 py-5"},[c("i",{class:"bi bi-gift",style:{"font-size":"3rem",opacity:"0.3",color:"#dc3545"}}),c("h6",{class:"mt-3 mb-1 fw-bold"},"No Deals Available"),c("p",{class:"text-muted mb-0 small"},"Check back later for exciting deals!")],-1)])])):re("",!0)],64))])):(S(),O("div",sA,[(S(!0),O(Ne,null,Ye(Ms.value,l=>(S(),O("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:l.id},[c("div",{class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:uo({borderColor:l.label_color||"#1B1670"})},[c("div",rA,[c("img",{src:l.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,oA),l.variants&&l.variants.length>0?(S(),O("div",aA,[Qn(l).minOriginal!==null?(S(),O("span",lA,k(he(n)(Qn(l).minOriginal)),1)):re("",!0),c("span",uA,k(he(n)(Qn(l).min))+" - ",1),Qn(l).maxOriginal!==null?(S(),O("span",cA,k(he(n)(Qn(l).maxOriginal)),1)):re("",!0),c("span",dA,k(he(n)(Qn(l).max)),1)])):re("",!0),c("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:uo({background:l.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[It(ne(l)||l,!!l.variants?.length)?(S(),O(Ne,{key:0},[c("span",fA,k(he(n)(ne(l)?.price||l.price)),1),c("span",pA,k(he(n)(Gs(l))),1)],64)):(S(),O(Ne,{key:1},[ge(k(he(n)(ne(l)?.price||l.price)),1)],64))],4),Rs(l)<=0?(S(),O("span",hA," OUT OF STOCK ")):re("",!0)]),c("div",_A,[l.variants&&l.variants.length>0&&It(ne(l),!0)||(!l.variants||l.variants.length===0)&&It(l,!1)?(S(),O("span",vA,k(l.variants&&l.variants.length>0?It(ne(l),!0).display:It(l,!1).display),1)):re("",!0),c("div",null,[c("div",{class:"h5 fw-bold mb-2 menu-name",style:uo({color:l.label_color||"#1B1670"})},k(l.title),5),l.variants&&l.variants.length>0?(S(),O("div",mA,[r[48]||(r[48]=c("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),lt(c("select",{"onUpdate:modelValue":_=>j.value[l.id]=_,class:"form-select form-select-sm variant-select",onChange:_=>ie(l,_),onClick:r[5]||(r[5]=Xi(()=>{},["stop"]))},[(S(!0),O(Ne,null,Ye(l.variants,_=>(S(),O("option",{key:_.id,value:_.id},[ge(k(_.name)+" - "+k(he(n)(_.price))+" ",1),_.is_saleable&&Pt(_,!0)>0?(S(),O(Ne,{key:0},[ge(" (Sale: "+k(he(n)(Pt(_,!0)))+") ",1)],64)):re("",!0)],8,yA))),128))],40,gA),[[Hd,j.value[l.id]]])])):re("",!0),l.addon_groups&&l.addon_groups.length>0?(S(),O("div",bA,[(S(!0),O(Ne,null,Ye(l.addon_groups,_=>(S(),O("div",{key:_.group_id,class:"mb-3"},[c("label",wA,[ge(k(_.group_name)+" ",1),_.max_select>0?(S(),O("span",EA," (Max "+k(_.max_select)+") ",1)):re("",!0)]),Bt(he(Vd),{modelValue:Z.value[l.id]?.[_.group_id]||[],"onUpdate:modelValue":x=>L(l,_.group_id,x),options:_.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect"},{value:_u(x=>[x.value&&x.value.length>0?(S(),O("div",xA,[(S(!0),O(Ne,null,Ye(x.value,D=>(S(),O("span",{key:D.id,class:"badge bg-primary"},k(D.name)+" +"+k(he(n)(D.price)),1))),128))])):(S(),O("span",AA,k(x.placeholder),1))]),option:_u(x=>[c("div",TA,[c("span",null,k(x.option.name),1),c("span",CA," +"+k(he(n)(x.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):re("",!0),c("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:_=>Ii(l)}," Customization ",8,SA)]),c("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:r[6]||(r[6]=Xi(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xi(_=>ll(l),["stop"]),disabled:Re(l)<=0},[...r[49]||(r[49]=[c("strong",null,"−",-1)])],8,OA),c("div",IA,k(Re(l)),1),c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xi(_=>al(l),["stop"])},[...r[50]||(r[50]=[c("strong",null,"+",-1)])],8,DA)])])],4)]))),128))]))]))],2),je.value?re("",!0):(S(),O("div",NA,[c("div",kA,[c("button",{class:"btn btn-info px-3 py-2",onClick:zi},[r[51]||(r[51]=c("i",{class:"bi bi-clock-history me-1"},null,-1)),r[52]||(r[52]=ge(" Pending ",-1)),Vi.value.length>0?(S(),O("span",LA,k(Vi.value.length),1)):re("",!0)]),c("button",{class:"btn btn-warning px-3 py-2 promos-btn",onClick:No}," Promos "),c("button",{class:"btn btn-warning px-3 py-2 discount-btn",onClick:nl}," Discounts ")]),c("div",$A,[c("div",RA,[c("div",PA,[(S(!0),O(Ne,null,Ye(_n.value,(l,_)=>(S(),O("button",{key:_,class:Zt(["ot-pill btn cart-header-buttons",{active:Me.value===l}]),onClick:x=>Me.value=l},k(l.replace(/_/g," ")),11,MA))),128)),r[53]||(r[53]=c("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),c("div",FA,[c("div",qA,[Me.value==="Eat_in"?(S(),O("div",BA,[c("div",UA,[r[55]||(r[55]=c("label",{class:"form-label small"},"Table",-1)),lt(c("select",{"onUpdate:modelValue":r[7]||(r[7]=l=>it.value=l),class:"form-select form-select-sm"},[r[54]||(r[54]=c("option",{value:null},"Select Table",-1)),(S(!0),O(Ne,null,Ye(tn.value.table_details,(l,_)=>(S(),O("option",{key:_,value:l},k(l.name),9,WA))),128))],512),[[Hd,it.value]]),wt.value.table_number?(S(),O("div",HA,k(wt.value.table_number[0]),1)):re("",!0)]),c("div",VA,[r[56]||(r[56]=c("label",{class:"form-label small"},"Customer",-1)),lt(c("input",{"onUpdate:modelValue":r[8]||(r[8]=l=>We.value=l),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[si,We.value]])])])):(S(),O("div",zA,[r[57]||(r[57]=c("label",{class:"form-label small"},"Customer",-1)),lt(c("input",{"onUpdate:modelValue":r[9]||(r[9]=l=>We.value=l),class:Zt(["form-control form-control-sm",{"is-invalid":wt.value.customer}]),placeholder:"Walk In"},null,2),[[si,We.value]]),wt.value.customer?(S(),O("div",KA,k(wt.value.customer[0]),1)):re("",!0)])),Me.value==="Delivery"?(S(),O("div",YA,[r[58]||(r[58]=c("label",{class:"form-label small"},"Delivery Location",-1)),lt(c("input",{"onUpdate:modelValue":r[10]||(r[10]=l=>zt.value=l),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[si,zt.value]]),wt.value.delivery_location?(S(),O("div",GA,k(wt.value.delivery_location[0]),1)):re("",!0),r[59]||(r[59]=c("label",{class:"form-label small mt-2"},"Phone Number",-1)),lt(c("input",{"onUpdate:modelValue":r[11]||(r[11]=l=>bt.value=l),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[si,bt.value]]),wt.value.phone_number?(S(),O("div",jA,k(wt.value.phone_number[0]),1)):re("",!0)])):re("",!0)]),c("div",QA,[H.value.length===0?(S(),O("div",XA," Add items from the left ")):re("",!0),(S(!0),O(Ne,null,Ye(H.value,(l,_)=>(S(),O("div",{key:l.title,class:"line"},[c("div",JA,[c("img",{src:l.img,alt:""},null,8,ZA),c("div",eT,[c("div",{class:"name",title:l.title},k(l.title),9,tT),l.resale_discount_per_item>0?(S(),O("div",nT,[c("span",iT,[r[60]||(r[60]=c("i",{class:"bi bi-tag-fill"},null,-1)),ge(" Save "+k(he(n)(l.resale_discount_per_item)),1)])])):re("",!0),l.addons&&l.addons.length>0?(S(),O("div",sT,[c("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:x=>ko(l,_),title:Wr(l)},[r[61]||(r[61]=c("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),c("span",oT,k(l.addons.length)+" addon(s)",1)],8,rT)])):re("",!0),il(l)?(S(),O("span",aT,[...r[62]||(r[62]=[c("i",{class:"bi bi-tag-fill"},null,-1)])])):re("",!0),l.variant_name?(S(),O("div",lT,[c("span",uT,k(l.variant_name),1)])):re("",!0),l.note?(S(),O("div",cT,k(l.note),1)):re("",!0)])]),c("div",dT,[c("div",fT,[c("button",{class:"qty-btn",onClick:x=>Va(_)},"−",8,pT),c("div",hT,k(l.qty),1),c("button",{class:"qty-btn",onClick:x=>Ha(_)},"+",8,_T)]),c("div",vT,[c("div",mT,k(he(n)(l.price)),1),c("button",{class:"del",onClick:x=>xo(_)},[...r[63]||(r[63]=[c("i",{class:"bi bi-trash"},null,-1)])],8,gT)])])]))),128))]),c("div",yT,[c("div",bT,[r[64]||(r[64]=c("span",null,"Sub Total",-1)),c("b",wT,k(he(n)($t.value)),1)]),fi.value>0?(S(),O("div",ET,[r[65]||(r[65]=c("span",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-receipt text-info"}),ge(" Tax ")],-1)),c("b",xT,k(he(n)(fi.value)),1)])):re("",!0),ci.value>0?(S(),O("div",AT,[r[66]||(r[66]=c("span",{class:"text-muted"},"Service Charges:",-1)),c("span",TT,k(he(n)(ci.value)),1)])):re("",!0),ui.value>0?(S(),O("div",CT,[r[67]||(r[67]=c("span",{class:"text-muted"},"Delivery Charges:",-1)),c("span",ST,k(he(n)(ui.value)),1)])):re("",!0),Pi.value>0?(S(),O("div",OT,[r[68]||(r[68]=c("span",{class:"d-flex align-items-center gap-2"},[c("span",{class:"text-danger"},"Sale Discount:")],-1)),c("b",IT,"-"+k(he(n)(Pi.value)),1)])):re("",!0),Fe.value&&Fe.value.length>0?(S(),O("div",DT,[c("div",NT,[c("div",kT,[r[69]||(r[69]=c("span",{class:"text-success"},"Promo Discount:",-1)),c("b",LT,"-"+k(he(n)(di.value)),1)])])])):re("",!0),Et.value.length>0?(S(),O("div",$T,[r[71]||(r[71]=c("div",{class:"alert alert-warning py-2 px-3 mb-2"},[c("div",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-clock-history"}),c("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(S(!0),O(Ne,null,Ye(Et.value,l=>(S(),O("div",{key:l.id,class:"trow"},[c("span",RT,[r[70]||(r[70]=c("i",{class:"bi bi-hourglass-split"},null,-1)),c("span",null,k(l.discountData?.name||"Discount")+" ("+k(l.percentage)+"%)",1)]),c("span",PT," -"+k(he(n)(qs(l.percentage))),1)]))),128)),r[72]||(r[72]=c("small",{class:"text-muted d-block mt-1 ms-4"},[c("i",{class:"bi bi-info-circle me-1"}),ge(" Will apply after Super Admin approval ")],-1))])):re("",!0),ut.value.length>0?(S(),O("div",MT,[c("div",FT,[r[73]||(r[73]=c("div",{class:"d-flex align-items-center text-success gap-2"},[c("i",{class:"bi bi-check-circle"}),c("small",{class:"fw-semibold"},"Approved Discounts"),c("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),c("b",qT,"-"+k(he(n)(ds.value)),1)])])):re("",!0),c("div",BT,[r[74]||(r[74]=c("span",null,"Total",-1)),c("b",null,k(he(n)(Mi.value)),1)])]),c("div",UT,[r[75]||(r[75]=c("label",{for:"frontNote",class:"form-label small fw-semibold"},"Front Note",-1)),lt(c("textarea",{id:"frontNote","onUpdate:modelValue":r[12]||(r[12]=l=>Vn.value=l),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[si,Vn.value]])]),c("div",WT,[r[76]||(r[76]=c("label",{for:"kitchenNote",class:"form-label small fw-semibold"},"Kitchen Note",-1)),lt(c("textarea",{id:"kitchenNote","onUpdate:modelValue":r[13]||(r[13]=l=>kn.value=l),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[si,kn.value]])])]),c("div",HT,[c("button",{class:"btn btn-secondary btn-clear",onClick:r[14]||(r[14]=l=>Lr())}," Clear "),c("button",{class:"btn btn-warning",onClick:bl},[...r[77]||(r[77]=[c("i",{class:"bi bi-clock-history me-1"},null,-1),ge(" Pending ",-1)])]),c("button",{class:"btn btn-primary btn-place",onClick:Ga}," Place Order ")])])]))])]),c("div",VT,[c("div",zT,[c("div",KT,[c("div",YT,[c("div",null,[c("h5",GT,k(be.value?.title||"Choose Item"),1),r[78]||(r[78]=c("p",{class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},"Customize your order",-1))]),r[79]||(r[79]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",jT,[c("div",QT,[r[80]||(r[80]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:uo({width:gt.value})},null,4),(S(!0),O(Ne,null,Ye(Ct.value,(l,_)=>(S(),O("div",{key:l.id,class:"stepper-step text-center"},[c("div",{class:Zt(["stepper-circle stepper-circle-sm",Je(_+1)])},[_+1<_e.value?(S(),O("i",XT)):(S(),O("span",JT,k(_+1),1))],2),c("small",{class:Zt(["stepper-label",{"stepper-label-active":_+1===_e.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block"}},k(l.name),3)]))),128))])]),c("div",ZT,[c("div",eC,[c("div",tC,[c("div",nC,[c("img",{src:be.value?.image_url||be.value?.img||"/assets/img/product/product29.jpg",class:"img-fluid rounded-3 w-100 object-fit-cover",style:{height:"200px","object-fit":"cover"},alt:"Product"},null,8,iC),nt()&&It(nt(),!0)?(S(),O("span",sC,[r[81]||(r[81]=c("i",{class:"bi bi-tag-fill me-1"},null,-1)),ge(" "+k(It(nt(),!0).display),1)])):re("",!0)]),c("div",rC,[r[85]||(r[85]=c("div",{class:"d-flex align-items-center mb-2"},[c("i",{class:"bi bi-receipt me-2 text-primary",style:{"font-size":"1rem"}}),c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Price Breakdown")],-1)),c("div",oC,[r[82]||(r[82]=c("span",{class:"text-muted"},"Base Price",-1)),c("strong",null,k(he(n)(Di())),1)]),ht()>0?(S(),O("div",aC,[r[83]||(r[83]=c("span",{class:"text-muted"},"Add-ons",-1)),c("strong",lC,"+ "+k(he(n)(ht())),1)])):re("",!0),r[86]||(r[86]=c("hr",{class:"my-2"},null,-1)),c("div",uC,[r[84]||(r[84]=c("span",{class:"fw-bold"},"Total",-1)),c("span",cC,k(he(n)(Xn())),1)])])]),c("div",dC,[c("div",fC,[lt(c("div",pC,[r[88]||(r[88]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-grid-3x3-gap me-2 text-primary",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Choose Variant ")])],-1)),c("div",hC,[(S(!0),O(Ne,null,Ye(be.value?.variants,l=>(S(),O("div",{key:l.id,class:"col-12"},[c("div",{class:Zt(["border rounded-3 p-2 shadow-sm variant-card",Hn.value===l.id?"border-primary bg-light":""]),onClick:_=>On(l.id),style:{cursor:"pointer"}},[c("div",vC,[c("div",null,[c("h6",mC,k(l.name),1)]),c("div",gC,[Hn.value===l.id?(S(),O("div",yC,[...r[87]||(r[87]=[c("i",{class:"bi bi-check-circle-fill",style:{"font-size":"1rem"}},null,-1)])])):re("",!0),c("strong",bC,k(he(n)(l.price)),1)])])],10,_C)]))),128))])],512),[[Zi,_e.value===1&&ze.value]]),lt(c("div",wC,[r[89]||(r[89]=c("div",{class:"d-flex align-items-start mb-2"},[c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Remove Ingredients")])],-1)),c("div",EC,[(S(!0),O(Ne,null,Ye(B(),l=>(S(),O("div",{key:l.id||l.inventory_item_id,class:"col-md-6"},[c("div",{class:Zt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":J(l.id||l.inventory_item_id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"ingredient-"+(l.id||l.inventory_item_id),checked:!J(l.id||l.inventory_item_id),disabled:!J(l.id||l.inventory_item_id)&&ke()===1,onChange:_=>fe(l.id||l.inventory_item_id)},null,40,xC),c("label",{for:"ingredient-"+(l.id||l.inventory_item_id),class:"form-check-label",style:{"font-size":"0.8rem"}},k(l.product_name||l.name),9,AC)],2)]))),128))])],512),[[Zi,_e.value===2&&pt.value]]),lt(c("div",TC,[r[92]||(r[92]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Add Add-ons"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Enhance your meal")])],-1)),(S(!0),O(Ne,null,Ye(be.value?.addon_groups,l=>(S(),O("div",{key:l.group_id,class:"mb-3"},[c("label",CC,[c("span",null,k(l.group_name),1),l.max_select>0?(S(),O("span",SC," Max "+k(l.max_select),1)):re("",!0)]),c("div",OC,[(S(!0),O(Ne,null,Ye(l.addons,_=>(S(),O("div",{key:_.id,class:"col-12"},[c("div",{class:Zt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":T(l.group_id,_.id)}])},[c("div",IC,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"addon-"+_.id,checked:T(l.group_id,_.id),onChange:x=>pe(l.group_id,_)},null,40,DC),c("label",{for:"addon-"+_.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[ge(k(_.name)+" ",1),c("span",kC," +"+k(he(n)(_.price)),1)],8,NC)]),T(l.group_id,_.id)?(S(),O("div",LC,[c("button",{class:"btn btn-sm btn-outline-danger rounded-circle",style:{width:"28px",height:"28px",padding:"0",display:"flex","align-items":"center","justify-content":"center"},onClick:x=>Ze(l.group_id,_.id),disabled:X(l.group_id,_.id)<=1},[...r[90]||(r[90]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,$C),c("span",RC,k(X(l.group_id,_.id)),1),c("button",{class:"btn btn-sm btn-outline-success rounded-circle",style:{width:"28px",height:"28px",padding:"0",display:"flex","align-items":"center","justify-content":"center"},onClick:x=>Ie(l.group_id,_.id)},[...r[91]||(r[91]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,PC)])):re("",!0)],2)]))),128))])]))),128))],512),[[Zi,_e.value===3&&Ge.value]]),lt(c("div",MC,[r[99]||(r[99]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-cart-check me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Review Your Order"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Confirm selections")])],-1)),c("div",FC,[r[96]||(r[96]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Order Summary",-1)),ze.value?(S(),O("div",qC,[r[93]||(r[93]=c("span",{class:"summary-label"},"Variant:",-1)),c("span",BC,k(St()),1)])):re("",!0),F.value.length>0?(S(),O("div",UC,[r[94]||(r[94]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",WC,k(Le()),1)])):re("",!0),Ot()>0?(S(),O("div",HC,[r[95]||(r[95]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",VC,k(li()),1)])):re("",!0)]),c("div",zC,[r[97]||(r[97]=c("label",{class:"me-3 fw-semibold",style:{"font-size":"0.85rem"}},"Quantity:",-1)),c("div",KC,[c("button",{class:"qty-btn",onClick:Ya,disabled:st.value<=1},"−",8,YC),c("div",GC,k(st.value),1),c("button",{class:"qty-btn",onClick:Ka},"+")])]),c("div",jC,[r[98]||(r[98]=c("label",{class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},[c("i",{class:"bi bi-chat-left-text me-1"}),ge(" Kitchen Note (Optional) ")],-1)),lt(c("textarea",{"onUpdate:modelValue":r[15]||(r[15]=l=>nn.value=l),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions...",style:{"font-size":"0.8rem"}},null,512),[[si,nn.value]]),c("div",QC,k(nn.value?.length||0)+"/200 ",1)])],512),[[Zi,_e.value===Ht.value]])])])])]),c("div",XC,[_e.value>1?(S(),O("button",{key:0,class:"btn btn-light btn-sm px-4 py-2 shadow-sm",onClick:Sn},[...r[100]||(r[100]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ge("Back ",-1)])])):re("",!0),_e.value<Ht.value?(S(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Lt},[...r[101]||(r[101]=[ge(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):(S(),O("button",{key:2,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:za},[...r[102]||(r[102]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),ge("Add to Cart ",-1)])]))])])])]),c("div",JC,[c("div",ZC,[c("div",eS,[c("div",tS,[c("div",null,[c("h5",nS,k(Pe.value?.title||"Customize Deal"),1),c("p",iS," Customizing "+k(dt.value?.name||"item")+" ("+k(qe.value+1)+" of "+k(Pe.value?.menu_items?.length||0)+") ",1)]),r[103]||(r[103]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",sS,[c("div",rS,[r[104]||(r[104]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:uo({width:Po.value})},null,4),(S(!0),O(Ne,null,Ye(_i.value,(l,_)=>(S(),O("div",{key:l.id,class:"stepper-step text-center"},[c("div",{class:Zt(["stepper-circle stepper-circle-sm",Yr(_+1)])},[_+1<Qe.value?(S(),O("i",oS)):(S(),O("span",aS,k(_+1),1))],2),c("small",{class:Zt(["stepper-label",{"stepper-label-active":_+1===Qe.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block"}},k(l.name),3)]))),128))])]),c("div",lS,[c("div",uS,[c("div",cS,[c("div",dS,[c("img",{src:Pe.value?.img||"/assets/img/product/product29.jpg",class:"img-fluid rounded-3 w-100 object-fit-cover",style:{height:"200px","object-fit":"cover"},alt:"Deal"},null,8,fS),c("span",pS,[Js.value>parseFloat(Pe.value?.price||0)?(S(),O("span",hS,[r[105]||(r[105]=ge(" Deal: ",-1)),c("del",null,k(he(n)(Pe.value?.price||0)),1),ge(" "+k(he(n)(Js.value)),1)])):(S(),O("span",_S," Deal: "+k(he(n)(Pe.value?.price||0)),1))])]),c("div",vS,[c("h6",mS,[Bt(he(zd),{class:"me-2 text-primary w-4"}),r[106]||(r[106]=ge(" Currently Customizing ",-1))]),c("div",gS,[c("div",yS,[c("strong",null,k(dt.value?.name),1),c("div",bS," Base Price: "+k(he(n)(dt.value?.price||0)),1),$n.value>0?(S(),O("div",wS," + "+k(he(n)($n.value))+" (Add-ons) ",1)):re("",!0),c("div",ES," Total: "+k(he(n)(Bo.value)),1)])])]),c("div",xS,[r[107]||(r[107]=c("h6",{class:"fw-bold mb-2",style:{"font-size":"0.9rem"}},[c("i",{class:"bi bi-list-check me-2 text-success"}),ge(" Items in Deal ")],-1)),c("div",AS,[(S(!0),O(Ne,null,Ye(Pe.value?.menu_items,(l,_)=>(S(),O("div",{key:_,class:"list-group-item px-0 py-2 border-0"},[c("div",TS,[vn.value.includes(_)?(S(),O("i",CS)):_===qe.value?(S(),My(he(zd),{key:1,class:"text-primary me-2 w-4"})):(S(),O("i",SS)),c("small",{class:Zt({"fw-bold":_===qe.value})},k(l.name),3)])]))),128))])])]),c("div",OS,[c("div",IS,[lt(c("div",DS,[c("div",NS,[r[109]||(r[109]=c("i",{class:"bi bi-dash-circle me-2 text-warning",style:{"font-size":"1.1rem"}},null,-1)),c("div",null,[c("h6",kS," Remove Ingredients from "+k(dt.value?.name),1),r[108]||(r[108]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Uncheck ingredients you don't want ",-1))])]),c("div",LS,[(S(!0),O(Ne,null,Ye(Qs(),l=>(S(),O("div",{key:l.id,class:"col-md-6"},[c("div",{class:Zt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":Kr(l.id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"deal-ingredient-"+l.id,checked:!Kr(l.id),disabled:!Kr(l.id)&&vl()===1,onChange:_=>_l(l.id)},null,40,$S),c("label",{for:"deal-ingredient-"+l.id,class:"form-check-label",style:{"font-size":"0.8rem"}},k(l.product_name||l.name),9,RS)],2)]))),128))])],512),[[Zi,Qe.value===1&&ms.value]]),lt(c("div",PS,[c("div",MS,[r[111]||(r[111]=c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}},null,-1)),c("div",null,[c("h6",FS," Add Add-ons to "+k(dt.value?.name),1),r[110]||(r[110]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Enhance this item (charges may apply) ",-1))])]),(S(!0),O(Ne,null,Ye(dt.value?.addon_groups,l=>(S(),O("div",{key:l.group_id,class:"mb-3"},[c("label",qS,[c("span",null,k(l.group_name),1),l.max_select>0?(S(),O("span",BS," Max "+k(l.max_select),1)):re("",!0)]),Bt(he(Vd),{modelValue:Dt.value[qe.value]?.[l.group_id]||[],"onUpdate:modelValue":_=>ml(l.group_id,_),options:l.addons,optionLabel:"name",dataKey:"id",placeholder:"Select add-ons",maxSelectedLabels:2,class:"w-100",appendTo:"self"},null,8,["modelValue","onUpdate:modelValue","options"])]))),128))],512),[[Zi,Qe.value===2&&vt.value]]),lt(c("div",US,[c("div",WS,[Bt(he(Gy),{class:"me-2 text-primary w-5",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",HS," Review "+k(dt.value?.name),1),r[112]||(r[112]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Confirm your customizations ",-1))])]),c("div",VS,[r[119]||(r[119]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Customization Summary",-1)),c("div",zS,[r[113]||(r[113]=c("span",{class:"summary-label"},"Item:",-1)),c("span",KS,k(dt.value?.name),1)]),c("div",YS,[r[114]||(r[114]=c("span",{class:"summary-label"},"Base Price:",-1)),c("span",GS,k(he(n)(dt.value?.price||0)),1)]),Fo()?(S(),O("div",jS,[r[115]||(r[115]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",QS,k(Fo()),1)])):re("",!0),Hi()>0?(S(),O("div",XS,[r[116]||(r[116]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",JS,k(gl()),1)])):re("",!0),$n.value>0?(S(),O("div",ZS,[r[117]||(r[117]=c("span",{class:"summary-label"},"Add-ons Cost:",-1)),c("span",eO," + "+k(he(n)($n.value)),1)])):re("",!0),c("div",tO,[r[118]||(r[118]=c("span",{class:"summary-label fw-bold"},"Item Total:",-1)),c("span",nO,k(he(n)(Bo.value)),1)])]),c("div",iO,[c("label",sO,[r[120]||(r[120]=c("i",{class:"bi bi-chat-left-text me-1"},null,-1)),ge(" Kitchen Note for "+k(dt.value?.name)+" (Optional) ",1)]),lt(c("textarea",{"onUpdate:modelValue":r[16]||(r[16]=l=>Ui.value[qe.value]=l),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions for this item...",style:{"font-size":"0.8rem"}},"                                    ",512),[[si,Ui.value[qe.value]]]),c("div",rO,k((Ui.value[qe.value]||"").length)+"/200 ",1)])],512),[[Zi,Qe.value===Zn.value]])])])])]),c("div",oO,[c("div",aO,[Qe.value>1?(S(),O("button",{key:0,class:"btn btn-secondary btn-sm px-4 py-2 shadow-sm",onClick:ei},[...r[121]||(r[121]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ge("Back ",-1)])])):re("",!0),Qe.value<Zn.value?(S(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:qo},[...r[122]||(r[122]=[ge(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):Mo.value?(S(),O("button",{key:3,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:yl},[...r[124]||(r[124]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),ge("Add Deal to Cart ",-1)])])):(S(),O("button",{key:2,class:"btn btn-success btn-sm px-4 py-2 shadow-sm",onClick:Xs},[...r[123]||(r[123]=[c("i",{class:"bi bi-check2 me-1"},null,-1),ge("Next Item ",-1)])]))])])])])]),c("div",lO,[c("div",uO,[c("div",cO,[r[135]||(r[135]=c("div",{class:"modal-header border-0 pb-2"},[c("h5",{class:"modal-title fw-bold"},[c("i",{class:"bi bi-puzzle-fill text-primary me-2"}),ge(" Manage Add-ons ")]),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),ot.value?(S(),O("div",dO,[c("div",fO,[c("div",pO,[c("img",{src:ot.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,hO),c("div",_O,[c("div",vO,k(ot.value.title),1),c("div",mO,[c("small",gO,[r[125]||(r[125]=c("i",{class:"bi bi-tag me-1"},null,-1)),r[126]||(r[126]=ge(" Base Price: ",-1)),c("span",yO,k(he(n)(ot.value?.unit_price-Gn(H.value[Yn.value]||{addons:[]}))),1)]),c("small",bO,[r[127]||(r[127]=c("i",{class:"bi bi-box me-1"},null,-1)),r[128]||(r[128]=ge(" Quantity: ",-1)),c("span",wO,k(ot.value.qty),1)])])])])]),ot.value.addons&&ot.value.addons.length>0?(S(),O("div",EO,[c("table",xO,[r[131]||(r[131]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"60px"},class:"text-center"},"Select"),c("th",null,"Items"),c("th",{style:{width:"120px"},class:"text-center"},"Price"),c("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),c("tbody",null,[(S(!0),O(Ne,null,Ye(ot.value.addons,l=>(S(),O("tr",{key:l.id,class:Zt({"table-active":l.selected!==!1})},[c("td",AO,[c("div",TO,[c("input",{type:"checkbox",class:"form-check-input",checked:l.selected!==!1,onChange:_=>ul(l),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,CO)])]),c("td",null,[c("div",SO,[c("div",{class:Zt(["addon-status-indicator",l.selected!==!1?"bg-success":"bg-secondary"])},null,2),c("div",null,[c("div",OO,k(l.name),1),l.group_name?(S(),O("small",IO,k(l.group_name),1)):re("",!0)])])]),c("td",DO,[c("span",NO," +"+k(he(n)(l.price)),1)]),c("td",null,[c("div",kO,[c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>Ur(l),disabled:!l.selected||(l.quantity||1)<=1},[...r[129]||(r[129]=[c("i",{class:"bi bi-dash-lg"},null,-1)])],8,LO),c("span",$O,k(l.quantity||1),1),c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>ct(l),disabled:!l.selected},[...r[130]||(r[130]=[c("i",{class:"bi bi-plus-lg"},null,-1)])],8,RO)])])],2))),128))])])])):(S(),O("div",PO,[...r[132]||(r[132]=[c("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),c("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),c("div",MO,[Ot()>0?(S(),O("div",FO,[c("small",qO,[r[133]||(r[133]=c("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),ge(" "+k(Ot())+" add-on(s) selected • Add-ons Total: "+k(he(n)(Gn(ot.value))),1)])])):re("",!0)])])):re("",!0),c("div",{class:"modal-footer border-0 pt-0 bg-light"},[r[134]||(r[134]=c("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),c("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:Lo}," Save ")])])])]),Bt(Wy,{show:Io.value,kot:ps.value,loading:qr.value,onClose:r[17]||(r[17]=l=>Io.value=!1),onStatusUpdated:Fr},null,8,["show","kot","loading"]),Bt(By,{show:$r.value,order:ki.value,money:Ao,onClose:r[18]||(r[18]=l=>$r.value=!1)},null,8,["show","order"]),Bt(qy,{show:ls.value,customer:We.value,"delivery-location":zt.value,phone:bt.value,"order-type":Me.value,"selected-table":it.value,"order-items":H.value,"grand-total":Mi.value,money:Ao,cashReceived:Rr.value,"onUpdate:cashReceived":r[19]||(r[19]=l=>Rr.value=l),client_secret:u.client_secret,order_code:u.order_code,"sub-total":$t.value,tax:fi.value,"service-charges":ci.value,"delivery-charges":ui.value,"promo-discount":di.value,"promo-id":Fe.value?.id,"promo-name":Fe.value?.name,"promo-type":Fe.value?.type,"promo-discount-amount":di.value,note:Vn.value,"kitchen-note":kn.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":ja.value,change:Qa.value,onClose:r[20]||(r[20]=l=>ls.value=!1),onConfirm:Oo,appliedPromos:rl.value,"approved-discounts":ds.value,"approved-discount-details":ut.value.map(l=>({discount_id:l.id,discount_name:l.name,discount_percentage:l.percentage,discount_amount:qs(l.percentage),approval_id:l.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),Bt(Vy,{show:Ri.value,orders:Kn.value,onClose:r[21]||(r[21]=l=>Ri.value=!1),onViewDetails:sl,loading:Ws.value},null,8,["show","orders","loading"]),Bt(Uy,{show:Hs.value,loading:Vs.value,promos:_s.value,"order-items":H.value,onApplyPromo:tl,onClose:r[22]||(r[22]=l=>Hs.value=!1)},null,8,["show","loading","promos","order-items"]),Bt(Ky,{show:hs.value,discounts:Ks.value,"order-items":H.value,loading:zs.value,"applied-discounts":ut.value,"rejected-discounts":cs.value,onClose:r[23]||(r[23]=l=>hs.value=!1),onApplyDiscount:Xa,onClearDiscount:Za},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"]),Bt(_x,{show:Ln.value,"missing-ingredients":Yt.value,onClose:r[24]||(r[24]=l=>{Ln.value=!1,Us.value=null}),onConfirm:el},null,8,["show","missing-ingredients"]),Bt(Yy,{show:Zs.value,"pending-orders":Vi.value,loading:Gr.value,onClose:r[25]||(r[25]=l=>Zs.value=!1),onResume:b,onReject:N},null,8,["show","pending-orders","loading"])])]),_:1})],64))}},vI=Ly(BO,[["__scopeId","data-v-dde41c29"]]);export{vI as default};

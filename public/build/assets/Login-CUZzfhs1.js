import{_ as F,x as U,r as u,w as $,o as f,z as j,s as b,n as z,A as D,g as r,b as l,e as A,f as s,a as q,l as c,u as i,h as O,F as P,i as G,j as T,t as y,p as k,y as K,m as I,v as Q,B as H}from"./app-DFa9wJfT.js";import{V as J}from"./VerifyOtpModal-B9l7fLlE.js";import{u as R,a as W}from"./index-DKTP6ctL.js";const X={class:"account-page"},Y={class:"main-wrapper"},Z={class:"account-content"},ss={class:"login-wrapper"},ts={class:"login-content"},es={class:"login-userset"},os={key:0,class:"pin-login-container"},ns={class:"pin-display-container"},is={class:"pin-dots"},ls={key:0,class:"text-danger d-block text-center mt-2"},as={class:"numeric-keypad"},rs={class:"keypad-row"},ds={class:"keypad-row"},ps={class:"keypad-row"},us={class:"keypad-row"},cs={key:1,class:"email-login-container"},gs={class:"form-login"},ms={class:"form-addons"},vs={key:0,class:"text-danger text-sm"},ys={class:"form-login"},fs={class:"pass-group"},bs=["type"],ks={key:0,class:"text-danger text-sm"},ws={class:"form-login"},xs={class:"alreadyuser"},Cs=["href"],_s={class:"form-login"},hs=["disabled"],Es={key:0},Ls={key:1},$s={key:0,class:"loading-overlay"},Ds={__name:"Login",setup(Ps){const e=U({email:"",password:"",pin:"",remember:!1}),w=R(),V=W(w),g=u(!1),d=u("pin"),m=u(["","","",""]),a=o=>{e.pin.length<4&&(e.pin+=o,C())},x=()=>{e.pin.length>0&&(e.pin=e.pin.slice(0,-1),C())},v=()=>{e.pin="",m.value=["","","",""]},C=()=>{const o=e.pin.split("");m.value=["","","",""],o.forEach((t,n)=>{n<4&&(m.value[n]="â€¢")})};$(()=>e.pin,o=>{o.length===4&&d.value==="pin"&&setTimeout(()=>{h()},300)}),f(()=>{window.addEventListener("keydown",_)}),j(()=>{window.removeEventListener("keydown",_)});function _(o){const t=o.key;/^[0-9]$/.test(t)&&a(t),(t==="Backspace"||t==="Delete")&&x(),t.toLowerCase()==="r"&&v()}const h=()=>{e.post(route("login"),{preserveScroll:!0,onSuccess:()=>{},onError:o=>{o.unverified&&o.email_address&&(L.value=o.email_address,p.value=!0,b.warning(o.unverified)),e.errors.email=o.email,e.errors.password=o.password,e.errors.pin=o.pin,o.pin&&d.value==="pin"&&v()},onFinish:()=>{d.value==="email"&&e.reset("password")}})},E=()=>{document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(t=>{new bootstrap.Tooltip(t)})};$([()=>e.email,()=>e.pin],()=>{z(()=>E())}),f(()=>{w.value||V(!0),E()}),D();function M(){const o=D().props.flash||{};o.message&&b.success(o.message),o.error&&b.error(o.error)}f(()=>{M()});const p=u(!1),L=u(""),S=()=>{d.value="email",v(),e.clearErrors()},N=()=>{d.value="pin",e.email="",e.password="",e.clearErrors()};return(o,t)=>(l(),r(P,null,[A(i(O),{title:"Login"}),s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",ts,[s("div",es,[t[25]||(t[25]=s("div",{class:"login-logo-wrapper mx-auto"},[s("div",{class:"login-logo"},[s("img",{src:"/assets/img/10x Global.png",alt:"img",class:"logo-img"})])],-1)),d.value==="pin"?(l(),r("div",os,[t[18]||(t[18]=s("div",{class:"login-userheading text-center"},[s("h3",null,"Quick PIN Login"),s("p",{class:"text-muted"},"Enter your 4-digit PIN")],-1)),s("div",ns,[s("div",is,[(l(!0),r(P,null,G(m.value,(n,B)=>(l(),r("div",{key:B,class:T(["pin-dot",{filled:n}])},y(n),3))),128))]),i(e).errors.pin?(l(),r("span",ls,y(i(e).errors.pin),1)):c("",!0)]),s("div",as,[s("div",rs,[s("button",{type:"button",class:"keypad-btn",onClick:t[0]||(t[0]=n=>a("1"))},"1"),s("button",{type:"button",class:"keypad-btn",onClick:t[1]||(t[1]=n=>a("2"))},"2"),s("button",{type:"button",class:"keypad-btn",onClick:t[2]||(t[2]=n=>a("3"))},"3")]),s("div",ds,[s("button",{type:"button",class:"keypad-btn",onClick:t[3]||(t[3]=n=>a("4"))},"4"),s("button",{type:"button",class:"keypad-btn",onClick:t[4]||(t[4]=n=>a("5"))},"5"),s("button",{type:"button",class:"keypad-btn",onClick:t[5]||(t[5]=n=>a("6"))},"6")]),s("div",ps,[s("button",{type:"button",class:"keypad-btn",onClick:t[6]||(t[6]=n=>a("7"))},"7"),s("button",{type:"button",class:"keypad-btn",onClick:t[7]||(t[7]=n=>a("8"))},"8"),s("button",{type:"button",class:"keypad-btn",onClick:t[8]||(t[8]=n=>a("9"))},"9")]),s("div",us,[s("button",{type:"button",class:"keypad-btn keypad-clear",onClick:v},[...t[15]||(t[15]=[s("i",{class:"fas fa-redo"},null,-1)])]),s("button",{type:"button",class:"keypad-btn",onClick:t[9]||(t[9]=n=>a("0"))},"0"),s("button",{type:"button",class:"keypad-btn keypad-delete",onClick:x},[...t[16]||(t[16]=[s("i",{class:"fas fa-backspace"},null,-1)])])])]),s("div",{class:"text-center mt-4"},[s("button",{type:"button",class:"btn-link-switch",onClick:S},[...t[17]||(t[17]=[s("i",{class:"fas fa-envelope me-2"},null,-1),k("Login with Email Instead ",-1)])])])])):(l(),r("div",cs,[t[24]||(t[24]=s("div",{class:"login-userheading"},[s("h3",null,"Sign In"),s("p",{class:"text-muted mb-4"},"Login with your credentials")],-1)),s("form",{onSubmit:K(h,["prevent"])},[s("div",gs,[t[20]||(t[20]=s("label",{class:"form-label"},"Email Address",-1)),s("div",ms,[I(s("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=n=>i(e).email=n),placeholder:"Enter your email address",class:"form-control"},null,512),[[Q,i(e).email]]),t[19]||(t[19]=s("img",{src:"/assets/img/icons/mail.svg",alt:"img"},null,-1))]),i(e).errors.email?(l(),r("span",vs,y(i(e).errors.email),1)):c("",!0)]),s("div",ys,[t[21]||(t[21]=s("label",{class:"form-label"},"Password",-1)),s("div",fs,[I(s("input",{type:g.value?"text":"password","onUpdate:modelValue":t[11]||(t[11]=n=>i(e).password=n),class:"pass-input form-control",placeholder:"Enter your password"},null,8,bs),[[H,i(e).password]]),s("span",{class:T(["fas toggle-password",g.value?"fa-eye":"fa-eye-slash"]),onClick:t[12]||(t[12]=n=>g.value=!g.value)},null,2)]),i(e).errors.password?(l(),r("span",ks,y(i(e).errors.password),1)):c("",!0)]),s("div",ws,[s("div",xs,[s("h4",null,[s("a",{href:o.route("password.request"),class:"hover-a"}," Forgot Password? ",8,Cs)])])]),s("div",_s,[s("button",{type:"submit",class:"btn btn-login",disabled:i(e).processing},[i(e).processing?(l(),r("span",Es,[...t[22]||(t[22]=[s("i",{class:"fas fa-spinner fa-spin me-2"},null,-1),k("Signing In... ",-1)])])):(l(),r("span",Ls,"Sign In"))],8,hs)]),s("div",{class:"text-center mt-3"},[s("button",{type:"button",class:"btn-link-switch",onClick:N},[...t[23]||(t[23]=[s("i",{class:"fas fa-keyboard me-2"},null,-1),k("Use PIN Instead ",-1)])])])],32)]))])]),t[26]||(t[26]=s("div",{class:"login-img position-relative"},[s("img",{src:"/assets/img/login.jpg",alt:"img",class:"w-100 h-100 object-fit-cover"}),s("div",{class:"login-overlay text-center"},[s("div",{class:"overlay-content"})])],-1))])]),i(e).processing?(l(),r("div",$s,[...t[27]||(t[27]=[s("div",{class:"spinner"},null,-1),s("p",{class:"loading-text"},"Logging you in...",-1)])])):c("",!0)])]),p.value?(l(),q(J,{key:0,open:p.value,email:L.value,onVerified:t[13]||(t[13]=()=>{p.value=!1,o.window.location.href=o.route("dashboard")}),onClosed:t[14]||(t[14]=()=>{p.value=!1})},null,8,["open","email"])):c("",!0)],64))}},Ms=F(Ds,[["__scopeId","data-v-d4add156"]]);export{Ms as default};

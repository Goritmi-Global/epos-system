import{_ as f,b3 as y,j as v,r as T,g as i,o as d,i as x,b as a,x as m,W as _,n,a as V,d as E,t as c,y as u}from"./app-COVoaSpv.js";import{s as k}from"./index-CcYqNmWE.js";import"./index-DHNrrZoT.js";const w={key:0,class:"fw-bold mb-4"},S={class:"mb-3"},N={class:"segmented"},U={key:1,class:"row g-3"},O={class:"col-md-6"},I={key:0,class:"text-danger"},A={class:"col-md-3"},B={key:0,class:"text-danger"},C={class:"col-md-3"},j={key:0,class:"text-danger"},D={key:2,class:"mt-3"},F={key:0,class:"text-danger"},R={class:"mt-3"},G={class:"segmented"},M={__name:"Step4",props:{model:Object,formErrors:Object,isOnboarding:{type:Boolean,default:!1}},emits:["save"],setup(r,{emit:p}){const o=r,b=p,e=y({tax_registered:o.model.tax_registered??1,tax_type:o.model.tax_type??"VAT",tax_rate:o.model.tax_rate??0,price_includes_tax:o.model.price_includes_tax?1:0,tax_id:o.model.tax_id??null,extra_tax_rates:o.model.extra_tax_rates??""});console.log("props.model.tax_registered",o.model.tax_registered),console.log("tax_registered",e.tax_registered),v(e,()=>{const l={step:4,data:{tax_registered:Number(e.tax_registered),price_includes_tax:Number(e.price_includes_tax)}};Number(e.tax_registered)===1?(l.data.tax_type=e.tax_type,l.data.tax_rate=e.tax_rate,l.data.tax_id=e.tax_id,l.data.extra_tax_rates=e.extra_tax_rates||""):(l.data.tax_type="",l.data.tax_rate=0,l.data.tax_id="",l.data.extra_tax_rates=0),b("save",l)},{deep:!0,immediate:!0});const g=T([{name:"VAT",code:"VAT"},{name:"GST",code:"GST"},{name:"Sales Tax",code:"Sales Tax"}]);return(l,t)=>(d(),i("div",null,[o.isOnboarding?(d(),i("h5",w,"Step 4 of 9 - Tax & VAT Setup")):x("",!0),a("div",S,[t[8]||(t[8]=a("label",{class:"form-label d-block mb-2"},"Is your business tax registered?",-1)),a("div",N,[m(a("input",{type:"radio",id:"tax-yes",value:1,"onUpdate:modelValue":t[0]||(t[0]=s=>e.tax_registered=s),class:"segmented__input"},null,512),[[_,e.tax_registered,void 0,{number:!0}]]),a("label",{for:"tax-yes",class:n(["segmented__btn",{"is-active":e.tax_registered===1}])},"YES",2),m(a("input",{type:"radio",id:"tax-no",value:0,"onUpdate:modelValue":t[1]||(t[1]=s=>e.tax_registered=s),class:"segmented__input"},null,512),[[_,e.tax_registered,void 0,{number:!0}]]),a("label",{for:"tax-no",class:n(["segmented__btn",{"is-active":e.tax_registered===0}])},"NO",2)])]),e.tax_registered===1?(d(),i("div",U,[a("div",O,[t[9]||(t[9]=a("label",{class:"form-label"},"Tax Type",-1)),V(E(k),{modelValue:e.tax_type,"onUpdate:modelValue":t[2]||(t[2]=s=>e.tax_type=s),options:g.value,optionLabel:"name",optionValue:"code",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},placeholder:"Select Tax Type",class:n(["w-100",{"is-invalid":r.formErrors?.tax_type}])},null,8,["modelValue","options","class"]),r.formErrors?.tax_type?(d(),i("small",I,c(r.formErrors.tax_type[0]),1)):x("",!0)]),a("div",A,[t[10]||(t[10]=a("label",{class:"form-label"},"Tax Rate (%)",-1)),m(a("input",{type:"number",class:n(["form-control",{"is-invalid":r.formErrors?.tax_rate}]),min:"0",max:"100","onUpdate:modelValue":t[3]||(t[3]=s=>e.tax_rate=s)},null,2),[[u,e.tax_rate,void 0,{number:!0}]]),r.formErrors?.tax_rate?(d(),i("small",B,c(r.formErrors.tax_rate[0]),1)):x("",!0)]),a("div",C,[t[11]||(t[11]=a("label",{class:"form-label"},"Tax ID",-1)),m(a("input",{class:n([{"is-invalid":r.formErrors?.tax_id},"form-control"]),"onUpdate:modelValue":t[4]||(t[4]=s=>e.tax_id=s)},null,2),[[u,e.tax_id]]),r.formErrors?.tax_id?(d(),i("small",j,c(r.formErrors.tax_id[0]),1)):x("",!0)])])):x("",!0),e.tax_registered===1?(d(),i("div",D,[t[12]||(t[12]=a("label",{class:"form-label"},"Extra Tax Rates",-1)),m(a("input",{class:n(["form-control",{"is-invalid":r.formErrors?.extra_tax_rates}]),"onUpdate:modelValue":t[5]||(t[5]=s=>e.extra_tax_rates=s),placeholder:"e.g. 5%"},null,2),[[u,e.extra_tax_rates]]),r.formErrors?.extra_tax_rates?(d(),i("small",F,c(r.formErrors.extra_tax_rates[0]),1)):x("",!0)])):x("",!0),a("div",R,[t[13]||(t[13]=a("label",{class:"form-label d-block mb-2"},"Price includes tax?",-1)),a("div",G,[m(a("input",{type:"radio",id:"price-yes",value:1,"onUpdate:modelValue":t[6]||(t[6]=s=>e.price_includes_tax=s),class:"segmented__input"},null,512),[[_,e.price_includes_tax]]),a("label",{for:"price-yes",class:n(["segmented__btn",{"is-active":e.price_includes_tax===1}])},"YES",2),m(a("input",{type:"radio",id:"price-no",value:0,"onUpdate:modelValue":t[7]||(t[7]=s=>e.price_includes_tax=s),class:"segmented__input"},null,512),[[_,e.price_includes_tax]]),a("label",{for:"price-no",class:n(["segmented__btn",{"is-active":e.price_includes_tax===0}])},"NO",2)])])]))}},L=f(M,[["__scopeId","data-v-11c7be95"]]);export{L as default};

import{g as O,b as A,f as c,a3 as bt,a0 as Ya,a as on,H as oi,d as Mt,m as at,l as G,k as dr,ae as Lr,V as Hb,j as nt,a6 as Ub,aS as rf,ag as Vb,a4 as zb,E as Ou,F as Be,i as vt,e as tt,t as N,b5 as Oa,w as $i,c as be,p as pe,_ as Kb,o as gs,n as ku,r as H,A as Yb,z as Gb,s as V,u as ce,h as jb,v as cr,y as Ni,K as wo,T as Qb}from"./app-DwNPAkRi.js";import{_ as Xb}from"./Master--p-90JeK.js";import sf from"./ConfirmOrderModal-6GgqzNtJ.js";import Zb from"./ReceiptModal-CiHiVenc.js";import Jb from"./PromoModal-B0gN-XjA.js";import ey from"./KotModal-DSW8n-_G.js";import{u as ty}from"./useFormatters-BrM-tJ83.js";import ny from"./PosOrdersModal-CI6pDbDv.js";import{F as ry}from"./FilterModal-CcH5bko2.js";import{s as iy}from"./index-CVvDoA1i.js";import{a as sy,s as Ga,f as oy}from"./index-DDHekjA2.js";import{s as ay}from"./index-DKYWs9Z5.js";import{R as ly}from"./index-BsWRXlA_.js";import uy from"./DiscountModal-C_aCkzkI.js";import cy from"./PendingOrdersModal-CV-PVj9U.js";import{P as of}from"./pencil-Zp6s5WUr.js";import{E as dy}from"./eye-D8ZiXsMz.js";import"./index-SM1eeh2q.js";import"./createLucideIcon-IoE8C8vO.js";import"./sun-5Jk0idAQ.js";import"./StripePayment-DQ7G56mI.js";import"./SplitPayment-D9jUw36Q.js";import"./Receipt-Che7kkLP.js";import"./clock-3v7VCadD.js";import"./circle-check-big-ush5LauH.js";import"./circle-x-Cggs2UsA.js";import"./printer-DUFUu1oc.js";var tc={name:"ChevronUpIcon",extends:sy};function fy(o){return _y(o)||vy(o)||hy(o)||py()}function py(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(o,n){if(o){if(typeof o=="string")return Yu(o,n);var i={}.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Yu(o,n):void 0}}function vy(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _y(o){if(Array.isArray(o))return Yu(o)}function Yu(o,n){(n==null||n>o.length)&&(n=o.length);for(var i=0,f=Array(n);i<n;i++)f[i]=o[i];return f}function my(o,n,i,f,v,g){return A(),O("svg",bt({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),fy(n[0]||(n[0]=[c("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)])),16)}tc.render=my;var gy={root:"p-accordioncontent",content:"p-accordioncontent-content"},by=Ya.extend({name:"accordioncontent",classes:gy}),yy={name:"BaseAccordionContent",extends:Ga,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:by,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},Ba={name:"AccordionContent",extends:yy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return bt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function wy(o,n,i,f,v,g){return o.asChild?oi(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs}):(A(),on(Hb,bt({key:0,name:"p-toggleable-content"},o.ptm("transition",g.ptParams)),{default:Mt(function(){return[!g.$pcAccordion.lazy||g.$pcAccordionPanel.active?at((A(),on(dr(o.as),bt({key:0,class:o.cx("root")},g.attrs),{default:Mt(function(){return[c("div",bt({class:o.cx("content")},o.ptm("content",g.ptParams)),[oi(o.$slots,"default")],16)]}),_:3},16,["class"])),[[Lr,g.$pcAccordion.lazy?!0:g.$pcAccordionPanel.active]]):G("",!0)]}),_:3},16))}Ba.render=wy;var Ey={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},Ay=Ya.extend({name:"accordionheader",classes:Ey}),xy={name:"BaseAccordionHeader",extends:Ga,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:Ay,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},Wa={name:"AccordionHeader",extends:xy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){!this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onKeydown:function(n){switch(n.code){case"ArrowDown":this.onArrowDownKey(n);break;case"ArrowUp":this.onArrowUpKey(n);break;case"Home":this.onHomeKey(n);break;case"End":this.onEndKey(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDownKey:function(n){var i=this.findNextPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onHomeKey(n),n.preventDefault()},onArrowUpKey:function(n){var i=this.findPrevPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onEndKey(n),n.preventDefault()},onHomeKey:function(n){var i=this.findFirstPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEndKey:function(n){var i=this.findLastPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEnterKey:function(n){this.changeActiveValue(),n.preventDefault()},findPanel:function(n){return n?.closest('[data-pc-name="accordionpanel"]')},findHeader:function(n){return Vb(n,'[data-pc-name="accordionheader"]')},findNextPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.nextElementSibling;return f?rf(f,"data-p-disabled")?this.findNextPanel(f):this.findHeader(f):null},findPrevPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.previousElementSibling;return f?rf(f,"data-p-disabled")?this.findPrevPanel(f):this.findHeader(f):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(n,i){Ub(this.findHeader(i))}},computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return bt(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}},dataP:function(){return oy({active:this.$pcAccordionPanel.active})}},components:{ChevronUpIcon:tc,ChevronDownIcon:ay},directives:{ripple:ly}};function Cy(o,n,i,f,v,g){var E=zb("ripple");return o.asChild?oi(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs,onClick:g.onClick}):at((A(),on(dr(o.as),bt({key:0,"data-p":g.dataP,class:o.cx("root"),onClick:g.onClick},g.attrs),{default:Mt(function(){return[oi(o.$slots,"default",{active:g.$pcAccordionPanel.active}),oi(o.$slots,"toggleicon",{active:g.$pcAccordionPanel.active,class:nt(o.cx("toggleicon"))},function(){return[g.$pcAccordionPanel.active?(A(),on(dr(g.$pcAccordion.$slots.collapseicon?g.$pcAccordion.$slots.collapseicon:g.$pcAccordion.collapseIcon?"span":"ChevronUpIcon"),bt({key:0,class:[g.$pcAccordion.collapseIcon,o.cx("toggleicon")],"aria-hidden":"true"},o.ptm("toggleicon",g.ptParams)),null,16,["class"])):(A(),on(dr(g.$pcAccordion.$slots.expandicon?g.$pcAccordion.$slots.expandicon:g.$pcAccordion.expandIcon?"span":"ChevronDownIcon"),bt({key:1,class:[g.$pcAccordion.expandIcon,o.cx("toggleicon")],"aria-hidden":"true"},o.ptm("toggleicon",g.ptParams)),null,16,["class"]))]})]}),_:3},16,["data-p","class","onClick"])),[[E]])}Wa.render=Cy;var Ty={root:function(n){var i=n.instance,f=n.props;return["p-accordionpanel",{"p-accordionpanel-active":i.active,"p-disabled":f.disabled}]}},Sy=Ya.extend({name:"accordionpanel",classes:Ty}),Iy={name:"BaseAccordionPanel",extends:Ga,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Sy,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},Ha={name:"AccordionPanel",extends:Iy,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return bt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function Oy(o,n,i,f,v,g){return o.asChild?oi(o.$slots,"default",{key:1,class:nt(o.cx("root")),active:g.active,a11yAttrs:g.a11yAttrs}):(A(),on(dr(o.as),bt({key:0,class:o.cx("root")},g.attrs),{default:Mt(function(){return[oi(o.$slots,"default")]}),_:3},16,["class"]))}Ha.render=Oy;var ky=`
    .p-accordionpanel {
        display: flex;
        flex-direction: column;
        border-style: solid;
        border-width: dt('accordion.panel.border.width');
        border-color: dt('accordion.panel.border.color');
    }

    .p-accordionheader {
        all: unset;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('accordion.header.padding');
        color: dt('accordion.header.color');
        background: dt('accordion.header.background');
        border-style: solid;
        border-width: dt('accordion.header.border.width');
        border-color: dt('accordion.header.border.color');
        font-weight: dt('accordion.header.font.weight');
        border-radius: dt('accordion.header.border.radius');
        transition:
            background dt('accordion.transition.duration'),
            color dt('accordion.transition.duration'),
            outline-color dt('accordion.transition.duration'),
            box-shadow dt('accordion.transition.duration');
        outline-color: transparent;
    }

    .p-accordionpanel:first-child > .p-accordionheader {
        border-width: dt('accordion.header.first.border.width');
        border-start-start-radius: dt('accordion.header.first.top.border.radius');
        border-start-end-radius: dt('accordion.header.first.top.border.radius');
    }

    .p-accordionpanel:last-child > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.bottom.border.radius');
    }

    .p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.active.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.active.bottom.border.radius');
    }

    .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.color');
    }

    .p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
        box-shadow: dt('accordion.header.focus.ring.shadow');
        outline: dt('accordion.header.focus.ring.width') dt('accordion.header.focus.ring.style') dt('accordion.header.focus.ring.color');
        outline-offset: dt('accordion.header.focus.ring.offset');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
        background: dt('accordion.header.hover.background');
        color: dt('accordion.header.hover.color');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
        background: dt('accordion.header.active.background');
        color: dt('accordion.header.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
        background: dt('accordion.header.active.hover.background');
        color: dt('accordion.header.active.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.hover.color');
    }

    .p-accordioncontent-content {
        border-style: solid;
        border-width: dt('accordion.content.border.width');
        border-color: dt('accordion.content.border.color');
        background-color: dt('accordion.content.background');
        color: dt('accordion.content.color');
        padding: dt('accordion.content.padding');
    }
`,Dy={root:"p-accordion p-component"},Ny=Ya.extend({name:"accordion",style:ky,classes:Dy}),$y={name:"BaseAccordion",extends:Ga,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:Ny,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},Vf={name:"Accordion",extends:$y,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{d_value:this.value}},watch:{value:function(n){this.d_value=n},activeIndex:{immediate:!0,handler:function(n){this.hasAccordionTab&&(this.d_value=this.multiple?n?.map(String):n?.toString())}}},methods:{isItemActive:function(n){var i;return this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.includes(n):this.d_value===n},updateValue:function(n){var i,f=this.isItemActive(n);this.multiple?f?this.d_value=this.d_value.filter(function(v){return v!==n}):this.d_value?this.d_value.push(n):this.d_value=[n]:this.d_value=f?null:n,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.map(Number):Number(this.d_value)),this.$emit(f?"tab-close":"tab-open",{originalEvent:void 0,index:Number(n)})},isAccordionTab:function(n){return n.type.name==="AccordionTab"},getTabProp:function(n,i){return n.props?n.props[i]:void 0},getKey:function(n,i){return this.getTabProp(n,"header")||i},getHeaderPT:function(n,i){var f=this;return{root:bt({onClick:function(g){return f.onTabClick(g,i)}},this.getTabProp(n,"headerProps"),this.getTabPT(n,"header",i)),toggleicon:bt(this.getTabProp(n,"headeractionprops"),this.getTabPT(n,"headeraction",i))}},getContentPT:function(n,i){return{root:bt(this.getTabProp(n,"contentProps"),this.getTabPT(n,"toggleablecontent",i)),transition:this.getTabPT(n,"transition",i),content:this.getTabPT(n,"content",i)}},getTabPT:function(n,i,f){var v=this.tabs.length,g={props:n.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:f,count:v,first:f===0,last:f===v-1,active:this.isItemActive("".concat(f))}};return bt(this.ptm("accordiontab.".concat(i),g),this.ptmo(this.getTabProp(n,"pt"),i,g))},onTabClick:function(n,i){this.$emit("tab-click",{originalEvent:n,index:i})}},computed:{tabs:function(){var n=this;return this.$slots.default().reduce(function(i,f){return n.isAccordionTab(f)?i.push(f):f.children&&f.children instanceof Array&&f.children.forEach(function(v){n.isAccordionTab(v)&&i.push(v)}),i},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:Ha,AccordionHeader:Wa,AccordionContent:Ba,ChevronUpIcon:tc,ChevronRightIcon:iy}};function Py(o,n,i,f,v,g){var E=Ou("AccordionHeader"),S=Ou("AccordionContent"),C=Ou("AccordionPanel");return A(),O("div",bt({class:o.cx("root")},o.ptmi("root")),[g.hasAccordionTab?(A(!0),O(Be,{key:0},vt(g.tabs,function(M,L){return A(),on(C,{key:g.getKey(M,L),value:"".concat(L),pt:{root:g.getTabPT(M,"root",L)},disabled:g.getTabProp(M,"disabled")},{default:Mt(function(){return[tt(E,{class:nt(g.getTabProp(M,"headerClass")),pt:g.getHeaderPT(M,L)},{toggleicon:Mt(function(U){return[U.active?(A(),on(dr(o.$slots.collapseicon?o.$slots.collapseicon:o.collapseIcon?"span":"ChevronDownIcon"),bt({key:0,class:[o.collapseIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",L)),null,16,["class"])):(A(),on(dr(o.$slots.expandicon?o.$slots.expandicon:o.expandIcon?"span":"ChevronUpIcon"),bt({key:1,class:[o.expandIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",L)),null,16,["class"]))]}),default:Mt(function(){return[M.children&&M.children.headericon?(A(),on(dr(M.children.headericon),{key:0,isTabActive:g.isItemActive("".concat(L)),active:g.isItemActive("".concat(L)),index:L},null,8,["isTabActive","active","index"])):G("",!0),M.props&&M.props.header?(A(),O("span",bt({key:1,ref_for:!0},g.getTabPT(M,"headertitle",L)),N(M.props.header),17)):G("",!0),M.children&&M.children.header?(A(),on(dr(M.children.header),{key:2})):G("",!0)]}),_:2},1032,["class","pt"]),tt(S,{pt:g.getContentPT(M,L)},{default:Mt(function(){return[(A(),on(dr(M)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):oi(o.$slots,"default",{key:1})],16)}Vf.render=Py;var zt="top",_n="bottom",mn="right",Kt="left",ja="auto",Ns=[zt,_n,mn,Kt],Ri="start",Cs="end",zf="clippingParents",nc="viewport",ws="popper",Kf="reference",Gu=Ns.reduce(function(o,n){return o.concat([n+"-"+Ri,n+"-"+Cs])},[]),rc=[].concat(Ns,[ja]).reduce(function(o,n){return o.concat([n,n+"-"+Ri,n+"-"+Cs])},[]),Yf="beforeRead",Gf="read",jf="afterRead",Qf="beforeMain",Xf="main",Zf="afterMain",Jf="beforeWrite",ep="write",tp="afterWrite",np=[Yf,Gf,jf,Qf,Xf,Zf,Jf,ep,tp];function hr(o){return o?(o.nodeName||"").toLowerCase():null}function gn(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var n=o.ownerDocument;return n&&n.defaultView||window}return o}function Fi(o){var n=gn(o).Element;return o instanceof n||o instanceof Element}function In(o){var n=gn(o).HTMLElement;return o instanceof n||o instanceof HTMLElement}function ic(o){if(typeof ShadowRoot>"u")return!1;var n=gn(o).ShadowRoot;return o instanceof n||o instanceof ShadowRoot}function Ly(o){var n=o.state;Object.keys(n.elements).forEach(function(i){var f=n.styles[i]||{},v=n.attributes[i]||{},g=n.elements[i];!In(g)||!hr(g)||(Object.assign(g.style,f),Object.keys(v).forEach(function(E){var S=v[E];S===!1?g.removeAttribute(E):g.setAttribute(E,S===!0?"":S)}))})}function My(o){var n=o.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(f){var v=n.elements[f],g=n.attributes[f]||{},E=Object.keys(n.styles.hasOwnProperty(f)?n.styles[f]:i[f]),S=E.reduce(function(C,M){return C[M]="",C},{});!In(v)||!hr(v)||(Object.assign(v.style,S),Object.keys(g).forEach(function(C){v.removeAttribute(C)}))})}}const sc={name:"applyStyles",enabled:!0,phase:"write",fn:Ly,effect:My,requires:["computeStyles"]};function fr(o){return o.split("-")[0]}var Mi=Math.max,Ua=Math.min,Ts=Math.round;function ju(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function rp(){return!/^((?!chrome|android).)*safari/i.test(ju())}function Ss(o,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var f=o.getBoundingClientRect(),v=1,g=1;n&&In(o)&&(v=o.offsetWidth>0&&Ts(f.width)/o.offsetWidth||1,g=o.offsetHeight>0&&Ts(f.height)/o.offsetHeight||1);var E=Fi(o)?gn(o):window,S=E.visualViewport,C=!rp()&&i,M=(f.left+(C&&S?S.offsetLeft:0))/v,L=(f.top+(C&&S?S.offsetTop:0))/g,U=f.width/v,X=f.height/g;return{width:U,height:X,top:L,right:M+U,bottom:L+X,left:M,x:M,y:L}}function oc(o){var n=Ss(o),i=o.offsetWidth,f=o.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-f)<=1&&(f=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:f}}function ip(o,n){var i=n.getRootNode&&n.getRootNode();if(o.contains(n))return!0;if(i&&ic(i)){var f=n;do{if(f&&o.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Fr(o){return gn(o).getComputedStyle(o)}function Ry(o){return["table","td","th"].indexOf(hr(o))>=0}function ci(o){return((Fi(o)?o.ownerDocument:o.document)||window.document).documentElement}function Qa(o){return hr(o)==="html"?o:o.assignedSlot||o.parentNode||(ic(o)?o.host:null)||ci(o)}function af(o){return!In(o)||Fr(o).position==="fixed"?null:o.offsetParent}function Fy(o){var n=/firefox/i.test(ju()),i=/Trident/i.test(ju());if(i&&In(o)){var f=Fr(o);if(f.position==="fixed")return null}var v=Qa(o);for(ic(v)&&(v=v.host);In(v)&&["html","body"].indexOf(hr(v))<0;){var g=Fr(v);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||n&&g.willChange==="filter"||n&&g.filter&&g.filter!=="none")return v;v=v.parentNode}return null}function Oo(o){for(var n=gn(o),i=af(o);i&&Ry(i)&&Fr(i).position==="static";)i=af(i);return i&&(hr(i)==="html"||hr(i)==="body"&&Fr(i).position==="static")?n:i||Fy(o)||n}function ac(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Co(o,n,i){return Mi(o,Ua(n,i))}function qy(o,n,i){var f=Co(o,n,i);return f>i?i:f}function sp(){return{top:0,right:0,bottom:0,left:0}}function op(o){return Object.assign({},sp(),o)}function ap(o,n){return n.reduce(function(i,f){return i[f]=o,i},{})}var By=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,op(typeof n!="number"?n:ap(n,Ns))};function Wy(o){var n,i=o.state,f=o.name,v=o.options,g=i.elements.arrow,E=i.modifiersData.popperOffsets,S=fr(i.placement),C=ac(S),M=[Kt,mn].indexOf(S)>=0,L=M?"height":"width";if(!(!g||!E)){var U=By(v.padding,i),X=oc(g),z=C==="y"?zt:Kt,Q=C==="y"?_n:mn,ne=i.rects.reference[L]+i.rects.reference[C]-E[C]-i.rects.popper[L],ie=E[C]-i.rects.reference[C],ae=Oo(g),ke=ae?C==="y"?ae.clientHeight||0:ae.clientWidth||0:0,De=ne/2-ie/2,Z=U[z],_e=ke-X[L]-U[Q],Ce=ke/2-X[L]/2+De,Ee=Co(Z,Ce,_e),Ie=C;i.modifiersData[f]=(n={},n[Ie]=Ee,n.centerOffset=Ee-Ce,n)}}function Hy(o){var n=o.state,i=o.options,f=i.element,v=f===void 0?"[data-popper-arrow]":f;v!=null&&(typeof v=="string"&&(v=n.elements.popper.querySelector(v),!v)||ip(n.elements.popper,v)&&(n.elements.arrow=v))}const lp={name:"arrow",enabled:!0,phase:"main",fn:Wy,effect:Hy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Is(o){return o.split("-")[1]}var Uy={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vy(o,n){var i=o.x,f=o.y,v=n.devicePixelRatio||1;return{x:Ts(i*v)/v||0,y:Ts(f*v)/v||0}}function lf(o){var n,i=o.popper,f=o.popperRect,v=o.placement,g=o.variation,E=o.offsets,S=o.position,C=o.gpuAcceleration,M=o.adaptive,L=o.roundOffsets,U=o.isFixed,X=E.x,z=X===void 0?0:X,Q=E.y,ne=Q===void 0?0:Q,ie=typeof L=="function"?L({x:z,y:ne}):{x:z,y:ne};z=ie.x,ne=ie.y;var ae=E.hasOwnProperty("x"),ke=E.hasOwnProperty("y"),De=Kt,Z=zt,_e=window;if(M){var Ce=Oo(i),Ee="clientHeight",Ie="clientWidth";if(Ce===gn(i)&&(Ce=ci(i),Fr(Ce).position!=="static"&&S==="absolute"&&(Ee="scrollHeight",Ie="scrollWidth")),Ce=Ce,v===zt||(v===Kt||v===mn)&&g===Cs){Z=_n;var Fe=U&&Ce===_e&&_e.visualViewport?_e.visualViewport.height:Ce[Ee];ne-=Fe-f.height,ne*=C?1:-1}if(v===Kt||(v===zt||v===_n)&&g===Cs){De=mn;var Ve=U&&Ce===_e&&_e.visualViewport?_e.visualViewport.width:Ce[Ie];z-=Ve-f.width,z*=C?1:-1}}var Xe=Object.assign({position:S},M&&Uy),Pe=L===!0?Vy({x:z,y:ne},gn(i)):{x:z,y:ne};if(z=Pe.x,ne=Pe.y,C){var Ge;return Object.assign({},Xe,(Ge={},Ge[Z]=ke?"0":"",Ge[De]=ae?"0":"",Ge.transform=(_e.devicePixelRatio||1)<=1?"translate("+z+"px, "+ne+"px)":"translate3d("+z+"px, "+ne+"px, 0)",Ge))}return Object.assign({},Xe,(n={},n[Z]=ke?ne+"px":"",n[De]=ae?z+"px":"",n.transform="",n))}function zy(o){var n=o.state,i=o.options,f=i.gpuAcceleration,v=f===void 0?!0:f,g=i.adaptive,E=g===void 0?!0:g,S=i.roundOffsets,C=S===void 0?!0:S,M={placement:fr(n.placement),variation:Is(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:v,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,lf(Object.assign({},M,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:E,roundOffsets:C})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,lf(Object.assign({},M,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:C})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const lc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zy,data:{}};var ka={passive:!0};function Ky(o){var n=o.state,i=o.instance,f=o.options,v=f.scroll,g=v===void 0?!0:v,E=f.resize,S=E===void 0?!0:E,C=gn(n.elements.popper),M=[].concat(n.scrollParents.reference,n.scrollParents.popper);return g&&M.forEach(function(L){L.addEventListener("scroll",i.update,ka)}),S&&C.addEventListener("resize",i.update,ka),function(){g&&M.forEach(function(L){L.removeEventListener("scroll",i.update,ka)}),S&&C.removeEventListener("resize",i.update,ka)}}const uc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ky,data:{}};var Yy={left:"right",right:"left",bottom:"top",top:"bottom"};function Ra(o){return o.replace(/left|right|bottom|top/g,function(n){return Yy[n]})}var Gy={start:"end",end:"start"};function uf(o){return o.replace(/start|end/g,function(n){return Gy[n]})}function cc(o){var n=gn(o),i=n.pageXOffset,f=n.pageYOffset;return{scrollLeft:i,scrollTop:f}}function dc(o){return Ss(ci(o)).left+cc(o).scrollLeft}function jy(o,n){var i=gn(o),f=ci(o),v=i.visualViewport,g=f.clientWidth,E=f.clientHeight,S=0,C=0;if(v){g=v.width,E=v.height;var M=rp();(M||!M&&n==="fixed")&&(S=v.offsetLeft,C=v.offsetTop)}return{width:g,height:E,x:S+dc(o),y:C}}function Qy(o){var n,i=ci(o),f=cc(o),v=(n=o.ownerDocument)==null?void 0:n.body,g=Mi(i.scrollWidth,i.clientWidth,v?v.scrollWidth:0,v?v.clientWidth:0),E=Mi(i.scrollHeight,i.clientHeight,v?v.scrollHeight:0,v?v.clientHeight:0),S=-f.scrollLeft+dc(o),C=-f.scrollTop;return Fr(v||i).direction==="rtl"&&(S+=Mi(i.clientWidth,v?v.clientWidth:0)-g),{width:g,height:E,x:S,y:C}}function fc(o){var n=Fr(o),i=n.overflow,f=n.overflowX,v=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+v+f)}function up(o){return["html","body","#document"].indexOf(hr(o))>=0?o.ownerDocument.body:In(o)&&fc(o)?o:up(Qa(o))}function To(o,n){var i;n===void 0&&(n=[]);var f=up(o),v=f===((i=o.ownerDocument)==null?void 0:i.body),g=gn(f),E=v?[g].concat(g.visualViewport||[],fc(f)?f:[]):f,S=n.concat(E);return v?S:S.concat(To(Qa(E)))}function Qu(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function Xy(o,n){var i=Ss(o,!1,n==="fixed");return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function cf(o,n,i){return n===nc?Qu(jy(o,i)):Fi(n)?Xy(n,i):Qu(Qy(ci(o)))}function Zy(o){var n=To(Qa(o)),i=["absolute","fixed"].indexOf(Fr(o).position)>=0,f=i&&In(o)?Oo(o):o;return Fi(f)?n.filter(function(v){return Fi(v)&&ip(v,f)&&hr(v)!=="body"}):[]}function Jy(o,n,i,f){var v=n==="clippingParents"?Zy(o):[].concat(n),g=[].concat(v,[i]),E=g[0],S=g.reduce(function(C,M){var L=cf(o,M,f);return C.top=Mi(L.top,C.top),C.right=Ua(L.right,C.right),C.bottom=Ua(L.bottom,C.bottom),C.left=Mi(L.left,C.left),C},cf(o,E,f));return S.width=S.right-S.left,S.height=S.bottom-S.top,S.x=S.left,S.y=S.top,S}function cp(o){var n=o.reference,i=o.element,f=o.placement,v=f?fr(f):null,g=f?Is(f):null,E=n.x+n.width/2-i.width/2,S=n.y+n.height/2-i.height/2,C;switch(v){case zt:C={x:E,y:n.y-i.height};break;case _n:C={x:E,y:n.y+n.height};break;case mn:C={x:n.x+n.width,y:S};break;case Kt:C={x:n.x-i.width,y:S};break;default:C={x:n.x,y:n.y}}var M=v?ac(v):null;if(M!=null){var L=M==="y"?"height":"width";switch(g){case Ri:C[M]=C[M]-(n[L]/2-i[L]/2);break;case Cs:C[M]=C[M]+(n[L]/2-i[L]/2);break}}return C}function Os(o,n){n===void 0&&(n={});var i=n,f=i.placement,v=f===void 0?o.placement:f,g=i.strategy,E=g===void 0?o.strategy:g,S=i.boundary,C=S===void 0?zf:S,M=i.rootBoundary,L=M===void 0?nc:M,U=i.elementContext,X=U===void 0?ws:U,z=i.altBoundary,Q=z===void 0?!1:z,ne=i.padding,ie=ne===void 0?0:ne,ae=op(typeof ie!="number"?ie:ap(ie,Ns)),ke=X===ws?Kf:ws,De=o.rects.popper,Z=o.elements[Q?ke:X],_e=Jy(Fi(Z)?Z:Z.contextElement||ci(o.elements.popper),C,L,E),Ce=Ss(o.elements.reference),Ee=cp({reference:Ce,element:De,placement:v}),Ie=Qu(Object.assign({},De,Ee)),Fe=X===ws?Ie:Ce,Ve={top:_e.top-Fe.top+ae.top,bottom:Fe.bottom-_e.bottom+ae.bottom,left:_e.left-Fe.left+ae.left,right:Fe.right-_e.right+ae.right},Xe=o.modifiersData.offset;if(X===ws&&Xe){var Pe=Xe[v];Object.keys(Ve).forEach(function(Ge){var Yt=[mn,_n].indexOf(Ge)>=0?1:-1,Nn=[zt,_n].indexOf(Ge)>=0?"y":"x";Ve[Ge]+=Pe[Nn]*Yt})}return Ve}function e1(o,n){n===void 0&&(n={});var i=n,f=i.placement,v=i.boundary,g=i.rootBoundary,E=i.padding,S=i.flipVariations,C=i.allowedAutoPlacements,M=C===void 0?rc:C,L=Is(f),U=L?S?Gu:Gu.filter(function(Q){return Is(Q)===L}):Ns,X=U.filter(function(Q){return M.indexOf(Q)>=0});X.length===0&&(X=U);var z=X.reduce(function(Q,ne){return Q[ne]=Os(o,{placement:ne,boundary:v,rootBoundary:g,padding:E})[fr(ne)],Q},{});return Object.keys(z).sort(function(Q,ne){return z[Q]-z[ne]})}function t1(o){if(fr(o)===ja)return[];var n=Ra(o);return[uf(o),n,uf(n)]}function n1(o){var n=o.state,i=o.options,f=o.name;if(!n.modifiersData[f]._skip){for(var v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,S=E===void 0?!0:E,C=i.fallbackPlacements,M=i.padding,L=i.boundary,U=i.rootBoundary,X=i.altBoundary,z=i.flipVariations,Q=z===void 0?!0:z,ne=i.allowedAutoPlacements,ie=n.options.placement,ae=fr(ie),ke=ae===ie,De=C||(ke||!Q?[Ra(ie)]:t1(ie)),Z=[ie].concat(De).reduce(function(Gn,Et){return Gn.concat(fr(Et)===ja?e1(n,{placement:Et,boundary:L,rootBoundary:U,padding:M,flipVariations:Q,allowedAutoPlacements:ne}):Et)},[]),_e=n.rects.reference,Ce=n.rects.popper,Ee=new Map,Ie=!0,Fe=Z[0],Ve=0;Ve<Z.length;Ve++){var Xe=Z[Ve],Pe=fr(Xe),Ge=Is(Xe)===Ri,Yt=[zt,_n].indexOf(Pe)>=0,Nn=Yt?"width":"height",yt=Os(n,{placement:Xe,boundary:L,rootBoundary:U,altBoundary:X,padding:M}),he=Yt?Ge?mn:Kt:Ge?_n:zt;_e[Nn]>Ce[Nn]&&(he=Ra(he));var Dt=Ra(he),Gt=[];if(g&&Gt.push(yt[Pe]<=0),S&&Gt.push(yt[he]<=0,yt[Dt]<=0),Gt.every(function(Gn){return Gn})){Fe=Xe,Ie=!1;break}Ee.set(Xe,Gt)}if(Ie)for(var $n=Q?3:1,Nt=function(Et){var bn=Z.find(function(Br){var Rt=Ee.get(Br);if(Rt)return Rt.slice(0,Et).every(function(Pn){return Pn})});if(bn)return Fe=bn,"break"},lt=$n;lt>0;lt--){var vr=Nt(lt);if(vr==="break")break}n.placement!==Fe&&(n.modifiersData[f]._skip=!0,n.placement=Fe,n.reset=!0)}}const dp={name:"flip",enabled:!0,phase:"main",fn:n1,requiresIfExists:["offset"],data:{_skip:!1}};function df(o,n,i){return i===void 0&&(i={x:0,y:0}),{top:o.top-n.height-i.y,right:o.right-n.width+i.x,bottom:o.bottom-n.height+i.y,left:o.left-n.width-i.x}}function ff(o){return[zt,mn,_n,Kt].some(function(n){return o[n]>=0})}function r1(o){var n=o.state,i=o.name,f=n.rects.reference,v=n.rects.popper,g=n.modifiersData.preventOverflow,E=Os(n,{elementContext:"reference"}),S=Os(n,{altBoundary:!0}),C=df(E,f),M=df(S,v,g),L=ff(C),U=ff(M);n.modifiersData[i]={referenceClippingOffsets:C,popperEscapeOffsets:M,isReferenceHidden:L,hasPopperEscaped:U},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":L,"data-popper-escaped":U})}const fp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:r1};function i1(o,n,i){var f=fr(o),v=[Kt,zt].indexOf(f)>=0?-1:1,g=typeof i=="function"?i(Object.assign({},n,{placement:o})):i,E=g[0],S=g[1];return E=E||0,S=(S||0)*v,[Kt,mn].indexOf(f)>=0?{x:S,y:E}:{x:E,y:S}}function s1(o){var n=o.state,i=o.options,f=o.name,v=i.offset,g=v===void 0?[0,0]:v,E=rc.reduce(function(L,U){return L[U]=i1(U,n.rects,g),L},{}),S=E[n.placement],C=S.x,M=S.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=C,n.modifiersData.popperOffsets.y+=M),n.modifiersData[f]=E}const pp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s1};function o1(o){var n=o.state,i=o.name;n.modifiersData[i]=cp({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const pc={name:"popperOffsets",enabled:!0,phase:"read",fn:o1,data:{}};function a1(o){return o==="x"?"y":"x"}function l1(o){var n=o.state,i=o.options,f=o.name,v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,S=E===void 0?!1:E,C=i.boundary,M=i.rootBoundary,L=i.altBoundary,U=i.padding,X=i.tether,z=X===void 0?!0:X,Q=i.tetherOffset,ne=Q===void 0?0:Q,ie=Os(n,{boundary:C,rootBoundary:M,padding:U,altBoundary:L}),ae=fr(n.placement),ke=Is(n.placement),De=!ke,Z=ac(ae),_e=a1(Z),Ce=n.modifiersData.popperOffsets,Ee=n.rects.reference,Ie=n.rects.popper,Fe=typeof ne=="function"?ne(Object.assign({},n.rects,{placement:n.placement})):ne,Ve=typeof Fe=="number"?{mainAxis:Fe,altAxis:Fe}:Object.assign({mainAxis:0,altAxis:0},Fe),Xe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Pe={x:0,y:0};if(Ce){if(g){var Ge,Yt=Z==="y"?zt:Kt,Nn=Z==="y"?_n:mn,yt=Z==="y"?"height":"width",he=Ce[Z],Dt=he+ie[Yt],Gt=he-ie[Nn],$n=z?-Ie[yt]/2:0,Nt=ke===Ri?Ee[yt]:Ie[yt],lt=ke===Ri?-Ie[yt]:-Ee[yt],vr=n.elements.arrow,Gn=z&&vr?oc(vr):{width:0,height:0},Et=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:sp(),bn=Et[Yt],Br=Et[Nn],Rt=Co(0,Ee[yt],Gn[yt]),Pn=De?Ee[yt]/2-$n-Rt-bn-Ve.mainAxis:Nt-Rt-bn-Ve.mainAxis,Ms=De?-Ee[yt]/2+$n+Rt+Br+Ve.mainAxis:lt+Rt+Br+Ve.mainAxis,jn=n.elements.arrow&&Oo(n.elements.arrow),Wr=jn?Z==="y"?jn.clientTop||0:jn.clientLeft||0:0,Hr=(Ge=Xe?.[Z])!=null?Ge:0,Ft=he+Pn-Hr-Wr,jt=he+Ms-Hr,Wi=Co(z?Ua(Dt,Ft):Dt,he,z?Mi(Gt,jt):Gt);Ce[Z]=Wi,Pe[Z]=Wi-he}if(S){var At,Hi=Z==="x"?zt:Kt,Ui=Z==="x"?_n:mn,$t=Ce[_e],Ye=_e==="y"?"height":"width",ye=$t+ie[Hi],Ze=$t-ie[Ui],xt=[zt,Kt].indexOf(ae)!==-1,ut=(At=Xe?.[_e])!=null?At:0,Vi=xt?ye:$t-Ee[Ye]-Ie[Ye]-ut+Ve.altAxis,Qt=xt?$t+Ee[Ye]+Ie[Ye]-ut-Ve.altAxis:Ze,Ln=z&&xt?qy(Vi,$t,Qt):Co(z?Vi:ye,$t,z?Qt:Ze);Ce[_e]=Ln,Pe[_e]=Ln-$t}n.modifiersData[f]=Pe}}const hp={name:"preventOverflow",enabled:!0,phase:"main",fn:l1,requiresIfExists:["offset"]};function u1(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function c1(o){return o===gn(o)||!In(o)?cc(o):u1(o)}function d1(o){var n=o.getBoundingClientRect(),i=Ts(n.width)/o.offsetWidth||1,f=Ts(n.height)/o.offsetHeight||1;return i!==1||f!==1}function f1(o,n,i){i===void 0&&(i=!1);var f=In(n),v=In(n)&&d1(n),g=ci(n),E=Ss(o,v,i),S={scrollLeft:0,scrollTop:0},C={x:0,y:0};return(f||!f&&!i)&&((hr(n)!=="body"||fc(g))&&(S=c1(n)),In(n)?(C=Ss(n,!0),C.x+=n.clientLeft,C.y+=n.clientTop):g&&(C.x=dc(g))),{x:E.left+S.scrollLeft-C.x,y:E.top+S.scrollTop-C.y,width:E.width,height:E.height}}function p1(o){var n=new Map,i=new Set,f=[];o.forEach(function(g){n.set(g.name,g)});function v(g){i.add(g.name);var E=[].concat(g.requires||[],g.requiresIfExists||[]);E.forEach(function(S){if(!i.has(S)){var C=n.get(S);C&&v(C)}}),f.push(g)}return o.forEach(function(g){i.has(g.name)||v(g)}),f}function h1(o){var n=p1(o);return np.reduce(function(i,f){return i.concat(n.filter(function(v){return v.phase===f}))},[])}function v1(o){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(o())})})),n}}function _1(o){var n=o.reduce(function(i,f){var v=i[f.name];return i[f.name]=v?Object.assign({},v,f,{options:Object.assign({},v.options,f.options),data:Object.assign({},v.data,f.data)}):f,i},{});return Object.keys(n).map(function(i){return n[i]})}var pf={placement:"bottom",modifiers:[],strategy:"absolute"};function hf(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return!n.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Xa(o){o===void 0&&(o={});var n=o,i=n.defaultModifiers,f=i===void 0?[]:i,v=n.defaultOptions,g=v===void 0?pf:v;return function(S,C,M){M===void 0&&(M=g);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},pf,g),modifiersData:{},elements:{reference:S,popper:C},attributes:{},styles:{}},U=[],X=!1,z={state:L,setOptions:function(ae){var ke=typeof ae=="function"?ae(L.options):ae;ne(),L.options=Object.assign({},g,L.options,ke),L.scrollParents={reference:Fi(S)?To(S):S.contextElement?To(S.contextElement):[],popper:To(C)};var De=h1(_1([].concat(f,L.options.modifiers)));return L.orderedModifiers=De.filter(function(Z){return Z.enabled}),Q(),z.update()},forceUpdate:function(){if(!X){var ae=L.elements,ke=ae.reference,De=ae.popper;if(hf(ke,De)){L.rects={reference:f1(ke,Oo(De),L.options.strategy==="fixed"),popper:oc(De)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(Ve){return L.modifiersData[Ve.name]=Object.assign({},Ve.data)});for(var Z=0;Z<L.orderedModifiers.length;Z++){if(L.reset===!0){L.reset=!1,Z=-1;continue}var _e=L.orderedModifiers[Z],Ce=_e.fn,Ee=_e.options,Ie=Ee===void 0?{}:Ee,Fe=_e.name;typeof Ce=="function"&&(L=Ce({state:L,options:Ie,name:Fe,instance:z})||L)}}}},update:v1(function(){return new Promise(function(ie){z.forceUpdate(),ie(L)})}),destroy:function(){ne(),X=!0}};if(!hf(S,C))return z;z.setOptions(M).then(function(ie){!X&&M.onFirstUpdate&&M.onFirstUpdate(ie)});function Q(){L.orderedModifiers.forEach(function(ie){var ae=ie.name,ke=ie.options,De=ke===void 0?{}:ke,Z=ie.effect;if(typeof Z=="function"){var _e=Z({state:L,name:ae,instance:z,options:De}),Ce=function(){};U.push(_e||Ce)}})}function ne(){U.forEach(function(ie){return ie()}),U=[]}return z}}var m1=Xa(),g1=[uc,pc,lc,sc],b1=Xa({defaultModifiers:g1}),y1=[uc,pc,lc,sc,pp,dp,hp,lp,fp],hc=Xa({defaultModifiers:y1});const vp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Zf,afterRead:jf,afterWrite:tp,applyStyles:sc,arrow:lp,auto:ja,basePlacements:Ns,beforeMain:Qf,beforeRead:Yf,beforeWrite:Jf,bottom:_n,clippingParents:zf,computeStyles:lc,createPopper:hc,createPopperBase:m1,createPopperLite:b1,detectOverflow:Os,end:Cs,eventListeners:uc,flip:dp,hide:fp,left:Kt,main:Xf,modifierPhases:np,offset:pp,placements:rc,popper:ws,popperGenerator:Xa,popperOffsets:pc,preventOverflow:hp,read:Gf,reference:Kf,right:mn,start:Ri,top:zt,variationPlacements:Gu,viewport:nc,write:ep},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const si=new Map,Du={set(o,n,i){si.has(o)||si.set(o,new Map);const f=si.get(o);if(!f.has(n)&&f.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`);return}f.set(n,i)},get(o,n){return si.has(o)&&si.get(o).get(n)||null},remove(o,n){if(!si.has(o))return;const i=si.get(o);i.delete(n),i.size===0&&si.delete(o)}},w1=1e6,E1=1e3,Xu="transitionend",_p=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),o),A1=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),x1=o=>{do o+=Math.floor(Math.random()*w1);while(document.getElementById(o));return o},C1=o=>{if(!o)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(o);const f=Number.parseFloat(n),v=Number.parseFloat(i);return!f&&!v?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*E1)},mp=o=>{o.dispatchEvent(new Event(Xu))},Mr=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),ai=o=>Mr(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(_p(o)):null,$s=o=>{if(!Mr(o)||o.getClientRects().length===0)return!1;const n=getComputedStyle(o).getPropertyValue("visibility")==="visible",i=o.closest("details:not([open])");if(!i)return n;if(i!==o){const f=o.closest("summary");if(f&&f.parentNode!==i||f===null)return!1}return n},li=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",gp=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const n=o.getRootNode();return n instanceof ShadowRoot?n:null}return o instanceof ShadowRoot?o:o.parentNode?gp(o.parentNode):null},Va=()=>{},ko=o=>{o.offsetHeight},bp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Nu=[],T1=o=>{document.readyState==="loading"?(Nu.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Nu)n()}),Nu.push(o)):o()},On=()=>document.documentElement.dir==="rtl",Dn=o=>{T1(()=>{const n=bp();if(n){const i=o.NAME,f=n.fn[i];n.fn[i]=o.jQueryInterface,n.fn[i].Constructor=o,n.fn[i].noConflict=()=>(n.fn[i]=f,o.jQueryInterface)}})},an=(o,n=[],i=o)=>typeof o=="function"?o.call(...n):i,yp=(o,n,i=!0)=>{if(!i){an(o);return}const v=C1(n)+5;let g=!1;const E=({target:S})=>{S===n&&(g=!0,n.removeEventListener(Xu,E),an(o))};n.addEventListener(Xu,E),setTimeout(()=>{g||mp(n)},v)},vc=(o,n,i,f)=>{const v=o.length;let g=o.indexOf(n);return g===-1?!i&&f?o[v-1]:o[0]:(g+=i?1:-1,f&&(g=(g+v)%v),o[Math.max(0,Math.min(g,v-1))])},S1=/[^.]*(?=\..*)\.|.*/,I1=/\..*/,O1=/::\d+$/,$u={};let vf=1;const wp={mouseenter:"mouseover",mouseleave:"mouseout"},k1=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ep(o,n){return n&&`${n}::${vf++}`||o.uidEvent||vf++}function Ap(o){const n=Ep(o);return o.uidEvent=n,$u[n]=$u[n]||{},$u[n]}function D1(o,n){return function i(f){return _c(f,{delegateTarget:o}),i.oneOff&&F.off(o,f.type,n),n.apply(o,[f])}}function N1(o,n,i){return function f(v){const g=o.querySelectorAll(n);for(let{target:E}=v;E&&E!==this;E=E.parentNode)for(const S of g)if(S===E)return _c(v,{delegateTarget:E}),f.oneOff&&F.off(o,v.type,n,i),i.apply(E,[v])}}function xp(o,n,i=null){return Object.values(o).find(f=>f.callable===n&&f.delegationSelector===i)}function Cp(o,n,i){const f=typeof n=="string",v=f?i:n||i;let g=Tp(o);return k1.has(g)||(g=o),[f,v,g]}function _f(o,n,i,f,v){if(typeof n!="string"||!o)return;let[g,E,S]=Cp(n,i,f);n in wp&&(E=(Q=>function(ne){if(!ne.relatedTarget||ne.relatedTarget!==ne.delegateTarget&&!ne.delegateTarget.contains(ne.relatedTarget))return Q.call(this,ne)})(E));const C=Ap(o),M=C[S]||(C[S]={}),L=xp(M,E,g?i:null);if(L){L.oneOff=L.oneOff&&v;return}const U=Ep(E,n.replace(S1,"")),X=g?N1(o,i,E):D1(o,E);X.delegationSelector=g?i:null,X.callable=E,X.oneOff=v,X.uidEvent=U,M[U]=X,o.addEventListener(S,X,g)}function Zu(o,n,i,f,v){const g=xp(n[i],f,v);g&&(o.removeEventListener(i,g,!!v),delete n[i][g.uidEvent])}function $1(o,n,i,f){const v=n[i]||{};for(const[g,E]of Object.entries(v))g.includes(f)&&Zu(o,n,i,E.callable,E.delegationSelector)}function Tp(o){return o=o.replace(I1,""),wp[o]||o}const F={on(o,n,i,f){_f(o,n,i,f,!1)},one(o,n,i,f){_f(o,n,i,f,!0)},off(o,n,i,f){if(typeof n!="string"||!o)return;const[v,g,E]=Cp(n,i,f),S=E!==n,C=Ap(o),M=C[E]||{},L=n.startsWith(".");if(typeof g<"u"){if(!Object.keys(M).length)return;Zu(o,C,E,g,v?i:null);return}if(L)for(const U of Object.keys(C))$1(o,C,U,n.slice(1));for(const[U,X]of Object.entries(M)){const z=U.replace(O1,"");(!S||n.includes(z))&&Zu(o,C,E,X.callable,X.delegationSelector)}},trigger(o,n,i){if(typeof n!="string"||!o)return null;const f=bp(),v=Tp(n),g=n!==v;let E=null,S=!0,C=!0,M=!1;g&&f&&(E=f.Event(n,i),f(o).trigger(E),S=!E.isPropagationStopped(),C=!E.isImmediatePropagationStopped(),M=E.isDefaultPrevented());const L=_c(new Event(n,{bubbles:S,cancelable:!0}),i);return M&&L.preventDefault(),C&&o.dispatchEvent(L),L.defaultPrevented&&E&&E.preventDefault(),L}};function _c(o,n={}){for(const[i,f]of Object.entries(n))try{o[i]=f}catch{Object.defineProperty(o,i,{configurable:!0,get(){return f}})}return o}function mf(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function Pu(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Rr={setDataAttribute(o,n,i){o.setAttribute(`data-bs-${Pu(n)}`,i)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${Pu(n)}`)},getDataAttributes(o){if(!o)return{};const n={},i=Object.keys(o.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of i){let v=f.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1),n[v]=mf(o.dataset[f])}return n},getDataAttribute(o,n){return mf(o.getAttribute(`data-bs-${Pu(n)}`))}};class Do{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const f=Mr(i)?Rr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...Mr(i)?Rr.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[f,v]of Object.entries(i)){const g=n[f],E=Mr(g)?"element":A1(g);if(!new RegExp(v).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${f}" provided type "${E}" but expected type "${v}".`)}}}const P1="5.3.8";class Yn extends Do{constructor(n,i){super(),n=ai(n),n&&(this._element=n,this._config=this._getConfig(i),Du.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Du.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,f=!0){yp(n,i,f)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Du.get(ai(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return P1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Lu=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>_p(i)).join(","):null},J={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(i=>i.matches(n))},parents(o,n){const i=[];let f=o.parentNode.closest(n);for(;f;)i.push(f),f=f.parentNode.closest(n);return i},prev(o,n){let i=o.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(o,n){let i=o.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(i=>!li(i)&&$s(i))},getSelectorFromElement(o){const n=Lu(o);return n&&J.findOne(n)?n:null},getElementFromSelector(o){const n=Lu(o);return n?J.findOne(n):null},getMultipleElementsFromSelector(o){const n=Lu(o);return n?J.find(n):[]}},Za=(o,n="hide")=>{const i=`click.dismiss${o.EVENT_KEY}`,f=o.NAME;F.on(document,i,`[data-bs-dismiss="${f}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),li(this))return;const g=J.getElementFromSelector(this)||this.closest(`.${f}`);o.getOrCreateInstance(g)[n]()})},L1="alert",M1="bs.alert",Sp=`.${M1}`,R1=`close${Sp}`,F1=`closed${Sp}`,q1="fade",B1="show";class Ja extends Yn{static get NAME(){return L1}close(){if(F.trigger(this._element,R1).defaultPrevented)return;this._element.classList.remove(B1);const i=this._element.classList.contains(q1);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),F.trigger(this._element,F1),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=Ja.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}Za(Ja,"close");Dn(Ja);const W1="button",H1="bs.button",U1=`.${H1}`,V1=".data-api",z1="active",gf='[data-bs-toggle="button"]',K1=`click${U1}${V1}`;class el extends Yn{static get NAME(){return W1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(z1))}static jQueryInterface(n){return this.each(function(){const i=el.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}F.on(document,K1,gf,o=>{o.preventDefault();const n=o.target.closest(gf);el.getOrCreateInstance(n).toggle()});Dn(el);const Y1="swipe",Ps=".bs.swipe",G1=`touchstart${Ps}`,j1=`touchmove${Ps}`,Q1=`touchend${Ps}`,X1=`pointerdown${Ps}`,Z1=`pointerup${Ps}`,J1="touch",e0="pen",t0="pointer-event",n0=40,r0={endCallback:null,leftCallback:null,rightCallback:null},i0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class za extends Do{constructor(n,i){super(),this._element=n,!(!n||!za.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return r0}static get DefaultType(){return i0}static get NAME(){return Y1}dispose(){F.off(this._element,Ps)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),an(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=n0)return;const i=n/this._deltaX;this._deltaX=0,i&&an(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,X1,n=>this._start(n)),F.on(this._element,Z1,n=>this._end(n)),this._element.classList.add(t0)):(F.on(this._element,G1,n=>this._start(n)),F.on(this._element,j1,n=>this._move(n)),F.on(this._element,Q1,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===e0||n.pointerType===J1)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const s0="carousel",o0="bs.carousel",di=`.${o0}`,Ip=".data-api",a0="ArrowLeft",l0="ArrowRight",u0=500,Eo="next",bs="prev",Es="left",Fa="right",c0=`slide${di}`,Mu=`slid${di}`,d0=`keydown${di}`,f0=`mouseenter${di}`,p0=`mouseleave${di}`,h0=`dragstart${di}`,v0=`load${di}${Ip}`,_0=`click${di}${Ip}`,Op="carousel",Da="active",m0="slide",g0="carousel-item-end",b0="carousel-item-start",y0="carousel-item-next",w0="carousel-item-prev",kp=".active",Dp=".carousel-item",E0=kp+Dp,A0=".carousel-item img",x0=".carousel-indicators",C0="[data-bs-slide], [data-bs-slide-to]",T0='[data-bs-ride="carousel"]',S0={[a0]:Fa,[l0]:Es},I0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},O0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class No extends Yn{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=J.findOne(x0,this._element),this._addEventListeners(),this._config.ride===Op&&this.cycle()}static get Default(){return I0}static get DefaultType(){return O0}static get NAME(){return s0}next(){this._slide(Eo)}nextWhenVisible(){!document.hidden&&$s(this._element)&&this.next()}prev(){this._slide(bs)}pause(){this._isSliding&&mp(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){F.one(this._element,Mu,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){F.one(this._element,Mu,()=>this.to(n));return}const f=this._getItemIndex(this._getActive());if(f===n)return;const v=n>f?Eo:bs;this._slide(v,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&F.on(this._element,d0,n=>this._keydown(n)),this._config.pause==="hover"&&(F.on(this._element,f0,()=>this.pause()),F.on(this._element,p0,()=>this._maybeEnableCycle())),this._config.touch&&za.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of J.find(A0,this._element))F.on(f,h0,v=>v.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Es)),rightCallback:()=>this._slide(this._directionToOrder(Fa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),u0+this._config.interval))}};this._swipeHelper=new za(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=S0[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=J.findOne(kp,this._indicatorsElement);i.classList.remove(Da),i.removeAttribute("aria-current");const f=J.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);f&&(f.classList.add(Da),f.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const f=this._getActive(),v=n===Eo,g=i||vc(this._getItems(),f,v,this._config.wrap);if(g===f)return;const E=this._getItemIndex(g),S=z=>F.trigger(this._element,z,{relatedTarget:g,direction:this._orderToDirection(n),from:this._getItemIndex(f),to:E});if(S(c0).defaultPrevented||!f||!g)return;const M=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(E),this._activeElement=g;const L=v?b0:g0,U=v?y0:w0;g.classList.add(U),ko(g),f.classList.add(L),g.classList.add(L);const X=()=>{g.classList.remove(L,U),g.classList.add(Da),f.classList.remove(Da,U,L),this._isSliding=!1,S(Mu)};this._queueCallback(X,f,this._isAnimated()),M&&this.cycle()}_isAnimated(){return this._element.classList.contains(m0)}_getActive(){return J.findOne(E0,this._element)}_getItems(){return J.find(Dp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return On()?n===Es?bs:Eo:n===Es?Eo:bs}_orderToDirection(n){return On()?n===bs?Es:Fa:n===bs?Fa:Es}static jQueryInterface(n){return this.each(function(){const i=No.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,_0,C0,function(o){const n=J.getElementFromSelector(this);if(!n||!n.classList.contains(Op))return;o.preventDefault();const i=No.getOrCreateInstance(n),f=this.getAttribute("data-bs-slide-to");if(f){i.to(f),i._maybeEnableCycle();return}if(Rr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});F.on(window,v0,()=>{const o=J.find(T0);for(const n of o)No.getOrCreateInstance(n)});Dn(No);const k0="collapse",D0="bs.collapse",$o=`.${D0}`,N0=".data-api",$0=`show${$o}`,P0=`shown${$o}`,L0=`hide${$o}`,M0=`hidden${$o}`,R0=`click${$o}${N0}`,Ru="show",xs="collapse",Na="collapsing",F0="collapsed",q0=`:scope .${xs} .${xs}`,B0="collapse-horizontal",W0="width",H0="height",U0=".collapse.show, .collapse.collapsing",Ju='[data-bs-toggle="collapse"]',V0={parent:null,toggle:!0},z0={parent:"(null|element)",toggle:"boolean"};class Io extends Yn{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const f=J.find(Ju);for(const v of f){const g=J.getSelectorFromElement(v),E=J.find(g).filter(S=>S===this._element);g!==null&&E.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return V0}static get DefaultType(){return z0}static get NAME(){return k0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(U0).filter(S=>S!==this._element).map(S=>Io.getOrCreateInstance(S,{toggle:!1}))),n.length&&n[0]._isTransitioning||F.trigger(this._element,$0).defaultPrevented)return;for(const S of n)S.hide();const f=this._getDimension();this._element.classList.remove(xs),this._element.classList.add(Na),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(Na),this._element.classList.add(xs,Ru),this._element.style[f]="",F.trigger(this._element,P0)},E=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(v,this._element,!0),this._element.style[f]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,L0).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,ko(this._element),this._element.classList.add(Na),this._element.classList.remove(xs,Ru);for(const v of this._triggerArray){const g=J.getElementFromSelector(v);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(Na),this._element.classList.add(xs),F.trigger(this._element,M0)};this._element.style[i]="",this._queueCallback(f,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Ru)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=ai(n.parent),n}_getDimension(){return this._element.classList.contains(B0)?W0:H0}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Ju);for(const i of n){const f=J.getElementFromSelector(i);f&&this._addAriaAndCollapsedClass([i],this._isShown(f))}}_getFirstLevelChildren(n){const i=J.find(q0,this._config.parent);return J.find(n,this._config.parent).filter(f=>!i.includes(f))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const f of n)f.classList.toggle(F0,!i),f.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const f=Io.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n]()}})}}F.on(document,R0,Ju,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(const n of J.getMultipleElementsFromSelector(this))Io.getOrCreateInstance(n,{toggle:!1}).toggle()});Dn(Io);const bf="dropdown",K0="bs.dropdown",qi=`.${K0}`,mc=".data-api",Y0="Escape",yf="Tab",G0="ArrowUp",wf="ArrowDown",j0=2,Q0=`hide${qi}`,X0=`hidden${qi}`,Z0=`show${qi}`,J0=`shown${qi}`,Np=`click${qi}${mc}`,$p=`keydown${qi}${mc}`,ew=`keyup${qi}${mc}`,As="show",tw="dropup",nw="dropend",rw="dropstart",iw="dropup-center",sw="dropdown-center",Pi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ow=`${Pi}.${As}`,qa=".dropdown-menu",aw=".navbar",lw=".navbar-nav",uw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",cw=On()?"top-end":"top-start",dw=On()?"top-start":"top-end",fw=On()?"bottom-end":"bottom-start",pw=On()?"bottom-start":"bottom-end",hw=On()?"left-start":"right-start",vw=On()?"right-start":"left-start",_w="top",mw="bottom",gw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class pr extends Yn{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=J.next(this._element,qa)[0]||J.prev(this._element,qa)[0]||J.findOne(qa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return gw}static get DefaultType(){return bw}static get NAME(){return bf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(li(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!F.trigger(this._element,Z0,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(lw))for(const f of[].concat(...document.body.children))F.on(f,"mouseover",Va);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(As),this._element.classList.add(As),F.trigger(this._element,J0,n)}}hide(){if(li(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!F.trigger(this._element,Q0,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))F.off(f,"mouseover",Va);this._popper&&this._popper.destroy(),this._menu.classList.remove(As),this._element.classList.remove(As),this._element.setAttribute("aria-expanded","false"),Rr.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,X0,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!Mr(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${bf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof vp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:Mr(this._config.reference)?n=ai(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=hc(n,this._menu,i)}_isShown(){return this._menu.classList.contains(As)}_getPlacement(){const n=this._parent;if(n.classList.contains(nw))return hw;if(n.classList.contains(rw))return vw;if(n.classList.contains(iw))return _w;if(n.classList.contains(sw))return mw;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(tw)?i?dw:cw:i?pw:fw}_detectNavbar(){return this._element.closest(aw)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...an(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const f=J.find(uw,this._menu).filter(v=>$s(v));f.length&&vc(f,i,n===wf,!f.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=pr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===j0||n.type==="keyup"&&n.key!==yf)return;const i=J.find(ow);for(const f of i){const v=pr.getInstance(f);if(!v||v._config.autoClose===!1)continue;const g=n.composedPath(),E=g.includes(v._menu);if(g.includes(v._element)||v._config.autoClose==="inside"&&!E||v._config.autoClose==="outside"&&E||v._menu.contains(n.target)&&(n.type==="keyup"&&n.key===yf||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const S={relatedTarget:v._element};n.type==="click"&&(S.clickEvent=n),v._completeHide(S)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),f=n.key===Y0,v=[G0,wf].includes(n.key);if(!v&&!f||i&&!f)return;n.preventDefault();const g=this.matches(Pi)?this:J.prev(this,Pi)[0]||J.next(this,Pi)[0]||J.findOne(Pi,n.delegateTarget.parentNode),E=pr.getOrCreateInstance(g);if(v){n.stopPropagation(),E.show(),E._selectMenuItem(n);return}E._isShown()&&(n.stopPropagation(),E.hide(),g.focus())}}F.on(document,$p,Pi,pr.dataApiKeydownHandler);F.on(document,$p,qa,pr.dataApiKeydownHandler);F.on(document,Np,pr.clearMenus);F.on(document,ew,pr.clearMenus);F.on(document,Np,Pi,function(o){o.preventDefault(),pr.getOrCreateInstance(this).toggle()});Dn(pr);const Pp="backdrop",yw="fade",Ef="show",Af=`mousedown.bs.${Pp}`,ww={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ew={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Lp extends Do{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return ww}static get DefaultType(){return Ew}static get NAME(){return Pp}show(n){if(!this._config.isVisible){an(n);return}this._append();const i=this._getElement();this._config.isAnimated&&ko(i),i.classList.add(Ef),this._emulateAnimation(()=>{an(n)})}hide(n){if(!this._config.isVisible){an(n);return}this._getElement().classList.remove(Ef),this._emulateAnimation(()=>{this.dispose(),an(n)})}dispose(){this._isAppended&&(F.off(this._element,Af),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(yw),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=ai(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),F.on(n,Af,()=>{an(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){yp(n,this._getElement(),this._config.isAnimated)}}const Aw="focustrap",xw="bs.focustrap",Ka=`.${xw}`,Cw=`focusin${Ka}`,Tw=`keydown.tab${Ka}`,Sw="Tab",Iw="forward",xf="backward",Ow={autofocus:!0,trapElement:null},kw={autofocus:"boolean",trapElement:"element"};class Mp extends Do{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ow}static get DefaultType(){return kw}static get NAME(){return Aw}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,Ka),F.on(document,Cw,n=>this._handleFocusin(n)),F.on(document,Tw,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,Ka))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const f=J.focusableChildren(i);f.length===0?i.focus():this._lastTabNavDirection===xf?f[f.length-1].focus():f[0].focus()}_handleKeydown(n){n.key===Sw&&(this._lastTabNavDirection=n.shiftKey?xf:Iw)}}const Cf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tf=".sticky-top",$a="padding-right",Sf="margin-right";class ec{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$a,i=>i+n),this._setElementAttributes(Cf,$a,i=>i+n),this._setElementAttributes(Tf,Sf,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$a),this._resetElementAttributes(Cf,$a),this._resetElementAttributes(Tf,Sf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,f){const v=this.getWidth(),g=E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+v)return;this._saveInitialAttribute(E,i);const S=window.getComputedStyle(E).getPropertyValue(i);E.style.setProperty(i,`${f(Number.parseFloat(S))}px`)};this._applyManipulationCallback(n,g)}_saveInitialAttribute(n,i){const f=n.style.getPropertyValue(i);f&&Rr.setDataAttribute(n,i,f)}_resetElementAttributes(n,i){const f=v=>{const g=Rr.getDataAttribute(v,i);if(g===null){v.style.removeProperty(i);return}Rr.removeDataAttribute(v,i),v.style.setProperty(i,g)};this._applyManipulationCallback(n,f)}_applyManipulationCallback(n,i){if(Mr(n)){i(n);return}for(const f of J.find(n,this._element))i(f)}}const Dw="modal",Nw="bs.modal",kn=`.${Nw}`,$w=".data-api",Pw="Escape",Lw=`hide${kn}`,Mw=`hidePrevented${kn}`,Rp=`hidden${kn}`,Fp=`show${kn}`,Rw=`shown${kn}`,Fw=`resize${kn}`,qw=`click.dismiss${kn}`,Bw=`mousedown.dismiss${kn}`,Ww=`keydown.dismiss${kn}`,Hw=`click${kn}${$w}`,If="modal-open",Uw="fade",Of="show",Fu="modal-static",Vw=".modal.show",zw=".modal-dialog",Kw=".modal-body",Yw='[data-bs-toggle="modal"]',Gw={backdrop:!0,focus:!0,keyboard:!0},jw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ks extends Yn{constructor(n,i){super(n,i),this._dialog=J.findOne(zw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ec,this._addEventListeners()}static get Default(){return Gw}static get DefaultType(){return jw}static get NAME(){return Dw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||F.trigger(this._element,Fp,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(If),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||F.trigger(this._element,Lw).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Of),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){F.off(window,kn),F.off(this._dialog,kn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Lp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mp({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=J.findOne(Kw,this._dialog);i&&(i.scrollTop=0),ko(this._element),this._element.classList.add(Of);const f=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Rw,{relatedTarget:n})};this._queueCallback(f,this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Ww,n=>{if(n.key===Pw){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),F.on(window,Fw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,Bw,n=>{F.one(this._element,qw,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(If),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Rp)})}_isAnimated(){return this._element.classList.contains(Uw)}_triggerBackdropTransition(){if(F.trigger(this._element,Mw).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(Fu)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Fu),this._queueCallback(()=>{this._element.classList.remove(Fu),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),f=i>0;if(f&&!n){const v=On()?"paddingLeft":"paddingRight";this._element.style[v]=`${i}px`}if(!f&&n){const v=On()?"paddingRight":"paddingLeft";this._element.style[v]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const f=ks.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n](i)}})}}F.on(document,Hw,Yw,function(o){const n=J.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),F.one(n,Fp,v=>{v.defaultPrevented||F.one(n,Rp,()=>{$s(this)&&this.focus()})});const i=J.findOne(Vw);i&&ks.getInstance(i).hide(),ks.getOrCreateInstance(n).toggle(this)});Za(ks);Dn(ks);const Qw="offcanvas",Xw="bs.offcanvas",qr=`.${Xw}`,qp=".data-api",Zw=`load${qr}${qp}`,Jw="Escape",kf="show",Df="showing",Nf="hiding",eE="offcanvas-backdrop",Bp=".offcanvas.show",tE=`show${qr}`,nE=`shown${qr}`,rE=`hide${qr}`,$f=`hidePrevented${qr}`,Wp=`hidden${qr}`,iE=`resize${qr}`,sE=`click${qr}${qp}`,oE=`keydown.dismiss${qr}`,aE='[data-bs-toggle="offcanvas"]',lE={backdrop:!0,keyboard:!0,scroll:!1},uE={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ui extends Yn{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lE}static get DefaultType(){return uE}static get NAME(){return Qw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||F.trigger(this._element,tE,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ec().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Df);const f=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(kf),this._element.classList.remove(Df),F.trigger(this._element,nE,{relatedTarget:n})};this._queueCallback(f,this._element,!0)}hide(){if(!this._isShown||F.trigger(this._element,rE).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Nf),this._backdrop.hide();const i=()=>{this._element.classList.remove(kf,Nf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ec().reset(),F.trigger(this._element,Wp)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){F.trigger(this._element,$f);return}this.hide()},i=!!this._config.backdrop;return new Lp({className:eE,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Mp({trapElement:this._element})}_addEventListeners(){F.on(this._element,oE,n=>{if(n.key===Jw){if(this._config.keyboard){this.hide();return}F.trigger(this._element,$f)}})}static jQueryInterface(n){return this.each(function(){const i=ui.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}F.on(document,sE,aE,function(o){const n=J.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),li(this))return;F.one(n,Wp,()=>{$s(this)&&this.focus()});const i=J.findOne(Bp);i&&i!==n&&ui.getInstance(i).hide(),ui.getOrCreateInstance(n).toggle(this)});F.on(window,Zw,()=>{for(const o of J.find(Bp))ui.getOrCreateInstance(o).show()});F.on(window,iE,()=>{for(const o of J.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&ui.getOrCreateInstance(o).hide()});Za(ui);Dn(ui);const cE=/^aria-[\w-]*$/i,Hp={"*":["class","dir","id","lang","role",cE],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pE=(o,n)=>{const i=o.nodeName.toLowerCase();return n.includes(i)?dE.has(i)?!!fE.test(o.nodeValue):!0:n.filter(f=>f instanceof RegExp).some(f=>f.test(i))};function hE(o,n,i){if(!o.length)return o;if(i&&typeof i=="function")return i(o);const v=new window.DOMParser().parseFromString(o,"text/html"),g=[].concat(...v.body.querySelectorAll("*"));for(const E of g){const S=E.nodeName.toLowerCase();if(!Object.keys(n).includes(S)){E.remove();continue}const C=[].concat(...E.attributes),M=[].concat(n["*"]||[],n[S]||[]);for(const L of C)pE(L,M)||E.removeAttribute(L.nodeName)}return v.body.innerHTML}const vE="TemplateFactory",_E={allowList:Hp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mE={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gE={entry:"(string|element|function|null)",selector:"(string|element)"};class bE extends Do{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return _E}static get DefaultType(){return mE}static get NAME(){return vE}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[v,g]of Object.entries(this._config.content))this._setContent(n,g,v);const i=n.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&i.classList.add(...f.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,f]of Object.entries(n))super._typeCheckConfig({selector:i,entry:f},gE)}_setContent(n,i,f){const v=J.findOne(f,n);if(v){if(i=this._resolvePossibleFunction(i),!i){v.remove();return}if(Mr(i)){this._putElementInTemplate(ai(i),v);return}if(this._config.html){v.innerHTML=this._maybeSanitize(i);return}v.textContent=i}}_maybeSanitize(n){return this._config.sanitize?hE(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return an(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const yE="tooltip",wE=new Set(["sanitize","allowList","sanitizeFn"]),qu="fade",EE="modal",Pa="show",AE=".tooltip-inner",Pf=`.${EE}`,Lf="hide.bs.modal",Ao="hover",Bu="focus",Wu="click",xE="manual",CE="hide",TE="hidden",SE="show",IE="shown",OE="inserted",kE="click",DE="focusin",NE="focusout",$E="mouseenter",PE="mouseleave",LE={AUTO:"auto",TOP:"top",RIGHT:On()?"left":"right",BOTTOM:"bottom",LEFT:On()?"right":"left"},ME={allowList:Hp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},RE={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ls extends Yn{constructor(n,i){if(typeof vp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ME}static get DefaultType(){return RE}static get NAME(){return yE}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(Pf),Lf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=F.trigger(this._element,this.constructor.eventName(SE)),f=(gp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!f)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:g}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(g.append(v),F.trigger(this._element,this.constructor.eventName(OE))),this._popper=this._createPopper(v),v.classList.add(Pa),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))F.on(S,"mouseover",Va);const E=()=>{F.trigger(this._element,this.constructor.eventName(IE)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(E,this.tip,this._isAnimated())}hide(){if(!this._isShown()||F.trigger(this._element,this.constructor.eventName(CE)).defaultPrevented)return;if(this._getTipElement().classList.remove(Pa),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))F.off(v,"mouseover",Va);this._activeTrigger[Wu]=!1,this._activeTrigger[Bu]=!1,this._activeTrigger[Ao]=!1,this._isHovered=null;const f=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName(TE)))};this._queueCallback(f,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(qu,Pa),i.classList.add(`bs-${this.constructor.NAME}-auto`);const f=x1(this.constructor.NAME).toString();return i.setAttribute("id",f),this._isAnimated()&&i.classList.add(qu),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new bE({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[AE]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qu)}_isShown(){return this.tip&&this.tip.classList.contains(Pa)}_createPopper(n){const i=an(this._config.placement,[this,n,this._element]),f=LE[i.toUpperCase()];return hc(this._element,n,this._getPopperConfig(f))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return an(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...i,...an(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")F.on(this._element,this.constructor.eventName(kE),this._config.selector,f=>{const v=this._initializeOnDelegatedTarget(f);v._activeTrigger[Wu]=!(v._isShown()&&v._activeTrigger[Wu]),v.toggle()});else if(i!==xE){const f=i===Ao?this.constructor.eventName($E):this.constructor.eventName(DE),v=i===Ao?this.constructor.eventName(PE):this.constructor.eventName(NE);F.on(this._element,f,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusin"?Bu:Ao]=!0,E._enter()}),F.on(this._element,v,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusout"?Bu:Ao]=E._element.contains(g.relatedTarget),E._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(Pf),Lf,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=Rr.getDataAttributes(this._element);for(const f of Object.keys(i))wE.has(f)&&delete i[f];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:ai(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,f]of Object.entries(this._config))this.constructor.Default[i]!==f&&(n[i]=f);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=Ls.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}Dn(Ls);const FE="popover",qE=".popover-header",BE=".popover-body",WE={...Ls.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},HE={...Ls.DefaultType,content:"(null|string|element|function)"};class tl extends Ls{static get Default(){return WE}static get DefaultType(){return HE}static get NAME(){return FE}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[qE]:this._getTitle(),[BE]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=tl.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}Dn(tl);const UE="scrollspy",VE="bs.scrollspy",gc=`.${VE}`,zE=".data-api",KE=`activate${gc}`,Mf=`click${gc}`,YE=`load${gc}${zE}`,GE="dropdown-item",ys="active",jE='[data-bs-spy="scroll"]',Hu="[href]",QE=".nav, .list-group",Rf=".nav-link",XE=".nav-item",ZE=".list-group-item",JE=`${Rf}, ${XE} > ${Rf}, ${ZE}`,eA=".dropdown",tA=".dropdown-toggle",nA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class nl extends Yn{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nA}static get DefaultType(){return rA}static get NAME(){return UE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=ai(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Mf),F.on(this._config.target,Mf,Hu,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const f=this._rootElement||window,v=i.offsetTop-this._element.offsetTop;if(f.scrollTo){f.scrollTo({top:v,behavior:"smooth"});return}f.scrollTop=v}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=E=>this._targetLinks.get(`#${E.target.id}`),f=E=>{this._previousScrollData.visibleEntryTop=E.target.offsetTop,this._process(i(E))},v=(this._rootElement||document.documentElement).scrollTop,g=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const E of n){if(!E.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(E));continue}const S=E.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(g&&S){if(f(E),!v)return;continue}!g&&!S&&f(E)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=J.find(Hu,this._config.target);for(const i of n){if(!i.hash||li(i))continue;const f=J.findOne(decodeURI(i.hash),this._element);$s(f)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,f))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(ys),this._activateParents(n),F.trigger(this._element,KE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(GE)){J.findOne(tA,n.closest(eA)).classList.add(ys);return}for(const i of J.parents(n,QE))for(const f of J.prev(i,JE))f.classList.add(ys)}_clearActiveClass(n){n.classList.remove(ys);const i=J.find(`${Hu}.${ys}`,n);for(const f of i)f.classList.remove(ys)}static jQueryInterface(n){return this.each(function(){const i=nl.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(window,YE,()=>{for(const o of J.find(jE))nl.getOrCreateInstance(o)});Dn(nl);const iA="tab",sA="bs.tab",Bi=`.${sA}`,oA=`hide${Bi}`,aA=`hidden${Bi}`,lA=`show${Bi}`,uA=`shown${Bi}`,cA=`click${Bi}`,dA=`keydown${Bi}`,fA=`load${Bi}`,pA="ArrowLeft",Ff="ArrowRight",hA="ArrowUp",qf="ArrowDown",Uu="Home",Bf="End",Li="active",Wf="fade",Vu="show",vA="dropdown",Up=".dropdown-toggle",_A=".dropdown-menu",zu=`:not(${Up})`,mA='.list-group, .nav, [role="tablist"]',gA=".nav-item, .list-group-item",bA=`.nav-link${zu}, .list-group-item${zu}, [role="tab"]${zu}`,Vp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ku=`${bA}, ${Vp}`,yA=`.${Li}[data-bs-toggle="tab"], .${Li}[data-bs-toggle="pill"], .${Li}[data-bs-toggle="list"]`;class Ds extends Yn{constructor(n){super(n),this._parent=this._element.closest(mA),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,dA,i=>this._keydown(i)))}static get NAME(){return iA}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),f=i?F.trigger(i,oA,{relatedTarget:n}):null;F.trigger(n,lA,{relatedTarget:i}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(Li),this._activate(J.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Vu);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),F.trigger(n,uA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Wf))}_deactivate(n,i){if(!n)return;n.classList.remove(Li),n.blur(),this._deactivate(J.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Vu);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),F.trigger(n,aA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Wf))}_keydown(n){if(![pA,Ff,hA,qf,Uu,Bf].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(v=>!li(v));let f;if([Uu,Bf].includes(n.key))f=i[n.key===Uu?0:i.length-1];else{const v=[Ff,qf].includes(n.key);f=vc(i,n.target,v,!0)}f&&(f.focus({preventScroll:!0}),Ds.getOrCreateInstance(f).show())}_getChildren(){return J.find(Ku,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const f of i)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),f=this._getOuterElement(n);n.setAttribute("aria-selected",i),f!==n&&this._setAttributeIfNotExists(f,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=J.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const f=this._getOuterElement(n);if(!f.classList.contains(vA))return;const v=(g,E)=>{const S=J.findOne(g,f);S&&S.classList.toggle(E,i)};v(Up,Li),v(_A,Vu),f.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,f){n.hasAttribute(i)||n.setAttribute(i,f)}_elemIsActive(n){return n.classList.contains(Li)}_getInnerElement(n){return n.matches(Ku)?n:J.findOne(Ku,n)}_getOuterElement(n){return n.closest(gA)||n}static jQueryInterface(n){return this.each(function(){const i=Ds.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,cA,Vp,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!li(this)&&Ds.getOrCreateInstance(this).show()});F.on(window,fA,()=>{for(const o of J.find(yA))Ds.getOrCreateInstance(o)});Dn(Ds);const wA="toast",EA="bs.toast",fi=`.${EA}`,AA=`mouseover${fi}`,xA=`mouseout${fi}`,CA=`focusin${fi}`,TA=`focusout${fi}`,SA=`hide${fi}`,IA=`hidden${fi}`,OA=`show${fi}`,kA=`shown${fi}`,DA="fade",Hf="hide",La="show",Ma="showing",NA={animation:"boolean",autohide:"boolean",delay:"number"},$A={animation:!0,autohide:!0,delay:5e3};class rl extends Yn{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $A}static get DefaultType(){return NA}static get NAME(){return wA}show(){if(F.trigger(this._element,OA).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(DA);const i=()=>{this._element.classList.remove(Ma),F.trigger(this._element,kA),this._maybeScheduleHide()};this._element.classList.remove(Hf),ko(this._element),this._element.classList.add(La,Ma),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||F.trigger(this._element,SA).defaultPrevented)return;const i=()=>{this._element.classList.add(Hf),this._element.classList.remove(Ma,La),F.trigger(this._element,IA)};this._element.classList.add(Ma),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(La),super.dispose()}isShown(){return this._element.classList.contains(La)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const f=n.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,AA,n=>this._onInteraction(n,!0)),F.on(this._element,xA,n=>this._onInteraction(n,!1)),F.on(this._element,CA,n=>this._onInteraction(n,!0)),F.on(this._element,TA,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=rl.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}Za(rl);Dn(rl);var xo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var PA=xo.exports,Uf;function LA(){return Uf||(Uf=1,(function(o,n){(function(){var i,f="4.17.21",v=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",S="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",M=500,L="__lodash_placeholder__",U=1,X=2,z=4,Q=1,ne=2,ie=1,ae=2,ke=4,De=8,Z=16,_e=32,Ce=64,Ee=128,Ie=256,Fe=512,Ve=30,Xe="...",Pe=800,Ge=16,Yt=1,Nn=2,yt=3,he=1/0,Dt=9007199254740991,Gt=17976931348623157e292,$n=NaN,Nt=4294967295,lt=Nt-1,vr=Nt>>>1,Gn=[["ary",Ee],["bind",ie],["bindKey",ae],["curry",De],["curryRight",Z],["flip",Fe],["partial",_e],["partialRight",Ce],["rearg",Ie]],Et="[object Arguments]",bn="[object Array]",Br="[object AsyncFunction]",Rt="[object Boolean]",Pn="[object Date]",Ms="[object DOMException]",jn="[object Error]",Wr="[object Function]",Hr="[object GeneratorFunction]",Ft="[object Map]",jt="[object Number]",Wi="[object Null]",At="[object Object]",Hi="[object Promise]",Ui="[object Proxy]",$t="[object RegExp]",Ye="[object Set]",ye="[object String]",Ze="[object Symbol]",xt="[object Undefined]",ut="[object WeakMap]",Vi="[object WeakSet]",Qt="[object ArrayBuffer]",Ln="[object DataView]",Qn="[object Float32Array]",Rs="[object Float64Array]",Fs="[object Int8Array]",_r="[object Int16Array]",Xn="[object Int32Array]",Ct="[object Uint8Array]",qs="[object Uint8ClampedArray]",Bs="[object Uint16Array]",ct="[object Uint32Array]",Po=/\b__p \+= '';/g,Ws=/\b(__p \+=) '' \+/g,il=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mr=/&(?:amp|lt|gt|quot|#39);/g,Lo=/[&<>"']/g,Mo=RegExp(mr.source),sl=RegExp(Lo.source),Hs=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Ro=/<%=([\s\S]+?)%>/g,Us=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ol=/^\w*$/,al=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,Zn=RegExp(Tt.source),yn=/^\s+/,Vs=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,zs=/,? & /,Jn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,Mn=/\\(\\)?/g,ll=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pi=/\w*$/,ul=/^[-+]0x[0-9a-f]+$/i,cl=/^0b[01]+$/i,St=/^\[object .+?Constructor\]$/,zi=/^0o[0-7]+$/i,Rn=/^(?:0|[1-9]\d*)$/,ln=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ur=/($^)/,hi=/['\n\r\u2028\u2029\\]/g,gr="\\ud800-\\udfff",Vr="\\u0300-\\u036f",dl="\\ufe20-\\ufe2f",Ks="\\u20d0-\\u20ff",Fo=Vr+dl+Ks,qo="\\u2700-\\u27bf",Bo="a-z\\xdf-\\xf6\\xf8-\\xff",Wo="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zr="\\u2000-\\u206f",Ho=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rt="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",Uo=Wo+Xt+zr+Ho,Ys="[']",Vo="["+gr+"]",er="["+Uo+"]",Ki="["+Fo+"]",br="\\d+",vi="["+qo+"]",zo="["+Bo+"]",Fn="[^"+gr+Uo+br+qo+Bo+rt+"]",qt="\\ud83c[\\udffb-\\udfff]",wn="(?:"+Ki+"|"+qt+")",_i="[^"+gr+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Gr="[\\ud800-\\udbff][\\udc00-\\udfff]",jr="["+rt+"]",Ko="\\u200d",Yo="(?:"+zo+"|"+Fn+")",un="(?:"+jr+"|"+Fn+")",Gs="(?:"+Ys+"(?:d|ll|m|re|s|t|ve))?",mi="(?:"+Ys+"(?:D|LL|M|RE|S|T|VE))?",Go=wn+"?",js="["+Kr+"]?",Yi="(?:"+Ko+"(?:"+[_i,Yr,Gr].join("|")+")"+js+Go+")*",fl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ji=js+Go+Yi,Qs="(?:"+[vi,Yr,Gr].join("|")+")"+ji,pl="(?:"+[_i+Ki+"?",Ki,Yr,Gr,Vo].join("|")+")",Qi=RegExp(Ys,"g"),Xi=RegExp(Ki,"g"),gi=RegExp(qt+"(?="+qt+")|"+pl+ji,"g"),Xs=RegExp([jr+"?"+zo+"+"+Gs+"(?="+[er,jr,"$"].join("|")+")",un+"+"+mi+"(?="+[er,jr+Yo,"$"].join("|")+")",jr+"?"+Yo+"+"+Gs,jr+"+"+mi,Gi,fl,br,Qs].join("|"),"g"),Zi=RegExp("["+Ko+gr+Fo+Kr+"]"),Ji=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hl=-1,We={};We[Qn]=We[Rs]=We[Fs]=We[_r]=We[Xn]=We[Ct]=We[qs]=We[Bs]=We[ct]=!0,We[Et]=We[bn]=We[Qt]=We[Rt]=We[Ln]=We[Pn]=We[jn]=We[Wr]=We[Ft]=We[jt]=We[At]=We[$t]=We[Ye]=We[ye]=We[ut]=!1;var qe={};qe[Et]=qe[bn]=qe[Qt]=qe[Ln]=qe[Rt]=qe[Pn]=qe[Qn]=qe[Rs]=qe[Fs]=qe[_r]=qe[Xn]=qe[Ft]=qe[jt]=qe[At]=qe[$t]=qe[Ye]=qe[ye]=qe[Ze]=qe[Ct]=qe[qs]=qe[Bs]=qe[ct]=!0,qe[jn]=qe[Wr]=qe[ut]=!1;var vl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},_l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ml={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gl=parseFloat,nr=parseInt,rr=typeof Oa=="object"&&Oa&&Oa.Object===Object&&Oa,yr=typeof self=="object"&&self&&self.Object===Object&&self,ft=rr||yr||Function("return this")(),es=n&&!n.nodeType&&n,ir=es&&!0&&o&&!o.nodeType&&o,jo=ir&&ir.exports===es,Zs=jo&&rr.process,pt=(function(){try{var y=ir&&ir.require&&ir.require("util").types;return y||Zs&&Zs.binding&&Zs.binding("util")}catch{}})(),it=pt&&pt.isArrayBuffer,qn=pt&&pt.isDate,wr=pt&&pt.isMap,Qo=pt&&pt.isRegExp,Xo=pt&&pt.isSet,Zo=pt&&pt.isTypedArray;function Bt(y,k,T){switch(T.length){case 0:return y.call(k);case 1:return y.call(k,T[0]);case 2:return y.call(k,T[0],T[1]);case 3:return y.call(k,T[0],T[1],T[2])}return y.apply(k,T)}function Jo(y,k,T,Y){for(var le=-1,we=y==null?0:y.length;++le<we;){var je=y[le];k(Y,je,T(je),y)}return Y}function Zt(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y&&k(y[T],T,y)!==!1;);return y}function bl(y,k){for(var T=y==null?0:y.length;T--&&k(y[T],T,y)!==!1;);return y}function ts(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y;)if(!k(y[T],T,y))return!1;return!0}function Jt(y,k){for(var T=-1,Y=y==null?0:y.length,le=0,we=[];++T<Y;){var je=y[T];k(je,T,y)&&(we[le++]=je)}return we}function bi(y,k){var T=y==null?0:y.length;return!!T&&Qr(y,k,0)>-1}function yi(y,k,T){for(var Y=-1,le=y==null?0:y.length;++Y<le;)if(T(k,y[Y]))return!0;return!1}function He(y,k){for(var T=-1,Y=y==null?0:y.length,le=Array(Y);++T<Y;)le[T]=k(y[T],T,y);return le}function sr(y,k){for(var T=-1,Y=k.length,le=y.length;++T<Y;)y[le+T]=k[T];return y}function Js(y,k,T,Y){var le=-1,we=y==null?0:y.length;for(Y&&we&&(T=y[++le]);++le<we;)T=k(T,y[le],le,y);return T}function yl(y,k,T,Y){var le=y==null?0:y.length;for(Y&&le&&(T=y[--le]);le--;)T=k(T,y[le],le,y);return T}function eo(y,k){for(var T=-1,Y=y==null?0:y.length;++T<Y;)if(k(y[T],T,y))return!0;return!1}var cn=no("length");function Er(y){return y.split("")}function wi(y){return y.match(Jn)||[]}function ea(y,k,T){var Y;return T(y,function(le,we,je){if(k(le,we,je))return Y=we,!1}),Y}function Bn(y,k,T,Y){for(var le=y.length,we=T+(Y?1:-1);Y?we--:++we<le;)if(k(y[we],we,y))return we;return-1}function Qr(y,k,T){return k===k?Sl(y,k,T):Bn(y,Xr,T)}function wl(y,k,T,Y){for(var le=T-1,we=y.length;++le<we;)if(Y(y[le],k))return le;return-1}function Xr(y){return y!==y}function to(y,k){var T=y==null?0:y.length;return T?is(y,k)/T:$n}function no(y){return function(k){return k==null?i:k[y]}}function ns(y){return function(k){return y==null?i:y[k]}}function ta(y,k,T,Y,le){return le(y,function(we,je,Re){T=Y?(Y=!1,we):k(T,we,je,Re)}),T}function rs(y,k){var T=y.length;for(y.sort(k);T--;)y[T]=y[T].value;return y}function is(y,k){for(var T,Y=-1,le=y.length;++Y<le;){var we=k(y[Y]);we!==i&&(T=T===i?we:T+we)}return T}function ro(y,k){for(var T=-1,Y=Array(y);++T<y;)Y[T]=k(T);return Y}function El(y,k){return He(k,function(T){return[T,y[T]]})}function ze(y){return y&&y.slice(0,so(y)+1).replace(yn,"")}function Ae(y){return function(k){return y(k)}}function Ke(y,k){return He(k,function(T){return y[T]})}function Wt(y,k){return y.has(k)}function Wn(y,k){for(var T=-1,Y=y.length;++T<Y&&Qr(k,y[T],0)>-1;);return T}function Ar(y,k){for(var T=y.length;T--&&Qr(k,y[T],0)>-1;);return T}function or(y,k){for(var T=y.length,Y=0;T--;)y[T]===k&&++Y;return Y}var ss=ns(vl),Ue=ns(_l);function Al(y){return"\\"+ml[y]}function xl(y,k){return y==null?i:y[k]}function mt(y){return Zi.test(y)}function na(y){return Ji.test(y)}function Cl(y){for(var k,T=[];!(k=y.next()).done;)T.push(k.value);return T}function io(y){var k=-1,T=Array(y.size);return y.forEach(function(Y,le){T[++k]=[le,Y]}),T}function Ei(y,k){return function(T){return y(k(T))}}function En(y,k){for(var T=-1,Y=y.length,le=0,we=[];++T<Y;){var je=y[T];(je===k||je===L)&&(y[T]=L,we[le++]=T)}return we}function os(y){var k=-1,T=Array(y.size);return y.forEach(function(Y){T[++k]=Y}),T}function Tl(y){var k=-1,T=Array(y.size);return y.forEach(function(Y){T[++k]=[Y,Y]}),T}function Sl(y,k,T){for(var Y=T-1,le=y.length;++Y<le;)if(y[Y]===k)return Y;return-1}function Il(y,k,T){for(var Y=T+1;Y--;)if(y[Y]===k)return Y;return Y}function xr(y){return mt(y)?Ol(y):cn(y)}function dn(y){return mt(y)?kl(y):Er(y)}function so(y){for(var k=y.length;k--&&Vs.test(y.charAt(k)););return k}var ra=ns(tr);function Ol(y){for(var k=gi.lastIndex=0;gi.test(y);)++k;return k}function kl(y){return y.match(gi)||[]}function Dl(y){return y.match(Xs)||[]}var Nl=(function y(k){k=k==null?ft:Cr.defaults(ft.Object(),k,Cr.pick(ft,Me));var T=k.Array,Y=k.Date,le=k.Error,we=k.Function,je=k.Math,Re=k.Object,Hn=k.RegExp,$l=k.String,en=k.TypeError,as=T.prototype,Zr=we.prototype,Un=Re.prototype,Ai=k["__core-js_shared__"],xi=Zr.toString,Ne=Un.hasOwnProperty,ls=0,Je=(function(){var e=/[^.]+$/.exec(Ai&&Ai.keys&&Ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),us=Un.toString,Pl=xi.call(Re),Ll=ft._,a=Hn("^"+xi.call(Ne).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s=jo?k.Buffer:i,u=k.Symbol,_=k.Uint8Array,x=s?s.allocUnsafe:i,D=Ei(Re.getPrototypeOf,Re),I=Re.create,W=Un.propertyIsEnumerable,ee=as.splice,B=u?u.isConcatSpreadable:i,de=u?u.iterator:i,$e=u?u.toStringTag:i,te=(function(){try{var e=Oi(Re,"defineProperty");return e({},"",{}),e}catch{}})(),ht=k.clearTimeout!==ft.clearTimeout&&k.clearTimeout,Oe=Y&&Y.now!==ft.Date.now&&Y.now,It=k.setTimeout!==ft.setTimeout&&k.setTimeout,Ot=je.ceil,Jr=je.floor,oo=Re.getOwnPropertySymbols,Ml=s?s.isBuffer:i,bc=k.isFinite,zp=as.join,Kp=Ei(Re.keys,Re),gt=je.max,Pt=je.min,Yp=Y.now,Gp=k.parseInt,yc=je.random,jp=as.reverse,Rl=Oi(k,"DataView"),ao=Oi(k,"Map"),Fl=Oi(k,"Promise"),cs=Oi(k,"Set"),lo=Oi(k,"WeakMap"),uo=Oi(Re,"create"),ia=lo&&new lo,ds={},Qp=ki(Rl),Xp=ki(ao),Zp=ki(Fl),Jp=ki(cs),eh=ki(lo),sa=u?u.prototype:i,co=sa?sa.valueOf:i,wc=sa?sa.toString:i;function p(e){if(et(e)&&!fe(e)&&!(e instanceof Te)){if(e instanceof An)return e;if(Ne.call(e,"__wrapped__"))return Ed(e)}return new An(e)}var fs=(function(){function e(){}return function(t){if(!Qe(t))return{};if(I)return I(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function oa(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}p.templateSettings={escape:Hs,evaluate:q,interpolate:Ro,variable:"",imports:{_:p}},p.prototype=oa.prototype,p.prototype.constructor=p,An.prototype=fs(oa.prototype),An.prototype.constructor=An;function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nt,this.__views__=[]}function th(){var e=new Te(this.__wrapped__);return e.__actions__=tn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=tn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=tn(this.__views__),e}function nh(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function rh(){var e=this.__wrapped__.value(),t=this.__dir__,r=fe(e),l=t<0,d=r?e.length:0,h=vv(0,d,this.__views__),m=h.start,b=h.end,w=b-m,$=l?b:m-1,P=this.__iteratees__,R=P.length,K=0,j=Pt(w,this.__takeCount__);if(!r||!l&&d==w&&j==w)return zc(e,this.__actions__);var se=[];e:for(;w--&&K<j;){$+=t;for(var me=-1,oe=e[$];++me<R;){var xe=P[me],Se=xe.iteratee,hn=xe.type,Vt=Se(oe);if(hn==Nn)oe=Vt;else if(!Vt){if(hn==Yt)continue e;break e}}se[K++]=oe}return se}Te.prototype=fs(oa.prototype),Te.prototype.constructor=Te;function Ci(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function ih(){this.__data__=uo?uo(null):{},this.size=0}function sh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function oh(e){var t=this.__data__;if(uo){var r=t[e];return r===C?i:r}return Ne.call(t,e)?t[e]:i}function ah(e){var t=this.__data__;return uo?t[e]!==i:Ne.call(t,e)}function lh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uo&&t===i?C:t,this}Ci.prototype.clear=ih,Ci.prototype.delete=sh,Ci.prototype.get=oh,Ci.prototype.has=ah,Ci.prototype.set=lh;function Tr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function uh(){this.__data__=[],this.size=0}function ch(e){var t=this.__data__,r=aa(t,e);if(r<0)return!1;var l=t.length-1;return r==l?t.pop():ee.call(t,r,1),--this.size,!0}function dh(e){var t=this.__data__,r=aa(t,e);return r<0?i:t[r][1]}function fh(e){return aa(this.__data__,e)>-1}function ph(e,t){var r=this.__data__,l=aa(r,e);return l<0?(++this.size,r.push([e,t])):r[l][1]=t,this}Tr.prototype.clear=uh,Tr.prototype.delete=ch,Tr.prototype.get=dh,Tr.prototype.has=fh,Tr.prototype.set=ph;function Sr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function hh(){this.size=0,this.__data__={hash:new Ci,map:new(ao||Tr),string:new Ci}}function vh(e){var t=ba(this,e).delete(e);return this.size-=t?1:0,t}function _h(e){return ba(this,e).get(e)}function mh(e){return ba(this,e).has(e)}function gh(e,t){var r=ba(this,e),l=r.size;return r.set(e,t),this.size+=r.size==l?0:1,this}Sr.prototype.clear=hh,Sr.prototype.delete=vh,Sr.prototype.get=_h,Sr.prototype.has=mh,Sr.prototype.set=gh;function Ti(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Sr;++t<r;)this.add(e[t])}function bh(e){return this.__data__.set(e,C),this}function yh(e){return this.__data__.has(e)}Ti.prototype.add=Ti.prototype.push=bh,Ti.prototype.has=yh;function Vn(e){var t=this.__data__=new Tr(e);this.size=t.size}function wh(){this.__data__=new Tr,this.size=0}function Eh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Ah(e){return this.__data__.get(e)}function xh(e){return this.__data__.has(e)}function Ch(e,t){var r=this.__data__;if(r instanceof Tr){var l=r.__data__;if(!ao||l.length<v-1)return l.push([e,t]),this.size=++r.size,this;r=this.__data__=new Sr(l)}return r.set(e,t),this.size=r.size,this}Vn.prototype.clear=wh,Vn.prototype.delete=Eh,Vn.prototype.get=Ah,Vn.prototype.has=xh,Vn.prototype.set=Ch;function Ec(e,t){var r=fe(e),l=!r&&Di(e),d=!r&&!l&&ii(e),h=!r&&!l&&!d&&_s(e),m=r||l||d||h,b=m?ro(e.length,$l):[],w=b.length;for(var $ in e)(t||Ne.call(e,$))&&!(m&&($=="length"||d&&($=="offset"||$=="parent")||h&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Dr($,w)))&&b.push($);return b}function Ac(e){var t=e.length;return t?e[jl(0,t-1)]:i}function Th(e,t){return ya(tn(e),Si(t,0,e.length))}function Sh(e){return ya(tn(e))}function ql(e,t,r){(r!==i&&!zn(e[t],r)||r===i&&!(t in e))&&Ir(e,t,r)}function fo(e,t,r){var l=e[t];(!(Ne.call(e,t)&&zn(l,r))||r===i&&!(t in e))&&Ir(e,t,r)}function aa(e,t){for(var r=e.length;r--;)if(zn(e[r][0],t))return r;return-1}function Ih(e,t,r,l){return ei(e,function(d,h,m){t(l,d,r(d),m)}),l}function xc(e,t){return e&&lr(t,wt(t),e)}function Oh(e,t){return e&&lr(t,rn(t),e)}function Ir(e,t,r){t=="__proto__"&&te?te(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Bl(e,t){for(var r=-1,l=t.length,d=T(l),h=e==null;++r<l;)d[r]=h?i:yu(e,t[r]);return d}function Si(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function xn(e,t,r,l,d,h){var m,b=t&U,w=t&X,$=t&z;if(r&&(m=d?r(e,l,d,h):r(e)),m!==i)return m;if(!Qe(e))return e;var P=fe(e);if(P){if(m=mv(e),!b)return tn(e,m)}else{var R=Lt(e),K=R==Wr||R==Hr;if(ii(e))return Gc(e,b);if(R==At||R==Et||K&&!d){if(m=w||K?{}:pd(e),!b)return w?ov(e,Oh(m,e)):sv(e,xc(m,e))}else{if(!qe[R])return d?e:{};m=gv(e,R,b)}}h||(h=new Vn);var j=h.get(e);if(j)return j;h.set(e,m),Hd(e)?e.forEach(function(oe){m.add(xn(oe,t,r,oe,e,h))}):Bd(e)&&e.forEach(function(oe,xe){m.set(xe,xn(oe,t,r,xe,e,h))});var se=$?w?ou:su:w?rn:wt,me=P?i:se(e);return Zt(me||e,function(oe,xe){me&&(xe=oe,oe=e[xe]),fo(m,xe,xn(oe,t,r,xe,e,h))}),m}function kh(e){var t=wt(e);return function(r){return Cc(r,e,t)}}function Cc(e,t,r){var l=r.length;if(e==null)return!l;for(e=Re(e);l--;){var d=r[l],h=t[d],m=e[d];if(m===i&&!(d in e)||!h(m))return!1}return!0}function Tc(e,t,r){if(typeof e!="function")throw new en(E);return bo(function(){e.apply(i,r)},t)}function po(e,t,r,l){var d=-1,h=bi,m=!0,b=e.length,w=[],$=t.length;if(!b)return w;r&&(t=He(t,Ae(r))),l?(h=yi,m=!1):t.length>=v&&(h=Wt,m=!1,t=new Ti(t));e:for(;++d<b;){var P=e[d],R=r==null?P:r(P);if(P=l||P!==0?P:0,m&&R===R){for(var K=$;K--;)if(t[K]===R)continue e;w.push(P)}else h(t,R,l)||w.push(P)}return w}var ei=Jc(ar),Sc=Jc(Hl,!0);function Dh(e,t){var r=!0;return ei(e,function(l,d,h){return r=!!t(l,d,h),r}),r}function la(e,t,r){for(var l=-1,d=e.length;++l<d;){var h=e[l],m=t(h);if(m!=null&&(b===i?m===m&&!pn(m):r(m,b)))var b=m,w=h}return w}function Nh(e,t,r,l){var d=e.length;for(r=ve(r),r<0&&(r=-r>d?0:d+r),l=l===i||l>d?d:ve(l),l<0&&(l+=d),l=r>l?0:Vd(l);r<l;)e[r++]=t;return e}function Ic(e,t){var r=[];return ei(e,function(l,d,h){t(l,d,h)&&r.push(l)}),r}function kt(e,t,r,l,d){var h=-1,m=e.length;for(r||(r=yv),d||(d=[]);++h<m;){var b=e[h];t>0&&r(b)?t>1?kt(b,t-1,r,l,d):sr(d,b):l||(d[d.length]=b)}return d}var Wl=ed(),Oc=ed(!0);function ar(e,t){return e&&Wl(e,t,wt)}function Hl(e,t){return e&&Oc(e,t,wt)}function ua(e,t){return Jt(t,function(r){return Nr(e[r])})}function Ii(e,t){t=ni(t,e);for(var r=0,l=t.length;e!=null&&r<l;)e=e[ur(t[r++])];return r&&r==l?e:i}function kc(e,t,r){var l=t(e);return fe(e)?l:sr(l,r(e))}function Ht(e){return e==null?e===i?xt:Wi:$e&&$e in Re(e)?hv(e):Sv(e)}function Ul(e,t){return e>t}function $h(e,t){return e!=null&&Ne.call(e,t)}function Ph(e,t){return e!=null&&t in Re(e)}function Lh(e,t,r){return e>=Pt(t,r)&&e<gt(t,r)}function Vl(e,t,r){for(var l=r?yi:bi,d=e[0].length,h=e.length,m=h,b=T(h),w=1/0,$=[];m--;){var P=e[m];m&&t&&(P=He(P,Ae(t))),w=Pt(P.length,w),b[m]=!r&&(t||d>=120&&P.length>=120)?new Ti(m&&P):i}P=e[0];var R=-1,K=b[0];e:for(;++R<d&&$.length<w;){var j=P[R],se=t?t(j):j;if(j=r||j!==0?j:0,!(K?Wt(K,se):l($,se,r))){for(m=h;--m;){var me=b[m];if(!(me?Wt(me,se):l(e[m],se,r)))continue e}K&&K.push(se),$.push(j)}}return $}function Mh(e,t,r,l){return ar(e,function(d,h,m){t(l,r(d),h,m)}),l}function ho(e,t,r){t=ni(t,e),e=md(e,t);var l=e==null?e:e[ur(Tn(t))];return l==null?i:Bt(l,e,r)}function Dc(e){return et(e)&&Ht(e)==Et}function Rh(e){return et(e)&&Ht(e)==Qt}function Fh(e){return et(e)&&Ht(e)==Pn}function vo(e,t,r,l,d){return e===t?!0:e==null||t==null||!et(e)&&!et(t)?e!==e&&t!==t:qh(e,t,r,l,vo,d)}function qh(e,t,r,l,d,h){var m=fe(e),b=fe(t),w=m?bn:Lt(e),$=b?bn:Lt(t);w=w==Et?At:w,$=$==Et?At:$;var P=w==At,R=$==At,K=w==$;if(K&&ii(e)){if(!ii(t))return!1;m=!0,P=!1}if(K&&!P)return h||(h=new Vn),m||_s(e)?cd(e,t,r,l,d,h):fv(e,t,w,r,l,d,h);if(!(r&Q)){var j=P&&Ne.call(e,"__wrapped__"),se=R&&Ne.call(t,"__wrapped__");if(j||se){var me=j?e.value():e,oe=se?t.value():t;return h||(h=new Vn),d(me,oe,r,l,h)}}return K?(h||(h=new Vn),pv(e,t,r,l,d,h)):!1}function Bh(e){return et(e)&&Lt(e)==Ft}function zl(e,t,r,l){var d=r.length,h=d,m=!l;if(e==null)return!h;for(e=Re(e);d--;){var b=r[d];if(m&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++d<h;){b=r[d];var w=b[0],$=e[w],P=b[1];if(m&&b[2]){if($===i&&!(w in e))return!1}else{var R=new Vn;if(l)var K=l($,P,w,e,t,R);if(!(K===i?vo(P,$,Q|ne,l,R):K))return!1}}return!0}function Nc(e){if(!Qe(e)||Ev(e))return!1;var t=Nr(e)?a:St;return t.test(ki(e))}function Wh(e){return et(e)&&Ht(e)==$t}function Hh(e){return et(e)&&Lt(e)==Ye}function Uh(e){return et(e)&&Ta(e.length)&&!!We[Ht(e)]}function $c(e){return typeof e=="function"?e:e==null?sn:typeof e=="object"?fe(e)?Mc(e[0],e[1]):Lc(e):tf(e)}function Kl(e){if(!go(e))return Kp(e);var t=[];for(var r in Re(e))Ne.call(e,r)&&r!="constructor"&&t.push(r);return t}function Vh(e){if(!Qe(e))return Tv(e);var t=go(e),r=[];for(var l in e)l=="constructor"&&(t||!Ne.call(e,l))||r.push(l);return r}function Yl(e,t){return e<t}function Pc(e,t){var r=-1,l=nn(e)?T(e.length):[];return ei(e,function(d,h,m){l[++r]=t(d,h,m)}),l}function Lc(e){var t=lu(e);return t.length==1&&t[0][2]?vd(t[0][0],t[0][1]):function(r){return r===e||zl(r,e,t)}}function Mc(e,t){return cu(e)&&hd(t)?vd(ur(e),t):function(r){var l=yu(r,e);return l===i&&l===t?wu(r,e):vo(t,l,Q|ne)}}function ca(e,t,r,l,d){e!==t&&Wl(t,function(h,m){if(d||(d=new Vn),Qe(h))zh(e,t,m,r,ca,l,d);else{var b=l?l(fu(e,m),h,m+"",e,t,d):i;b===i&&(b=h),ql(e,m,b)}},rn)}function zh(e,t,r,l,d,h,m){var b=fu(e,r),w=fu(t,r),$=m.get(w);if($){ql(e,r,$);return}var P=h?h(b,w,r+"",e,t,m):i,R=P===i;if(R){var K=fe(w),j=!K&&ii(w),se=!K&&!j&&_s(w);P=w,K||j||se?fe(b)?P=b:st(b)?P=tn(b):j?(R=!1,P=Gc(w,!0)):se?(R=!1,P=jc(w,!0)):P=[]:yo(w)||Di(w)?(P=b,Di(b)?P=zd(b):(!Qe(b)||Nr(b))&&(P=pd(w))):R=!1}R&&(m.set(w,P),d(P,w,l,h,m),m.delete(w)),ql(e,r,P)}function Rc(e,t){var r=e.length;if(r)return t+=t<0?r:0,Dr(t,r)?e[t]:i}function Fc(e,t,r){t.length?t=He(t,function(h){return fe(h)?function(m){return Ii(m,h.length===1?h[0]:h)}:h}):t=[sn];var l=-1;t=He(t,Ae(re()));var d=Pc(e,function(h,m,b){var w=He(t,function($){return $(h)});return{criteria:w,index:++l,value:h}});return rs(d,function(h,m){return iv(h,m,r)})}function Kh(e,t){return qc(e,t,function(r,l){return wu(e,l)})}function qc(e,t,r){for(var l=-1,d=t.length,h={};++l<d;){var m=t[l],b=Ii(e,m);r(b,m)&&_o(h,ni(m,e),b)}return h}function Yh(e){return function(t){return Ii(t,e)}}function Gl(e,t,r,l){var d=l?wl:Qr,h=-1,m=t.length,b=e;for(e===t&&(t=tn(t)),r&&(b=He(e,Ae(r)));++h<m;)for(var w=0,$=t[h],P=r?r($):$;(w=d(b,P,w,l))>-1;)b!==e&&ee.call(b,w,1),ee.call(e,w,1);return e}function Bc(e,t){for(var r=e?t.length:0,l=r-1;r--;){var d=t[r];if(r==l||d!==h){var h=d;Dr(d)?ee.call(e,d,1):Zl(e,d)}}return e}function jl(e,t){return e+Jr(yc()*(t-e+1))}function Gh(e,t,r,l){for(var d=-1,h=gt(Ot((t-e)/(r||1)),0),m=T(h);h--;)m[l?h:++d]=e,e+=r;return m}function Ql(e,t){var r="";if(!e||t<1||t>Dt)return r;do t%2&&(r+=e),t=Jr(t/2),t&&(e+=e);while(t);return r}function ge(e,t){return pu(_d(e,t,sn),e+"")}function jh(e){return Ac(ms(e))}function Qh(e,t){var r=ms(e);return ya(r,Si(t,0,r.length))}function _o(e,t,r,l){if(!Qe(e))return e;t=ni(t,e);for(var d=-1,h=t.length,m=h-1,b=e;b!=null&&++d<h;){var w=ur(t[d]),$=r;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(d!=m){var P=b[w];$=l?l(P,w,b):i,$===i&&($=Qe(P)?P:Dr(t[d+1])?[]:{})}fo(b,w,$),b=b[w]}return e}var Wc=ia?function(e,t){return ia.set(e,t),e}:sn,Xh=te?function(e,t){return te(e,"toString",{configurable:!0,enumerable:!1,value:Au(t),writable:!0})}:sn;function Zh(e){return ya(ms(e))}function Cn(e,t,r){var l=-1,d=e.length;t<0&&(t=-t>d?0:d+t),r=r>d?d:r,r<0&&(r+=d),d=t>r?0:r-t>>>0,t>>>=0;for(var h=T(d);++l<d;)h[l]=e[l+t];return h}function Jh(e,t){var r;return ei(e,function(l,d,h){return r=t(l,d,h),!r}),!!r}function da(e,t,r){var l=0,d=e==null?l:e.length;if(typeof t=="number"&&t===t&&d<=vr){for(;l<d;){var h=l+d>>>1,m=e[h];m!==null&&!pn(m)&&(r?m<=t:m<t)?l=h+1:d=h}return d}return Xl(e,t,sn,r)}function Xl(e,t,r,l){var d=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var m=t!==t,b=t===null,w=pn(t),$=t===i;d<h;){var P=Jr((d+h)/2),R=r(e[P]),K=R!==i,j=R===null,se=R===R,me=pn(R);if(m)var oe=l||se;else $?oe=se&&(l||K):b?oe=se&&K&&(l||!j):w?oe=se&&K&&!j&&(l||!me):j||me?oe=!1:oe=l?R<=t:R<t;oe?d=P+1:h=P}return Pt(h,lt)}function Hc(e,t){for(var r=-1,l=e.length,d=0,h=[];++r<l;){var m=e[r],b=t?t(m):m;if(!r||!zn(b,w)){var w=b;h[d++]=m===0?0:m}}return h}function Uc(e){return typeof e=="number"?e:pn(e)?$n:+e}function fn(e){if(typeof e=="string")return e;if(fe(e))return He(e,fn)+"";if(pn(e))return wc?wc.call(e):"";var t=e+"";return t=="0"&&1/e==-he?"-0":t}function ti(e,t,r){var l=-1,d=bi,h=e.length,m=!0,b=[],w=b;if(r)m=!1,d=yi;else if(h>=v){var $=t?null:cv(e);if($)return os($);m=!1,d=Wt,w=new Ti}else w=t?[]:b;e:for(;++l<h;){var P=e[l],R=t?t(P):P;if(P=r||P!==0?P:0,m&&R===R){for(var K=w.length;K--;)if(w[K]===R)continue e;t&&w.push(R),b.push(P)}else d(w,R,r)||(w!==b&&w.push(R),b.push(P))}return b}function Zl(e,t){return t=ni(t,e),e=md(e,t),e==null||delete e[ur(Tn(t))]}function Vc(e,t,r,l){return _o(e,t,r(Ii(e,t)),l)}function fa(e,t,r,l){for(var d=e.length,h=l?d:-1;(l?h--:++h<d)&&t(e[h],h,e););return r?Cn(e,l?0:h,l?h+1:d):Cn(e,l?h+1:0,l?d:h)}function zc(e,t){var r=e;return r instanceof Te&&(r=r.value()),Js(t,function(l,d){return d.func.apply(d.thisArg,sr([l],d.args))},r)}function Jl(e,t,r){var l=e.length;if(l<2)return l?ti(e[0]):[];for(var d=-1,h=T(l);++d<l;)for(var m=e[d],b=-1;++b<l;)b!=d&&(h[d]=po(h[d]||m,e[b],t,r));return ti(kt(h,1),t,r)}function Kc(e,t,r){for(var l=-1,d=e.length,h=t.length,m={};++l<d;){var b=l<h?t[l]:i;r(m,e[l],b)}return m}function eu(e){return st(e)?e:[]}function tu(e){return typeof e=="function"?e:sn}function ni(e,t){return fe(e)?e:cu(e,t)?[e]:wd(Le(e))}var ev=ge;function ri(e,t,r){var l=e.length;return r=r===i?l:r,!t&&r>=l?e:Cn(e,t,r)}var Yc=ht||function(e){return ft.clearTimeout(e)};function Gc(e,t){if(t)return e.slice();var r=e.length,l=x?x(r):new e.constructor(r);return e.copy(l),l}function nu(e){var t=new e.constructor(e.byteLength);return new _(t).set(new _(e)),t}function tv(e,t){var r=t?nu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function nv(e){var t=new e.constructor(e.source,pi.exec(e));return t.lastIndex=e.lastIndex,t}function rv(e){return co?Re(co.call(e)):{}}function jc(e,t){var r=t?nu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Qc(e,t){if(e!==t){var r=e!==i,l=e===null,d=e===e,h=pn(e),m=t!==i,b=t===null,w=t===t,$=pn(t);if(!b&&!$&&!h&&e>t||h&&m&&w&&!b&&!$||l&&m&&w||!r&&w||!d)return 1;if(!l&&!h&&!$&&e<t||$&&r&&d&&!l&&!h||b&&r&&d||!m&&d||!w)return-1}return 0}function iv(e,t,r){for(var l=-1,d=e.criteria,h=t.criteria,m=d.length,b=r.length;++l<m;){var w=Qc(d[l],h[l]);if(w){if(l>=b)return w;var $=r[l];return w*($=="desc"?-1:1)}}return e.index-t.index}function Xc(e,t,r,l){for(var d=-1,h=e.length,m=r.length,b=-1,w=t.length,$=gt(h-m,0),P=T(w+$),R=!l;++b<w;)P[b]=t[b];for(;++d<m;)(R||d<h)&&(P[r[d]]=e[d]);for(;$--;)P[b++]=e[d++];return P}function Zc(e,t,r,l){for(var d=-1,h=e.length,m=-1,b=r.length,w=-1,$=t.length,P=gt(h-b,0),R=T(P+$),K=!l;++d<P;)R[d]=e[d];for(var j=d;++w<$;)R[j+w]=t[w];for(;++m<b;)(K||d<h)&&(R[j+r[m]]=e[d++]);return R}function tn(e,t){var r=-1,l=e.length;for(t||(t=T(l));++r<l;)t[r]=e[r];return t}function lr(e,t,r,l){var d=!r;r||(r={});for(var h=-1,m=t.length;++h<m;){var b=t[h],w=l?l(r[b],e[b],b,r,e):i;w===i&&(w=e[b]),d?Ir(r,b,w):fo(r,b,w)}return r}function sv(e,t){return lr(e,uu(e),t)}function ov(e,t){return lr(e,dd(e),t)}function pa(e,t){return function(r,l){var d=fe(r)?Jo:Ih,h=t?t():{};return d(r,e,re(l,2),h)}}function ps(e){return ge(function(t,r){var l=-1,d=r.length,h=d>1?r[d-1]:i,m=d>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(d--,h):i,m&&Ut(r[0],r[1],m)&&(h=d<3?i:h,d=1),t=Re(t);++l<d;){var b=r[l];b&&e(t,b,l,h)}return t})}function Jc(e,t){return function(r,l){if(r==null)return r;if(!nn(r))return e(r,l);for(var d=r.length,h=t?d:-1,m=Re(r);(t?h--:++h<d)&&l(m[h],h,m)!==!1;);return r}}function ed(e){return function(t,r,l){for(var d=-1,h=Re(t),m=l(t),b=m.length;b--;){var w=m[e?b:++d];if(r(h[w],w,h)===!1)break}return t}}function av(e,t,r){var l=t&ie,d=mo(e);function h(){var m=this&&this!==ft&&this instanceof h?d:e;return m.apply(l?r:this,arguments)}return h}function td(e){return function(t){t=Le(t);var r=mt(t)?dn(t):i,l=r?r[0]:t.charAt(0),d=r?ri(r,1).join(""):t.slice(1);return l[e]()+d}}function hs(e){return function(t){return Js(Jd(Zd(t).replace(Qi,"")),e,"")}}function mo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=fs(e.prototype),l=e.apply(r,t);return Qe(l)?l:r}}function lv(e,t,r){var l=mo(e);function d(){for(var h=arguments.length,m=T(h),b=h,w=vs(d);b--;)m[b]=arguments[b];var $=h<3&&m[0]!==w&&m[h-1]!==w?[]:En(m,w);if(h-=$.length,h<r)return od(e,t,ha,d.placeholder,i,m,$,i,i,r-h);var P=this&&this!==ft&&this instanceof d?l:e;return Bt(P,this,m)}return d}function nd(e){return function(t,r,l){var d=Re(t);if(!nn(t)){var h=re(r,3);t=wt(t),r=function(b){return h(d[b],b,d)}}var m=e(t,r,l);return m>-1?d[h?t[m]:m]:i}}function rd(e){return kr(function(t){var r=t.length,l=r,d=An.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new en(E);if(d&&!m&&ga(h)=="wrapper")var m=new An([],!0)}for(l=m?l:r;++l<r;){h=t[l];var b=ga(h),w=b=="wrapper"?au(h):i;w&&du(w[0])&&w[1]==(Ee|De|_e|Ie)&&!w[4].length&&w[9]==1?m=m[ga(w[0])].apply(m,w[3]):m=h.length==1&&du(h)?m[b]():m.thru(h)}return function(){var $=arguments,P=$[0];if(m&&$.length==1&&fe(P))return m.plant(P).value();for(var R=0,K=r?t[R].apply(this,$):P;++R<r;)K=t[R].call(this,K);return K}})}function ha(e,t,r,l,d,h,m,b,w,$){var P=t&Ee,R=t&ie,K=t&ae,j=t&(De|Z),se=t&Fe,me=K?i:mo(e);function oe(){for(var xe=arguments.length,Se=T(xe),hn=xe;hn--;)Se[hn]=arguments[hn];if(j)var Vt=vs(oe),vn=or(Se,Vt);if(l&&(Se=Xc(Se,l,d,j)),h&&(Se=Zc(Se,h,m,j)),xe-=vn,j&&xe<$){var ot=En(Se,Vt);return od(e,t,ha,oe.placeholder,r,Se,ot,b,w,$-xe)}var Kn=R?r:this,Pr=K?Kn[e]:e;return xe=Se.length,b?Se=Iv(Se,b):se&&xe>1&&Se.reverse(),P&&w<xe&&(Se.length=w),this&&this!==ft&&this instanceof oe&&(Pr=me||mo(Pr)),Pr.apply(Kn,Se)}return oe}function id(e,t){return function(r,l){return Mh(r,e,t(l),{})}}function va(e,t){return function(r,l){var d;if(r===i&&l===i)return t;if(r!==i&&(d=r),l!==i){if(d===i)return l;typeof r=="string"||typeof l=="string"?(r=fn(r),l=fn(l)):(r=Uc(r),l=Uc(l)),d=e(r,l)}return d}}function ru(e){return kr(function(t){return t=He(t,Ae(re())),ge(function(r){var l=this;return e(t,function(d){return Bt(d,l,r)})})})}function _a(e,t){t=t===i?" ":fn(t);var r=t.length;if(r<2)return r?Ql(t,e):t;var l=Ql(t,Ot(e/xr(t)));return mt(t)?ri(dn(l),0,e).join(""):l.slice(0,e)}function uv(e,t,r,l){var d=t&ie,h=mo(e);function m(){for(var b=-1,w=arguments.length,$=-1,P=l.length,R=T(P+w),K=this&&this!==ft&&this instanceof m?h:e;++$<P;)R[$]=l[$];for(;w--;)R[$++]=arguments[++b];return Bt(K,d?r:this,R)}return m}function sd(e){return function(t,r,l){return l&&typeof l!="number"&&Ut(t,r,l)&&(r=l=i),t=$r(t),r===i?(r=t,t=0):r=$r(r),l=l===i?t<r?1:-1:$r(l),Gh(t,r,l,e)}}function ma(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Sn(t),r=Sn(r)),e(t,r)}}function od(e,t,r,l,d,h,m,b,w,$){var P=t&De,R=P?m:i,K=P?i:m,j=P?h:i,se=P?i:h;t|=P?_e:Ce,t&=~(P?Ce:_e),t&ke||(t&=-4);var me=[e,t,d,j,R,se,K,b,w,$],oe=r.apply(i,me);return du(e)&&gd(oe,me),oe.placeholder=l,bd(oe,e,t)}function iu(e){var t=je[e];return function(r,l){if(r=Sn(r),l=l==null?0:Pt(ve(l),292),l&&bc(r)){var d=(Le(r)+"e").split("e"),h=t(d[0]+"e"+(+d[1]+l));return d=(Le(h)+"e").split("e"),+(d[0]+"e"+(+d[1]-l))}return t(r)}}var cv=cs&&1/os(new cs([,-0]))[1]==he?function(e){return new cs(e)}:Tu;function ad(e){return function(t){var r=Lt(t);return r==Ft?io(t):r==Ye?Tl(t):El(t,e(t))}}function Or(e,t,r,l,d,h,m,b){var w=t&ae;if(!w&&typeof e!="function")throw new en(E);var $=l?l.length:0;if($||(t&=-97,l=d=i),m=m===i?m:gt(ve(m),0),b=b===i?b:ve(b),$-=d?d.length:0,t&Ce){var P=l,R=d;l=d=i}var K=w?i:au(e),j=[e,t,r,l,d,P,R,h,m,b];if(K&&Cv(j,K),e=j[0],t=j[1],r=j[2],l=j[3],d=j[4],b=j[9]=j[9]===i?w?0:e.length:gt(j[9]-$,0),!b&&t&(De|Z)&&(t&=-25),!t||t==ie)var se=av(e,t,r);else t==De||t==Z?se=lv(e,t,b):(t==_e||t==(ie|_e))&&!d.length?se=uv(e,t,r,l):se=ha.apply(i,j);var me=K?Wc:gd;return bd(me(se,j),e,t)}function ld(e,t,r,l){return e===i||zn(e,Un[r])&&!Ne.call(l,r)?t:e}function ud(e,t,r,l,d,h){return Qe(e)&&Qe(t)&&(h.set(t,e),ca(e,t,i,ud,h),h.delete(t)),e}function dv(e){return yo(e)?i:e}function cd(e,t,r,l,d,h){var m=r&Q,b=e.length,w=t.length;if(b!=w&&!(m&&w>b))return!1;var $=h.get(e),P=h.get(t);if($&&P)return $==t&&P==e;var R=-1,K=!0,j=r&ne?new Ti:i;for(h.set(e,t),h.set(t,e);++R<b;){var se=e[R],me=t[R];if(l)var oe=m?l(me,se,R,t,e,h):l(se,me,R,e,t,h);if(oe!==i){if(oe)continue;K=!1;break}if(j){if(!eo(t,function(xe,Se){if(!Wt(j,Se)&&(se===xe||d(se,xe,r,l,h)))return j.push(Se)})){K=!1;break}}else if(!(se===me||d(se,me,r,l,h))){K=!1;break}}return h.delete(e),h.delete(t),K}function fv(e,t,r,l,d,h,m){switch(r){case Ln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qt:return!(e.byteLength!=t.byteLength||!h(new _(e),new _(t)));case Rt:case Pn:case jt:return zn(+e,+t);case jn:return e.name==t.name&&e.message==t.message;case $t:case ye:return e==t+"";case Ft:var b=io;case Ye:var w=l&Q;if(b||(b=os),e.size!=t.size&&!w)return!1;var $=m.get(e);if($)return $==t;l|=ne,m.set(e,t);var P=cd(b(e),b(t),l,d,h,m);return m.delete(e),P;case Ze:if(co)return co.call(e)==co.call(t)}return!1}function pv(e,t,r,l,d,h){var m=r&Q,b=su(e),w=b.length,$=su(t),P=$.length;if(w!=P&&!m)return!1;for(var R=w;R--;){var K=b[R];if(!(m?K in t:Ne.call(t,K)))return!1}var j=h.get(e),se=h.get(t);if(j&&se)return j==t&&se==e;var me=!0;h.set(e,t),h.set(t,e);for(var oe=m;++R<w;){K=b[R];var xe=e[K],Se=t[K];if(l)var hn=m?l(Se,xe,K,t,e,h):l(xe,Se,K,e,t,h);if(!(hn===i?xe===Se||d(xe,Se,r,l,h):hn)){me=!1;break}oe||(oe=K=="constructor")}if(me&&!oe){var Vt=e.constructor,vn=t.constructor;Vt!=vn&&"constructor"in e&&"constructor"in t&&!(typeof Vt=="function"&&Vt instanceof Vt&&typeof vn=="function"&&vn instanceof vn)&&(me=!1)}return h.delete(e),h.delete(t),me}function kr(e){return pu(_d(e,i,Cd),e+"")}function su(e){return kc(e,wt,uu)}function ou(e){return kc(e,rn,dd)}var au=ia?function(e){return ia.get(e)}:Tu;function ga(e){for(var t=e.name+"",r=ds[t],l=Ne.call(ds,t)?r.length:0;l--;){var d=r[l],h=d.func;if(h==null||h==e)return d.name}return t}function vs(e){var t=Ne.call(p,"placeholder")?p:e;return t.placeholder}function re(){var e=p.iteratee||xu;return e=e===xu?$c:e,arguments.length?e(arguments[0],arguments[1]):e}function ba(e,t){var r=e.__data__;return wv(t)?r[typeof t=="string"?"string":"hash"]:r.map}function lu(e){for(var t=wt(e),r=t.length;r--;){var l=t[r],d=e[l];t[r]=[l,d,hd(d)]}return t}function Oi(e,t){var r=xl(e,t);return Nc(r)?r:i}function hv(e){var t=Ne.call(e,$e),r=e[$e];try{e[$e]=i;var l=!0}catch{}var d=us.call(e);return l&&(t?e[$e]=r:delete e[$e]),d}var uu=oo?function(e){return e==null?[]:(e=Re(e),Jt(oo(e),function(t){return W.call(e,t)}))}:Su,dd=oo?function(e){for(var t=[];e;)sr(t,uu(e)),e=D(e);return t}:Su,Lt=Ht;(Rl&&Lt(new Rl(new ArrayBuffer(1)))!=Ln||ao&&Lt(new ao)!=Ft||Fl&&Lt(Fl.resolve())!=Hi||cs&&Lt(new cs)!=Ye||lo&&Lt(new lo)!=ut)&&(Lt=function(e){var t=Ht(e),r=t==At?e.constructor:i,l=r?ki(r):"";if(l)switch(l){case Qp:return Ln;case Xp:return Ft;case Zp:return Hi;case Jp:return Ye;case eh:return ut}return t});function vv(e,t,r){for(var l=-1,d=r.length;++l<d;){var h=r[l],m=h.size;switch(h.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Pt(t,e+m);break;case"takeRight":e=gt(e,t-m);break}}return{start:e,end:t}}function _v(e){var t=e.match(_t);return t?t[1].split(zs):[]}function fd(e,t,r){t=ni(t,e);for(var l=-1,d=t.length,h=!1;++l<d;){var m=ur(t[l]);if(!(h=e!=null&&r(e,m)))break;e=e[m]}return h||++l!=d?h:(d=e==null?0:e.length,!!d&&Ta(d)&&Dr(m,d)&&(fe(e)||Di(e)))}function mv(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function pd(e){return typeof e.constructor=="function"&&!go(e)?fs(D(e)):{}}function gv(e,t,r){var l=e.constructor;switch(t){case Qt:return nu(e);case Rt:case Pn:return new l(+e);case Ln:return tv(e,r);case Qn:case Rs:case Fs:case _r:case Xn:case Ct:case qs:case Bs:case ct:return jc(e,r);case Ft:return new l;case jt:case ye:return new l(e);case $t:return nv(e);case Ye:return new l;case Ze:return rv(e)}}function bv(e,t){var r=t.length;if(!r)return e;var l=r-1;return t[l]=(r>1?"& ":"")+t[l],t=t.join(r>2?", ":" "),e.replace(ue,`{
/* [wrapped with `+t+`] */
`)}function yv(e){return fe(e)||Di(e)||!!(B&&e&&e[B])}function Dr(e,t){var r=typeof e;return t=t??Dt,!!t&&(r=="number"||r!="symbol"&&Rn.test(e))&&e>-1&&e%1==0&&e<t}function Ut(e,t,r){if(!Qe(r))return!1;var l=typeof t;return(l=="number"?nn(r)&&Dr(t,r.length):l=="string"&&t in r)?zn(r[t],e):!1}function cu(e,t){if(fe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||pn(e)?!0:ol.test(e)||!Us.test(e)||t!=null&&e in Re(t)}function wv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function du(e){var t=ga(e),r=p[t];if(typeof r!="function"||!(t in Te.prototype))return!1;if(e===r)return!0;var l=au(r);return!!l&&e===l[0]}function Ev(e){return!!Je&&Je in e}var Av=Ai?Nr:Iu;function go(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Un;return e===r}function hd(e){return e===e&&!Qe(e)}function vd(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in Re(r))}}function xv(e){var t=xa(e,function(l){return r.size===M&&r.clear(),l}),r=t.cache;return t}function Cv(e,t){var r=e[1],l=t[1],d=r|l,h=d<(ie|ae|Ee),m=l==Ee&&r==De||l==Ee&&r==Ie&&e[7].length<=t[8]||l==(Ee|Ie)&&t[7].length<=t[8]&&r==De;if(!(h||m))return e;l&ie&&(e[2]=t[2],d|=r&ie?0:ke);var b=t[3];if(b){var w=e[3];e[3]=w?Xc(w,b,t[4]):b,e[4]=w?En(e[3],L):t[4]}return b=t[5],b&&(w=e[5],e[5]=w?Zc(w,b,t[6]):b,e[6]=w?En(e[5],L):t[6]),b=t[7],b&&(e[7]=b),l&Ee&&(e[8]=e[8]==null?t[8]:Pt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}function Tv(e){var t=[];if(e!=null)for(var r in Re(e))t.push(r);return t}function Sv(e){return us.call(e)}function _d(e,t,r){return t=gt(t===i?e.length-1:t,0),function(){for(var l=arguments,d=-1,h=gt(l.length-t,0),m=T(h);++d<h;)m[d]=l[t+d];d=-1;for(var b=T(t+1);++d<t;)b[d]=l[d];return b[t]=r(m),Bt(e,this,b)}}function md(e,t){return t.length<2?e:Ii(e,Cn(t,0,-1))}function Iv(e,t){for(var r=e.length,l=Pt(t.length,r),d=tn(e);l--;){var h=t[l];e[l]=Dr(h,r)?d[h]:i}return e}function fu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var gd=yd(Wc),bo=It||function(e,t){return ft.setTimeout(e,t)},pu=yd(Xh);function bd(e,t,r){var l=t+"";return pu(e,bv(l,Ov(_v(l),r)))}function yd(e){var t=0,r=0;return function(){var l=Yp(),d=Ge-(l-r);if(r=l,d>0){if(++t>=Pe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ya(e,t){var r=-1,l=e.length,d=l-1;for(t=t===i?l:t;++r<t;){var h=jl(r,d),m=e[h];e[h]=e[r],e[r]=m}return e.length=t,e}var wd=xv(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(al,function(r,l,d,h){t.push(d?h.replace(Mn,"$1"):l||r)}),t});function ur(e){if(typeof e=="string"||pn(e))return e;var t=e+"";return t=="0"&&1/e==-he?"-0":t}function ki(e){if(e!=null){try{return xi.call(e)}catch{}try{return e+""}catch{}}return""}function Ov(e,t){return Zt(Gn,function(r){var l="_."+r[0];t&r[1]&&!bi(e,l)&&e.push(l)}),e.sort()}function Ed(e){if(e instanceof Te)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=tn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function kv(e,t,r){(r?Ut(e,t,r):t===i)?t=1:t=gt(ve(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var d=0,h=0,m=T(Ot(l/t));d<l;)m[h++]=Cn(e,d,d+=t);return m}function Dv(e){for(var t=-1,r=e==null?0:e.length,l=0,d=[];++t<r;){var h=e[t];h&&(d[l++]=h)}return d}function Nv(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),r=arguments[0],l=e;l--;)t[l-1]=arguments[l];return sr(fe(r)?tn(r):[r],kt(t,1))}var $v=ge(function(e,t){return st(e)?po(e,kt(t,1,st,!0)):[]}),Pv=ge(function(e,t){var r=Tn(t);return st(r)&&(r=i),st(e)?po(e,kt(t,1,st,!0),re(r,2)):[]}),Lv=ge(function(e,t){var r=Tn(t);return st(r)&&(r=i),st(e)?po(e,kt(t,1,st,!0),i,r):[]});function Mv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),Cn(e,t<0?0:t,l)):[]}function Rv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),t=l-t,Cn(e,0,t<0?0:t)):[]}function Fv(e,t){return e&&e.length?fa(e,re(t,3),!0,!0):[]}function qv(e,t){return e&&e.length?fa(e,re(t,3),!0):[]}function Bv(e,t,r,l){var d=e==null?0:e.length;return d?(r&&typeof r!="number"&&Ut(e,t,r)&&(r=0,l=d),Nh(e,t,r,l)):[]}function Ad(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:ve(r);return d<0&&(d=gt(l+d,0)),Bn(e,re(t,3),d)}function xd(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l-1;return r!==i&&(d=ve(r),d=r<0?gt(l+d,0):Pt(d,l-1)),Bn(e,re(t,3),d,!0)}function Cd(e){var t=e==null?0:e.length;return t?kt(e,1):[]}function Wv(e){var t=e==null?0:e.length;return t?kt(e,he):[]}function Hv(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:ve(t),kt(e,t)):[]}function Uv(e){for(var t=-1,r=e==null?0:e.length,l={};++t<r;){var d=e[t];l[d[0]]=d[1]}return l}function Td(e){return e&&e.length?e[0]:i}function Vv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:ve(r);return d<0&&(d=gt(l+d,0)),Qr(e,t,d)}function zv(e){var t=e==null?0:e.length;return t?Cn(e,0,-1):[]}var Kv=ge(function(e){var t=He(e,eu);return t.length&&t[0]===e[0]?Vl(t):[]}),Yv=ge(function(e){var t=Tn(e),r=He(e,eu);return t===Tn(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Vl(r,re(t,2)):[]}),Gv=ge(function(e){var t=Tn(e),r=He(e,eu);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Vl(r,i,t):[]});function jv(e,t){return e==null?"":zp.call(e,t)}function Tn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function Qv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l;return r!==i&&(d=ve(r),d=d<0?gt(l+d,0):Pt(d,l-1)),t===t?Il(e,t,d):Bn(e,Xr,d,!0)}function Xv(e,t){return e&&e.length?Rc(e,ve(t)):i}var Zv=ge(Sd);function Sd(e,t){return e&&e.length&&t&&t.length?Gl(e,t):e}function Jv(e,t,r){return e&&e.length&&t&&t.length?Gl(e,t,re(r,2)):e}function e_(e,t,r){return e&&e.length&&t&&t.length?Gl(e,t,i,r):e}var t_=kr(function(e,t){var r=e==null?0:e.length,l=Bl(e,t);return Bc(e,He(t,function(d){return Dr(d,r)?+d:d}).sort(Qc)),l});function n_(e,t){var r=[];if(!(e&&e.length))return r;var l=-1,d=[],h=e.length;for(t=re(t,3);++l<h;){var m=e[l];t(m,l,e)&&(r.push(m),d.push(l))}return Bc(e,d),r}function hu(e){return e==null?e:jp.call(e)}function r_(e,t,r){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&Ut(e,t,r)?(t=0,r=l):(t=t==null?0:ve(t),r=r===i?l:ve(r)),Cn(e,t,r)):[]}function i_(e,t){return da(e,t)}function s_(e,t,r){return Xl(e,t,re(r,2))}function o_(e,t){var r=e==null?0:e.length;if(r){var l=da(e,t);if(l<r&&zn(e[l],t))return l}return-1}function a_(e,t){return da(e,t,!0)}function l_(e,t,r){return Xl(e,t,re(r,2),!0)}function u_(e,t){var r=e==null?0:e.length;if(r){var l=da(e,t,!0)-1;if(zn(e[l],t))return l}return-1}function c_(e){return e&&e.length?Hc(e):[]}function d_(e,t){return e&&e.length?Hc(e,re(t,2)):[]}function f_(e){var t=e==null?0:e.length;return t?Cn(e,1,t):[]}function p_(e,t,r){return e&&e.length?(t=r||t===i?1:ve(t),Cn(e,0,t<0?0:t)):[]}function h_(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:ve(t),t=l-t,Cn(e,t<0?0:t,l)):[]}function v_(e,t){return e&&e.length?fa(e,re(t,3),!1,!0):[]}function __(e,t){return e&&e.length?fa(e,re(t,3)):[]}var m_=ge(function(e){return ti(kt(e,1,st,!0))}),g_=ge(function(e){var t=Tn(e);return st(t)&&(t=i),ti(kt(e,1,st,!0),re(t,2))}),b_=ge(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,ti(kt(e,1,st,!0),i,t)});function y_(e){return e&&e.length?ti(e):[]}function w_(e,t){return e&&e.length?ti(e,re(t,2)):[]}function E_(e,t){return t=typeof t=="function"?t:i,e&&e.length?ti(e,i,t):[]}function vu(e){if(!(e&&e.length))return[];var t=0;return e=Jt(e,function(r){if(st(r))return t=gt(r.length,t),!0}),ro(t,function(r){return He(e,no(r))})}function Id(e,t){if(!(e&&e.length))return[];var r=vu(e);return t==null?r:He(r,function(l){return Bt(t,i,l)})}var A_=ge(function(e,t){return st(e)?po(e,t):[]}),x_=ge(function(e){return Jl(Jt(e,st))}),C_=ge(function(e){var t=Tn(e);return st(t)&&(t=i),Jl(Jt(e,st),re(t,2))}),T_=ge(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,Jl(Jt(e,st),i,t)}),S_=ge(vu);function I_(e,t){return Kc(e||[],t||[],fo)}function O_(e,t){return Kc(e||[],t||[],_o)}var k_=ge(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,Id(e,r)});function Od(e){var t=p(e);return t.__chain__=!0,t}function D_(e,t){return t(e),e}function wa(e,t){return t(e)}var N_=kr(function(e){var t=e.length,r=t?e[0]:0,l=this.__wrapped__,d=function(h){return Bl(h,e)};return t>1||this.__actions__.length||!(l instanceof Te)||!Dr(r)?this.thru(d):(l=l.slice(r,+r+(t?1:0)),l.__actions__.push({func:wa,args:[d],thisArg:i}),new An(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function $_(){return Od(this)}function P_(){return new An(this.value(),this.__chain__)}function L_(){this.__values__===i&&(this.__values__=Ud(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function M_(){return this}function R_(e){for(var t,r=this;r instanceof oa;){var l=Ed(r);l.__index__=0,l.__values__=i,t?d.__wrapped__=l:t=l;var d=l;r=r.__wrapped__}return d.__wrapped__=e,t}function F_(){var e=this.__wrapped__;if(e instanceof Te){var t=e;return this.__actions__.length&&(t=new Te(this)),t=t.reverse(),t.__actions__.push({func:wa,args:[hu],thisArg:i}),new An(t,this.__chain__)}return this.thru(hu)}function q_(){return zc(this.__wrapped__,this.__actions__)}var B_=pa(function(e,t,r){Ne.call(e,r)?++e[r]:Ir(e,r,1)});function W_(e,t,r){var l=fe(e)?ts:Dh;return r&&Ut(e,t,r)&&(t=i),l(e,re(t,3))}function H_(e,t){var r=fe(e)?Jt:Ic;return r(e,re(t,3))}var U_=nd(Ad),V_=nd(xd);function z_(e,t){return kt(Ea(e,t),1)}function K_(e,t){return kt(Ea(e,t),he)}function Y_(e,t,r){return r=r===i?1:ve(r),kt(Ea(e,t),r)}function kd(e,t){var r=fe(e)?Zt:ei;return r(e,re(t,3))}function Dd(e,t){var r=fe(e)?bl:Sc;return r(e,re(t,3))}var G_=pa(function(e,t,r){Ne.call(e,r)?e[r].push(t):Ir(e,r,[t])});function j_(e,t,r,l){e=nn(e)?e:ms(e),r=r&&!l?ve(r):0;var d=e.length;return r<0&&(r=gt(d+r,0)),Sa(e)?r<=d&&e.indexOf(t,r)>-1:!!d&&Qr(e,t,r)>-1}var Q_=ge(function(e,t,r){var l=-1,d=typeof t=="function",h=nn(e)?T(e.length):[];return ei(e,function(m){h[++l]=d?Bt(t,m,r):ho(m,t,r)}),h}),X_=pa(function(e,t,r){Ir(e,r,t)});function Ea(e,t){var r=fe(e)?He:Pc;return r(e,re(t,3))}function Z_(e,t,r,l){return e==null?[]:(fe(t)||(t=t==null?[]:[t]),r=l?i:r,fe(r)||(r=r==null?[]:[r]),Fc(e,t,r))}var J_=pa(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function em(e,t,r){var l=fe(e)?Js:ta,d=arguments.length<3;return l(e,re(t,4),r,d,ei)}function tm(e,t,r){var l=fe(e)?yl:ta,d=arguments.length<3;return l(e,re(t,4),r,d,Sc)}function nm(e,t){var r=fe(e)?Jt:Ic;return r(e,Ca(re(t,3)))}function rm(e){var t=fe(e)?Ac:jh;return t(e)}function im(e,t,r){(r?Ut(e,t,r):t===i)?t=1:t=ve(t);var l=fe(e)?Th:Qh;return l(e,t)}function sm(e){var t=fe(e)?Sh:Zh;return t(e)}function om(e){if(e==null)return 0;if(nn(e))return Sa(e)?xr(e):e.length;var t=Lt(e);return t==Ft||t==Ye?e.size:Kl(e).length}function am(e,t,r){var l=fe(e)?eo:Jh;return r&&Ut(e,t,r)&&(t=i),l(e,re(t,3))}var lm=ge(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ut(e,t[0],t[1])?t=[]:r>2&&Ut(t[0],t[1],t[2])&&(t=[t[0]]),Fc(e,kt(t,1),[])}),Aa=Oe||function(){return ft.Date.now()};function um(e,t){if(typeof t!="function")throw new en(E);return e=ve(e),function(){if(--e<1)return t.apply(this,arguments)}}function Nd(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,Or(e,Ee,i,i,i,i,t)}function $d(e,t){var r;if(typeof t!="function")throw new en(E);return e=ve(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var _u=ge(function(e,t,r){var l=ie;if(r.length){var d=En(r,vs(_u));l|=_e}return Or(e,l,t,r,d)}),Pd=ge(function(e,t,r){var l=ie|ae;if(r.length){var d=En(r,vs(Pd));l|=_e}return Or(t,l,e,r,d)});function Ld(e,t,r){t=r?i:t;var l=Or(e,De,i,i,i,i,i,t);return l.placeholder=Ld.placeholder,l}function Md(e,t,r){t=r?i:t;var l=Or(e,Z,i,i,i,i,i,t);return l.placeholder=Md.placeholder,l}function Rd(e,t,r){var l,d,h,m,b,w,$=0,P=!1,R=!1,K=!0;if(typeof e!="function")throw new en(E);t=Sn(t)||0,Qe(r)&&(P=!!r.leading,R="maxWait"in r,h=R?gt(Sn(r.maxWait)||0,t):h,K="trailing"in r?!!r.trailing:K);function j(ot){var Kn=l,Pr=d;return l=d=i,$=ot,m=e.apply(Pr,Kn),m}function se(ot){return $=ot,b=bo(xe,t),P?j(ot):m}function me(ot){var Kn=ot-w,Pr=ot-$,nf=t-Kn;return R?Pt(nf,h-Pr):nf}function oe(ot){var Kn=ot-w,Pr=ot-$;return w===i||Kn>=t||Kn<0||R&&Pr>=h}function xe(){var ot=Aa();if(oe(ot))return Se(ot);b=bo(xe,me(ot))}function Se(ot){return b=i,K&&l?j(ot):(l=d=i,m)}function hn(){b!==i&&Yc(b),$=0,l=w=d=b=i}function Vt(){return b===i?m:Se(Aa())}function vn(){var ot=Aa(),Kn=oe(ot);if(l=arguments,d=this,w=ot,Kn){if(b===i)return se(w);if(R)return Yc(b),b=bo(xe,t),j(w)}return b===i&&(b=bo(xe,t)),m}return vn.cancel=hn,vn.flush=Vt,vn}var cm=ge(function(e,t){return Tc(e,1,t)}),dm=ge(function(e,t,r){return Tc(e,Sn(t)||0,r)});function fm(e){return Or(e,Fe)}function xa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new en(E);var r=function(){var l=arguments,d=t?t.apply(this,l):l[0],h=r.cache;if(h.has(d))return h.get(d);var m=e.apply(this,l);return r.cache=h.set(d,m)||h,m};return r.cache=new(xa.Cache||Sr),r}xa.Cache=Sr;function Ca(e){if(typeof e!="function")throw new en(E);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function pm(e){return $d(2,e)}var hm=ev(function(e,t){t=t.length==1&&fe(t[0])?He(t[0],Ae(re())):He(kt(t,1),Ae(re()));var r=t.length;return ge(function(l){for(var d=-1,h=Pt(l.length,r);++d<h;)l[d]=t[d].call(this,l[d]);return Bt(e,this,l)})}),mu=ge(function(e,t){var r=En(t,vs(mu));return Or(e,_e,i,t,r)}),Fd=ge(function(e,t){var r=En(t,vs(Fd));return Or(e,Ce,i,t,r)}),vm=kr(function(e,t){return Or(e,Ie,i,i,i,t)});function _m(e,t){if(typeof e!="function")throw new en(E);return t=t===i?t:ve(t),ge(e,t)}function mm(e,t){if(typeof e!="function")throw new en(E);return t=t==null?0:gt(ve(t),0),ge(function(r){var l=r[t],d=ri(r,0,t);return l&&sr(d,l),Bt(e,this,d)})}function gm(e,t,r){var l=!0,d=!0;if(typeof e!="function")throw new en(E);return Qe(r)&&(l="leading"in r?!!r.leading:l,d="trailing"in r?!!r.trailing:d),Rd(e,t,{leading:l,maxWait:t,trailing:d})}function bm(e){return Nd(e,1)}function ym(e,t){return mu(tu(t),e)}function wm(){if(!arguments.length)return[];var e=arguments[0];return fe(e)?e:[e]}function Em(e){return xn(e,z)}function Am(e,t){return t=typeof t=="function"?t:i,xn(e,z,t)}function xm(e){return xn(e,U|z)}function Cm(e,t){return t=typeof t=="function"?t:i,xn(e,U|z,t)}function Tm(e,t){return t==null||Cc(e,t,wt(t))}function zn(e,t){return e===t||e!==e&&t!==t}var Sm=ma(Ul),Im=ma(function(e,t){return e>=t}),Di=Dc((function(){return arguments})())?Dc:function(e){return et(e)&&Ne.call(e,"callee")&&!W.call(e,"callee")},fe=T.isArray,Om=it?Ae(it):Rh;function nn(e){return e!=null&&Ta(e.length)&&!Nr(e)}function st(e){return et(e)&&nn(e)}function km(e){return e===!0||e===!1||et(e)&&Ht(e)==Rt}var ii=Ml||Iu,Dm=qn?Ae(qn):Fh;function Nm(e){return et(e)&&e.nodeType===1&&!yo(e)}function $m(e){if(e==null)return!0;if(nn(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||ii(e)||_s(e)||Di(e)))return!e.length;var t=Lt(e);if(t==Ft||t==Ye)return!e.size;if(go(e))return!Kl(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0}function Pm(e,t){return vo(e,t)}function Lm(e,t,r){r=typeof r=="function"?r:i;var l=r?r(e,t):i;return l===i?vo(e,t,i,r):!!l}function gu(e){if(!et(e))return!1;var t=Ht(e);return t==jn||t==Ms||typeof e.message=="string"&&typeof e.name=="string"&&!yo(e)}function Mm(e){return typeof e=="number"&&bc(e)}function Nr(e){if(!Qe(e))return!1;var t=Ht(e);return t==Wr||t==Hr||t==Br||t==Ui}function qd(e){return typeof e=="number"&&e==ve(e)}function Ta(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dt}function Qe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function et(e){return e!=null&&typeof e=="object"}var Bd=wr?Ae(wr):Bh;function Rm(e,t){return e===t||zl(e,t,lu(t))}function Fm(e,t,r){return r=typeof r=="function"?r:i,zl(e,t,lu(t),r)}function qm(e){return Wd(e)&&e!=+e}function Bm(e){if(Av(e))throw new le(g);return Nc(e)}function Wm(e){return e===null}function Hm(e){return e==null}function Wd(e){return typeof e=="number"||et(e)&&Ht(e)==jt}function yo(e){if(!et(e)||Ht(e)!=At)return!1;var t=D(e);if(t===null)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xi.call(r)==Pl}var bu=Qo?Ae(Qo):Wh;function Um(e){return qd(e)&&e>=-Dt&&e<=Dt}var Hd=Xo?Ae(Xo):Hh;function Sa(e){return typeof e=="string"||!fe(e)&&et(e)&&Ht(e)==ye}function pn(e){return typeof e=="symbol"||et(e)&&Ht(e)==Ze}var _s=Zo?Ae(Zo):Uh;function Vm(e){return e===i}function zm(e){return et(e)&&Lt(e)==ut}function Km(e){return et(e)&&Ht(e)==Vi}var Ym=ma(Yl),Gm=ma(function(e,t){return e<=t});function Ud(e){if(!e)return[];if(nn(e))return Sa(e)?dn(e):tn(e);if(de&&e[de])return Cl(e[de]());var t=Lt(e),r=t==Ft?io:t==Ye?os:ms;return r(e)}function $r(e){if(!e)return e===0?e:0;if(e=Sn(e),e===he||e===-he){var t=e<0?-1:1;return t*Gt}return e===e?e:0}function ve(e){var t=$r(e),r=t%1;return t===t?r?t-r:t:0}function Vd(e){return e?Si(ve(e),0,Nt):0}function Sn(e){if(typeof e=="number")return e;if(pn(e))return $n;if(Qe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ze(e);var r=cl.test(e);return r||zi.test(e)?nr(e.slice(2),r?2:8):ul.test(e)?$n:+e}function zd(e){return lr(e,rn(e))}function jm(e){return e?Si(ve(e),-Dt,Dt):e===0?e:0}function Le(e){return e==null?"":fn(e)}var Qm=ps(function(e,t){if(go(t)||nn(t)){lr(t,wt(t),e);return}for(var r in t)Ne.call(t,r)&&fo(e,r,t[r])}),Kd=ps(function(e,t){lr(t,rn(t),e)}),Ia=ps(function(e,t,r,l){lr(t,rn(t),e,l)}),Xm=ps(function(e,t,r,l){lr(t,wt(t),e,l)}),Zm=kr(Bl);function Jm(e,t){var r=fs(e);return t==null?r:xc(r,t)}var eg=ge(function(e,t){e=Re(e);var r=-1,l=t.length,d=l>2?t[2]:i;for(d&&Ut(t[0],t[1],d)&&(l=1);++r<l;)for(var h=t[r],m=rn(h),b=-1,w=m.length;++b<w;){var $=m[b],P=e[$];(P===i||zn(P,Un[$])&&!Ne.call(e,$))&&(e[$]=h[$])}return e}),tg=ge(function(e){return e.push(i,ud),Bt(Yd,i,e)});function ng(e,t){return ea(e,re(t,3),ar)}function rg(e,t){return ea(e,re(t,3),Hl)}function ig(e,t){return e==null?e:Wl(e,re(t,3),rn)}function sg(e,t){return e==null?e:Oc(e,re(t,3),rn)}function og(e,t){return e&&ar(e,re(t,3))}function ag(e,t){return e&&Hl(e,re(t,3))}function lg(e){return e==null?[]:ua(e,wt(e))}function ug(e){return e==null?[]:ua(e,rn(e))}function yu(e,t,r){var l=e==null?i:Ii(e,t);return l===i?r:l}function cg(e,t){return e!=null&&fd(e,t,$h)}function wu(e,t){return e!=null&&fd(e,t,Ph)}var dg=id(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=us.call(t)),e[t]=r},Au(sn)),fg=id(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=us.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]},re),pg=ge(ho);function wt(e){return nn(e)?Ec(e):Kl(e)}function rn(e){return nn(e)?Ec(e,!0):Vh(e)}function hg(e,t){var r={};return t=re(t,3),ar(e,function(l,d,h){Ir(r,t(l,d,h),l)}),r}function vg(e,t){var r={};return t=re(t,3),ar(e,function(l,d,h){Ir(r,d,t(l,d,h))}),r}var _g=ps(function(e,t,r){ca(e,t,r)}),Yd=ps(function(e,t,r,l){ca(e,t,r,l)}),mg=kr(function(e,t){var r={};if(e==null)return r;var l=!1;t=He(t,function(h){return h=ni(h,e),l||(l=h.length>1),h}),lr(e,ou(e),r),l&&(r=xn(r,U|X|z,dv));for(var d=t.length;d--;)Zl(r,t[d]);return r});function gg(e,t){return Gd(e,Ca(re(t)))}var bg=kr(function(e,t){return e==null?{}:Kh(e,t)});function Gd(e,t){if(e==null)return{};var r=He(ou(e),function(l){return[l]});return t=re(t),qc(e,r,function(l,d){return t(l,d[0])})}function yg(e,t,r){t=ni(t,e);var l=-1,d=t.length;for(d||(d=1,e=i);++l<d;){var h=e==null?i:e[ur(t[l])];h===i&&(l=d,h=r),e=Nr(h)?h.call(e):h}return e}function wg(e,t,r){return e==null?e:_o(e,t,r)}function Eg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:_o(e,t,r,l)}var jd=ad(wt),Qd=ad(rn);function Ag(e,t,r){var l=fe(e),d=l||ii(e)||_s(e);if(t=re(t,4),r==null){var h=e&&e.constructor;d?r=l?new h:[]:Qe(e)?r=Nr(h)?fs(D(e)):{}:r={}}return(d?Zt:ar)(e,function(m,b,w){return t(r,m,b,w)}),r}function xg(e,t){return e==null?!0:Zl(e,t)}function Cg(e,t,r){return e==null?e:Vc(e,t,tu(r))}function Tg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:Vc(e,t,tu(r),l)}function ms(e){return e==null?[]:Ke(e,wt(e))}function Sg(e){return e==null?[]:Ke(e,rn(e))}function Ig(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=Sn(r),r=r===r?r:0),t!==i&&(t=Sn(t),t=t===t?t:0),Si(Sn(e),t,r)}function Og(e,t,r){return t=$r(t),r===i?(r=t,t=0):r=$r(r),e=Sn(e),Lh(e,t,r)}function kg(e,t,r){if(r&&typeof r!="boolean"&&Ut(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=$r(e),t===i?(t=e,e=0):t=$r(t)),e>t){var l=e;e=t,t=l}if(r||e%1||t%1){var d=yc();return Pt(e+d*(t-e+gl("1e-"+((d+"").length-1))),t)}return jl(e,t)}var Dg=hs(function(e,t,r){return t=t.toLowerCase(),e+(r?Xd(t):t)});function Xd(e){return Eu(Le(e).toLowerCase())}function Zd(e){return e=Le(e),e&&e.replace(ln,ss).replace(Xi,"")}function Ng(e,t,r){e=Le(e),t=fn(t);var l=e.length;r=r===i?l:Si(ve(r),0,l);var d=r;return r-=t.length,r>=0&&e.slice(r,d)==t}function $g(e){return e=Le(e),e&&sl.test(e)?e.replace(Lo,Ue):e}function Pg(e){return e=Le(e),e&&Zn.test(e)?e.replace(Tt,"\\$&"):e}var Lg=hs(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Mg=hs(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Rg=td("toLowerCase");function Fg(e,t,r){e=Le(e),t=ve(t);var l=t?xr(e):0;if(!t||l>=t)return e;var d=(t-l)/2;return _a(Jr(d),r)+e+_a(Ot(d),r)}function qg(e,t,r){e=Le(e),t=ve(t);var l=t?xr(e):0;return t&&l<t?e+_a(t-l,r):e}function Bg(e,t,r){e=Le(e),t=ve(t);var l=t?xr(e):0;return t&&l<t?_a(t-l,r)+e:e}function Wg(e,t,r){return r||t==null?t=0:t&&(t=+t),Gp(Le(e).replace(yn,""),t||0)}function Hg(e,t,r){return(r?Ut(e,t,r):t===i)?t=1:t=ve(t),Ql(Le(e),t)}function Ug(){var e=arguments,t=Le(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Vg=hs(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function zg(e,t,r){return r&&typeof r!="number"&&Ut(e,t,r)&&(t=r=i),r=r===i?Nt:r>>>0,r?(e=Le(e),e&&(typeof t=="string"||t!=null&&!bu(t))&&(t=fn(t),!t&&mt(e))?ri(dn(e),0,r):e.split(t,r)):[]}var Kg=hs(function(e,t,r){return e+(r?" ":"")+Eu(t)});function Yg(e,t,r){return e=Le(e),r=r==null?0:Si(ve(r),0,e.length),t=fn(t),e.slice(r,r+t.length)==t}function Gg(e,t,r){var l=p.templateSettings;r&&Ut(e,t,r)&&(t=i),e=Le(e),t=Ia({},t,l,ld);var d=Ia({},t.imports,l.imports,ld),h=wt(d),m=Ke(d,h),b,w,$=0,P=t.interpolate||Ur,R="__p += '",K=Hn((t.escape||Ur).source+"|"+P.source+"|"+(P===Ro?ll:Ur).source+"|"+(t.evaluate||Ur).source+"|$","g"),j="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hl+"]")+`
`;e.replace(K,function(oe,xe,Se,hn,Vt,vn){return Se||(Se=hn),R+=e.slice($,vn).replace(hi,Al),xe&&(b=!0,R+=`' +
__e(`+xe+`) +
'`),Vt&&(w=!0,R+=`';
`+Vt+`;
__p += '`),Se&&(R+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),$=vn+oe.length,oe}),R+=`';
`;var se=Ne.call(t,"variable")&&t.variable;if(!se)R=`with (obj) {
`+R+`
}
`;else if(dt.test(se))throw new le(S);R=(w?R.replace(Po,""):R).replace(Ws,"$1").replace(il,"$1;"),R="function("+(se||"obj")+`) {
`+(se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var me=ef(function(){return we(h,j+"return "+R).apply(i,m)});if(me.source=R,gu(me))throw me;return me}function jg(e){return Le(e).toLowerCase()}function Qg(e){return Le(e).toUpperCase()}function Xg(e,t,r){if(e=Le(e),e&&(r||t===i))return ze(e);if(!e||!(t=fn(t)))return e;var l=dn(e),d=dn(t),h=Wn(l,d),m=Ar(l,d)+1;return ri(l,h,m).join("")}function Zg(e,t,r){if(e=Le(e),e&&(r||t===i))return e.slice(0,so(e)+1);if(!e||!(t=fn(t)))return e;var l=dn(e),d=Ar(l,dn(t))+1;return ri(l,0,d).join("")}function Jg(e,t,r){if(e=Le(e),e&&(r||t===i))return e.replace(yn,"");if(!e||!(t=fn(t)))return e;var l=dn(e),d=Wn(l,dn(t));return ri(l,d).join("")}function eb(e,t){var r=Ve,l=Xe;if(Qe(t)){var d="separator"in t?t.separator:d;r="length"in t?ve(t.length):r,l="omission"in t?fn(t.omission):l}e=Le(e);var h=e.length;if(mt(e)){var m=dn(e);h=m.length}if(r>=h)return e;var b=r-xr(l);if(b<1)return l;var w=m?ri(m,0,b).join(""):e.slice(0,b);if(d===i)return w+l;if(m&&(b+=w.length-b),bu(d)){if(e.slice(b).search(d)){var $,P=w;for(d.global||(d=Hn(d.source,Le(pi.exec(d))+"g")),d.lastIndex=0;$=d.exec(P);)var R=$.index;w=w.slice(0,R===i?b:R)}}else if(e.indexOf(fn(d),b)!=b){var K=w.lastIndexOf(d);K>-1&&(w=w.slice(0,K))}return w+l}function tb(e){return e=Le(e),e&&Mo.test(e)?e.replace(mr,ra):e}var nb=hs(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Eu=td("toUpperCase");function Jd(e,t,r){return e=Le(e),t=r?i:t,t===i?na(e)?Dl(e):wi(e):e.match(t)||[]}var ef=ge(function(e,t){try{return Bt(e,i,t)}catch(r){return gu(r)?r:new le(r)}}),rb=kr(function(e,t){return Zt(t,function(r){r=ur(r),Ir(e,r,_u(e[r],e))}),e});function ib(e){var t=e==null?0:e.length,r=re();return e=t?He(e,function(l){if(typeof l[1]!="function")throw new en(E);return[r(l[0]),l[1]]}):[],ge(function(l){for(var d=-1;++d<t;){var h=e[d];if(Bt(h[0],this,l))return Bt(h[1],this,l)}})}function sb(e){return kh(xn(e,U))}function Au(e){return function(){return e}}function ob(e,t){return e==null||e!==e?t:e}var ab=rd(),lb=rd(!0);function sn(e){return e}function xu(e){return $c(typeof e=="function"?e:xn(e,U))}function ub(e){return Lc(xn(e,U))}function cb(e,t){return Mc(e,xn(t,U))}var db=ge(function(e,t){return function(r){return ho(r,e,t)}}),fb=ge(function(e,t){return function(r){return ho(e,r,t)}});function Cu(e,t,r){var l=wt(t),d=ua(t,l);r==null&&!(Qe(t)&&(d.length||!l.length))&&(r=t,t=e,e=this,d=ua(t,wt(t)));var h=!(Qe(r)&&"chain"in r)||!!r.chain,m=Nr(e);return Zt(d,function(b){var w=t[b];e[b]=w,m&&(e.prototype[b]=function(){var $=this.__chain__;if(h||$){var P=e(this.__wrapped__),R=P.__actions__=tn(this.__actions__);return R.push({func:w,args:arguments,thisArg:e}),P.__chain__=$,P}return w.apply(e,sr([this.value()],arguments))})}),e}function pb(){return ft._===this&&(ft._=Ll),this}function Tu(){}function hb(e){return e=ve(e),ge(function(t){return Rc(t,e)})}var vb=ru(He),_b=ru(ts),mb=ru(eo);function tf(e){return cu(e)?no(ur(e)):Yh(e)}function gb(e){return function(t){return e==null?i:Ii(e,t)}}var bb=sd(),yb=sd(!0);function Su(){return[]}function Iu(){return!1}function wb(){return{}}function Eb(){return""}function Ab(){return!0}function xb(e,t){if(e=ve(e),e<1||e>Dt)return[];var r=Nt,l=Pt(e,Nt);t=re(t),e-=Nt;for(var d=ro(l,t);++r<e;)t(r);return d}function Cb(e){return fe(e)?He(e,ur):pn(e)?[e]:tn(wd(Le(e)))}function Tb(e){var t=++ls;return Le(e)+t}var Sb=va(function(e,t){return e+t},0),Ib=iu("ceil"),Ob=va(function(e,t){return e/t},1),kb=iu("floor");function Db(e){return e&&e.length?la(e,sn,Ul):i}function Nb(e,t){return e&&e.length?la(e,re(t,2),Ul):i}function $b(e){return to(e,sn)}function Pb(e,t){return to(e,re(t,2))}function Lb(e){return e&&e.length?la(e,sn,Yl):i}function Mb(e,t){return e&&e.length?la(e,re(t,2),Yl):i}var Rb=va(function(e,t){return e*t},1),Fb=iu("round"),qb=va(function(e,t){return e-t},0);function Bb(e){return e&&e.length?is(e,sn):0}function Wb(e,t){return e&&e.length?is(e,re(t,2)):0}return p.after=um,p.ary=Nd,p.assign=Qm,p.assignIn=Kd,p.assignInWith=Ia,p.assignWith=Xm,p.at=Zm,p.before=$d,p.bind=_u,p.bindAll=rb,p.bindKey=Pd,p.castArray=wm,p.chain=Od,p.chunk=kv,p.compact=Dv,p.concat=Nv,p.cond=ib,p.conforms=sb,p.constant=Au,p.countBy=B_,p.create=Jm,p.curry=Ld,p.curryRight=Md,p.debounce=Rd,p.defaults=eg,p.defaultsDeep=tg,p.defer=cm,p.delay=dm,p.difference=$v,p.differenceBy=Pv,p.differenceWith=Lv,p.drop=Mv,p.dropRight=Rv,p.dropRightWhile=Fv,p.dropWhile=qv,p.fill=Bv,p.filter=H_,p.flatMap=z_,p.flatMapDeep=K_,p.flatMapDepth=Y_,p.flatten=Cd,p.flattenDeep=Wv,p.flattenDepth=Hv,p.flip=fm,p.flow=ab,p.flowRight=lb,p.fromPairs=Uv,p.functions=lg,p.functionsIn=ug,p.groupBy=G_,p.initial=zv,p.intersection=Kv,p.intersectionBy=Yv,p.intersectionWith=Gv,p.invert=dg,p.invertBy=fg,p.invokeMap=Q_,p.iteratee=xu,p.keyBy=X_,p.keys=wt,p.keysIn=rn,p.map=Ea,p.mapKeys=hg,p.mapValues=vg,p.matches=ub,p.matchesProperty=cb,p.memoize=xa,p.merge=_g,p.mergeWith=Yd,p.method=db,p.methodOf=fb,p.mixin=Cu,p.negate=Ca,p.nthArg=hb,p.omit=mg,p.omitBy=gg,p.once=pm,p.orderBy=Z_,p.over=vb,p.overArgs=hm,p.overEvery=_b,p.overSome=mb,p.partial=mu,p.partialRight=Fd,p.partition=J_,p.pick=bg,p.pickBy=Gd,p.property=tf,p.propertyOf=gb,p.pull=Zv,p.pullAll=Sd,p.pullAllBy=Jv,p.pullAllWith=e_,p.pullAt=t_,p.range=bb,p.rangeRight=yb,p.rearg=vm,p.reject=nm,p.remove=n_,p.rest=_m,p.reverse=hu,p.sampleSize=im,p.set=wg,p.setWith=Eg,p.shuffle=sm,p.slice=r_,p.sortBy=lm,p.sortedUniq=c_,p.sortedUniqBy=d_,p.split=zg,p.spread=mm,p.tail=f_,p.take=p_,p.takeRight=h_,p.takeRightWhile=v_,p.takeWhile=__,p.tap=D_,p.throttle=gm,p.thru=wa,p.toArray=Ud,p.toPairs=jd,p.toPairsIn=Qd,p.toPath=Cb,p.toPlainObject=zd,p.transform=Ag,p.unary=bm,p.union=m_,p.unionBy=g_,p.unionWith=b_,p.uniq=y_,p.uniqBy=w_,p.uniqWith=E_,p.unset=xg,p.unzip=vu,p.unzipWith=Id,p.update=Cg,p.updateWith=Tg,p.values=ms,p.valuesIn=Sg,p.without=A_,p.words=Jd,p.wrap=ym,p.xor=x_,p.xorBy=C_,p.xorWith=T_,p.zip=S_,p.zipObject=I_,p.zipObjectDeep=O_,p.zipWith=k_,p.entries=jd,p.entriesIn=Qd,p.extend=Kd,p.extendWith=Ia,Cu(p,p),p.add=Sb,p.attempt=ef,p.camelCase=Dg,p.capitalize=Xd,p.ceil=Ib,p.clamp=Ig,p.clone=Em,p.cloneDeep=xm,p.cloneDeepWith=Cm,p.cloneWith=Am,p.conformsTo=Tm,p.deburr=Zd,p.defaultTo=ob,p.divide=Ob,p.endsWith=Ng,p.eq=zn,p.escape=$g,p.escapeRegExp=Pg,p.every=W_,p.find=U_,p.findIndex=Ad,p.findKey=ng,p.findLast=V_,p.findLastIndex=xd,p.findLastKey=rg,p.floor=kb,p.forEach=kd,p.forEachRight=Dd,p.forIn=ig,p.forInRight=sg,p.forOwn=og,p.forOwnRight=ag,p.get=yu,p.gt=Sm,p.gte=Im,p.has=cg,p.hasIn=wu,p.head=Td,p.identity=sn,p.includes=j_,p.indexOf=Vv,p.inRange=Og,p.invoke=pg,p.isArguments=Di,p.isArray=fe,p.isArrayBuffer=Om,p.isArrayLike=nn,p.isArrayLikeObject=st,p.isBoolean=km,p.isBuffer=ii,p.isDate=Dm,p.isElement=Nm,p.isEmpty=$m,p.isEqual=Pm,p.isEqualWith=Lm,p.isError=gu,p.isFinite=Mm,p.isFunction=Nr,p.isInteger=qd,p.isLength=Ta,p.isMap=Bd,p.isMatch=Rm,p.isMatchWith=Fm,p.isNaN=qm,p.isNative=Bm,p.isNil=Hm,p.isNull=Wm,p.isNumber=Wd,p.isObject=Qe,p.isObjectLike=et,p.isPlainObject=yo,p.isRegExp=bu,p.isSafeInteger=Um,p.isSet=Hd,p.isString=Sa,p.isSymbol=pn,p.isTypedArray=_s,p.isUndefined=Vm,p.isWeakMap=zm,p.isWeakSet=Km,p.join=jv,p.kebabCase=Lg,p.last=Tn,p.lastIndexOf=Qv,p.lowerCase=Mg,p.lowerFirst=Rg,p.lt=Ym,p.lte=Gm,p.max=Db,p.maxBy=Nb,p.mean=$b,p.meanBy=Pb,p.min=Lb,p.minBy=Mb,p.stubArray=Su,p.stubFalse=Iu,p.stubObject=wb,p.stubString=Eb,p.stubTrue=Ab,p.multiply=Rb,p.nth=Xv,p.noConflict=pb,p.noop=Tu,p.now=Aa,p.pad=Fg,p.padEnd=qg,p.padStart=Bg,p.parseInt=Wg,p.random=kg,p.reduce=em,p.reduceRight=tm,p.repeat=Hg,p.replace=Ug,p.result=yg,p.round=Fb,p.runInContext=y,p.sample=rm,p.size=om,p.snakeCase=Vg,p.some=am,p.sortedIndex=i_,p.sortedIndexBy=s_,p.sortedIndexOf=o_,p.sortedLastIndex=a_,p.sortedLastIndexBy=l_,p.sortedLastIndexOf=u_,p.startCase=Kg,p.startsWith=Yg,p.subtract=qb,p.sum=Bb,p.sumBy=Wb,p.template=Gg,p.times=xb,p.toFinite=$r,p.toInteger=ve,p.toLength=Vd,p.toLower=jg,p.toNumber=Sn,p.toSafeInteger=jm,p.toString=Le,p.toUpper=Qg,p.trim=Xg,p.trimEnd=Zg,p.trimStart=Jg,p.truncate=eb,p.unescape=tb,p.uniqueId=Tb,p.upperCase=nb,p.upperFirst=Eu,p.each=kd,p.eachRight=Dd,p.first=Td,Cu(p,(function(){var e={};return ar(p,function(t,r){Ne.call(p.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),p.VERSION=f,Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Zt(["drop","take"],function(e,t){Te.prototype[e]=function(r){r=r===i?1:gt(ve(r),0);var l=this.__filtered__&&!t?new Te(this):this.clone();return l.__filtered__?l.__takeCount__=Pt(r,l.__takeCount__):l.__views__.push({size:Pt(r,Nt),type:e+(l.__dir__<0?"Right":"")}),l},Te.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Zt(["filter","map","takeWhile"],function(e,t){var r=t+1,l=r==Yt||r==yt;Te.prototype[e]=function(d){var h=this.clone();return h.__iteratees__.push({iteratee:re(d,3),type:r}),h.__filtered__=h.__filtered__||l,h}}),Zt(["head","last"],function(e,t){var r="take"+(t?"Right":"");Te.prototype[e]=function(){return this[r](1).value()[0]}}),Zt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[r](1)}}),Te.prototype.compact=function(){return this.filter(sn)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=ge(function(e,t){return typeof e=="function"?new Te(this):this.map(function(r){return ho(r,e,t)})}),Te.prototype.reject=function(e){return this.filter(Ca(re(e)))},Te.prototype.slice=function(e,t){e=ve(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Te(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=ve(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(Nt)},ar(Te.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),d=p[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);d&&(p.prototype[t]=function(){var m=this.__wrapped__,b=l?[1]:arguments,w=m instanceof Te,$=b[0],P=w||fe(m),R=function(xe){var Se=d.apply(p,sr([xe],b));return l&&K?Se[0]:Se};P&&r&&typeof $=="function"&&$.length!=1&&(w=P=!1);var K=this.__chain__,j=!!this.__actions__.length,se=h&&!K,me=w&&!j;if(!h&&P){m=me?m:new Te(this);var oe=e.apply(m,b);return oe.__actions__.push({func:wa,args:[R],thisArg:i}),new An(oe,K)}return se&&me?e.apply(this,b):(oe=this.thru(R),se?l?oe.value()[0]:oe.value():oe)})}),Zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=as[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var d=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(fe(h)?h:[],d)}return this[r](function(m){return t.apply(fe(m)?m:[],d)})}}),ar(Te.prototype,function(e,t){var r=p[t];if(r){var l=r.name+"";Ne.call(ds,l)||(ds[l]=[]),ds[l].push({name:t,func:r})}}),ds[ha(i,ae).name]=[{name:"wrapper",func:i}],Te.prototype.clone=th,Te.prototype.reverse=nh,Te.prototype.value=rh,p.prototype.at=N_,p.prototype.chain=$_,p.prototype.commit=P_,p.prototype.next=L_,p.prototype.plant=R_,p.prototype.reverse=F_,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=q_,p.prototype.first=p.prototype.head,de&&(p.prototype[de]=M_),p}),Cr=Nl();ir?((ir.exports=Cr)._=Cr,es._=Cr):ft._=Cr}).call(PA)})(xo,xo.exports)),xo.exports}var So=LA();function MA(o){let n=null,i=null,f=new Map;const v=U=>JSON.stringify(U),g=async(U,X,z,Q)=>{if(Q===(z==="cart"?n:i))return{success:!0,skipped:!0};if(f.has(z))return console.log(` Skipping duplicate ${z} request`),{success:!1,skipped:!0};const ne=new AbortController,ie=setTimeout(()=>ne.abort(),5e3);f.set(z,!0);try{const ae=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(X),signal:ne.signal});if(clearTimeout(ie),!ae.ok)throw new Error(`HTTP ${ae.status}`);const ke=await ae.json();return z==="cart"?n=Q:i=Q,console.log(` ${z} updated - v${ke.version}`),{success:!0,data:ke}}catch(ae){return ae.name==="AbortError"?console.warn(` ${z} update timeout`):console.error(` Failed to update ${z}:`,ae.message),{success:!1,error:ae}}finally{f.delete(z)}},E=So.debounce(async U=>{const X=v(U);await g("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",X)},800),S=So.debounce(async U=>{const X=v(U);await g("/api/pos/terminal/update-ui",{terminal_id:o,ui:U},"ui",X)},300),C=async U=>{const X=v(U);return await g("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",X)},M=So.debounce(async(U,X)=>{const z=v(U),Q=v(X);if(z===n&&Q===i)return{success:!0,skipped:!0};const ne=new AbortController,ie=setTimeout(()=>ne.abort(),5e3);try{const ae=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:o,cart:U,ui:X}),signal:ne.signal});if(clearTimeout(ie),!ae.ok)throw new Error(`HTTP ${ae.status}`);const ke=await ae.json();return n=z,i=Q,console.log(` Batch update successful - v${ke.version}`),{success:!0,data:ke}}catch(ae){return console.error(" Batch update failed:",ae.message),{success:!1,error:ae}}},500);return{broadcastCartUpdate:E,broadcastUIUpdate:S,broadcastImmediateCartUpdate:C,broadcastBatchUpdate:M,clearBroadcastCache:()=>{n=null,i=null,f.clear(),console.log(" Broadcast cache cleared")}}}const RA={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)","z-index":"9999"}},FA={class:"modal-dialog modal-lg modal-dialog-centered"},qA={class:"modal-content"},BA={class:"modal-header bg-warning text-dark"},WA={class:"modal-body"},HA={key:0,class:"alert alert-info mb-3"},UA={class:"mb-0"},VA={key:1,class:"alert alert-danger"},zA={class:"text-muted"},KA={key:2},YA={class:"fw-bold"},GA={key:0,class:"badge bg-secondary ms-2"},jA={class:"table table-sm table-bordered"},QA={class:"text-end"},XA={class:"text-end"},ZA={class:"text-end text-danger fw-bold"},JA={class:"modal-footer"},ex={__name:"ConfirmMissingIngredientsModal",props:{show:Boolean,missingIngredients:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(o,{emit:n}){const i=o,f=n;$i(()=>i.show,S=>{console.log(" Modal show changed:",S),S&&console.log(" Missing ingredients:",i.missingIngredients)},{immediate:!0}),$i(()=>i.missingIngredients,S=>{console.log(" Missing ingredients changed:",S),console.log(" Array length:",S?.length),console.log(" Is array?:",Array.isArray(S))},{immediate:!0,deep:!0});const v=be(()=>{if(console.log(" Computing groupedByItem"),console.log(" Input missingIngredients:",i.missingIngredients),!Array.isArray(i.missingIngredients)||i.missingIngredients.length===0)return console.log(" No ingredients to group (not array or empty)"),{};const S={};return i.missingIngredients.forEach((C,M)=>{console.log(` Processing ingredient ${M}:`,C);const L=`${C.item_id}-${C.variant_id||"default"}`;S[L]||(S[L]={item_title:C.item_title,variant_name:C.variant_name,ingredients:[]}),S[L].ingredients.push(C)}),console.log(" Final grouped data:",S),S}),g=be(()=>i.missingIngredients&&i.missingIngredients.length>0),E=be(()=>Object.keys(v.value).length);return(S,C)=>o.show?at((A(),O("div",RA,[c("div",FA,[c("div",qA,[c("div",BA,[C[4]||(C[4]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-exclamation-triangle-fill me-2"}),pe(" Ingredient Shortage Warning ")],-1)),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:C[0]||(C[0]=M=>f("close"))},[...C[3]||(C[3]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",WA,[g.value?G("",!0):(A(),O("div",HA,[C[5]||(C[5]=c("strong",null,"Debug Info:",-1)),c("ul",UA,[c("li",null,"Has data: "+N(g.value),1),c("li",null,"Array length: "+N(o.missingIngredients?.length||0),1),c("li",null,"Is array: "+N(Array.isArray(o.missingIngredients)),1),c("li",null,"Group count: "+N(E.value),1)])])),C[10]||(C[10]=c("div",{class:"alert alert-warning"},[c("strong",null,"Warning:"),pe(" The following items have ingredient shortages. The order can still be placed, but pending ingredient deductions will be recorded and automatically deducted when stock arrives. ")],-1)),g.value?(A(),O("div",KA,[(A(!0),O(Be,null,vt(v.value,(M,L)=>(A(),O("div",{key:L,class:"mb-4"},[c("h6",YA,[pe(N(M.item_title)+" ",1),M.variant_name?(A(),O("span",GA,N(M.variant_name),1)):G("",!0)]),c("table",jA,[C[9]||(C[9]=c("thead",{class:"table-light"},[c("tr",null,[c("th",null,"Ingredient"),c("th",{class:"text-end"},"Required"),c("th",{class:"text-end"},"Available"),c("th",{class:"text-end"},"Short")])],-1)),c("tbody",null,[(A(!0),O(Be,null,vt(M.ingredients,U=>(A(),O("tr",{key:U.inventory_item_id},[c("td",null,N(U.inventory_item_name),1),c("td",QA,N(U.required_quantity)+" "+N(U.unit),1),c("td",XA,N(U.available_quantity)+" "+N(U.unit),1),c("td",ZA,N(U.shortage_quantity)+" "+N(U.unit),1)]))),128))])])]))),128))])):(A(),O("div",VA,[C[6]||(C[6]=c("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),C[7]||(C[7]=pe(" No missing ingredient data available. ",-1)),C[8]||(C[8]=c("br",null,null,-1)),c("small",zA," Received "+N(o.missingIngredients?.length||0)+" ingredient(s) ",1)]))]),c("div",JA,[c("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:C[1]||(C[1]=M=>f("close"))}," Cancel Order "),c("button",{type:"button",class:"btn btn-primary px-4 py-2",onClick:C[2]||(C[2]=M=>f("confirm"))}," Proceed Anyway ")])])])],512)),[[Lr,o.show]]):G("",!0)}},tx={class:"page-wrapper"},nx={class:"container-fluid px-3 py-3"},rx={class:"row gx-3 gy-3"},ix={key:0,class:"row g-3 tablet-screen"},sx={class:"d-flex justify-content-between justify align-items-center mb-3"},ox={style:{width:"250px",position:"relative"}},ax={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},lx={key:0,class:"col-12 text-center py-5"},ux=["onClick"],cx={class:"cat-icon-wrap"},dx={class:"cat-icon"},fx=["src"],px={key:1},hx={class:"cat-name"},vx={class:"cat-pill"},_x={key:0,class:"text-danger ms-1"},mx={key:0,class:"col-12"},gx={key:1},bx={class:"d-flex flex-wrap gap-2 align-items-center mb-4"},yx={class:"fw-bold mb-0"},wx={class:"d-flex gap-2 ms-auto align-items-center"},Ex={class:"search-wrap position-relative"},Ax={key:0,class:"col-12"},xx={class:"alert alert-warning border-0 rounded-4 text-center py-5"},Cx={class:"text-muted mb-3"},Tx={class:"row g-3"},Sx={key:0,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:{"border-color":"#dc3545"}},Ix={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},Ox=["src"],kx={class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold bg-danger",style:{"font-size":"0.58rem","letter-spacing":"0.3px"}},Dx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},Nx={class:"h5 fw-bold mb-2 menu-name text-danger"},$x={class:"mt-2"},Px=["onClick"],Lx=["onClick","disabled"],Mx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},Rx=["onClick"],Fx={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},qx=["src"],Bx={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},Wx={key:0,class:"text-muted text-decoration-line-through me-1"},Hx={class:"fw-bold text-success me-2"},Ux={key:1,class:"text-muted text-decoration-line-through me-1"},Vx={class:"fw-bold text-success"},zx={class:"text-decoration-line-through opacity-75 me-1"},Kx={class:"fw-bold text-white"},Yx={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},Gx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},jx={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},Qx=["onClick"],Xx=["onClick","disabled"],Zx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},Jx=["onClick"],eC={key:0,class:"col-lg-4 right-cart"},tC={class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},nC={key:0,class:"badge bg-danger ms-1"},rC={class:"cart card border-0 shadow-lg rounded-4"},iC={class:"cart-header"},sC={class:"order-type"},oC=["onClick"],aC={class:"cart-body"},lC={class:"mb-3"},uC={key:0,class:"row g-2"},cC={class:"col-6 table-dropdown"},dC=["value"],fC={key:0,class:"invalid-feedback d-block"},pC={class:"col-6 table-dropdown"},hC={key:1},vC={key:0,class:"invalid-feedback d-block"},_C={key:2,class:"mt-2"},mC={key:0,class:"invalid-feedback d-block"},gC={key:1,class:"invalid-feedback d-block"},bC={class:"cart-lines"},yC={key:0,class:"empty"},wC={class:"line-left"},EC=["src"],AC={class:"meta"},xC=["title"],CC={key:0},TC={class:"badge bg-success",style:{"font-size":"0.65rem"}},SC={key:1,class:"addon-icons mt-1"},IC=["onClick","title"],OC={class:"text-muted small"},kC={key:2,class:"badge bg-success mt-1 ms-1",style:{"font-size":"0.65rem"}},DC={key:3,class:"mt-1"},NC={class:"badge",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},$C={key:4,class:"note"},PC={class:"line-right"},LC={class:"qty-controls"},MC=["onClick"],RC={class:"qty"},FC=["onClick"],qC={class:"price-delete"},BC={class:"price"},WC=["onClick"],HC={class:"totals"},UC={class:"trow"},VC={class:"sub-total"},zC={key:0,class:"trow"},KC={class:"text-info"},YC={key:1,class:"trow"},GC={class:"fw-semibold"},jC={key:2,class:"trow"},QC={class:"fw-semibold"},XC={key:3,class:"trow"},ZC={class:"text-danger"},JC={key:4,class:"promos-section mb-3"},eT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},tT={class:"d-flex justify-content-between align-items-center"},nT={class:"text-success fs-6"},rT={key:5,class:"pending-discounts-section mb-3"},iT={class:"d-flex align-items-center gap-2 text-warning"},sT={class:"text-warning"},oT={key:6,class:"approved-discounts-section mb-3"},aT={class:"trow border-top pt-2 mt-2"},lT={class:"text-success"},uT={class:"trow total"},cT={class:""},dT={class:"mb-3"},fT={class:"mb-3"},pT={class:"cart-footer"},hT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},vT={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},_T={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},mT={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},gT={class:"fw-bold mb-0"},bT={class:"px-1 pt-2 progress-bar"},yT={class:"stepper-container position-relative",style:{"min-height":"60px"}},wT=["onClick"],ET={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},AT={key:1,style:{"font-size":"0.75rem"}},xT=["onClick"],CT={class:"modal-body px-3 py-2"},TT={class:"row g-3 mb-3"},ST={class:"col-lg-5"},IT={class:"rounded-3 border shadow-sm p-3 bg-white"},OT={class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},kT={key:0,class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},DT={class:"text-success"},NT={class:"d-flex justify-content-between",style:{"font-size":"1rem"}},$T={class:"fw-bold text-primary"},PT={class:"col-lg-7"},LT={class:"px-1"},MT={class:"step-content"},RT={class:"row g-2"},FT=["onClick"],qT={class:"d-flex justify-content-between align-items-center"},BT={class:"fw-bold mb-0",style:{"font-size":"0.85rem"}},WT={class:"d-flex justify-content-between align-items-center gap-2"},HT={key:0,class:"text-primary"},UT={style:{"font-size":"0.9rem"}},VT={class:"step-content"},zT={class:"row g-2"},KT=["id","checked","disabled","onChange"],YT=["for"],GT={class:"step-content"},jT={key:0,class:"mb-3"},QT={class:"d-flex justify-content-between align-items-center mb-2"},XT={class:"text-muted",style:{"font-size":"0.75rem"}},ZT={class:"d-flex gap-1"},JT={key:1,class:"mb-3"},eS={class:"bg-light rounded-3 p-1 mb-3"},tS={class:"d-flex justify-content-between align-items-center mb-0"},nS={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},rS={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},iS={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},sS={class:"row g-2"},oS={class:"d-flex align-items-center flex-grow-1"},aS=["id","checked","onChange"],lS=["for"],uS={class:"text-success fw-semibold ms-1"},cS={key:0,class:"d-flex align-items-center gap-1"},dS=["onClick","disabled"],fS={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},pS=["onClick"],hS={key:2,class:"d-flex justify-content-between gap-2 mt-3"},vS=["disabled"],_S=["disabled"],mS={class:"step-content"},gS={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},bS={key:0,class:"summary-item"},yS={class:"summary-value"},wS={key:1,class:"summary-item"},ES={class:"summary-value"},AS={key:2,class:"summary-item"},xS={class:"summary-value"},CS={class:"d-flex align-items-center mb-3"},TS={class:"qty-group gap-1"},SS=["disabled"],IS={class:"qty-box rounded-pill"},OS={class:"mb-2"},kS={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},DS={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end gap-2"},NS={class:"modal fade",id:"customizeDealModal",tabindex:"-1","aria-hidden":"true"},$S={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},PS={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},LS={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},MS={class:"fw-bold mb-0"},RS={class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},FS={class:"px-3 pt-3 progress-bar"},qS={class:"stepper-container position-relative",style:{"min-height":"60px"}},BS=["onClick"],WS={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},HS={key:1,style:{"font-size":"0.75rem"}},US=["onClick"],VS={class:"modal-body px-3 py-2"},zS={class:"row g-3 mb-3"},KS={class:"col-lg-4"},YS={class:"rounded-3 border shadow-sm p-3 bg-white mb-3"},GS={class:"fw-bold mb-2 d-flex align-content-center",style:{"font-size":"0.9rem"}},jS={class:"d-flex align-items-center"},QS={class:"flex-grow-1"},XS={class:"text-muted small"},ZS={key:0,class:"text-success small fw-semibold"},JS={class:"fw-bold text-primary"},e2={class:"rounded-3 border shadow-sm p-3 bg-white"},t2={class:"list-group list-group-flush"},n2={class:"d-flex align-items-center"},r2={key:0,class:"bi bi-check-circle-fill text-success me-2"},i2={key:2,class:"bi bi-circle text-muted me-2"},s2={class:"col-lg-8"},o2={class:"px-1"},a2={class:"step-content"},l2={class:"d-flex align-items-start mb-2"},u2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},c2={class:"row g-2"},d2=["id","checked","disabled","onChange"],f2=["for"],p2={class:"step-content"},h2={class:"d-flex align-items-start mb-3"},v2={class:"flex-grow-1"},_2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},m2={key:0,class:"mb-3"},g2={class:"d-flex justify-content-between align-items-center mb-2"},b2={class:"text-muted",style:{"font-size":"0.75rem"}},y2={class:"d-flex gap-1"},w2={key:1,class:"mb-3"},E2={class:"bg-light rounded-3 p-1 mb-3"},A2={class:"d-flex justify-content-between align-items-center mb-0"},x2={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},C2={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},T2={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},S2={class:"row g-2"},I2={class:"d-flex align-items-center flex-grow-1"},O2=["id","checked","onChange"],k2=["for"],D2={class:"text-success fw-semibold ms-1"},N2={key:0,class:"d-flex align-items-center gap-1"},$2=["onClick","disabled"],P2={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},L2=["onClick"],M2={key:2,class:"d-flex justify-content-between gap-2 mt-3"},R2=["disabled"],F2=["disabled"],q2={class:"step-content"},B2={class:"d-flex align-items-start mb-2"},W2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},H2={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},U2={class:"summary-item"},V2={class:"summary-value"},z2={class:"summary-item"},K2={class:"summary-value"},Y2={key:0,class:"summary-item"},G2={class:"summary-value text-danger"},j2={key:1,class:"summary-item"},Q2={class:"summary-value text-success"},X2={key:2,class:"summary-item"},Z2={class:"summary-value text-success fw-bold"},J2={class:"summary-item border-top pt-2 mt-2"},eI={class:"summary-value fw-bold text-primary"},tI={class:"mb-2"},nI={class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},rI={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},iI={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end"},sI={class:"d-flex gap-2"},oI={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},aI={class:"modal-dialog modal-lg modal-dialog-centered"},lI={class:"modal-content rounded-4 border-0 shadow-lg"},uI={key:0,class:"modal-body pt-2"},cI={class:"alert alert-light border rounded-3 mb-3"},dI={class:"d-flex align-items-center gap-3"},fI=["src"],pI={class:"flex-grow-1"},hI={class:"fw-bold fs-6"},vI={class:"d-flex gap-3 mt-1"},_I={class:"text-muted"},mI={class:"fw-semibold"},gI={class:"text-muted"},bI={class:"fw-semibold"},yI={key:0,class:"table-responsive"},wI={class:"table table-hover align-middle mb-0"},EI={class:"text-center"},AI={class:"form-check d-flex justify-content-center"},xI=["checked","onChange"],CI={class:"d-flex align-items-center gap-2"},TI={class:"fw-semibold"},SI={key:0,class:"text-muted"},II={class:"text-center"},OI={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},kI={class:"d-flex align-items-center justify-content-center gap-2"},DI=["onClick","disabled"],NI={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},$I=["onClick","disabled"],PI={key:1,class:"text-center text-muted py-5"},LI={class:"mt-3 p-3 rounded-3"},MI={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},RI={class:"text-success fw-semibold"},FI={__name:"Index",props:["client_secret","order_code"],setup(o){const{formatCurrencySymbol:n}=ty();gs(()=>{ku(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>{new tl(a)})})});const i=H([]),f=H(!0),v=H(""),g=H(Date.now()),E=`category-search-${Math.random().toString(36).substr(2,9)}`,S=H(!1),C=H(0),M=be(()=>!ue.value?.addon_groups||ue.value.addon_groups.length===0?null:ue.value.addon_groups[C.value]),L=()=>{C.value<ue.value?.addon_groups?.length-1&&C.value++},U=()=>{C.value>0&&C.value--},X=()=>{he.value=vr.value},z=H(0),Q=be(()=>!Ue.value?.addon_groups||Ue.value.addon_groups.length===0?null:Ue.value.addon_groups[z.value]),ne=()=>{z.value<Ue.value?.addon_groups?.length-1&&z.value++},ie=()=>{z.value>0&&z.value--},ae=()=>{Ke.value=na.value},ke=be(()=>{const a=v.value.trim().toLowerCase();return a?bi.value.filter(s=>s.name.toLowerCase().includes(a)):bi.value}),De=async()=>{f.value=!0;try{const a=await axios.get("/api/pos/fetch-menu-categories");i.value=a.data,i.value.length>0&&(Qt.value=i.value[0].id)}catch(a){console.error("Error fetching categories:",a)}finally{f.value=!1}},Z=H([]),_e=async()=>{try{const a=await axios.get("/api/pos/fetch-menu-items");Z.value=a.data.data}catch(a){console.error("Error fetching inventory:",a)}},Ce=be(()=>{const a={};return Z.value.forEach(s=>{const u=s.category?.id||"uncategorized",_=s.category?.name||"Uncategorized";a[u]||(a[u]=[]);const x={id:s.id,title:s.name,img:s.image_url||"/assets/img/default.png",stock:0,price:Number(s.price),label_color:s.label_color||"#1B1670",family:_,description:s.description,nutrition:s.nutrition,tags:s.tags,allergies:s.allergies,ingredients:s.ingredients??[],variants:s.variants??[],addon_groups:s.addon_groups??[],is_saleable:s.is_saleable,resale_type:s.resale_type,resale_value:s.resale_value,isDeal:!1};a[u].push(x)}),Xr.value.forEach(s=>{const u=s.category_id||"uncategorized";a[u]||(a[u]=[]);const _={id:s.id,dealId:s.id,title:s.title,img:s.img,stock:999999,price:Number(s.price),label_color:"#dc3545",family:"Deal",description:s.description,nutrition:{},tags:[],allergies:[],ingredients:[],variants:[],addon_groups:[],is_saleable:!1,resale_type:null,resale_value:null,isDeal:!0,category_id:s.category_id,menu_items:s.menu_items||[]};a[u].push(_)}),a}),Ee=H({});$i(()=>Z.value,a=>{a&&a.length>0&&a.forEach(s=>{s.variants&&s.variants.length>0&&(Ee.value[s.id]||(Ee.value[s.id]=s.variants[0].id))})},{immediate:!0,deep:!0});const Ie=a=>{if(!a.variants||a.variants.length===0)return null;const s=Ee.value[a.id];return s&&a.variants.find(u=>u.id===s)||a.variants[0]},Fe=H({}),Ve=a=>{const s=a.id;if(!Fe.value[s])return 0;let u=0;return Object.values(Fe.value[s]).forEach(_=>{_.forEach(x=>{u+=parseFloat(x.price||0)})}),u},Xe=a=>{const s=a.id;if(!Fe.value[s])return[];const u=[];return Object.values(Fe.value[s]).forEach(_=>{_.forEach(x=>{u.push({id:x.id,name:x.name,price:parseFloat(x.price),group_id:x.group_id||x.pivot?.addon_group_id})})}),u},Pe=H([]),Ge=()=>{if(!ue.value)return[];const a=jt();return a&&a.ingredients&&a.ingredients.length>0?a.ingredients:ue.value.ingredients||[]},Yt=a=>Pe.value.includes(a),Nn=a=>{const s=Pe.value.indexOf(a);s>-1?(Pe.value.splice(s,1),V.info("Ingredient added back")):(Pe.value.push(a),V.info("Ingredient removed"))},yt=()=>{if(Pe.value.length===0)return null;const a=Ge(),s=Pe.value.map(u=>{const _=a.find(x=>x.id===u||x.inventory_item_id===u);return _?_.product_name||_.name:null}).filter(Boolean);return s.length===0?null:`No ${s.join(", ")}`},he=H(1),Dt=a=>{(a<=he.value||a===he.value+1)&&(he.value=a)},Gt=be(()=>ue.value?.variants&&ue.value.variants.length>0),$n=be(()=>Ge().length>0),Nt=be(()=>ue.value?.addon_groups&&ue.value.addon_groups.length>0),lt=be(()=>{let a=[],s=1;return Gt.value&&(a.push({id:"variants",name:"Variant",stepNumber:s,actualStep:1}),s++),$n.value&&(a.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:2}),s++),Nt.value&&(a.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:3}),s++),a.push({id:"review",name:"Review",stepNumber:s,actualStep:4}),a}),vr=be(()=>lt.value[lt.value.length-1]?.stepNumber||1),Gn=be(()=>{if(he.value===1)return"0%";const a=lt.value.length,s=(he.value-1)/(a-1);return`calc(${s*100}% - ${14-s*28}px)`}),Et=a=>a<he.value?"stepper-circle-completed":a===he.value?"stepper-circle-active":"stepper-circle-inactive",bn=()=>{const a=Ge(),s=Pe.value||[];return a.filter(u=>!s.includes(u.id||u.inventory_item_id)).length},Br=()=>{const a=lt.value.findIndex(s=>s.stepNumber===he.value);a<lt.value.length-1&&(he.value=lt.value[a+1].stepNumber)},Rt=()=>{const a=lt.value.findIndex(s=>s.stepNumber===he.value);a>0&&(he.value=lt.value[a-1].stepNumber)},Pn=a=>{Jn.value=a,Ft()},Ms=()=>Gt.value&&ue.value?.variants?.find(s=>s.id===Jn.value)?.name||"",jn=()=>{const a=[];return Object.values(dt.value).forEach(s=>{s.forEach(u=>{const _=u.quantity>1?` x${u.quantity}`:"";a.push(`${u.name}${_} (+${n(u.price*(u.quantity||1))})`)})}),a.join(", ")},Wr=async a=>{ue.value=a,zs.value="",Mn.value="",Jn.value=null,dt.value={},C.value=0,Pe.value=[],he.value=1,a.variants&&a.variants.length>0&&(Jn.value=a.variants[0].id);const s=a.variants&&a.variants.length>0?a.variants[0]:null,u=s?s.id:null,_=pt(a,u),x=Hr(a,u,_);_t.value=x>0?1:0,Pe.value=[];const D=document.getElementById("chooseItem"),I=new bootstrap.Modal(D);D.addEventListener("shown.bs.modal",async()=>{await ku()},{once:!0}),I.show()},Hr=(a,s,u)=>{if(!mi.value)return 999999;const _=u.filter(I=>!Pe.value.includes(I.id||I.inventory_item_id));if(!_||_.length===0)return 999999;const x={};for(const I of q.value)pt(I,I.variant_id).filter(B=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(B.id||B.inventory_item_id)).forEach(B=>{const de=B.inventory_item_id,$e=Number(B.inventory_stock??B.inventory_item?.stock??0);x[de]||(x[de]={totalStock:$e,used:0});const te=Number(B.quantity??B.qty??1)*I.qty;x[de].used+=te});let D=999999;for(const I of _){const W=I.inventory_item_id,ee=Number(I.inventory_stock??I.inventory_item?.stock??0),B=Number(I.quantity??I.qty??1);if(x[W]){const de=x[W].totalStock-x[W].used,$e=Math.floor(de/B);D=Math.min(D,$e)}else{const de=Math.floor(ee/B);D=Math.min(D,de)}}return D},Ft=()=>{const a=jt(),s=a?a.id:null,u=pt(ue.value,s),_=Hr(ue.value,s,u);if(_<=0){V.error("No stock available for this variant. Please remove items from cart first."),_t.value=0;return}_t.value=Math.min(1,_)},jt=()=>{if(!ue.value||!ue.value.variants||ue.value.variants.length===0)return null;const a=Jn.value;return a&&ue.value.variants.find(s=>s.id===a)||ue.value.variants[0]},Wi=()=>{if(!ue.value)return 0;const a=jt();return parseFloat(a?a.price:ue.value.price||0)},At=()=>{let a=0;return Object.values(dt.value).forEach(s=>{s.forEach(u=>{a+=parseFloat(u.price||0)*(u.quantity||1)})}),a},Hi=()=>{const a=[];return Object.values(dt.value).forEach(s=>{s.forEach(u=>{a.push({id:u.id,name:u.name,price:parseFloat(u.price),group_id:u.group_id||u.pivot?.addon_group_id})})}),a},Ui=a=>{if(!a)return 0;if(!mi.value)return 999999;const s=Ie(a),u=s?s.id:null,_=pt(a,u);if(!_.length)return 999999;let x=1/0;return _.forEach(D=>{const I=Number(D.quantity??D.qty??1),W=Number(D.inventory_stock??D.inventory_item?.stock??0);if(I<=0)return;const ee=Math.floor(W/I);x=Math.min(x,ee)}),x===1/0?0:x},$t=a=>Ui(a),Ye=H(""),ye=H("dine"),Ze=H("Walk In"),xt=H(" "),ut=H(" "),Vi=H(10),Qt=H(null),Ln=a=>Qt.value=a,Qn=H(!0),Rs=a=>{Ln(a.id),Qn.value=!1},Fs=()=>Qn.value=!0,_r=H({}),Xn=H([]),Ct=H(null),qs=async()=>{try{const a=await axios.get("/api/pos/fetch-profile-tables");if(_r.value=a.data,_r.value.order_types){Xn.value=_r.value.order_types.map(u=>u.charAt(0).toUpperCase()+u.slice(1));const s=localStorage.getItem("quickOrderType");if(s){const u=Xn.value.find(_=>_.toLowerCase().replace(/_/g," ")===s.toLowerCase().replace(/_/g," "));u?ye.value=u:ye.value=Xn.value[0]}else ye.value=Xn.value[0]}}catch(a){console.error("Error fetching profile tables:",a)}},Bs=be(()=>Ce.value[Qt.value]??[]),ct=H({sortBy:"",priceMin:null,priceMax:null}),Po=be(()=>{let a=Bs.value;const s=Ye.value.trim().toLowerCase();if(s&&(a=a.filter(u=>u.title.toLowerCase().includes(s)||(u.family||"").toLowerCase().includes(s)||(u.description||"").toLowerCase().includes(s)||(u.tags?.map(_=>_.name.toLowerCase()).join(", ")||"").includes(s))),ct.value.priceMin!==null&&ct.value.priceMin!==""&&(a=a.filter(u=>u.price>=ct.value.priceMin)),ct.value.priceMax!==null&&ct.value.priceMax!==""&&(a=a.filter(u=>u.price<=ct.value.priceMax)),ct.value.sortBy)switch(a=[...a],ct.value.sortBy){case"name_asc":a.sort((u,_)=>u.title.localeCompare(_.title));break;case"name_desc":a.sort((u,_)=>_.title.localeCompare(u.title));break;case"price_asc":a.sort((u,_)=>u.price-_.price);break;case"price_desc":a.sort((u,_)=>_.price-u.price);break;case"stock_asc":a.sort((u,_)=>(u.stock??0)-(_.stock??0));break;case"stock_desc":a.sort((u,_)=>(_.stock??0)-(u.stock??0));break}return a}),Ws=H(!1),il=a=>{ct.value={...a},Ws.value=!0},mr=H(""),Lo=()=>{const a=localStorage.getItem("pos_walkin_counter");a?mr.value=parseInt(a):(mr.value=1,localStorage.setItem("pos_walkin_counter","1"))},Mo=()=>`Walk In-${String(mr.value).padStart(3,"0")}`,sl=()=>{mr.value++,localStorage.setItem("pos_walkin_counter",mr.value.toString())},Hs=()=>{ct.value={sortBy:"",priceMin:null,priceMax:null}},q=H([]),Ro=async a=>{const s=q.value[a];if(!s)return;if(s.isDeal){const _=is({id:s.dealId,title:s.title,menu_items:s.menu_items},s.qty+1);if(!_.canAdd){console.log(" Missing ingredients for deal (cart increment)"),wn.value={itemIndex:a,item:s,newQty:s.qty+1,isDeal:!0},qt.value=_.missing,Fn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}s.qty++,s.price=s.unit_price*s.qty,V.success("Deal quantity updated");return}const u=Us(s,s.qty+1);if(!u.canAdd){console.log(" Missing ingredients detected (client-side)"),wn.value={itemIndex:a,item:s,newQty:s.qty+1,isDeal:!1},qt.value=u.missing,Fn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}s.outOfStock=!1,s.qty++,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty)},Us=(a,s)=>{if(!mi.value)return{canAdd:!0,missing:[]};const u=a.ingredients||[];if(u.length===0)return{canAdd:!0,missing:[]};const _=[],x={};return q.value.forEach(I=>{(I.ingredients||[]).filter(B=>!I.removed_ingredients||I.removed_ingredients.length===0?!0:!I.removed_ingredients.includes(B.id||B.inventory_item_id)).forEach(B=>{const de=B.inventory_item_id,$e=Number(B.inventory_stock??B.inventory_item?.stock??0);x[de]||(x[de]={totalStock:$e,used:0,name:B.product_name||B.name,unit:B.unit||"unit"});const te=Number(B.quantity??B.qty??1)*I.qty;x[de].used+=te})}),u.filter(I=>!a.removed_ingredients||a.removed_ingredients.length===0?!0:!a.removed_ingredients.includes(I.id||I.inventory_item_id)).forEach(I=>{const W=I.inventory_item_id,ee=Number(I.quantity??I.qty??1)*s,B=Number(I.inventory_stock??I.inventory_item?.stock??0);if(!x[W])B<ee&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:ee,available_quantity:B,shortage_quantity:ee-B,unit:I.unit||"unit",order_quantity:s});else{const de=x[W].totalStock-x[W].used,$e=q.value.find(te=>te.id===a.id&&te.variant_id===a.variant_id&&JSON.stringify(te.addons?.map(ht=>ht.id).sort())===JSON.stringify(a.addons?.map(ht=>ht.id).sort()));if($e){const te=Number(I.quantity??I.qty??1)*$e.qty,ht=de+te;ht<ee&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:ee,available_quantity:ht,shortage_quantity:ee-ht,unit:I.unit||"unit",order_quantity:s})}else de<ee&&_.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:ee,available_quantity:de,shortage_quantity:ee-de,unit:I.unit||"unit",order_quantity:s})}}),{canAdd:_.length===0,missing:_}},ol=async a=>{const s=q.value[a];if(!s||s.qty<=1){V.error("Cannot reduce below 1.");return}s.qty--,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty),s.outOfStock=!1},al=a=>{if(q.value[a],q.value.splice(a,1),q.value.length===0){rt.value=[],Me.value=[],Xt.value=[],er();return}Me.value.length>0&&(Me.value=Me.value.filter(u=>{if(!u.menu_items||u.menu_items.length===0)return!0;const _=u.menu_items.map(D=>D.id);return q.value.some(D=>_.includes(D.id))}));const s=[];rt.value.forEach(u=>{u.min_purchase&&Tt.value<u.min_purchase?V.info(`Discount "${u.name}" removed  subtotal is lower than minimum required (${n(u.min_purchase)}).`):s.push(u)}),rt.value=s},Tt=be(()=>q.value.reduce((a,s)=>a+s.price,0)),Zn=be(()=>{if(ye.value!=="Delivery")return 0;const a=un.props.onboarding.tax_and_vat;return a.has_delivery_charges?a.delivery_charge_flat?parseFloat(a.delivery_charge_flat):a.delivery_charge_percentage?Tt.value*parseFloat(a.delivery_charge_percentage)/100:0:0}),yn=be(()=>{if(q.value.length===0)return 0;const a=un.props.onboarding.tax_and_vat;return a.has_service_charges?a.service_charge_flat?parseFloat(a.service_charge_flat):a.service_charge_percentage?Tt.value*parseFloat(a.service_charge_percentage)/100:0:0}),Vs=a=>`${(Math.round(a*100)/100).toFixed(2)}`,ue=H(null),_t=H(0),zs=H(""),Jn=H(null),dt=H({}),Mn=H(""),ll=async()=>{if(!ue.value)return;if(_t.value<=0){V.error("Please select at least 1 item to add to cart");return}const a=jt(),s=a?a.id:null;a&&`${a.name}`;const u=a?a.name:null,_=parseFloat(a?a.price:ue.value.price),x=Hi(),D=At(),I=_+D,W=a?cn(a,!0):cn(ue.value,!1),ee=pt(ue.value,s),B=yt();try{const de=x.map(Oe=>Oe.id).sort((Oe,It)=>Oe-It).join("-"),$e=ee.length>0?pi(ee):999999,te=q.value.findIndex(Oe=>{if(Oe.variant_id!==s)return!1;const It=(Oe.addons||[]).map(Ot=>Ot.id).sort((Ot,Jr)=>Ot-Jr).join("-");return Oe.id===ue.value.id&&It===de});if(te>=0){if(q.value[te].qty+=_t.value,q.value[te].price=q.value[te].unit_price*q.value[te].qty,q.value[te].total_resale_discount=W*q.value[te].qty,Mn.value&&Mn.value.trim()){const Oe=q.value[te].item_kitchen_note||"",It=Mn.value.trim(),Ot=[Oe,It,B].filter(Boolean).filter((Jr,oo,Ml)=>Ml.indexOf(Jr)===oo);q.value[te].item_kitchen_note=Ot.join("; ")}else if(B){const Oe=q.value[te].item_kitchen_note||"";q.value[te].item_kitchen_note=[Oe,B].filter(Boolean).join("; ")}Pe.value.length>0&&(q.value[te].removed_ingredients=[...Pe.value]),V.success(`Quantity updated to ${q.value[te].qty}`)}else{const Oe=[Mn.value.trim(),B].filter(Boolean).join(". ");q.value.push({id:ue.value.id,title:ue.value.title,img:ue.value.img,price:I*_t.value,unit_price:Number(I),qty:_t.value,note:zs.value||"",item_kitchen_note:Oe,stock:$e,ingredients:ee,variant_id:s,variant_name:u,addons:x,removed_ingredients:[...Pe.value],resale_discount_per_item:W,total_resale_discount:W*_t.value}),V.success(`${ue.value.title} added to cart`)}bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),_t.value=0,zs.value="",Mn.value="",Jn.value=null,dt.value={},Pe.value=[]}catch(de){V.error("Failed to add item: "+(de.response?.data?.message||de.message))}},pi=a=>{if(!a||a.length===0)return 999999;let s=1/0;return a.forEach(u=>{const _=Number(u.quantity??u.qty??1),x=Number(u.inventory_stock??u.inventory_item?.stock??0);if(_<=0)return;const D=Math.floor(x/_);s=Math.min(s,D)}),s===1/0?0:s},ul=async()=>{if(!ue.value)return;const a=jt(),s=a?a.id:null,u=Ge(),_=Us({id:ue.value.id,title:ue.value.title,variant_id:s,variant_name:a?a.name:null,ingredients:u,removed_ingredients:Pe.value||[]},_t.value+1);if(!_.canAdd){console.log(" Missing ingredients for modal increment (client-side)"),Yr.value={currentQty:_t.value},qt.value=_.missing,Fn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}_t.value++},cl=()=>{_t.value>1&&_t.value--},St=H({}),zi=()=>{q.value=[],Ze.value=Mo(),ut.value="",xt.value="",Ct.value=null,ye.value=Xn.value[0]||"eat_in",Rn.value="",ln.value="",Vi.value=0,Me.value=[],rt.value=[],Xt.value=[],Kr.value=[],er()};$i(ye,()=>St.value={});const Rn=H(""),ln=H(""),Ur=H(!1),hi=H(null),gr=H(!1),Vr=H(0),dl=()=>{if(q.value.length===0){V.error("Please add at least one item to the cart.");return}if(ye.value==="Eat_in"&&!Ct.value){St.value.table_number=["Table number is required for dine-in orders."],V.error("Please select a table number for Dine In orders.");return}if((ye.value==="Delivery"||ye.value==="Takeaway")&&!Ze.value){St.value.customer=["Customer name is required."],V.error("Customer name is required.");return}if(ye.value==="Delivery"&&!xt.value){St.value.phoneNumber=["Phone number is required for delivery."],V.error("Phone number is required for delivery.");return}if(ye.value==="Delivery"&&!ut.value){St.value.deliveryLocation=["Delivery location is required."],V.error("Delivery location is required.");return}Vr.value=parseFloat(yr.value).toFixed(2),gr.value=!0};async function Ks(a,s){const u=s?"yes":"no";console.log(" printReceiptN called"),console.log(" shouldPrint (boolean):",s),console.log(" print value sent to printer:",u);try{const _=await axios.post("http://localhost:8085/print",{order:a,type:"customer",print:u},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(_){console.error("Print failed:",_),V.error("Unable to connect to the customer printer. Please ensure it is properly connected.")}}async function Fo(a){console.log(" Cusstomer View (Cart Data):",a);try{const s=await axios.post("http://192.168.1.46:51234/data",{cartData:a},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(s){console.error("Customer View failed:",s),V.error("Unable to connect to the customer view. Please ensure it is properly connected.")}}const qo=H("cash"),Bo=H(0);async function Wo(a){try{const s=await axios.post("http://localhost:8085/print",{order:a,type:"KOT",print:"yes"},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(s){console.error("KOT print failed:",s),V.error("Unable to connect to the kitchen printer. Please ensure it is properly connected.")}}const Xt=H([]),zr=H(null),Ho=H(!1),rt=H([]),Kr=H([]),Uo=async a=>{if(!a||a.length===0){V.warning("No discounts selected.");return}const s=Kr.value.map(_=>_.id),u=a.filter(_=>!s.includes(_.id));if(u.length===0){V.error("All selected discounts have been rejected for this order.");return}if(u.length<a.length){const _=a.length-u.length;V.warning(`${_} discount(s) were previously rejected and cannot be requested again.`)}try{const _=await axios.post("/api/discount-approvals/request",{discounts:a.map(x=>({discount_id:x.id,discount_percentage:parseFloat(x.discount_amount),discount_name:x.name})),order_items:q.value.map(x=>({id:x.id,title:x.title,qty:x.qty,unit_price:x.unit_price,price:x.price})),order_subtotal:Tt.value,request_note:`Discount approval request from ${Jt.value?.name||"Cashier"}`});_.data.success&&(Xt.value=_.data.data.map(x=>({...x,discountData:a.find(D=>D.id===x.discount_id),percentage:parseFloat(x.discount_percentage),status:"pending"})),Xi.value=!1,Ho.value=!0,V.info("Discount approval request sent to Super Admin. Waiting for approval..."),Ys())}catch(_){console.error("Error requesting discount approval:",_),V.error(_.response?.data?.message||"Failed to request discount approval")}},Ys=()=>{zr.value&&clearInterval(zr.value),zr.value=setInterval(async()=>{await Vo()},3e3)},Vo=async()=>{if(Xt.value.length===0){er();return}try{const a=Xt.value.map(u=>u.id),s=await axios.post("/api/discount-approvals/check-status",{approval_ids:a});s.data.success&&(s.data.data.forEach(_=>{if(_.status!=="pending"){const x=Xt.value.findIndex(D=>D.id===_.id);if(x>=0){if(_.status==="approved"){const D={id:_.discount_id,name:_.discount_name||_.discount?.name,percentage:parseFloat(_.discount_percentage),approval_id:_.id};Ki(D),V.success(`Discount "${D.name}" (${D.percentage}%) approved!`)}else _.status==="rejected"&&(Kr.value.push({id:_.discount_id,name:_.discount_name,percentage:parseFloat(_.discount_percentage),rejection_reason:_.approval_note}),V.error(`Discount "${_.discount_name}" rejected.`+(_.approval_note?` Reason: ${_.approval_note}`:"")));Xt.value.splice(x,1)}}}),Xt.value.length===0&&(Ho.value=!1,er()))}catch(a){console.error("Error checking approval status:",a)}},er=()=>{zr.value&&(clearInterval(zr.value),zr.value=null)},Ki=a=>{rt.value.push(a)};Gb(()=>{er()}),gs(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",a=>{Vo()})});const br=be(()=>!rt.value||rt.value.length===0?0:rt.value.reduce((a,s)=>{const u=parseFloat(s.percentage||0),_=Tt.value*u/100;return a+_},0)),vi=a=>Tt.value*a/100,zo=()=>{rt.value=[],Xt.value=[],Kr.value=[],er()},Fn=H(!1),qt=H([]),wn=H(null),_i=H(null),Yr=H(null),Gr=H(null),jr=H(null),Ko=async({paymentMethod:a,cashReceived:s,cardAmount:u,changeAmount:_,items:x,autoPrintKot:D,done:I})=>{St.value={};try{const W={customer_name:Ze.value,phone_number:xt.value,delivery_location:ut.value,sub_total:Tt.value,tax:nr.value,service_charges:yn.value,delivery_charges:Zn.value,sales_discount:rr.value,approved_discounts:br.value,approved_discount_details:rt.value.map(B=>({discount_id:B.id,discount_name:B.name,discount_percentage:B.percentage,discount_amount:vi(B.percentage),approval_id:B.approval_id})),promo_discount:tr.value,applied_promos:Me.value.map(B=>({promo_id:B.id,promo_name:B.name,promo_type:B.type,discount_amount:B.applied_discount||0,applied_to_items:B.applied_to_items||[]})),total_amount:yr.value,note:Rn.value,kitchen_note:ln.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:ye.value==="Eat_in"?"Eat In":ye.value==="Delivery"?"Delivery":ye.value==="Takeaway"?"Takeaway":"Collection",table_number:Ct.value?.name||null,payment_method:a,auto_print_kot:D,cash_received:s,change:_,...a==="Split"&&{payment_type:"split",cash_amount:s,card_amount:u},items:(q.value??[]).map(B=>{if(B.isDeal)return{product_id:B.dealId,title:B.title,quantity:B.qty,price:B.price,note:B.note??"",kitchen_note:ln.value??"",unit_price:B.unit_price,item_kitchen_note:B.item_kitchen_note??"",tax_percentage:0,tax_amount:0,variant_id:null,variant_name:null,addons:[],sale_discount_per_item:0,removed_ingredients:[],is_deal:!0,deal_id:B.dealId,menu_items:B.menu_items||[]};const de=Z.value.find(Oe=>Oe.id===B.id);let $e=de;if(B.variant_id&&de?.variants){const Oe=de.variants.find(It=>It.id===B.variant_id);Oe&&($e=Oe)}const te=$e?cn($e,!!B.variant_id):0,ht=(B.removed_ingredients||[]).map(Oe=>{const It=(B.ingredients||[]).find(Ot=>Ot.id===Oe||Ot.inventory_item_id===Oe);return{id:Oe,name:It?It.product_name||It.name:"Unknown Ingredient"}});return{product_id:B.id,title:B.title,quantity:B.qty,price:B.price,note:B.note??"",kitchen_note:ln.value??"",unit_price:B.unit_price,item_kitchen_note:B.item_kitchen_note??"",tax_percentage:es(B),tax_amount:ft(B),variant_id:B.variant_id||null,variant_name:B.variant_name||null,addons:B.addons||[],sale_discount_per_item:te,removed_ingredients:ht||[],is_deal:!1}}),confirm_missing_ingredients:!0};console.log(" Sending order");const ee=await axios.post("/pos/order",W);if(console.log(" Order created successfully:",ee.data),ee.data.logout===!0){V.success(ee.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=ee.data.redirect||"/login"},1e3),I&&I();return}sl(),zi(),gr.value=!1,V.success(ee.data.message||"Order placed successfully!"),hi.value={...ee.data.order,...W,items:W.items,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?s:null,card_amount:a==="Split"?u:null},console.log(" Preparing to print receipt..."),console.log(" autoPrintKot value:",D),Ks(JSON.parse(JSON.stringify(hi.value)),D===!0),Yi.value=await pl(),Wo(JSON.parse(JSON.stringify(hi.value))),Me.value=[],rt.value=[],Xt.value=[],er()}catch(W){console.error(" Order submission error:",W),V.error(W.response?.data?.message||"Failed to place order")}finally{I&&I()}},Yo=async()=>{if(console.log(" User confirmed missing ingredients"),Fn.value=!1,wn.value&&!wn.value.isDeal){const{itemIndex:a,newQty:s}=wn.value,u=q.value[a];u&&(u.outOfStock=!1,u.qty=s,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty),V.success("Quantity updated")),wn.value=null,qt.value=[];return}if(wn.value&&wn.value.isDeal){const{itemIndex:a,newQty:s}=wn.value,u=q.value[a];u&&u.isDeal&&(u.qty=s,u.price=u.unit_price*u.qty,V.success("Deal quantity updated")),wn.value=null,qt.value=[];return}if(Gr.value){const{deal:a,existingIndex:s,newQty:u}=Gr.value;if(s>=0)q.value[s].qty=u,q.value[s].price=q.value[s].unit_price*u,V.success("Deal quantity updated");else{const x=[];a.menu_items.forEach(I=>{I.ingredients&&I.ingredients.length>0&&x.push(...I.ingredients.map(W=>({...W,menu_item_id:I.id,menu_item_name:I.name})))});const D={id:a.id,title:a.title,price:y.value,unit_price:parseFloat(a.price),img:a.img,qty:1,stock:999999,ingredients:x,isDeal:!0,dealId:a.id,menu_items:a.menu_items.map(I=>({id:I.id,name:I.name,price:I.price,ingredients:(I.ingredients||[]).map(W=>({inventory_item_id:W.id,inventory_item_id:W.inventory_item_id,product_name:W.product_name||W.name,quantity:W.quantity||W.qty||"1.00",inventory_stock:W.inventory_stock||W.stock||0,unit:W.unit||"unit",category_id:W.category_id,supplier_id:W.supplier_id})),stock:pi(I.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(D),V.success(`${a.title} added to cart!`)}Gr.value=null,qt.value=[];return}if(_i.value){const{product:a,variantId:s,variantName:u,variantPrice:_,selectedAddons:x,addonsPrice:D,resaleDiscountPerItem:I,existingIndex:W,newQty:ee}=_i.value,B=_+D;if(W>=0)q.value[W].qty=ee,q.value[W].price=q.value[W].unit_price*ee,q.value[W].total_resale_discount=I*ee,q.value[W].outOfStock=!1,V.success("Quantity updated");else{const de=pt(a,s),$e=$t(a);q.value.push({id:a.id,title:a.title,img:a.img,price:B,unit_price:Number(B),qty:1,note:"",stock:$e,ingredients:de,variant_id:s,variant_name:u,addons:x,outOfStock:!1,resale_discount_per_item:I,total_resale_discount:I}),V.success("Item added to cart")}_i.value=null,qt.value=[];return}if(Yr.value){_t.value=Yr.value.currentQty+1,V.success("Quantity increased"),Yr.value=null,qt.value=[];return}};gs(async()=>{Lo();const a=String(mr.value).padStart(3,"0");if(Ze.value=`Walk In-${a}`,window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(_=>new window.bootstrap.Tooltip(_));const u=document.getElementById("chooseItem");u&&new window.bootstrap.Modal(u,{backdrop:"static"})}v.value="",g.value=Date.now(),await ku(),setTimeout(()=>{S.value=!0;const u=document.getElementById(E);u&&(u.value="",v.value="")},100),De(),_e(),qs();const s=document.getElementById("menuFilterModal");s&&s.addEventListener("hidden.bs.modal",()=>{Ws.value||Hs(),Ws.value=!1})});const un=Yb();function Gs(){const a=un.props.flash?.success,s=un.props.flash?.error;a&&V.success(a,{autoClose:4e3}),s&&V.error(s,{autoClose:6e3})}gs(()=>Gs()),gs(()=>{un.props.flash?.success;const a=un.props.flash?.error;a&&V.error(a);const s=un.props.flash?.print_payload;s&&setTimeout(()=>Ks(s),250),s&&setTimeout(()=>Wo(s),250)}),$i(()=>un.props.flash,()=>Gs(),{deep:!0});const mi=be(()=>un.props.onboarding?.optional_features?.enable_inventory_tracking??!0),Go=({id:a,status:s,message:u})=>{Yi.value=Yi.value.map(_=>_.id===a?{..._,status:s}:_)},js=H(!1),Yi=H([]),fl=H(!1),Gi=H(!1),ji=H([]),Qs=H(!1),pl=async()=>{Gi.value=!1,ji.value=[],Qs.value=!0;try{const a=await axios.get("/api/pos/orders/today");ji.value=a.data.orders}catch(a){console.error("Failed to fetch POS orders:",a),V.error(a.response?.data?.message||"Failed to fetch POS orders")}finally{Qs.value=!1}},Qi=H(!1),Xi=H(!1),gi=H(!0),Xs=H(!0),Zi=H([]),Ji=H([]),Me=H([]),hl=a=>{if(Me.value=a,!a||a.length===0){V.warning("No promos selected.");return}const s=a.reduce((_,x)=>_+parseFloat(x.applied_discount||0),0);if(s<=0){V.warning("Selected promos don't provide any discount for current cart items."),Me.value=[];return}const u=new Set(a.flatMap(_=>_.applied_to_items||[])).size;V.success(`${a.length} promo(s) applied! Applied to ${u} item(s). You saved ${n(s)}`),Qi.value=!1},We=async()=>{gi.value=!0,Qi.value=!0;try{const a=await axios.get("/api/promos/current");a.data?.success?Zi.value=a.data.data||[]:(console.warn("Failed to fetch promos:",a.data),Zi.value=[],V.warning("No promos available at the moment"))}catch(a){console.error("Error fetching current meal promos:",a),Zi.value=[],V.error("Failed to load promotions")}finally{gi.value=!1}},qe=async()=>{Xs.value=!0,Xi.value=!0;try{const a=await axios.get("/api/discounts/all");a.data?.success?Ji.value=a.data.data||[]:(console.warn("Failed to fetch discounts:",a.data),Ji.value=[],V.warning("No discounts available at the moment"))}catch(a){console.error("Error fetching current meal discounts:",a),Ji.value=[],V.error("Failed to load discounts")}finally{Xs.value=!1}},vl=a=>!Me.value||Me.value.length===0?!1:Me.value.some(s=>!s.menu_items||s.menu_items.length===0?!0:s.menu_items.map(_=>_.id).includes(a.id)),_l=a=>{hi.value=a,Ur.value=!0,Gi.value=!1},tr=be(()=>!Me.value||Me.value.length===0?0:Me.value.reduce((a,s)=>{const u=parseFloat(s.discount_amount??0)||0;if(s.applied_discount!==void 0)return a+parseFloat(s.applied_discount);const _=ml(s);if(s.min_purchase&&_<parseFloat(s.min_purchase))return a;if(s.type==="flat")return a+u;if(s.type==="percent"){const x=_*u/100,D=parseFloat(s.max_discount??0)||0;return D>0&&x>D?a+D:a+x}return a},0)),ml=a=>{if(!a.menu_items||a.menu_items.length===0)return q.value.reduce((u,_)=>u+_.unit_price*_.qty,0);const s=a.menu_items.map(u=>u.id);return q.value.filter(u=>s.includes(u.id)).reduce((u,_)=>u+_.unit_price*_.qty,0)},gl=be(()=>!Me.value||Me.value.length===0?[]:Me.value.map(a=>({promo_id:a.id,promo_name:a.name,promo_type:a.type,discount_amount:a.applied_discount||0,applied_to_items:a.applied_to_items||[]}))),nr=be(()=>{let a=0;const s=parseFloat(un.props.onboarding.tax_and_vat.tax_rate)||0;return q.value.forEach(u=>{const _=Z.value.find(x=>x.id===u.id);if(_&&_.is_taxable){const D=u.unit_price*u.qty*s/100;a+=D}}),a}),rr=be(()=>q.value.reduce((a,s)=>a+(s.total_resale_discount||0),0)),yr=be(()=>{const a=Tt.value+nr.value+Zn.value+yn.value-rr.value-tr.value-br.value;return Math.max(0,a)}),ft=a=>{const s=Z.value.find(u=>u.id===a.id);return s&&s.is_taxable&&s.tax_percentage?a.unit_price*a.qty*parseFloat(s.tax_percentage)/100:0},es=a=>{const s=Z.value.find(u=>u.id===a.id);return s&&s.is_taxable&&s.tax_percentage?parseFloat(s.tax_percentage):0},ir=a=>{const s=Ie(a),u=s?s.id:null,x=Xe(a).map(I=>I.id).sort().join("-"),D=q.value.find(I=>{const W=(I.addons||[]).map(ee=>ee.id).sort().join("-");return I.id===a.id&&I.variant_id===u&&W===x});return D?D.qty:0},jo=async a=>{const s=Ie(a),u=s?s.id:null,_=Xe(a),x=_.map(Oe=>Oe.id).sort().join("-"),D=q.value.findIndex(Oe=>{const It=(Oe.addons||[]).map(Ot=>Ot.id).sort().join("-");return Oe.id===a.id&&Oe.variant_id===u&&It===x});let I=1,W=null;const ee=pt(a,u);D>=0&&(W=q.value[D],I=W.qty+1);const B=Us({id:a.id,title:a.title,variant_id:u,variant_name:s?s.name:null,ingredients:ee,removed_ingredients:W?.removed_ingredients||[],addons:_},I);if(!B.canAdd){console.log(" Missing ingredients for card increment (client-side)");const Oe=parseFloat(s?s.price:a.price),It=Ve(a),Ot=s?cn(s,!0):cn(a,!1);_i.value={product:a,variant:s,variantId:u,variantName:s?s.name:null,variantPrice:Oe,selectedAddons:_,addonsPrice:It,resaleDiscountPerItem:Ot,existingIndex:D,newQty:I},qt.value=B.missing,Fn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}const de=parseFloat(s?s.price:a.price),$e=Ve(a),te=de+$e,ht=s?cn(s,!0):cn(a,!1);if(D>=0)q.value[D].qty++,q.value[D].price=q.value[D].unit_price*q.value[D].qty,q.value[D].total_resale_discount=ht*q.value[D].qty,q.value[D].outOfStock=!1;else{const Oe=$t(a);q.value.push({id:a.id,title:a.title,img:a.img,price:te,unit_price:Number(te),qty:1,note:"",stock:Oe,ingredients:ee,variant_id:u,variant_name:s?s.name:null,addons:_,outOfStock:!1,resale_discount_per_item:ht,total_resale_discount:ht})}},Zs=a=>{const s=Ie(a),u=s?s.id:null,x=Xe(a).map(W=>W.id).sort().join("-"),D=q.value.findIndex(W=>{const ee=(W.addons||[]).map(B=>B.id).sort().join("-");return W.id===a.id&&W.variant_id===u&&ee===x});if(D<0)return;const I=q.value[D];I.qty<=1?q.value.splice(D,1):(I.qty--,I.price=I.unit_price*I.qty,I.outOfStock=!1)},pt=(a,s)=>!s||!a.variants?.length?a.ingredients??[]:a.variants.find(_=>_.id===s)?.ingredients??a.ingredients??[],it=H(null),qn=H(null);let wr=null;const Qo=(a,s)=>{it.value=JSON.parse(JSON.stringify(a)),qn.value=s;const u=Z.value.find(_=>_.id===a.id);if(u&&u.addon_groups&&u.addon_groups.length>0){const _=new Map;a.addons&&a.addons.forEach(D=>{_.set(D.id,{quantity:D.quantity||1,selected:!0})});const x=[];u.addon_groups.forEach(D=>{D.addons&&D.addons.length>0&&D.addons.forEach(I=>{const W=_.get(I.id);x.push({id:I.id,name:I.name,price:parseFloat(I.price||0),group_id:D.group_id,group_name:D.group_name,quantity:W?.quantity||1,selected:W?.selected||!1})})}),it.value.addons=x}else it.value.addons=[];if(!wr){const _=document.getElementById("addonManagementModal");_&&(wr=new bootstrap.Modal(_))}wr&&wr.show()},Xo=a=>{a.selected=!a.selected,a.selected||(a.quantity=1)},Zo=a=>{a.selected&&(a.quantity=(a.quantity||1)+1)},Bt=a=>{a.selected&&(a.quantity||1)>1&&(a.quantity-=1)},Jo=a=>a.addons?a.addons.reduce((s,u)=>u.selected!==!1?s+parseFloat(u.price)*(u.quantity||1):s,0):0,Zt=()=>{if(qn.value===null)return;const a=it.value.addons.filter(D=>D.selected!==!1),s=it.value.variant_id?Z.value.find(D=>D.id===it.value.id)?.variants?.find(D=>D.id===it.value.variant_id):null,u=parseFloat(s?s.price:it.value.unit_price),_=a.reduce((D,I)=>D+parseFloat(I.price)*(I.quantity||1),0),x=u+_;q.value[qn.value].addons=a,q.value[qn.value].unit_price=x,q.value[qn.value].price=x*q.value[qn.value].qty,V.success("Addons updated successfully!"),wr&&wr.hide(),it.value=null,qn.value=null},bl=a=>!a.addons||a.addons.length===0?"":a.addons.map(s=>s.name).join(", "),ts=()=>{let a=0;return dt.value&&typeof dt.value=="object"&&Object.values(dt.value).forEach(s=>{Array.isArray(s)&&(a+=s.length)}),a},Jt=be(()=>un.props.current_user),bi=be(()=>i.value.filter(a=>{const s=a.menu_items_count&&a.menu_items_count>0,u=a.deals_count&&a.deals_count>0;return s||u}));be(()=>Jt.value?.roles?.includes("Cashier")||Jt.value?.roles?.includes("Admin")||Jt.value?.roles?.includes("Manager"));const yi=H(`terminal-${Jt.value?.id}`),{broadcastCartUpdate:He,broadcastUIUpdate:sr}=MA(yi.value),Js=So.debounce(a=>{console.log(" Broadcasting cart:",a.items.length,"items"),He(a)},300),yl=So.debounce(a=>{console.log(" Broadcasting UI"),sr(a)},100);$i(()=>({items:q.value.map(a=>({id:a.id,title:a.name||a.title,img:a.image_url||a.img||"/assets/img/default.png",price:parseFloat(a.total||a.price||0),qty:parseInt(a.qty||1),variant_name:a.variant?.name||null,addons:(a.addons||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0)})),resale_discount_per_item:parseFloat(a.resale_discount_per_item||0)})),customer:Ze.value||"Walk In",phone_number:xt.value||"",delivery_location:ut.value||"",orderType:ye.value||"Dine In",table:Ct.value?{id:Ct.value.id,name:Ct.value.name}:null,subtotal:parseFloat(Tt.value||0),tax:parseFloat(nr.value||0),serviceCharges:parseFloat(yn.value||0),deliveryCharges:parseFloat(Zn.value||0),saleDiscount:parseFloat(rr.value||0),promoDiscount:parseFloat(tr.value||0),total:parseFloat(yr.value||0),note:Rn.value||"",appliedPromos:(Me.value||[]).map(a=>({id:a.id,name:a.name,discount:parseFloat(a.discount||0),applied_to_items:a.applied_to_items||[]}))}),a=>{console.log(" Cart changed:",a.items.length,"items, Total:",a.total),Js(a),Fo(a)},{deep:!0,immediate:!0}),$i(()=>({showCategories:Qn.value??!0,activeCat:Qt.value||null,menuCategories:(i.value||[]).map(a=>({id:a.id,name:a.name,menu_items_count:a.menu_items_count||0})),menuItems:(Z.value||[]).map(a=>({id:a.id,name:a.name,price:parseFloat(a.price||0),image_url:a.image_url||null,description:a.description||"",label_color:a.label_color||"#1B1670",category:a.category?{id:a.category.id,name:a.category.name}:null,variants:(a.variants||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0),is_saleable:s.is_saleable??!1,resale_type:s.resale_type||null,resale_value:parseFloat(s.resale_value||0)})),addon_groups:(a.addon_groups||[]).map(s=>({id:s.id,name:s.name,addons:(s.addons||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0)}))})),is_saleable:a.is_saleable??!1,resale_type:a.resale_type||null,resale_value:parseFloat(a.resale_value||0)})),searchQuery:Ye.value||"",selectedCardVariant:Ee.value||{},selectedCardAddons:Fe.value||{}}),a=>{console.log(" UI changed - Categories:",a.menuCategories.length,"Items:",a.menuItems.length),yl(a)},{deep:!0,immediate:!0});const eo=()=>{const a=route("customer-display.index",{terminal:yi.value});window.open(a,"_blank","width=1920,height=1080")},cn=(a,s=!1)=>{if(!a)return 0;const u=a.is_saleable??a?.menu_item?.is_saleable,_=a.resale_type??a?.menu_item?.resale_type,x=a.resale_value??a?.menu_item?.resale_value,D=parseFloat(a.price||0);return!u||!_||!x?0:_==="flat"?parseFloat(x):_==="percentage"?D*parseFloat(x)/100:0},Er=(a,s=!1)=>{const u=parseFloat(a.price||0),_=cn(a,s);return Math.max(0,u-_)},wi=(a,s=!1)=>{if(!a)return null;const u=a.is_saleable??a?.menu_item?.is_saleable,_=a.resale_type??a?.menu_item?.resale_type,x=a.resale_value??a?.menu_item?.resale_value,D=cn(a,s);return!u||!_||!x||D<=0?null:{type:_,value:x,amount:D,display:_==="flat"?`Sale ${n(D)}`:`${x}% OFF`}},ea=a=>{const s=Ie(a);let u;s?u=Er(s,!0):u=Er(a,!1);const _=Ve(a);return u+_},Bn=a=>{if(!a.variants||a.variants.length===0){const x=cn(a,!1)>0;return{min:Er(a,!1),max:Er(a,!1),minOriginal:x?parseFloat(a.price||0):null,maxOriginal:x?parseFloat(a.price||0):null}}const s=a.variants.map(x=>Er(x,!0)),u=a.variants.map(x=>parseFloat(x.price||0)),_=a.variants.some(x=>cn(x,!0)>0);return{min:Math.min(...s),max:Math.max(...s),minOriginal:_?Math.min(...u):null,maxOriginal:_?Math.max(...u):null}},Qr=()=>{if(!ue.value)return 0;const a=jt();return a?Er(a,!0):Er(ue.value,!1)},wl=()=>Qr()+At(),Xr=H([]),to=H(!1),no=async()=>{to.value=!0;try{const a=await axios.get("/api/deals",{params:{status:1,per_page:100}});console.log("Fetched deals:",a.data.data),Xr.value=a.data.data.map(s=>({id:s.id,title:s.name,price:s.price,img:s.image_url||"/assets/img/product/product29.jpg",description:s.description,menu_items:s.menu_items||[],status:s.status,category_id:s.category_id,category:s.category}))}catch(a){console.error("Error fetching deals:",a),V.error("Failed to load deals")}finally{to.value=!1}},ns=a=>{const s=q.value.find(u=>u.isDeal&&u.dealId===(a.dealId||a.id));return s?s.qty:0},ta=a=>{const u=+(i.value.find(x=>x.id===a)?.menu_items_count||0),_=rs(a);return u+_},rs=a=>!Xr.value||Xr.value.length===0?0:Xr.value.filter(s=>s.category_id===a).length,is=(a,s)=>{if(!mi.value)return{canAdd:!0,missing:[]};const u=[],_={};return q.value.forEach(x=>{let D=[];x.isDeal?x.menu_items?.forEach(I=>{D.push(...I.ingredients||[])}):D=x.ingredients||[],D.forEach(I=>{const W=I.inventory_item_id||I.id,ee=Number(I.inventory_stock??I.stock??0),B=Number(I.quantity??I.qty??1)*x.qty;_[W]||(_[W]={totalStock:ee,used:0,name:I.product_name||I.name,unit:I.unit||"unit"}),_[W].used+=B})}),a.menu_items.forEach(x=>{const D=x.ingredients||[];D.length!==0&&D.forEach(I=>{const W=I.inventory_item_id||I.id,ee=Number(I.quantity??I.qty??1)*s;let de=Number(I.inventory_stock??I.stock??0);_[W]&&(de=_[W].totalStock-_[W].used);const $e=q.value.find(te=>te.isDeal&&te.dealId===a.id);if($e){const te=Number(I.quantity??I.qty??1)*$e.qty;de+=te}de<ee&&u.push({deal_id:a.id,deal_title:a.title,menu_item_id:x.id,menu_item_name:x.name,inventory_item_id:W,inventory_item_name:I.product_name||I.name,required_quantity:ee,available_quantity:Math.max(0,de),shortage_quantity:ee-de,unit:I.unit||"unit",order_quantity:s})})}),{canAdd:u.length===0,missing:u}},ro=async a=>{const s=q.value.findIndex(x=>x.isDeal&&x.dealId===a.id),u=s>=0?q.value[s].qty+1:1,_=is(a,u);if(!_.canAdd){console.log(" Missing ingredients for deal (client-side)"),Gr.value={deal:a,existingIndex:s,newQty:u},qt.value=_.missing,Fn.value=!0,V.warning("Some ingredients are missing. Confirm to proceed.");return}if(s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,V.success("Deal quantity updated");else{const D=[];a.menu_items.forEach(W=>{W.ingredients&&W.ingredients.length>0&&D.push(...W.ingredients.map(ee=>({...ee,menu_item_id:W.id,menu_item_name:W.name})))});const I={id:a.id,title:a.title,price:parseFloat(a.price),unit_price:parseFloat(a.price),img:a.img,qty:1,stock:999999,ingredients:D,isDeal:!0,dealId:a.id,menu_items:a.menu_items.map(W=>({id:W.id,name:W.name,price:W.price,ingredients:W.ingredients||[],stock:pi(W.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(I),V.success(`${a.title} added to cart!`)}},El=a=>{const s=q.value.findIndex(_=>_.isDeal&&_.dealId===a.id);if(s<0)return;const u=q.value[s];u.qty<=1?(q.value.splice(s,1),V.info("Deal removed from cart")):(u.qty--,u.price=u.unit_price*u.qty,V.success("Deal quantity decreased"))};gs(()=>{no(),Hn()});const ze=H(null),Ae=H(0),Ke=H(1),Wt=H({}),Wn=H({}),Ar=H({}),or=H([]);let ss=null;const Ue=be(()=>!ze.value||!ze.value.menu_items?null:ze.value.menu_items[Ae.value]),Al=be(()=>Ei().length>0),xl=be(()=>Ue.value?.addon_groups&&Ue.value.addon_groups.length>0),mt=be(()=>{let a=[],s=1;return Al.value&&(a.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:1}),s++),xl.value&&(a.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:2}),s++),a.push({id:"review",name:"Review",stepNumber:s,actualStep:3}),a}),na=be(()=>mt.value.length),Cl=be(()=>{if(Ke.value===1)return"0%";const a=mt.value.length,s=(Ke.value-1)/(a-1);return`calc(${s*100}% - ${14-s*28}px)`}),io=be(()=>Ae.value===ze.value?.menu_items?.length-1);be(()=>ze.value?.menu_items?.length?or.value.length/ze.value.menu_items.length*100:0);const Ei=()=>Ue.value?Ue.value.ingredients||[]:[],En=a=>(Wt.value[Ae.value]||[]).includes(a),os=a=>{const s=Ae.value;Wt.value[s]||(Wt.value[s]=[]);const u=Wt.value[s],_=u.indexOf(a);_>-1?(u.splice(_,1),V.info("Ingredient added back")):(u.push(a),V.info("Ingredient removed"))},Tl=()=>{const a=Ei(),s=Wt.value[Ae.value]||[];return a.filter(u=>!s.includes(u.id)).length},Sl=()=>{const a=Ae.value,s=Wn.value[a];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{u+=_.length}),u},Il=()=>{const a=Ae.value,s=Wn.value[a];if(!s)return"";const u=[];return Object.values(s).forEach(_=>{_.forEach(x=>{u.push(`${x.name} (+${n(x.price)})`)})}),u.join(", ")},xr=()=>{const a=Ae.value,s=Wt.value[a]||[];if(s.length===0)return"";const u=Ei(),_=s.map(x=>{const D=u.find(I=>I.id===x);return D?D.product_name||D.name:null}).filter(Boolean);return _.length===0?"":`No ${_.join(", ")}`},dn=a=>a<Ke.value?"stepper-circle-completed":a===Ke.value?"stepper-circle-active":"stepper-circle-inactive",so=a=>{(a<=Ke.value||a===Ke.value+1)&&(Ke.value=a)},ra=()=>{Ke.value=mt.value[0]?.stepNumber||1},Ol=()=>{const a=mt.value.findIndex(s=>s.stepNumber===Ke.value);a<mt.value.length-1&&(Ke.value=mt.value[a+1].stepNumber)},kl=()=>{const a=mt.value.findIndex(s=>s.stepNumber===Ke.value);a>0&&(Ke.value=mt.value[a-1].stepNumber)},Dl=()=>{or.value.includes(Ae.value)||or.value.push(Ae.value),Ae.value++,z.value=0,ra(),V.success("Item customized! Configure next item.")},Nl=async()=>{if(!ze.value)return;or.value.includes(Ae.value)||or.value.push(Ae.value);const a=ze.value.menu_items.map((D,I)=>{const W=Wt.value[I]||[],ee=Wn.value[I]||{},B=Ar.value[I]||"",de=[];Object.values(ee).forEach(te=>{te.forEach(ht=>{de.push({id:ht.id,name:ht.name,price:parseFloat(ht.price||0)})})});const $e=(D.ingredients||[]).filter(te=>!W.includes(te.id)).map(te=>({id:te.id,inventory_item_id:te.inventory_item_id||te.id,product_name:te.product_name||te.name,quantity:te.quantity||te.qty||"1.00",stock:te.stock||0,unit:te.unit||"unit"}));return{id:D.id,name:D.name,price:D.price,ingredients:$e,addons:de,kitchen_note:B,removed_ingredients:W,stock:pi($e)}}),s=q.value.findIndex(D=>D.isDeal&&D.dealId===ze.value.id),u=999999,_=[];if(a.forEach(D=>{D.ingredients&&D.ingredients.length>0&&_.push(...D.ingredients.map(I=>({...I,menu_item_id:D.id,menu_item_name:D.name})))}),s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,V.success("Deal quantity updated!");else{const D={id:ze.value.id,title:ze.value.title,price:y.value,unit_price:parseFloat(ze.value.price),img:ze.value.img,qty:1,stock:u,ingredients:_,isDeal:!0,dealId:ze.value.id,menu_items:a,resale_discount_per_item:0,total_resale_discount:0};q.value.push(D),V.success(`${ze.value.title} added to cart!`)}const x=bootstrap.Modal.getInstance(document.getElementById("customizeDealModal"));x&&x.hide(),Y()},Cr=be(()=>{if(!Ue.value)return 0;const a=parseFloat(Ue.value.price||0),s=Ae.value,u=Wn.value[s];if(!u)return a;let _=0;return Object.values(u).forEach(x=>{x.forEach(D=>{_+=parseFloat(D.price||0)})}),a+_}),y=be(()=>{if(!ze.value)return 0;const a=parseFloat(ze.value.price||0);let s=0;return Object.values(Wn.value).forEach(u=>{Object.values(u).forEach(_=>{_.forEach(x=>{s+=parseFloat(x.price||0)})})}),a+s}),k=be(()=>{const a=Ae.value,s=Wn.value[a];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{_.forEach(x=>{u+=parseFloat(x.price||0)})}),u}),T=a=>{if(ze.value=a,Ae.value=0,Wt.value={},Wn.value={},Ar.value={},or.value=[],ra(),!ss){const s=document.getElementById("customizeDealModal");s&&(ss=new bootstrap.Modal(s,{backdrop:"static"}))}ss&&ss.show()},Y=()=>{ze.value=null,Ae.value=0,Ke.value=1,Wt.value={},Wn.value={},Ar.value={},or.value=[],z.value=0},le=H(!1),we=H([]),je=H(!1),Re=async()=>{if(q.value.length===0){V.error("No items in cart to hold");return}try{const a={customer_name:Ze.value,phone_number:xt.value,delivery_location:ut.value,order_type:ye.value,table_number:Ct.value?.name||null,sub_total:Tt.value,tax:nr.value,service_charges:yn.value,delivery_charges:Zn.value,sale_discount:rr.value,promo_discount:tr.value,approved_discounts:br.value,total_amount:yr.value,note:Rn.value,kitchen_note:ln.value,order_items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,unit_price:u.unit_price,note:u.note||"",item_kitchen_note:u.item_kitchen_note||"",variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],ingredients:u.ingredients||[],removed_ingredients:u.removed_ingredients||[],sale_discount_per_item:u.resale_discount_per_item||0,total_resale_discount:u.total_resale_discount||0,isDeal:u.isDeal||!1,dealId:u.dealId||null,menu_items:u.menu_items||[]})),applied_promos:Me.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),approved_discount_details:rt.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:vi(u.percentage),approval_id:u.approval_id})),selected_discounts:rt.value,terminal_id:yi.value};(await axios.post("/pending-orders",a)).data.success&&(V.success("Order held successfully!"),zi(),await Hn())}catch(a){V.error(a.response?.data?.message||"Failed to hold order")}},Hn=async()=>{je.value=!0;try{const a=await axios.get("/pending-orders");a.data.success?we.value=a.data.data:we.value=[]}catch(a){console.error("Error fetching pending orders:",a),V.error("Failed to load pending orders"),we.value=[]}finally{je.value=!1}},$l=async()=>{le.value=!0,await Hn()},en=async a=>{try{if(Ze.value=a.customer_name||Mo(),xt.value=a.phone_number||"",ut.value=a.delivery_location||"",ye.value=a.order_type,Rn.value=a.note||"",ln.value=a.kitchen_note||"",a.table_number){const s=_r.value.table_details?.find(u=>u.name===a.table_number);Ct.value=s||null}q.value=a.order_items.map(s=>({id:s.product_id,title:s.title,qty:s.quantity,price:s.price,unit_price:s.unit_price,note:s.note||"",item_kitchen_note:s.item_kitchen_note||"",img:s.img||"/assets/img/default.png",variant_id:s.variant_id||null,variant_name:s.variant_name||null,addons:s.addons||[],ingredients:s.ingredients||[],removed_ingredients:s.removed_ingredients||[],resale_discount_per_item:s.sale_discount_per_item||0,total_resale_discount:s.total_resale_discount||0,stock:s.stock||999999,isDeal:s.isDeal||!1,dealId:s.dealId||null,menu_items:s.menu_items||[]})),Me.value=a.applied_promos||[],rt.value=a.selected_discounts||[],await axios.delete(`/pending-orders/${a.id}`),V.success("Order resumed successfully!"),le.value=!1,await Hn()}catch{V.error("Failed to resume order")}},as=async a=>{try{let s="",u={};a.type==="unpaid"?(s=`/pending-orders/${a.id}`,u={order_type:"unpaid"}):(s=`/pending-orders/${a.id}`,u={order_type:"held"}),await axios.delete(s,{data:u}),V.success("Order rejected successfully"),await Hn()}catch(s){console.error("Error rejecting order:",s),V.error("Failed to reject order")}},Zr=(a,s)=>dt.value[a]?.some(u=>u.id===s),Un=(a,s)=>dt.value[a]?.find(_=>_.id===s)?.quantity||1,Ai=(a,s)=>{dt.value[a]||(dt.value[a]=[]);const u=dt.value[a].findIndex(_=>_.id===s.id);if(u>-1)dt.value[a].splice(u,1);else{const _=ue.value.addon_groups.find(x=>x.group_id===a);if(_&&_.max_select>0&&dt.value[a].length>=_.max_select){V.warning(`You can only select up to ${_.max_select} ${_.group_name}`);return}dt.value[a].push({id:s.id,name:s.name,price:parseFloat(s.price),group_id:a,quantity:1})}},xi=(a,s)=>{const u=dt.value[a]?.find(_=>_.id===s);u&&u.quantity++},Ne=(a,s)=>{const u=dt.value[a]?.find(_=>_.id===s);u&&u.quantity>1&&u.quantity--},ls=H(!1),Je=H(null),us=async()=>{if(q.value.length===0){V.error("Please add at least one item to the cart.");return}if(ye.value==="Eat_in"&&!Ct.value){V.error("Please select a table number for Dine In orders.");return}if((ye.value==="Delivery"||ye.value==="Takeaway")&&!Ze.value){V.error("Customer name is required.");return}if(ye.value==="Delivery"&&!xt.value){V.error("Phone number is required for delivery.");return}if(ye.value==="Delivery"&&!ut.value){V.error("Delivery location is required.");return}try{const a={customer_name:Ze.value,phone_number:xt.value,delivery_location:ut.value,sub_total:Tt.value,tax:nr.value,service_charges:yn.value,delivery_charges:Zn.value,sales_discount:rr.value,approved_discounts:br.value,approved_discount_details:rt.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:vi(u.percentage),approval_id:u.approval_id})),promo_discount:tr.value,applied_promos:Me.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),total_amount:yr.value,note:Rn.value,kitchen_note:ln.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:ye.value==="Eat_in"?"Eat In":ye.value,table_number:Ct.value?.name||null,items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,note:u.note??"",kitchen_note:ln.value??"",unit_price:u.unit_price,item_kitchen_note:u.item_kitchen_note??"",tax_percentage:es(u),tax_amount:ft(u),variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],sale_discount_per_item:u.resale_discount_per_item||0,removed_ingredients:u.removed_ingredients||[],is_deal:u.isDeal||!1,deal_id:u.dealId||null,menu_items:u.menu_items||[]})),confirm_missing_ingredients:!0};(await axios.post("/pos/order-without-payment",a)).data.success&&(V.success("Order placed successfully! Payment pending."),zi(),await Hn())}catch(a){console.error("Error placing order:",a),V.error(a.response?.data?.message||"Failed to place order")}},Pl=a=>{Je.value=a,Vr.value=parseFloat(a.total_amount).toFixed(2),ls.value=!0},Ll=async({paymentMethod:a,cashReceived:s,cardAmount:u,changeAmount:_,done:x})=>{try{const D={payment_method:a,cash_received:s,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?s:null,card_amount:a==="Split"?u:null},I=await axios.post(`/pos/orders/${Je.value.pos_order_id}/complete-payment`,D);I.data.success&&(V.success("Payment completed successfully!"),Ks(JSON.parse(JSON.stringify(I.data.order))),ls.value=!1,Je.value=null,await Hn())}catch(D){console.error("Payment error:",D),V.error(D.response?.data?.message||"Failed to complete payment")}finally{x&&x()}};return(a,s)=>(A(),O(Be,null,[tt(ce(jb),{title:"Sale"}),tt(Xb,null,{default:Mt(()=>[c("div",tx,[c("div",nx,[c("div",rx,[c("div",{class:nt(Qn.value?"col-md-12":"col-lg-8")},[Qn.value?(A(),O("div",ix,[c("div",sx,[s[29]||(s[29]=c("h4",{class:"mb-0"},"Categories",-1)),c("button",{onClick:eo,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...s[27]||(s[27]=[c("i",{class:"bi bi-tv"},null,-1),c("span",null,"Customer View",-1)])]),c("div",ox,[s[28]||(s[28]=c("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),S.value?at((A(),O("input",{id:E,"onUpdate:modelValue":s[0]||(s[0]=u=>v.value=u),key:g.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:E,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[cr,v.value]]):(A(),O("input",ax))])]),s[32]||(s[32]=c("hr",null,null,-1)),f.value?(A(),O("div",lx,[...s[30]||(s[30]=[c("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),c("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(A(),O(Be,{key:1},[(A(!0),O(Be,null,vt(ke.value,u=>(A(),O("div",{key:u.id,class:"col-6 col-md-4 col-lg-4 category-cards"},[c("div",{class:"cat-card",onClick:_=>Rs(u)},[c("div",cx,[c("span",dx,[u.image_url?(A(),O("img",{key:0,src:u.image_url,alt:"Category Image",class:"cat-image"},null,8,fx)):(A(),O("span",px,""))])]),c("div",hx,N(u.name),1),c("div",vx,[pe(N(ta(u.id))+" Items ",1),rs(u.id)>0?(A(),O("span",_x," ("+N(rs(u.id))+" Deal"+N(rs(u.id)>1?"s":"")+") ",1)):G("",!0)])],8,ux)]))),128)),!f.value&&ke.value.length===0?(A(),O("div",mx,[...s[31]||(s[31]=[c("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):G("",!0)],64))])):(A(),O("div",gx,[c("div",bx,[c("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:s[1]||(s[1]=u=>Fs())},[...s[33]||(s[33]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),pe(" Back ",-1)])]),c("h5",yx,N(i.value.find(u=>u.id===Qt.value)?.name||"Items"),1),c("div",wx,[tt(ry,{modelValue:ct.value,"onUpdate:modelValue":s[2]||(s[2]=u=>ct.value=u),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:il,onClear:Hs},null,8,["modelValue"]),c("div",Ex,[s[34]||(s[34]=c("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),at(c("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>Ye.value=u),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[cr,Ye.value]])])])]),Po.value.length===0?(A(),O("div",Ax,[c("div",xx,[s[38]||(s[38]=c("i",{class:"bi bi-search me-2",style:{"font-size":"2rem",opacity:"0.5"}},null,-1)),s[39]||(s[39]=c("h5",{class:"mt-2 mb-2 text-dark fw-semibold"},"No Menu Found",-1)),c("p",Cx,[Ye.value&&ct.value.priceRange&&ct.value.priceRange.length>0?(A(),O(Be,{key:0},[pe(" No items match your search and filter criteria. ")],64)):Ye.value?(A(),O(Be,{key:1},[s[35]||(s[35]=pe(' No items found matching "',-1)),c("strong",null,N(Ye.value),1),s[36]||(s[36]=pe('" ',-1))],64)):ct.value.priceRange&&ct.value.priceRange.length>0?(A(),O(Be,{key:2},[pe(" No items match the selected price range. ")],64)):(A(),O(Be,{key:3},[pe(" No Menu available in this category. ")],64))]),c("button",{class:"btn btn-sm btn-outline-secondary rounded-pill",onClick:Hs},[...s[37]||(s[37]=[c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),pe("Clear Filters ",-1)])])])])):G("",!0),c("div",Tx,[(A(!0),O(Be,null,vt(Po.value,u=>(A(),O("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:u.id},[u.isDeal?(A(),O("div",Sx,[c("div",Ix,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,Ox),c("span",kx,[s[40]||(s[40]=c("i",{class:"bi bi-gift-fill me-1"},null,-1)),pe(" "+N(ce(n)(u.price)),1)])]),c("div",Dx,[c("div",null,[c("div",Nx,N(u.title),1)]),c("div",$x,[c("button",{class:"btn btn-primary customize-deal btn-sm w-75 mb-2",onClick:Ni(_=>T(u),["stop"])}," Customize Deal ",8,Px),c("div",{class:"d-flex align-items-center justify-content-start gap-2",onClick:s[4]||(s[4]=Ni(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Ni(_=>El(u),["stop"]),disabled:ns(u)<=0},[...s[41]||(s[41]=[c("strong",null,"",-1)])],8,Lx),c("div",Mx,N(ns(u)),1),c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Ni(_=>ro(u),["stop"])},[...s[42]||(s[42]=[c("strong",null,"+",-1)])],8,Rx)])])])])):(A(),O("div",{key:1,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:wo({borderColor:u.label_color||"#1B1670"})},[c("div",Fx,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,qx),u.variants&&u.variants.length>0?(A(),O("div",Bx,[Bn(u).minOriginal!==null?(A(),O("span",Wx,N(ce(n)(Bn(u).minOriginal)),1)):G("",!0),c("span",Hx,N(ce(n)(Bn(u).min))+" - ",1),Bn(u).maxOriginal!==null?(A(),O("span",Ux,N(ce(n)(Bn(u).maxOriginal)),1)):G("",!0),c("span",Vx,N(ce(n)(Bn(u).max)),1)])):G("",!0),c("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:wo({background:u.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[wi(Ie(u)||u,!!u.variants?.length)?(A(),O(Be,{key:0},[c("span",zx,N(ce(n)(Ie(u)?.price||u.price)),1),c("span",Kx,N(ce(n)(ea(u))),1)],64)):(A(),O(Be,{key:1},[pe(N(ce(n)(Ie(u)?.price||u.price)),1)],64))],4),Ui(u)<=0?(A(),O("span",Yx," OUT OF STOCK ")):G("",!0)]),c("div",Gx,[u.variants&&u.variants.length>0&&wi(Ie(u),!0)||(!u.variants||u.variants.length===0)&&wi(u,!1)?(A(),O("span",jx,N(u.variants&&u.variants.length>0?wi(Ie(u),!0).display:wi(u,!1).display),1)):G("",!0),c("div",null,[c("div",{class:"h5 fw-bold mb-2 menu-name",style:wo({color:u.label_color||"#1B1670"})},N(u.title),5),c("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:_=>Wr(u)}," Customization ",8,Qx)]),c("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:s[5]||(s[5]=Ni(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Ni(_=>Zs(u),["stop"]),disabled:ir(u)<=0},[...s[43]||(s[43]=[c("strong",null,"",-1)])],8,Xx),c("div",Zx,N(ir(u)),1),c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Ni(_=>jo(u),["stop"])},[...s[44]||(s[44]=[c("strong",null,"+",-1)])],8,Jx)])])],4))]))),128))])]))],2),Qn.value?G("",!0):(A(),O("div",eC,[c("div",tC,[c("button",{class:"btn pending btn-info px-3 py-2",onClick:$l},[s[45]||(s[45]=pe(" Pending ",-1)),we.value.length>0?(A(),O("span",nC,N(we.value.length),1)):G("",!0)]),c("button",{class:"btn btn-warning px-3 py-2 promos-btn",onClick:We}," Promos "),c("button",{class:"btn btn-warning px-3 py-2 discount-btn",onClick:qe}," Discounts ")]),c("div",rC,[c("div",iC,[c("div",sC,[(A(!0),O(Be,null,vt(Xn.value,(u,_)=>(A(),O("button",{key:_,class:nt(["ot-pill btn cart-header-buttons",{active:ye.value===u}]),onClick:x=>ye.value=u},N(u.replace(/_/g," ")),11,oC))),128)),s[46]||(s[46]=c("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),c("div",aC,[c("div",lC,[ye.value==="Eat_in"?(A(),O("div",uC,[c("div",cC,[s[48]||(s[48]=c("label",{class:"form-label small"},"Table",-1)),at(c("select",{"onUpdate:modelValue":s[6]||(s[6]=u=>Ct.value=u),class:"form-select form-select-sm"},[s[47]||(s[47]=c("option",{value:null},"Select Table",-1)),(A(!0),O(Be,null,vt(_r.value.table_details,(u,_)=>(A(),O("option",{key:_,value:u},N(u.name),9,dC))),128))],512),[[Qb,Ct.value]]),St.value.table_number?(A(),O("div",fC,N(St.value.table_number[0]),1)):G("",!0)]),c("div",pC,[s[49]||(s[49]=c("label",{class:"form-label small"},"Customer",-1)),at(c("input",{"onUpdate:modelValue":s[7]||(s[7]=u=>Ze.value=u),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[cr,Ze.value]])])])):(A(),O("div",hC,[s[50]||(s[50]=c("label",{class:"form-label small"},"Customer",-1)),at(c("input",{"onUpdate:modelValue":s[8]||(s[8]=u=>Ze.value=u),class:nt(["form-control form-control-sm",{"is-invalid":St.value.customer}]),placeholder:"Walk In"},null,2),[[cr,Ze.value]]),St.value.customer?(A(),O("div",vC,N(St.value.customer[0]),1)):G("",!0)])),ye.value==="Delivery"?(A(),O("div",_C,[s[51]||(s[51]=c("label",{class:"form-label small"},"Delivery Location",-1)),at(c("input",{"onUpdate:modelValue":s[9]||(s[9]=u=>ut.value=u),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[cr,ut.value]]),St.value.delivery_location?(A(),O("div",mC,N(St.value.delivery_location[0]),1)):G("",!0),s[52]||(s[52]=c("label",{class:"form-label small mt-2"},"Phone Number",-1)),at(c("input",{"onUpdate:modelValue":s[10]||(s[10]=u=>xt.value=u),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[cr,xt.value]]),St.value.phone_number?(A(),O("div",gC,N(St.value.phone_number[0]),1)):G("",!0)])):G("",!0)]),c("div",bC,[q.value.length===0?(A(),O("div",yC," Add items from the left ")):G("",!0),(A(!0),O(Be,null,vt(q.value,(u,_)=>(A(),O("div",{key:u.title,class:"line"},[c("div",wC,[c("img",{src:u.img,alt:""},null,8,EC),c("div",AC,[c("div",{class:"name",title:u.title},N(u.title),9,xC),u.resale_discount_per_item>0?(A(),O("div",CC,[c("span",TC,[s[53]||(s[53]=c("i",{class:"bi bi-tag-fill"},null,-1)),pe(" Save "+N(ce(n)(u.resale_discount_per_item)),1)])])):G("",!0),u.addons&&u.addons.length>0?(A(),O("div",SC,[c("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:x=>Qo(u,_),title:bl(u)},[s[54]||(s[54]=c("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),c("span",OC,N(u.addons.length)+" addon(s)",1)],8,IC)])):G("",!0),vl(u)?(A(),O("span",kC,[...s[55]||(s[55]=[c("i",{class:"bi bi-tag-fill"},null,-1)])])):G("",!0),u.variant_name?(A(),O("div",DC,[c("span",NC,N(u.variant_name),1)])):G("",!0),u.note?(A(),O("div",$C,N(u.note),1)):G("",!0)])]),c("div",PC,[c("div",LC,[c("button",{class:"qty-btn",onClick:x=>ol(_)},"",8,MC),c("div",RC,N(u.qty),1),c("button",{class:"qty-btn",onClick:x=>Ro(_)},"+",8,FC)]),c("div",qC,[c("div",BC,N(ce(n)(u.price)),1),c("button",{class:"del",onClick:x=>al(_)},[...s[56]||(s[56]=[c("i",{class:"bi bi-trash"},null,-1)])],8,WC)])])]))),128))]),c("div",HC,[c("div",UC,[s[57]||(s[57]=c("span",null,"Sub Total",-1)),c("b",VC,N(ce(n)(Tt.value)),1)]),nr.value>0?(A(),O("div",zC,[s[58]||(s[58]=c("span",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-receipt text-info"}),pe(" Tax ")],-1)),c("b",KC,N(ce(n)(nr.value)),1)])):G("",!0),yn.value>0?(A(),O("div",YC,[s[59]||(s[59]=c("span",{class:"text-muted"},"Service Charges:",-1)),c("span",GC,N(ce(n)(yn.value)),1)])):G("",!0),Zn.value>0?(A(),O("div",jC,[s[60]||(s[60]=c("span",{class:"text-muted"},"Delivery Charges:",-1)),c("span",QC,N(ce(n)(Zn.value)),1)])):G("",!0),rr.value>0?(A(),O("div",XC,[s[61]||(s[61]=c("span",{class:"d-flex align-items-center gap-2"},[c("span",{class:"text-danger"},"Sale Discount:")],-1)),c("b",ZC,"-"+N(ce(n)(rr.value)),1)])):G("",!0),Me.value&&Me.value.length>0?(A(),O("div",JC,[c("div",eT,[c("div",tT,[s[62]||(s[62]=c("span",{class:"text-success"},"Promo Discount:",-1)),c("b",nT,"-"+N(ce(n)(tr.value)),1)])])])):G("",!0),Xt.value.length>0?(A(),O("div",rT,[s[64]||(s[64]=c("div",{class:"alert alert-warning py-2 px-3 mb-2"},[c("div",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-clock-history"}),c("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(A(!0),O(Be,null,vt(Xt.value,u=>(A(),O("div",{key:u.id,class:"trow"},[c("span",iT,[s[63]||(s[63]=c("i",{class:"bi bi-hourglass-split"},null,-1)),c("span",null,N(u.discountData?.name||"Discount")+" ("+N(u.percentage)+"%)",1)]),c("span",sT," -"+N(ce(n)(vi(u.percentage))),1)]))),128)),s[65]||(s[65]=c("small",{class:"text-muted d-block mt-1 ms-4"},[c("i",{class:"bi bi-info-circle me-1"}),pe(" Will apply after Super Admin approval ")],-1))])):G("",!0),rt.value.length>0?(A(),O("div",oT,[c("div",aT,[s[66]||(s[66]=c("div",{class:"d-flex align-items-center text-success gap-2"},[c("i",{class:"bi bi-check-circle"}),c("small",{class:"fw-semibold"},"Approved Discounts"),c("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),c("b",lT,"-"+N(ce(n)(br.value)),1)])])):G("",!0),c("div",uT,[s[67]||(s[67]=c("span",null,"Total",-1)),c("b",null,N(ce(n)(yr.value)),1)])]),c("div",cT,[tt(ce(Vf),null,{default:Mt(()=>[tt(ce(Ha),{value:"0"},{default:Mt(()=>[tt(ce(Wa),null,{default:Mt(()=>[...s[68]||(s[68]=[pe("Front Note",-1)])]),_:1}),tt(ce(Ba),null,{default:Mt(()=>[c("div",dT,[at(c("textarea",{id:"frontNote","onUpdate:modelValue":s[11]||(s[11]=u=>Rn.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[cr,Rn.value]])])]),_:1})]),_:1}),tt(ce(Ha),{value:"1"},{default:Mt(()=>[tt(ce(Wa),null,{default:Mt(()=>[...s[69]||(s[69]=[pe("Kitchen Note",-1)])]),_:1}),tt(ce(Ba),null,{default:Mt(()=>[c("div",fT,[at(c("textarea",{id:"kitchenNote","onUpdate:modelValue":s[12]||(s[12]=u=>ln.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[cr,ln.value]])])]),_:1})]),_:1})]),_:1})])]),c("div",pT,[c("button",{class:"btn btn-secondary btn-clear",onClick:s[13]||(s[13]=u=>zi())}," Clear "),c("button",{class:"btn btn-warning",onClick:Re}," Pending "),c("button",{class:"btn btn-primary btn-place",onClick:dl}," Place Order "),c("button",{class:"btn btn-info",onClick:us},[...s[70]||(s[70]=[c("i",{class:"bi bi-clock me-1"},null,-1),pe(" Pay Later ",-1)])])])])]))])]),c("div",hT,[c("div",vT,[c("div",_T,[c("div",mT,[c("div",null,[c("h5",gT,N(ue.value?.title||"Choose Item"),1),s[71]||(s[71]=c("p",{class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},"Customize your order",-1))]),s[72]||(s[72]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",bT,[c("div",yT,[s[73]||(s[73]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:wo({width:Gn.value})},null,4),(A(!0),O(Be,null,vt(lt.value,(u,_)=>(A(),O("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:nt(["stepper-circle stepper-circle-sm",Et(u.stepNumber)]),onClick:x=>Dt(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<he.value?(A(),O("i",ET)):(A(),O("span",AT,N(u.stepNumber),1))],10,wT),c("small",{class:nt(["stepper-label",{"stepper-label-active":u.stepNumber===he.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:x=>Dt(u.stepNumber)},N(u.name),11,xT)]))),128))])]),c("div",CT,[c("div",TT,[c("div",ST,[c("div",IT,[s[77]||(s[77]=c("div",{class:"d-flex align-items-center mb-2"},[c("i",{class:"bi bi-receipt me-2 text-primary",style:{"font-size":"1rem"}}),c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Price Breakdown")],-1)),c("div",OT,[s[74]||(s[74]=c("span",{class:"text-muted"},"Base Price",-1)),c("strong",null,N(ce(n)(Wi())),1)]),At()>0?(A(),O("div",kT,[s[75]||(s[75]=c("span",{class:"text-muted"},"Add-ons",-1)),c("strong",DT,"+ "+N(ce(n)(At())),1)])):G("",!0),s[78]||(s[78]=c("hr",{class:"my-2"},null,-1)),c("div",NT,[s[76]||(s[76]=c("span",{class:"fw-bold"},"Total",-1)),c("span",$T,N(ce(n)(wl())),1)])])]),c("div",PT,[c("div",LT,[at(c("div",MT,[s[80]||(s[80]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-grid-3x3-gap me-2 text-primary",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Choose Variant ")])],-1)),c("div",RT,[(A(!0),O(Be,null,vt(ue.value?.variants,u=>(A(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-3 p-2 shadow-sm variant-card",Jn.value===u.id?"border-primary bg-light":""]),onClick:_=>Pn(u.id),style:{cursor:"pointer"}},[c("div",qT,[c("div",null,[c("h6",BT,N(u.name),1)]),c("div",WT,[Jn.value===u.id?(A(),O("div",HT,[...s[79]||(s[79]=[c("i",{class:"bi bi-check-circle-fill",style:{"font-size":"1rem"}},null,-1)])])):G("",!0),c("strong",UT,N(ce(n)(u.price)),1)])])],10,FT)]))),128))])],512),[[Lr,he.value===1&&Gt.value]]),at(c("div",VT,[s[81]||(s[81]=c("div",{class:"d-flex align-items-start mb-2"},[c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Remove Ingredients")])],-1)),c("div",zT,[(A(!0),O(Be,null,vt(Ge(),u=>(A(),O("div",{key:u.id||u.inventory_item_id,class:"col-md-6"},[c("div",{class:nt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":Yt(u.id||u.inventory_item_id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"ingredient-"+(u.id||u.inventory_item_id),checked:!Yt(u.id||u.inventory_item_id),disabled:!Yt(u.id||u.inventory_item_id)&&bn()===1,onChange:_=>Nn(u.id||u.inventory_item_id)},null,40,KT),c("label",{for:"ingredient-"+(u.id||u.inventory_item_id),class:"form-check-label",style:{"font-size":"0.8rem"}},N(u.product_name||u.name),9,YT)],2)]))),128))])],512),[[Lr,lt.value[he.value-1]?.id==="ingredients"]]),at(c("div",GT,[s[87]||(s[87]=c("div",{class:"d-flex align-items-start mb-3"},[c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",{class:"flex-grow-1"},[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Add Add-ons"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Enhance your meal")])],-1)),ue.value?.addon_groups?.length>1?(A(),O("div",jT,[c("div",QT,[c("small",XT," Group "+N(C.value+1)+" of "+N(ue.value?.addon_groups?.length),1),c("div",ZT,[(A(!0),O(Be,null,vt(ue.value?.addon_groups,(u,_)=>(A(),O("span",{key:_,class:nt(["rounded-circle",_===C.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):G("",!0),M.value?(A(),O("div",JT,[c("div",eS,[c("div",tS,[c("h6",nS,N(M.value.group_name),1),M.value.max_select>0?(A(),O("span",rS," Max "+N(M.value.max_select),1)):G("",!0)]),M.value.description?(A(),O("p",iS,N(M.value.description),1)):G("",!0)]),c("div",sS,[(A(!0),O(Be,null,vt(M.value.addons,u=>(A(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":Zr(M.value.group_id,u.id)}])},[c("div",oS,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"addon-"+u.id,checked:Zr(M.value.group_id,u.id),onChange:_=>Ai(M.value.group_id,u)},null,40,aS),c("label",{for:"addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[pe(N(u.name)+" ",1),c("span",uS," +"+N(ce(n)(u.price)),1)],8,lS)]),Zr(M.value.group_id,u.id)?(A(),O("div",cS,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>Ne(M.value.group_id,u.id),disabled:Un(M.value.group_id,u.id)<=1},[...s[82]||(s[82]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,dS),c("span",fS,N(Un(M.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>xi(M.value.group_id,u.id)},[...s[83]||(s[83]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,pS)])):G("",!0)],2)]))),128))])])):G("",!0),ue.value?.addon_groups?.length>1?(A(),O("div",hS,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:U,disabled:C.value===0},[...s[84]||(s[84]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),pe(" Previous ",-1)])],8,vS),c("button",{class:"btn btn-primary btn-sm px-3",onClick:L,disabled:C.value>=ue.value?.addon_groups?.length-1},[...s[85]||(s[85]=[pe(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,_S)])):G("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:X},[...s[86]||(s[86]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Lr,lt.value[he.value-1]?.id==="addons"]]),at(c("div",mS,[s[94]||(s[94]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-cart-check me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Review Your Order"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Confirm selections")])],-1)),c("div",gS,[s[91]||(s[91]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Order Summary",-1)),Gt.value?(A(),O("div",bS,[s[88]||(s[88]=c("span",{class:"summary-label"},"Variant:",-1)),c("span",yS,N(Ms()),1)])):G("",!0),Pe.value.length>0?(A(),O("div",wS,[s[89]||(s[89]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",ES,N(yt()),1)])):G("",!0),ts()>0?(A(),O("div",AS,[s[90]||(s[90]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",xS,N(jn()),1)])):G("",!0)]),c("div",CS,[s[92]||(s[92]=c("label",{class:"me-3 fw-semibold",style:{"font-size":"0.85rem"}},"Quantity:",-1)),c("div",TS,[c("button",{class:"qty-btn",onClick:cl,disabled:_t.value<=1},"",8,SS),c("div",IS,N(_t.value),1),c("button",{class:"qty-btn",onClick:ul},"+")])]),c("div",OS,[s[93]||(s[93]=c("label",{class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},[c("i",{class:"bi bi-chat-left-text me-1"}),pe(" Kitchen Note (Optional) ")],-1)),at(c("textarea",{"onUpdate:modelValue":s[14]||(s[14]=u=>Mn.value=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions...",style:{"font-size":"0.8rem"}},null,512),[[cr,Mn.value]]),c("div",kS,N(Mn.value?.length||0)+"/200 ",1)])],512),[[Lr,lt.value[he.value-1]?.id==="review"]])])])])]),c("div",DS,[he.value>1?(A(),O("button",{key:0,class:"btn btn-light btn-sm px-4 py-2 shadow-sm",onClick:Rt},[...s[95]||(s[95]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),pe("Back ",-1)])])):G("",!0),he.value<vr.value?(A(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Br},[...s[96]||(s[96]=[pe(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):(A(),O("button",{key:2,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:ll},[...s[97]||(s[97]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),pe("Add to Cart ",-1)])]))])])])]),c("div",NS,[c("div",$S,[c("div",PS,[c("div",LS,[c("div",null,[c("h5",MS,N(ze.value?.title||"Customize Deal"),1),c("p",RS," Customizing "+N(Ue.value?.name||"item")+" ("+N(Ae.value+1)+" of "+N(ze.value?.menu_items?.length||0)+") ",1)]),s[98]||(s[98]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",FS,[c("div",qS,[s[99]||(s[99]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:wo({width:Cl.value})},null,4),(A(!0),O(Be,null,vt(mt.value,(u,_)=>(A(),O("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:nt(["stepper-circle stepper-circle-sm",dn(u.stepNumber)]),onClick:x=>so(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<Ke.value?(A(),O("i",WS)):(A(),O("span",HS,N(u.stepNumber),1))],10,BS),c("small",{class:nt(["stepper-label",{"stepper-label-active":u.stepNumber===Ke.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:x=>so(u.stepNumber)},N(u.name),11,US)]))),128))])]),c("div",VS,[c("div",zS,[c("div",KS,[c("div",YS,[c("h6",GS,[tt(ce(of),{class:"me-2 text-primary w-4"}),s[100]||(s[100]=pe(" Currently Customizing ",-1))]),c("div",jS,[c("div",QS,[c("strong",null,N(Ue.value?.name),1),c("div",XS," Base Price: "+N(ce(n)(Ue.value?.price||0)),1),k.value>0?(A(),O("div",ZS," + "+N(ce(n)(k.value))+" (Add-ons) ",1)):G("",!0),c("div",JS," Total: "+N(ce(n)(Cr.value)),1)])])]),c("div",e2,[s[101]||(s[101]=c("h6",{class:"fw-bold mb-2",style:{"font-size":"0.9rem"}},[c("i",{class:"bi bi-list-check me-2 text-success"}),pe(" Items in Deal ")],-1)),c("div",t2,[(A(!0),O(Be,null,vt(ze.value?.menu_items,(u,_)=>(A(),O("div",{key:_,class:"list-group-item px-0 py-2 border-0"},[c("div",n2,[or.value.includes(_)?(A(),O("i",r2)):_===Ae.value?(A(),on(ce(of),{key:1,class:"text-primary me-2 w-4"})):(A(),O("i",i2)),c("small",{class:nt({"fw-bold":_===Ae.value})},N(u.name),3)])]))),128))])])]),c("div",s2,[c("div",o2,[at(c("div",a2,[c("div",l2,[s[103]||(s[103]=c("i",{class:"bi bi-dash-circle me-2 text-warning",style:{"font-size":"1.1rem"}},null,-1)),c("div",null,[c("h6",u2," Remove Ingredients from "+N(Ue.value?.name),1),s[102]||(s[102]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Uncheck ingredients you don't want ",-1))])]),c("div",c2,[(A(!0),O(Be,null,vt(Ei(),u=>(A(),O("div",{key:u.id,class:"col-md-6"},[c("div",{class:nt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":En(u.id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"deal-ingredient-"+u.id,checked:!En(u.id),disabled:!En(u.id)&&Tl()===1,onChange:_=>os(u.id)},null,40,d2),c("label",{for:"deal-ingredient-"+u.id,class:"form-check-label",style:{"font-size":"0.8rem"}},N(u.product_name||u.name),9,f2)],2)]))),128))])],512),[[Lr,mt.value[Ke.value-1]?.id==="ingredients"]]),at(c("div",p2,[c("div",h2,[s[105]||(s[105]=c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}},null,-1)),c("div",v2,[c("h6",_2," Add Add-ons to "+N(Ue.value?.name),1),s[104]||(s[104]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Enhance this item (charges may apply) ",-1))])]),Ue.value?.addon_groups?.length>1?(A(),O("div",m2,[c("div",g2,[c("small",b2," Group "+N(z.value+1)+" of "+N(Ue.value?.addon_groups?.length),1),c("div",y2,[(A(!0),O(Be,null,vt(Ue.value?.addon_groups,(u,_)=>(A(),O("span",{key:_,class:nt(["rounded-circle",_===z.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):G("",!0),Q.value?(A(),O("div",w2,[c("div",E2,[c("div",A2,[c("h6",x2,N(Q.value.group_name),1),Q.value.max_select>0?(A(),O("span",C2," Max "+N(Q.value.max_select),1)):G("",!0)]),Q.value.description?(A(),O("p",T2,N(Q.value.description),1)):G("",!0)]),c("div",S2,[(A(!0),O(Be,null,vt(Q.value.addons,u=>(A(),O("div",{key:u.id,class:"col-12"},[c("div",{class:nt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":Zr(Q.value.group_id,u.id)}])},[c("div",I2,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"deal-addon-"+u.id,checked:Zr(Q.value.group_id,u.id),onChange:_=>Ai(Q.value.group_id,u)},null,40,O2),c("label",{for:"deal-addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[pe(N(u.name)+" ",1),c("span",D2," +"+N(ce(n)(u.price)),1)],8,k2)]),Zr(Q.value.group_id,u.id)?(A(),O("div",N2,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>Ne(Q.value.group_id,u.id),disabled:Un(Q.value.group_id,u.id)<=1},[...s[106]||(s[106]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,$2),c("span",P2,N(Un(Q.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>xi(Q.value.group_id,u.id)},[...s[107]||(s[107]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,L2)])):G("",!0)],2)]))),128))])])):G("",!0),Ue.value?.addon_groups?.length>1?(A(),O("div",M2,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:ie,disabled:z.value===0},[...s[108]||(s[108]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),pe(" Previous ",-1)])],8,R2),c("button",{class:"btn btn-primary btn-sm px-3",onClick:ne,disabled:z.value>=Ue.value?.addon_groups?.length-1},[...s[109]||(s[109]=[pe(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,F2)])):G("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:ae},[...s[110]||(s[110]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Lr,mt.value[Ke.value-1]?.id==="addons"]]),at(c("div",q2,[c("div",B2,[tt(ce(dy),{class:"me-2 text-primary w-5",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",W2," Review "+N(Ue.value?.name),1),s[111]||(s[111]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Confirm your customizations ",-1))])]),c("div",H2,[s[118]||(s[118]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Customization Summary",-1)),c("div",U2,[s[112]||(s[112]=c("span",{class:"summary-label"},"Item:",-1)),c("span",V2,N(Ue.value?.name),1)]),c("div",z2,[s[113]||(s[113]=c("span",{class:"summary-label"},"Base Price:",-1)),c("span",K2,N(ce(n)(Ue.value?.price||0)),1)]),xr()?(A(),O("div",Y2,[s[114]||(s[114]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",G2,N(xr()),1)])):G("",!0),Sl()>0?(A(),O("div",j2,[s[115]||(s[115]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",Q2,N(Il()),1)])):G("",!0),k.value>0?(A(),O("div",X2,[s[116]||(s[116]=c("span",{class:"summary-label"},"Add-ons Cost:",-1)),c("span",Z2," + "+N(ce(n)(k.value)),1)])):G("",!0),c("div",J2,[s[117]||(s[117]=c("span",{class:"summary-label fw-bold"},"Item Total:",-1)),c("span",eI,N(ce(n)(Cr.value)),1)])]),c("div",tI,[c("label",nI,[s[119]||(s[119]=c("i",{class:"bi bi-chat-left-text me-1"},null,-1)),pe(" Kitchen Note for "+N(Ue.value?.name)+" (Optional) ",1)]),at(c("textarea",{"onUpdate:modelValue":s[15]||(s[15]=u=>Ar.value[Ae.value]=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions for this item...",style:{"font-size":"0.8rem"}},"                                    ",512),[[cr,Ar.value[Ae.value]]]),c("div",rI,N((Ar.value[Ae.value]||"").length)+"/200 ",1)])],512),[[Lr,mt.value[Ke.value-1]?.id==="review"]])])])])]),c("div",iI,[c("div",sI,[Ke.value>1?(A(),O("button",{key:0,class:"btn btn-secondary btn-sm px-4 py-2 shadow-sm",onClick:kl},[...s[120]||(s[120]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),pe("Back ",-1)])])):G("",!0),Ke.value<na.value?(A(),O("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Ol},[...s[121]||(s[121]=[pe(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):io.value?(A(),O("button",{key:3,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Nl},[...s[123]||(s[123]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),pe("Add Deal to Cart ",-1)])])):(A(),O("button",{key:2,class:"btn btn-success btn-sm px-4 py-2 shadow-sm",onClick:Dl},[...s[122]||(s[122]=[c("i",{class:"bi bi-check2 me-1"},null,-1),pe("Next Item ",-1)])]))])])])])]),c("div",oI,[c("div",aI,[c("div",lI,[s[134]||(s[134]=c("div",{class:"modal-header border-0 pb-2"},[c("h5",{class:"modal-title fw-bold"},[c("i",{class:"bi bi-puzzle-fill text-primary me-2"}),pe(" Manage Add-ons ")]),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),it.value?(A(),O("div",uI,[c("div",cI,[c("div",dI,[c("img",{src:it.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,fI),c("div",pI,[c("div",hI,N(it.value.title),1),c("div",vI,[c("small",_I,[s[124]||(s[124]=c("i",{class:"bi bi-tag me-1"},null,-1)),s[125]||(s[125]=pe(" Base Price: ",-1)),c("span",mI,N(ce(n)(it.value?.unit_price-Jo(q.value[qn.value]||{addons:[]}))),1)]),c("small",gI,[s[126]||(s[126]=c("i",{class:"bi bi-box me-1"},null,-1)),s[127]||(s[127]=pe(" Quantity: ",-1)),c("span",bI,N(it.value.qty),1)])])])])]),it.value.addons&&it.value.addons.length>0?(A(),O("div",yI,[c("table",wI,[s[130]||(s[130]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"60px"},class:"text-center"},"Select"),c("th",null,"Items"),c("th",{style:{width:"120px"},class:"text-center"},"Price"),c("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),c("tbody",null,[(A(!0),O(Be,null,vt(it.value.addons,u=>(A(),O("tr",{key:u.id,class:nt({"table-active":u.selected!==!1})},[c("td",EI,[c("div",AI,[c("input",{type:"checkbox",class:"form-check-input",checked:u.selected!==!1,onChange:_=>Xo(u),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,xI)])]),c("td",null,[c("div",CI,[c("div",{class:nt(["addon-status-indicator",u.selected!==!1?"bg-success":"bg-secondary"])},null,2),c("div",null,[c("div",TI,N(u.name),1),u.group_name?(A(),O("small",SI,N(u.group_name),1)):G("",!0)])])]),c("td",II,[c("span",OI," +"+N(ce(n)(u.price)),1)]),c("td",null,[c("div",kI,[c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>Bt(u),disabled:!u.selected||(u.quantity||1)<=1},[...s[128]||(s[128]=[c("i",{class:"bi bi-dash-lg"},null,-1)])],8,DI),c("span",NI,N(u.quantity||1),1),c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>Zo(u),disabled:!u.selected},[...s[129]||(s[129]=[c("i",{class:"bi bi-plus-lg"},null,-1)])],8,$I)])])],2))),128))])])])):(A(),O("div",PI,[...s[131]||(s[131]=[c("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),c("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),c("div",LI,[ts()>0?(A(),O("div",MI,[c("small",RI,[s[132]||(s[132]=c("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),pe(" "+N(ts())+" add-on(s) selected  Add-ons Total: "+N(ce(n)(Jo(it.value))),1)])])):G("",!0)])])):G("",!0),c("div",{class:"modal-footer border-0 pt-0 bg-light"},[s[133]||(s[133]=c("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),c("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:Zt}," Save ")])])])]),tt(ey,{show:js.value,kot:Yi.value,loading:fl.value,onClose:s[16]||(s[16]=u=>js.value=!1),onStatusUpdated:Go},null,8,["show","kot","loading"]),tt(Zb,{show:Ur.value,order:hi.value,money:Vs,onClose:s[17]||(s[17]=u=>Ur.value=!1)},null,8,["show","order"]),tt(sf,{show:gr.value,customer:Ze.value,"delivery-location":ut.value,phone:xt.value,"order-type":ye.value,"selected-table":Ct.value,"order-items":q.value,"grand-total":yr.value,money:Vs,cashReceived:Vr.value,"onUpdate:cashReceived":s[18]||(s[18]=u=>Vr.value=u),client_secret:o.client_secret,order_code:o.order_code,"sub-total":Tt.value,tax:nr.value,"service-charges":yn.value,"delivery-charges":Zn.value,"promo-discount":tr.value,"promo-id":Me.value?.id,"promo-name":Me.value?.name,"promo-type":Me.value?.type,"promo-discount-amount":tr.value,note:Rn.value,"kitchen-note":ln.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":qo.value,change:Bo.value,onClose:s[19]||(s[19]=u=>gr.value=!1),onConfirm:Ko,appliedPromos:gl.value,"approved-discounts":br.value,"approved-discount-details":rt.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:vi(u.percentage),approval_id:u.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),tt(ny,{show:Gi.value,orders:ji.value,onClose:s[20]||(s[20]=u=>Gi.value=!1),onViewDetails:_l,loading:Qs.value},null,8,["show","orders","loading"]),tt(Jb,{show:Qi.value,loading:gi.value,promos:Zi.value,"order-items":q.value,onApplyPromo:hl,onClose:s[21]||(s[21]=u=>Qi.value=!1)},null,8,["show","loading","promos","order-items"]),tt(uy,{show:Xi.value,discounts:Ji.value,"order-items":q.value,loading:Xs.value,"applied-discounts":rt.value,"rejected-discounts":Kr.value,onClose:s[22]||(s[22]=u=>Xi.value=!1),onApplyDiscount:Uo,onClearDiscount:zo},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"]),tt(ex,{show:Fn.value,"missing-ingredients":qt.value,onClose:s[23]||(s[23]=u=>{Fn.value=!1,jr.value=null}),onConfirm:Yo},null,8,["show","missing-ingredients"]),tt(cy,{show:le.value,"pending-orders":we.value,loading:je.value,onClose:s[24]||(s[24]=u=>le.value=!1),onResume:en,onReject:as,onPayNow:Pl},null,8,["show","pending-orders","loading"]),Je.value?(A(),on(sf,{key:0,show:ls.value,customer:Je.value.customer_name,"delivery-location":Je.value.delivery_location,phone:Je.value.phone_number,"order-type":Je.value.order_type,"selected-table":{name:Je.value.table_number},"order-items":Je.value.order_items,"grand-total":Je.value.total_amount,"sub-total":Je.value.sub_total,tax:Je.value.tax,"service-charges":Je.value.service_charges,"delivery-charges":Je.value.delivery_charges,"promo-discount":Je.value.promo_discount,note:Je.value.note,"kitchen-note":Je.value.kitchen_note,cashReceived:Vr.value,"onUpdate:cashReceived":s[25]||(s[25]=u=>Vr.value=u),money:Vs,onClose:s[26]||(s[26]=u=>{ls.value=!1,Je.value=null}),onConfirm:Ll,"is-payment-only":!0},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","sub-total","tax","service-charges","delivery-charges","promo-discount","note","kitchen-note","cashReceived"])):G("",!0)])]),_:1})],64))}},fO=Kb(FI,[["__scopeId","data-v-54c5c070"]]);export{fO as default};

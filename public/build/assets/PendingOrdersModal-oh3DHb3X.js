import{_ as w,g as o,b as n,f as s,l as u,p as c,F as b,i as f,t as a,u as x,y as k,K as $,j as C}from"./app-V2s1lVwu.js";import{u as j}from"./useFormatters-DBoQqG9N.js";const M={class:"modal-dialog modal-xl modal-dialog-scrollable"},O={class:"modal-content rounded-4 border-0 shadow-lg"},B={class:"modal-header border-0 bg-warning bg-opacity-10"},D={class:"modal-body p-4"},I={key:0,class:"text-center py-5"},L={key:1,class:"text-center py-5"},N={key:2,class:"row g-3"},P={class:"card shadow-sm border-warning border-2 hover-shadow"},R={class:"card-body p-3"},T={class:"align-items-center"},z={class:"col-lg-12"},F={class:"d-flex align-items-start gap-3"},H={class:"flex-grow-1"},S={class:"fw-bold mb-1"},V={class:"badge ms-2",style:{"background-color":"#1C0D82",padding:"8px","border-radius":"6px"}},A={key:0,class:"badge bg-info ms-1"},W={class:"text-muted small mb-2"},q={class:"mb-2"},E={class:"fw-semibold text-secondary"},K={class:"d-flex flex-wrap gap-1 mt-1"},U={key:0,class:"badge bg-secondary"},G={class:"fw-bold text-success fs-5"},J={class:"d-flex gap-2 mt-2"},Q=["onClick"],X=["onClick"],Y={class:"modal-footer border-0"},Z={key:0,class:"modal-backdrop fade show"},ss={__name:"PendingOrdersModal",props:{show:Boolean,pendingOrders:{type:Array,default:()=>[]},loading:Boolean},emits:["close","resume","reject"],setup(l,{emit:h}){const{formatCurrencySymbol:y}=j(),p=h,v=i=>{const e=new Date,t=new Date(i),r=e-t,d=Math.floor(r/6e4);if(d<1)return"just now";if(d<60)return`${d} min${d>1?"s":""} ago`;const m=Math.floor(d/60);if(m<24)return`${m} hour${m>1?"s":""} ago`;const g=Math.floor(m/24);return`${g} day${g>1?"s":""} ago`},_=i=>{confirm(`Are you sure you want to reject order for "${i.customer_name||"Walk In"}"? This action cannot be undone.`)&&p("reject",i)};return(i,e)=>(n(),o(b,null,[s("div",{class:C(["modal fade",{show:l.show,"d-block":l.show}]),style:$({display:l.show?"block":"none"}),tabindex:"-1",onClick:e[2]||(e[2]=k(t=>i.$emit("close"),["self"]))},[s("div",M,[s("div",O,[s("div",B,[e[4]||(e[4]=s("div",null,[s("h5",{class:"fw-bold mb-0"},[s("i",{class:"bi bi-clock-history text-warning me-2"}),c(" Pending Orders ")]),s("small",{class:"text-muted"},"Hold and resume orders")],-1)),s("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:e[0]||(e[0]=t=>i.$emit("close"))},[...e[3]||(e[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",D,[l.loading?(n(),o("div",I,[...e[5]||(e[5]=[s("div",{class:"spinner-border text-warning",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),s("p",{class:"mt-3 text-muted"},"Loading pending orders...",-1)])])):!l.loading&&(!l.pendingOrders||l.pendingOrders.length===0)?(n(),o("div",L,[...e[6]||(e[6]=[s("i",{class:"bi bi-inbox",style:{"font-size":"4rem",opacity:"0.2"}},null,-1),s("p",{class:"mt-3 text-muted fw-semibold"},"No pending orders",-1),s("p",{class:"text-muted small"},'Use "Pending" button to hold orders',-1)])])):(n(),o("div",N,[(n(!0),o(b,null,f(l.pendingOrders,t=>(n(),o("div",{key:t.id,class:"col-4"},[s("div",P,[s("div",R,[s("div",T,[s("div",z,[s("div",F,[s("div",H,[s("h6",S,[c(a(t.customer_name||"Walk In")+" ",1),s("span",V,a(t.order_type.replace("_"," ")),1),t.table_number?(n(),o("span",A,a(t.table_number),1)):u("",!0)]),s("p",W,[e[7]||(e[7]=s("i",{class:"bi bi-clock me-1"},null,-1)),c(" Held "+a(v(t.held_at)),1)]),s("div",q,[s("small",E,"Items ("+a(t.order_items.length)+"):",1),s("div",K,[(n(!0),o(b,null,f(t.order_items.slice(0,3),(r,d)=>(n(),o("span",{key:d,class:"badge bg-light text-dark border"},a(r.title)+" ("+a(r.quantity)+"x) ",1))),128)),t.order_items.length>3?(n(),o("span",U," +"+a(t.order_items.length-3)+" more ",1)):u("",!0)])]),s("div",G," Total: "+a(x(y)(t.total_amount)),1)])]),s("div",J,[s("button",{class:"btn btn-success btn-sm flex-fill d-flex align-items-center justify-content-center gap-2",onClick:r=>i.$emit("resume",t)},[...e[8]||(e[8]=[s("i",{class:"bi bi-play-fill"},null,-1),c(" Resume ",-1)])],8,Q),s("button",{class:"btn btn-danger btn-sm flex-fill d-flex align-items-center justify-content-center gap-2",onClick:r=>_(t)},[...e[9]||(e[9]=[s("i",{class:"bi bi-trash"},null,-1),c(" Reject ",-1)])],8,X)])])])])])]))),128))]))]),s("div",Y,[s("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:e[1]||(e[1]=t=>i.$emit("close"))}," Close ")])])])],6),l.show?(n(),o("div",Z)):u("",!0)],64))}},os=w(ss,[["__scopeId","data-v-ad065609"]]);export{os as default};

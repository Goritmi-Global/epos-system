import{_ as b,R as y,y as f,r as h,f as d,b as n,m as _,e as a,k as o,Y as m,i,d as E,u as V,t as u,v as g}from"./app-baHdzX7S.js";import{s as k}from"./index-tg5gZg4X.js";import"./index-DGgLky8h.js";import"./index-D9rIg3-D.js";import"./index-BNo_v1CF.js";import"./index-CmNiH7Xq.js";const T={key:0,class:"fw-bold mb-4"},U={class:"mb-3"},S={class:"segmented"},w={key:1,class:"row g-3"},N={class:"col-md-6"},O={key:0,class:"text-danger"},I={class:"col-md-3"},Y={key:0,class:"text-danger"},A={class:"col-md-3"},C={key:0,class:"text-danger"},F={key:2,class:"mt-3"},B={key:0,class:"text-danger"},D={class:"mt-3"},R={class:"segmented"},P={class:"mt-4"},j={class:"segmented"},q={key:3,class:"row g-3 mt-2"},G={class:"col-md-6"},M={key:0,class:"text-danger"},z={class:"col-md-6"},L={key:0,class:"text-danger"},H={class:"mt-4"},J={class:"segmented"},K={key:4,class:"row g-3 mt-2"},Q={class:"col-md-6"},W={key:0,class:"text-danger"},X={class:"col-md-6"},Z={key:0,class:"text-danger"},$={__name:"Step4",props:{model:Object,formErrors:Object,isOnboarding:{type:Boolean,default:!1}},emits:["save"],setup(s,{emit:v}){const c=s,x=v,e=y({tax_registered:c.model.tax_registered??1,tax_type:c.model.tax_type??"VAT",tax_rate:c.model.tax_rate??0,price_includes_tax:c.model.price_includes_tax?1:0,tax_id:c.model.tax_id??null,extra_tax_rates:c.model.extra_tax_rates??"",has_service_charges:c.model.has_service_charges?1:0,service_charge_flat:c.model.service_charge_flat??null,service_charge_percentage:c.model.service_charge_percentage??null,has_delivery_charges:c.model.has_delivery_charges?1:0,delivery_charge_flat:c.model.delivery_charge_flat??null,delivery_charge_percentage:c.model.delivery_charge_percentage??null});f(e,()=>{const l={step:4,data:{tax_registered:Number(e.tax_registered),price_includes_tax:Number(e.price_includes_tax),has_service_charges:Number(e.has_service_charges),has_delivery_charges:Number(e.has_delivery_charges)}};Number(e.tax_registered)===1?(l.data.tax_type=e.tax_type,l.data.tax_rate=e.tax_rate,l.data.tax_id=e.tax_id,l.data.extra_tax_rates=e.extra_tax_rates||""):(l.data.tax_type="",l.data.tax_rate=0,l.data.tax_id="",l.data.extra_tax_rates=0),Number(e.has_service_charges)===1?(l.data.service_charge_flat=e.service_charge_flat||null,l.data.service_charge_percentage=e.service_charge_percentage||null):(l.data.service_charge_flat=null,l.data.service_charge_percentage=null),Number(e.has_delivery_charges)===1?(l.data.delivery_charge_flat=e.delivery_charge_flat||null,l.data.delivery_charge_percentage=e.delivery_charge_percentage||null):(l.data.delivery_charge_flat=null,l.data.delivery_charge_percentage=null),x("save",l)},{deep:!0,immediate:!0});const p=h([{name:"VAT",code:"VAT"},{name:"GST",code:"GST"},{name:"Sales Tax",code:"Sales Tax"}]);return(l,t)=>(n(),d("div",null,[c.isOnboarding?(n(),d("h5",T,"Step 4 of 9 - Tax & VAT Setup")):_("",!0),a("div",U,[t[16]||(t[16]=a("label",{class:"form-label d-block mb-2"},"Is your business tax registered?",-1)),a("div",S,[o(a("input",{type:"radio",id:"tax-yes",value:1,"onUpdate:modelValue":t[0]||(t[0]=r=>e.tax_registered=r),class:"segmented__input"},null,512),[[m,e.tax_registered,void 0,{number:!0}]]),a("label",{for:"tax-yes",class:i(["segmented__btn",{"is-active":e.tax_registered===1}])},"YES",2),o(a("input",{type:"radio",id:"tax-no",value:0,"onUpdate:modelValue":t[1]||(t[1]=r=>e.tax_registered=r),class:"segmented__input"},null,512),[[m,e.tax_registered,void 0,{number:!0}]]),a("label",{for:"tax-no",class:i(["segmented__btn",{"is-active":e.tax_registered===0}])},"NO",2)])]),e.tax_registered===1?(n(),d("div",w,[a("div",N,[t[17]||(t[17]=a("label",{class:"form-label"},"Tax Type",-1)),E(V(k),{modelValue:e.tax_type,"onUpdate:modelValue":t[2]||(t[2]=r=>e.tax_type=r),options:p.value,optionLabel:"name",optionValue:"code",pt:{root:{class:"bg-white text-black"},label:{class:"text-black"},listContainer:{class:"bg-white text-black"},option:{class:"text-black hover:bg-gray-100"},header:{class:"bg-white text-black"},IconField:{class:"bg-white"},InputText:{class:"bg-white"},pcFilter:{class:"bg-white"},pcFilterContainer:{class:"bg-white"}},placeholder:"Select Tax Type",class:i(["w-100",{"is-invalid":s.formErrors?.tax_type}])},null,8,["modelValue","options","class"]),s.formErrors?.tax_type?(n(),d("small",O,u(s.formErrors.tax_type[0]),1)):_("",!0)]),a("div",I,[t[18]||(t[18]=a("label",{class:"form-label"},"Tax Rate (%)",-1)),o(a("input",{type:"number",class:i(["form-control",{"is-invalid":s.formErrors?.tax_rate}]),min:"0",max:"100","onUpdate:modelValue":t[3]||(t[3]=r=>e.tax_rate=r)},null,2),[[g,e.tax_rate,void 0,{number:!0}]]),s.formErrors?.tax_rate?(n(),d("small",Y,u(s.formErrors.tax_rate[0]),1)):_("",!0)]),a("div",A,[t[19]||(t[19]=a("label",{class:"form-label"},"Tax ID",-1)),o(a("input",{class:i([{"is-invalid":s.formErrors?.tax_id},"form-control"]),"onUpdate:modelValue":t[4]||(t[4]=r=>e.tax_id=r)},null,2),[[g,e.tax_id]]),s.formErrors?.tax_id?(n(),d("small",C,u(s.formErrors.tax_id[0]),1)):_("",!0)])])):_("",!0),e.tax_registered===1?(n(),d("div",F,[t[20]||(t[20]=a("label",{class:"form-label"},"Extra Tax Rates",-1)),o(a("input",{class:i(["form-control",{"is-invalid":s.formErrors?.extra_tax_rates}]),"onUpdate:modelValue":t[5]||(t[5]=r=>e.extra_tax_rates=r),placeholder:"e.g. 5%"},null,2),[[g,e.extra_tax_rates]]),s.formErrors?.extra_tax_rates?(n(),d("small",B,u(s.formErrors.extra_tax_rates[0]),1)):_("",!0)])):_("",!0),a("div",D,[t[21]||(t[21]=a("label",{class:"form-label d-block mb-2"},"Price includes tax?",-1)),a("div",R,[o(a("input",{type:"radio",id:"price-yes",value:1,"onUpdate:modelValue":t[6]||(t[6]=r=>e.price_includes_tax=r),class:"segmented__input"},null,512),[[m,e.price_includes_tax]]),a("label",{for:"price-yes",class:i(["segmented__btn",{"is-active":e.price_includes_tax===1}])},"YES",2),o(a("input",{type:"radio",id:"price-no",value:0,"onUpdate:modelValue":t[7]||(t[7]=r=>e.price_includes_tax=r),class:"segmented__input"},null,512),[[m,e.price_includes_tax]]),a("label",{for:"price-no",class:i(["segmented__btn",{"is-active":e.price_includes_tax===0}])},"NO",2)])]),a("div",P,[t[22]||(t[22]=a("label",{class:"form-label d-block mb-2"},"Is there any Service Charges?",-1)),a("div",j,[o(a("input",{type:"radio",id:"service-yes",value:1,"onUpdate:modelValue":t[8]||(t[8]=r=>e.has_service_charges=r),class:"segmented__input"},null,512),[[m,e.has_service_charges,void 0,{number:!0}]]),a("label",{for:"service-yes",class:i(["segmented__btn",{"is-active":e.has_service_charges===1}])},"YES",2),o(a("input",{type:"radio",id:"service-no",value:0,"onUpdate:modelValue":t[9]||(t[9]=r=>e.has_service_charges=r),class:"segmented__input"},null,512),[[m,e.has_service_charges,void 0,{number:!0}]]),a("label",{for:"service-no",class:i(["segmented__btn",{"is-active":e.has_service_charges===0}])},"NO",2)])]),e.has_service_charges===1?(n(),d("div",q,[a("div",G,[t[23]||(t[23]=a("label",{class:"form-label"},"Flat Amount (Optional)",-1)),o(a("input",{type:"number",class:i(["form-control",{"is-invalid":s.formErrors?.service_charge_flat}]),min:"0",step:"0.01","onUpdate:modelValue":t[10]||(t[10]=r=>e.service_charge_flat=r),placeholder:"e.g. 50"},null,2),[[g,e.service_charge_flat,void 0,{number:!0}]]),s.formErrors?.service_charge_flat?(n(),d("small",M,u(s.formErrors.service_charge_flat[0]),1)):_("",!0)]),a("div",z,[t[24]||(t[24]=a("label",{class:"form-label"},"Percentage (Optional)",-1)),o(a("input",{type:"number",class:i(["form-control",{"is-invalid":s.formErrors?.service_charge_percentage}]),min:"0",max:"100",step:"0.01","onUpdate:modelValue":t[11]||(t[11]=r=>e.service_charge_percentage=r),placeholder:"e.g. 10%"},null,2),[[g,e.service_charge_percentage,void 0,{number:!0}]]),s.formErrors?.service_charge_percentage?(n(),d("small",L,u(s.formErrors.service_charge_percentage[0]),1)):_("",!0)]),t[25]||(t[25]=a("div",{class:"col-12"},[a("small",{class:"text-muted"},"* You can enter either flat amount or percentage, not both required.")],-1))])):_("",!0),a("div",H,[t[26]||(t[26]=a("label",{class:"form-label d-block mb-2"},"Is there any Delivery Charges?",-1)),a("div",J,[o(a("input",{type:"radio",id:"delivery-yes",value:1,"onUpdate:modelValue":t[12]||(t[12]=r=>e.has_delivery_charges=r),class:"segmented__input"},null,512),[[m,e.has_delivery_charges,void 0,{number:!0}]]),a("label",{for:"delivery-yes",class:i(["segmented__btn",{"is-active":e.has_delivery_charges===1}])},"YES",2),o(a("input",{type:"radio",id:"delivery-no",value:0,"onUpdate:modelValue":t[13]||(t[13]=r=>e.has_delivery_charges=r),class:"segmented__input"},null,512),[[m,e.has_delivery_charges,void 0,{number:!0}]]),a("label",{for:"delivery-no",class:i(["segmented__btn",{"is-active":e.has_delivery_charges===0}])},"NO",2)])]),e.has_delivery_charges===1?(n(),d("div",K,[a("div",Q,[t[27]||(t[27]=a("label",{class:"form-label"},"Flat Amount (Optional)",-1)),o(a("input",{type:"number",class:i(["form-control",{"is-invalid":s.formErrors?.delivery_charge_flat}]),min:"0",step:"0.01","onUpdate:modelValue":t[14]||(t[14]=r=>e.delivery_charge_flat=r),placeholder:"e.g. 100"},null,2),[[g,e.delivery_charge_flat,void 0,{number:!0}]]),s.formErrors?.delivery_charge_flat?(n(),d("small",W,u(s.formErrors.delivery_charge_flat[0]),1)):_("",!0)]),a("div",X,[t[28]||(t[28]=a("label",{class:"form-label"},"Percentage (Optional)",-1)),o(a("input",{type:"number",class:i(["form-control",{"is-invalid":s.formErrors?.delivery_charge_percentage}]),min:"0",max:"100",step:"0.01","onUpdate:modelValue":t[15]||(t[15]=r=>e.delivery_charge_percentage=r),placeholder:"e.g. 5%"},null,2),[[g,e.delivery_charge_percentage,void 0,{number:!0}]]),s.formErrors?.delivery_charge_percentage?(n(),d("small",Z,u(s.formErrors.delivery_charge_percentage[0]),1)):_("",!0)]),t[29]||(t[29]=a("div",{class:"col-12"},[a("small",{class:"text-muted"},"* You can enter either flat amount or percentage, not both required.")],-1))])):_("",!0)]))}},ie=b($,[["__scopeId","data-v-88791b0a"]]);export{ie as default};

import{r as k,u as I}from"./xlsx-2kOoNY3L.js";import{_ as S,r as C,f as j,b as F,e,t as M,B as c,F as _,q as m}from"./app-D-YzN2ok.js";const z=["data-bs-target"],B={class:"modal-dialog modal-dialog-centered"},E={class:"modal-content border-0 shadow-lg",style:{"border-radius":"20px",overflow:"hidden"}},D={class:"modal-body",style:{padding:"2rem 1.5rem"}},N={class:"row g-3"},Y={class:"col-6"},A={class:"col-6"},H={__name:"importFile",props:{label:{type:String,default:"Import"},sampleHeaders:{type:Array,default:()=>[]},sampleData:{type:Array,default:()=>[]}},emits:["on-import"],setup(i,{emit:p}){const l=i,f=p,n=C(null),r=`modalImport-${l.label.replace(/\s+/g,"-")}`,u=()=>{n.value.click()},v=async o=>{const t=o.target.files[0];if(t)try{const s=new FileReader;s.onload=a=>{const d=a.target.result,b=k(d,{type:"binary"}),w=b.SheetNames[0],x=b.Sheets[w],h=I.sheet_to_json(x,{header:1});f("on-import",h),n.value.value="",g()},s.readAsBinaryString(t)}catch(s){m.error("Import failed: "+s.message)}},g=()=>{const o=document.getElementById(r);(window.bootstrap?.Modal.getInstance(o)||new window.bootstrap.Modal(o)).hide()},y=()=>{if(!l.sampleHeaders.length){m.warn("No sample format defined for this module.");return}const t=[l.sampleHeaders,...l.sampleData].map(d=>d.join(",")).join(`
`),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=`${l.label}_Sample.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a)};return(o,t)=>(F(),j(_,null,[e("button",{class:"btn btn-primary py-2 btn-sm rounded-pill px-4","data-bs-toggle":"modal","data-bs-target":`#${r}`},M(i.label),9,z),e("div",{class:"modal fade",id:r,tabindex:"-1","aria-hidden":"true"},[e("div",B,[e("div",E,[t[8]||(t[8]=c('<div class="modal-header" data-v-3bfc6beb><h5 class="modal-title fw-semibold" data-v-3bfc6beb> Import </h5><button class="absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110" data-bs-dismiss="modal" aria-label="Close" title="Close" data-v-3bfc6beb><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-v-3bfc6beb><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" data-v-3bfc6beb></path></svg></button></div>',1)),e("div",D,[t[6]||(t[6]=c('<div class="d-flex align-items-start mb-4" data-v-3bfc6beb><div class="flex-shrink-0 me-3" data-v-3bfc6beb><div class="rounded-circle d-flex align-items-center justify-content-center" style="width:48px;height:48px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);" data-v-3bfc6beb><span style="font-size:1.5rem;" data-v-3bfc6beb>ğŸ“‹</span></div></div><div class="flex-grow-1" data-v-3bfc6beb><h6 class="fw-bold mb-3" style="color:#2d3748;font-size:1.1rem;" data-v-3bfc6beb>Import Guidelines</h6><ul class="list-unstyled mb-0" data-v-3bfc6beb><li class="mb-2 d-flex align-items-start" data-v-3bfc6beb><span class="text-success me-2" data-v-3bfc6beb>âœ“</span><span style="color:#4a5568;font-size:0.925rem;" data-v-3bfc6beb>File must be in <strong data-v-3bfc6beb>CSV</strong> or <strong data-v-3bfc6beb>Excel</strong> format</span></li><li class="mb-2 d-flex align-items-start" data-v-3bfc6beb><span class="text-success me-2" data-v-3bfc6beb>âœ“</span><span style="color:#4a5568;font-size:0.925rem;" data-v-3bfc6beb>Ensure column order matches the required structure</span></li><li class="mb-0 d-flex align-items-start" data-v-3bfc6beb><span class="text-success me-2" data-v-3bfc6beb>âœ“</span><span style="color:#4a5568;font-size:0.925rem;" data-v-3bfc6beb>Empty rows will be ignored automatically</span></li></ul></div></div>',1)),e("div",N,[e("div",Y,[e("button",{class:"btn btn-primary w-100 rounded-pill d-flex align-items-center justify-content-center gap-2 py-2",onClick:y,onMouseover:t[0]||(t[0]=s=>s.target.style.transform="translateY(-2px)"),onMouseout:t[1]||(t[1]=s=>s.target.style.transform="translateY(0)")},[...t[4]||(t[4]=[e("i",{class:"bi bi-download",style:{"font-size":"1rem"}},null,-1),e("span",null,"Download Sample",-1)])],32)]),e("div",A,[e("button",{class:"btn btn-primary rounded-pill w-100 d-flex align-items-center justify-content-center gap-2 py-2 text-white",onClick:u,onMouseover:t[2]||(t[2]=s=>{s.target.style.transform="translateY(-2px)",s.target.style.boxShadow="0 8px 20px rgba(102, 126, 234, 0.4)"}),onMouseout:t[3]||(t[3]=s=>{s.target.style.transform="translateY(0)",s.target.style.boxShadow="none"})},[...t[5]||(t[5]=[e("span",{style:{"font-size":"1rem"}},"ğŸ“",-1),e("span",null,"Import File",-1)])],32)])]),t[7]||(t[7]=e("div",{class:"mt-4 pt-3 border-top"},[e("p",{class:"text-center mb-0 small",style:{color:"#a0aec0"}},[e("span",{style:{"font-size":"1rem","vertical-align":"middle"}},"ğŸ’¡"),e("span",{class:"ms-1"},"Need help? Check our documentation for detailed instructions")])],-1))])])])]),e("input",{type:"file",ref_key:"fileInput",ref:n,accept:".csv, .xlsx, .xls",class:"d-none",onChange:v},null,544)],64))}},V=S(H,[["__scopeId","data-v-3bfc6beb"]]);export{V as I};

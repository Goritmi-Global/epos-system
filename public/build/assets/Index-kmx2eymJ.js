import{r as j,R as Db,b6 as Go,y as ii,c as Be,k as gt,m as de,Z as Ps,f as P,b as M,e as p,l as Ge,t as W,F as Ye,g as bt,_ as Lb,o as ks,n as Bl,A as kb,z as $b,q as ue,d as cn,u as Ce,h as Rb,w as Ul,i as ar,v as lr,K as jo,x as Xo,S as wd}from"./app-BHCF9gxb.js";import{_ as Pb}from"./Master-BqenoihS.js";import Mb from"./ConfirmOrderModal-CjEgqmVO.js";import Fb from"./ReceiptModal-iqghncTz.js";import Bb from"./PromoModal-4ALUBARl.js";import Ub from"./KotModal-D0bKN8VH.js";import{u as Wb}from"./useFormatters-CNLACycD.js";import qb from"./PosOrdersModal-CZ__3ZkY.js";import{F as Hb}from"./FilterModal-B-oKYLn0.js";import{s as Ed}from"./index-Bw4n_Y7o.js";import Vb from"./DiscountModal-oo1BNBV9.js";import"./index-BUsAt4AS.js";import"./createLucideIcon-WaNY8H3x.js";import"./index-CJh6UpNT.js";import"./index-BlK3j3SE.js";import"./sun-9ynVzz2Y.js";import"./StripePayment-DZ2gpBSX.js";import"./SplitPayment-Dz8TEtQD.js";import"./Receipt-DsxAQ7hT.js";import"./clock-Qjsduy3a.js";import"./circle-check-big-RpxrakQ0.js";import"./circle-x-CYFXPxFM.js";import"./printer-DS-dIuhH.js";import"./index-C_AZg5cg.js";import"./index-7ihxNO0s.js";import"./index-SwrYJGb2.js";const he=Db({device:null,connected:!1,printerName:null,webUSBSupported:!1,lastError:null}),Te={INIT:[27,64],CUT:[29,86,0],PARTIAL_CUT:[29,86,1],FEED:[27,100],ALIGN_LEFT:[27,97,0],ALIGN_CENTER:[27,97,1],ALIGN_RIGHT:[27,97,2],BOLD_ON:[27,69,1],BOLD_OFF:[27,69,0],DOUBLE_ON:[29,33,17],DOUBLE_OFF:[29,33,0]},Ad=[1155,1046,1049,1208,1317,1659,5380,6790,3540,4070,8401,5455];function Kb(){const n=j(!1),i=()=>(he.webUSBSupported="usb"in navigator,he.webUSBSupported),d=async()=>{if(!he.webUSBSupported)return[];try{return(await navigator.usb.getDevices()).filter(H=>Ad.includes(H.vendorId)||H.productName?.toLowerCase().includes("printer")||H.productName?.toLowerCase().includes("pos")||H.productName?.toLowerCase().includes("thermal"))}catch(O){return console.error("Error getting USB devices:",O),[]}},_=async()=>{if(!he.webUSBSupported)return he.lastError="WebUSB not supported. Use Chrome or Edge.",!1;try{n.value=!0,he.lastError=null;const O=Ad.map(ne=>({vendorId:ne}));he.device=await navigator.usb.requestDevice({filters:O}),await he.device.open(),he.device.configuration===null&&await he.device.selectConfiguration(1);const H=he.device.configuration.interfaces[0].interfaceNumber;return await he.device.claimInterface(H),he.connected=!0,he.printerName=he.device.productName||"USB Printer",localStorage.setItem("usb_printer_connected","true"),!0}catch(O){return he.lastError=O.message,he.connected=!1,!1}finally{n.value=!1}},w=async()=>{if(he.device&&he.connected){try{await he.device.close()}catch{}he.device=null,he.connected=!1,he.printerName=null,localStorage.removeItem("usb_printer_connected")}},g=async O=>{if(!he.connected||!he.device)throw new Error("Printer not connected");const H=he.device.configuration.interfaces[0].alternate.endpoints.find(L=>L.direction==="out");if(!H)throw new Error("No output endpoint found");const ne=O instanceof Uint8Array?O:new Uint8Array(O);await he.device.transferOut(H.endpointNumber,ne)},x=O=>new TextEncoder().encode(O+`
`),A=async O=>{await g(x(O))},F=async(O,H)=>{const ne=48-O.length-H.length,L=O+" ".repeat(Math.max(1,ne))+H;await A(L)},I=(O,H="£")=>H+parseFloat(O).toFixed(2),U=async(O="-")=>{await A(O.repeat(48))},J=async(O,H)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").customer_printer||"browser")==="browser"||!he.connected)return ee(O,H);try{n.value=!0,await g(new Uint8Array(Te.INIT)),await g(new Uint8Array(Te.ALIGN_CENTER)),await g(new Uint8Array(Te.BOLD_ON)),await g(new Uint8Array(Te.DOUBLE_ON)),await A((H.name||"Business").toUpperCase()),await g(new Uint8Array(Te.DOUBLE_OFF)),await g(new Uint8Array(Te.BOLD_OFF)),H.phone&&await A(H.phone),H.address&&await A(H.address),await U("="),await g(new Uint8Array(Te.BOLD_ON)),await A("CUSTOMER RECEIPT"),await g(new Uint8Array(Te.BOLD_OFF)),await U("="),await g(new Uint8Array(Te.ALIGN_LEFT)),await F("Date:",O.order_date||new Date().toLocaleDateString()),await F("Time:",O.order_time||new Date().toLocaleTimeString()),await F("Customer:",O.customer_name||"Walk In"),await F("Order Type:",O.order_type||"Collection"),O.note&&await F("Note:",O.note),await U("-"),await g(new Uint8Array(Te.BOLD_ON)),await A("Item                     Qty    Price    Total"),await g(new Uint8Array(Te.BOLD_OFF)),await U("-");const $=H.currency||"£";for(const X of O.items||[]){const le=(X.title||"Item").substring(0,24).padEnd(24),Ie=(X.quantity||X.qty||1).toString().padStart(4),Ne=I(X.unit_price||X.price||0,$).padStart(8),fe=I((X.unit_price||X.price||0)*(X.quantity||X.qty||1),$).padStart(8);await A(le+Ie+Ne+fe)}if(await U("-"),await F("Subtotal:",I(O.sub_total||0,$)),await g(new Uint8Array(Te.BOLD_ON)),await F("Total:",I(O.total_amount||O.sub_total||0,$)),await g(new Uint8Array(Te.BOLD_OFF)),O.payment_type&&(await g(new Uint8Array([...Te.FEED,1])),await F("Payment:",O.payment_type.toUpperCase()),O.payment_type==="cash"&&O.cash_received>0)){await F("Cash Received:",I(O.cash_received,$));const X=O.cash_received-(O.total_amount||O.sub_total||0);X>0&&await F("Change:",I(X,$))}return await g(new Uint8Array([...Te.FEED,2])),await g(new Uint8Array(Te.ALIGN_CENTER)),await A((H.footer||"Thank you!").toUpperCase()),await g(new Uint8Array([...Te.FEED,3])),await g(new Uint8Array(Te.CUT)),{success:!0,method:"usb"}}catch($){return console.error("USB print error:",$),ee(O,H)}finally{n.value=!1}},z=async(O,H)=>{if((JSON.parse(localStorage.getItem("pos_printer_config")||"{}").kot_printer||"browser")==="browser"||!he.connected)return te(O,H);try{n.value=!0,await g(new Uint8Array(Te.INIT)),await g(new Uint8Array(Te.ALIGN_CENTER)),await g(new Uint8Array(Te.BOLD_ON)),await g(new Uint8Array(Te.DOUBLE_ON)),await A((H.name||"KITCHEN").toUpperCase()),await g(new Uint8Array(Te.DOUBLE_OFF)),await g(new Uint8Array(Te.BOLD_OFF)),await U("="),await g(new Uint8Array(Te.BOLD_ON)),await A("KITCHEN ORDER TICKET"),await g(new Uint8Array(Te.BOLD_OFF)),await U("="),await g(new Uint8Array(Te.ALIGN_LEFT)),await F("Date:",O.order_date||new Date().toLocaleDateString()),await F("Time:",O.order_time||new Date().toLocaleTimeString()),await F("Customer:",O.customer_name||"Walk In"),await F("Order Type:",O.order_type||"Dine In"),O.kitchen_note&&await F("Note:",O.kitchen_note),await U("-"),await g(new Uint8Array(Te.BOLD_ON)),await F("Item","Qty"),await g(new Uint8Array(Te.BOLD_OFF)),await U("-");for(const $ of O.items||[]){const X=($.title||"Item").substring(0,40),le=($.quantity||$.qty||1).toString();await F(X,le),$.item_kitchen_note&&await A("  Note: "+$.item_kitchen_note)}return await U("-"),await g(new Uint8Array([...Te.FEED,2])),await g(new Uint8Array(Te.ALIGN_CENTER)),await A((H.footer||"KITCHEN COPY").toUpperCase()),await g(new Uint8Array([...Te.FEED,3])),await g(new Uint8Array(Te.CUT)),{success:!0,method:"usb"}}catch($){return console.error("USB KOT print error:",$),te(O,H)}finally{n.value=!1}},ee=(O,H)=>{const ne=H.currency||"£";let L="";for(const le of O.items||[]){const Ie=le.quantity||le.qty||1,Ne=le.unit_price||le.price||0,fe=Ne*Ie;L+="<tr>",L+="<td>"+(le.title||"Item")+"</td>",L+='<td style="text-align:center">'+Ie+"</td>",L+='<td style="text-align:right">'+I(Ne,ne)+"</td>",L+='<td style="text-align:right">'+I(fe,ne)+"</td>",L+="</tr>"}let $='<!DOCTYPE html><html><head><meta charset="UTF-8">';$+="<title>Receipt</title>",$+="<style>",$+="@page { size: 80mm auto; margin: 0; }",$+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',$+=".header { text-align: center; margin-bottom: 10px; }",$+=".business-name { font-size: 16px; font-weight: bold; }",$+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",$+=".info-row { display: flex; justify-content: space-between; }",$+="table { width: 100%; border-collapse: collapse; }",$+="th, td { padding: 3px 0; }",$+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",$+="</style></head><body>",$+='<div class="header">',H.logo_url&&($+='<img src="'+H.logo_url+'" style="max-width:100px;max-height:60px;margin-bottom:5px">'),$+='<div class="business-name">'+(H.name||"Business").toUpperCase()+"</div>",$+="<div>"+(H.phone||"")+"</div>",$+="<div>"+(H.address||"")+"</div>",$+="</div>",$+='<div class="divider"></div>',$+='<div style="text-align:center;font-weight:bold">CUSTOMER RECEIPT</div>',$+='<div class="divider"></div>',$+='<div class="info-row"><span>Date:</span><span>'+(O.order_date||new Date().toLocaleDateString())+"</span></div>",$+='<div class="info-row"><span>Time:</span><span>'+(O.order_time||new Date().toLocaleTimeString())+"</span></div>",$+='<div class="info-row"><span>Customer:</span><span>'+(O.customer_name||"Walk In")+"</span></div>",$+='<div class="info-row"><span>Order Type:</span><span>'+(O.order_type||"Collection")+"</span></div>",$+='<div class="divider"></div>',$+="<table><thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead>",$+="<tbody>"+L+"</tbody></table>",$+='<div class="divider"></div>',$+='<div class="info-row"><span>Subtotal:</span><span>'+I(O.sub_total||0,ne)+"</span></div>",$+='<div class="info-row" style="font-weight:bold"><span>Total:</span><span>'+I(O.total_amount||O.sub_total||0,ne)+"</span></div>",$+='<div class="divider"></div>',$+='<div class="footer">'+(H.footer||"Thank you!").toUpperCase()+"</div>",$+="</body></html>";const X=window.open("","_blank","width=400,height=600");return X.document.write($),X.document.close(),setTimeout(function(){X.focus(),X.print()},500),{success:!0,method:"browser"}},te=(O,H)=>{let ne="";for(const X of O.items||[]){const le=X.quantity||X.qty||1;ne+="<tr>",ne+="<td>"+(X.title||"Item")+"</td>",ne+='<td style="text-align:right">'+le+"</td>",ne+="</tr>",X.item_kitchen_note&&(ne+='<tr><td colspan="2" style="padding-left:15px;font-style:italic">Note: '+X.item_kitchen_note+"</td></tr>")}let L='<!DOCTYPE html><html><head><meta charset="UTF-8">';L+="<title>Kitchen Order</title>",L+="<style>",L+="@page { size: 80mm auto; margin: 0; }",L+='body { font-family: "Courier New", monospace; font-size: 12px; width: 80mm; margin: 0 auto; padding: 5mm; }',L+=".header { text-align: center; margin-bottom: 10px; }",L+=".business-name { font-size: 16px; font-weight: bold; }",L+=".divider { border-top: 1px dashed #000; margin: 8px 0; }",L+=".info-row { display: flex; justify-content: space-between; }",L+="table { width: 100%; border-collapse: collapse; }",L+="th, td { padding: 3px 0; }",L+=".footer { text-align: center; margin-top: 15px; font-weight: bold; }",L+="</style></head><body>",L+='<div class="header">',L+='<div class="business-name">'+(H.name||"KITCHEN").toUpperCase()+"</div>",L+="</div>",L+='<div class="divider"></div>',L+='<div style="text-align:center;font-weight:bold;font-size:14px">KITCHEN ORDER TICKET</div>',L+='<div class="divider"></div>',L+='<div class="info-row"><span>Date:</span><span>'+(O.order_date||new Date().toLocaleDateString())+"</span></div>",L+='<div class="info-row"><span>Time:</span><span>'+(O.order_time||new Date().toLocaleTimeString())+"</span></div>",L+='<div class="info-row"><span>Customer:</span><span>'+(O.customer_name||"Walk In")+"</span></div>",L+='<div class="info-row"><span>Order Type:</span><span>'+(O.order_type||"Dine In")+"</span></div>",O.kitchen_note&&(L+='<div class="info-row"><span>Note:</span><span>'+O.kitchen_note+"</span></div>"),L+='<div class="divider"></div>',L+='<table><thead><tr><th>Item</th><th style="text-align:right">Qty</th></tr></thead>',L+="<tbody>"+ne+"</tbody></table>",L+='<div class="divider"></div>',L+='<div class="footer">KITCHEN COPY</div>',L+="</body></html>";const $=window.open("","_blank","width=400,height=600");return $.document.write(L),$.document.close(),setTimeout(function(){$.focus(),$.print()},500),{success:!0,method:"browser"}};return{isConnected:()=>he.connected,printerName:()=>he.printerName,isWebUSBSupported:()=>he.webUSBSupported,lastError:()=>he.lastError,loading:n,checkSupport:i,connectPrinter:_,disconnectPrinter:w,autoReconnect:async()=>{if(i(),he.webUSBSupported&&localStorage.getItem("usb_printer_connected")){const O=await d();if(O.length>0)try{he.device=O[0],await he.device.open(),he.device.configuration===null&&await he.device.selectConfiguration(1);const H=he.device.configuration.interfaces[0].interfaceNumber;await he.device.claimInterface(H),he.connected=!0,he.printerName=he.device.productName||"USB Printer"}catch(H){console.log("Auto-reconnect failed:",H.message)}}},getPairedDevices:d,printReceipt:J,printKOT:z,browserPrintReceipt:ee,browserPrintKOT:te}}var Dt="top",Qt="bottom",Zt="right",Lt="left",da="auto",zi=[Dt,Qt,Zt,Lt],li="start",Bi="end",lf="clippingParents",cu="viewport",Ri="popper",uf="reference",ru=zi.reduce(function(o,n){return o.concat([n+"-"+li,n+"-"+Bi])},[]),du=[].concat(zi,[da]).reduce(function(o,n){return o.concat([n,n+"-"+li,n+"-"+Bi])},[]),cf="beforeRead",df="read",ff="afterRead",pf="beforeMain",hf="main",_f="afterMain",vf="beforeWrite",mf="write",gf="afterWrite",bf=[cf,df,ff,pf,hf,_f,vf,mf,gf];function qn(o){return o?(o.nodeName||"").toLowerCase():null}function Jt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var n=o.ownerDocument;return n&&n.defaultView||window}return o}function ui(o){var n=Jt(o).Element;return o instanceof n||o instanceof Element}function dn(o){var n=Jt(o).HTMLElement;return o instanceof n||o instanceof HTMLElement}function fu(o){if(typeof ShadowRoot>"u")return!1;var n=Jt(o).ShadowRoot;return o instanceof n||o instanceof ShadowRoot}function zb(o){var n=o.state;Object.keys(n.elements).forEach(function(i){var d=n.styles[i]||{},_=n.attributes[i]||{},w=n.elements[i];!dn(w)||!qn(w)||(Object.assign(w.style,d),Object.keys(_).forEach(function(g){var x=_[g];x===!1?w.removeAttribute(g):w.setAttribute(g,x===!0?"":x)}))})}function Yb(o){var n=o.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(d){var _=n.elements[d],w=n.attributes[d]||{},g=Object.keys(n.styles.hasOwnProperty(d)?n.styles[d]:i[d]),x=g.reduce(function(A,F){return A[F]="",A},{});!dn(_)||!qn(_)||(Object.assign(_.style,x),Object.keys(w).forEach(function(A){_.removeAttribute(A)}))})}}const pu={name:"applyStyles",enabled:!0,phase:"write",fn:zb,effect:Yb,requires:["computeStyles"]};function Un(o){return o.split("-")[0]}var ai=Math.max,aa=Math.min,Ui=Math.round;function iu(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function yf(){return!/^((?!chrome|android).)*safari/i.test(iu())}function Wi(o,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var d=o.getBoundingClientRect(),_=1,w=1;n&&dn(o)&&(_=o.offsetWidth>0&&Ui(d.width)/o.offsetWidth||1,w=o.offsetHeight>0&&Ui(d.height)/o.offsetHeight||1);var g=ui(o)?Jt(o):window,x=g.visualViewport,A=!yf()&&i,F=(d.left+(A&&x?x.offsetLeft:0))/_,I=(d.top+(A&&x?x.offsetTop:0))/w,U=d.width/_,J=d.height/w;return{width:U,height:J,top:I,right:F+U,bottom:I+J,left:F,x:F,y:I}}function hu(o){var n=Wi(o),i=o.offsetWidth,d=o.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-d)<=1&&(d=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:d}}function wf(o,n){var i=n.getRootNode&&n.getRootNode();if(o.contains(n))return!0;if(i&&fu(i)){var d=n;do{if(d&&o.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function dr(o){return Jt(o).getComputedStyle(o)}function Gb(o){return["table","td","th"].indexOf(qn(o))>=0}function $r(o){return((ui(o)?o.ownerDocument:o.document)||window.document).documentElement}function fa(o){return qn(o)==="html"?o:o.assignedSlot||o.parentNode||(fu(o)?o.host:null)||$r(o)}function xd(o){return!dn(o)||dr(o).position==="fixed"?null:o.offsetParent}function jb(o){var n=/firefox/i.test(iu()),i=/Trident/i.test(iu());if(i&&dn(o)){var d=dr(o);if(d.position==="fixed")return null}var _=fa(o);for(fu(_)&&(_=_.host);dn(_)&&["html","body"].indexOf(qn(_))<0;){var w=dr(_);if(w.transform!=="none"||w.perspective!=="none"||w.contain==="paint"||["transform","perspective"].indexOf(w.willChange)!==-1||n&&w.willChange==="filter"||n&&w.filter&&w.filter!=="none")return _;_=_.parentNode}return null}function qs(o){for(var n=Jt(o),i=xd(o);i&&Gb(i)&&dr(i).position==="static";)i=xd(i);return i&&(qn(i)==="html"||qn(i)==="body"&&dr(i).position==="static")?n:i||jb(o)||n}function _u(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Fs(o,n,i){return ai(o,aa(n,i))}function Xb(o,n,i){var d=Fs(o,n,i);return d>i?i:d}function Ef(){return{top:0,right:0,bottom:0,left:0}}function Af(o){return Object.assign({},Ef(),o)}function xf(o,n){return n.reduce(function(i,d){return i[d]=o,i},{})}var Qb=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,Af(typeof n!="number"?n:xf(n,zi))};function Zb(o){var n,i=o.state,d=o.name,_=o.options,w=i.elements.arrow,g=i.modifiersData.popperOffsets,x=Un(i.placement),A=_u(x),F=[Lt,Zt].indexOf(x)>=0,I=F?"height":"width";if(!(!w||!g)){var U=Qb(_.padding,i),J=hu(w),z=A==="y"?Dt:Lt,ee=A==="y"?Qt:Zt,te=i.rects.reference[I]+i.rects.reference[A]-g[A]-i.rects.popper[I],Q=g[A]-i.rects.reference[A],O=qs(w),H=O?A==="y"?O.clientHeight||0:O.clientWidth||0:0,ne=te/2-Q/2,L=U[z],$=H-J[I]-U[ee],X=H/2-J[I]/2+ne,le=Fs(L,X,$),Ie=A;i.modifiersData[d]=(n={},n[Ie]=le,n.centerOffset=le-X,n)}}function Jb(o){var n=o.state,i=o.options,d=i.element,_=d===void 0?"[data-popper-arrow]":d;_!=null&&(typeof _=="string"&&(_=n.elements.popper.querySelector(_),!_)||wf(n.elements.popper,_)&&(n.elements.arrow=_))}const Tf={name:"arrow",enabled:!0,phase:"main",fn:Zb,effect:Jb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qi(o){return o.split("-")[1]}var ey={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ty(o,n){var i=o.x,d=o.y,_=n.devicePixelRatio||1;return{x:Ui(i*_)/_||0,y:Ui(d*_)/_||0}}function Td(o){var n,i=o.popper,d=o.popperRect,_=o.placement,w=o.variation,g=o.offsets,x=o.position,A=o.gpuAcceleration,F=o.adaptive,I=o.roundOffsets,U=o.isFixed,J=g.x,z=J===void 0?0:J,ee=g.y,te=ee===void 0?0:ee,Q=typeof I=="function"?I({x:z,y:te}):{x:z,y:te};z=Q.x,te=Q.y;var O=g.hasOwnProperty("x"),H=g.hasOwnProperty("y"),ne=Lt,L=Dt,$=window;if(F){var X=qs(i),le="clientHeight",Ie="clientWidth";if(X===Jt(i)&&(X=$r(i),dr(X).position!=="static"&&x==="absolute"&&(le="scrollHeight",Ie="scrollWidth")),X=X,_===Dt||(_===Lt||_===Zt)&&w===Bi){L=Qt;var Ne=U&&X===$&&$.visualViewport?$.visualViewport.height:X[le];te-=Ne-d.height,te*=A?1:-1}if(_===Lt||(_===Dt||_===Qt)&&w===Bi){ne=Zt;var fe=U&&X===$&&$.visualViewport?$.visualViewport.width:X[Ie];z-=fe-d.width,z*=A?1:-1}}var Fe=Object.assign({position:x},F&&ey),st=I===!0?ty({x:z,y:te},Jt(i)):{x:z,y:te};if(z=st.x,te=st.y,A){var qe;return Object.assign({},Fe,(qe={},qe[L]=H?"0":"",qe[ne]=O?"0":"",qe.transform=($.devicePixelRatio||1)<=1?"translate("+z+"px, "+te+"px)":"translate3d("+z+"px, "+te+"px, 0)",qe))}return Object.assign({},Fe,(n={},n[L]=H?te+"px":"",n[ne]=O?z+"px":"",n.transform="",n))}function ny(o){var n=o.state,i=o.options,d=i.gpuAcceleration,_=d===void 0?!0:d,w=i.adaptive,g=w===void 0?!0:w,x=i.roundOffsets,A=x===void 0?!0:x,F={placement:Un(n.placement),variation:qi(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:_,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Td(Object.assign({},F,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:g,roundOffsets:A})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Td(Object.assign({},F,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const vu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ny,data:{}};var Qo={passive:!0};function ry(o){var n=o.state,i=o.instance,d=o.options,_=d.scroll,w=_===void 0?!0:_,g=d.resize,x=g===void 0?!0:g,A=Jt(n.elements.popper),F=[].concat(n.scrollParents.reference,n.scrollParents.popper);return w&&F.forEach(function(I){I.addEventListener("scroll",i.update,Qo)}),x&&A.addEventListener("resize",i.update,Qo),function(){w&&F.forEach(function(I){I.removeEventListener("scroll",i.update,Qo)}),x&&A.removeEventListener("resize",i.update,Qo)}}const mu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ry,data:{}};var iy={left:"right",right:"left",bottom:"top",top:"bottom"};function ia(o){return o.replace(/left|right|bottom|top/g,function(n){return iy[n]})}var sy={start:"end",end:"start"};function Cd(o){return o.replace(/start|end/g,function(n){return sy[n]})}function gu(o){var n=Jt(o),i=n.pageXOffset,d=n.pageYOffset;return{scrollLeft:i,scrollTop:d}}function bu(o){return Wi($r(o)).left+gu(o).scrollLeft}function oy(o,n){var i=Jt(o),d=$r(o),_=i.visualViewport,w=d.clientWidth,g=d.clientHeight,x=0,A=0;if(_){w=_.width,g=_.height;var F=yf();(F||!F&&n==="fixed")&&(x=_.offsetLeft,A=_.offsetTop)}return{width:w,height:g,x:x+bu(o),y:A}}function ay(o){var n,i=$r(o),d=gu(o),_=(n=o.ownerDocument)==null?void 0:n.body,w=ai(i.scrollWidth,i.clientWidth,_?_.scrollWidth:0,_?_.clientWidth:0),g=ai(i.scrollHeight,i.clientHeight,_?_.scrollHeight:0,_?_.clientHeight:0),x=-d.scrollLeft+bu(o),A=-d.scrollTop;return dr(_||i).direction==="rtl"&&(x+=ai(i.clientWidth,_?_.clientWidth:0)-w),{width:w,height:g,x,y:A}}function yu(o){var n=dr(o),i=n.overflow,d=n.overflowX,_=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+_+d)}function Cf(o){return["html","body","#document"].indexOf(qn(o))>=0?o.ownerDocument.body:dn(o)&&yu(o)?o:Cf(fa(o))}function Bs(o,n){var i;n===void 0&&(n=[]);var d=Cf(o),_=d===((i=o.ownerDocument)==null?void 0:i.body),w=Jt(d),g=_?[w].concat(w.visualViewport||[],yu(d)?d:[]):d,x=n.concat(g);return _?x:x.concat(Bs(fa(g)))}function su(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function ly(o,n){var i=Wi(o,!1,n==="fixed");return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function Sd(o,n,i){return n===cu?su(oy(o,i)):ui(n)?ly(n,i):su(ay($r(o)))}function uy(o){var n=Bs(fa(o)),i=["absolute","fixed"].indexOf(dr(o).position)>=0,d=i&&dn(o)?qs(o):o;return ui(d)?n.filter(function(_){return ui(_)&&wf(_,d)&&qn(_)!=="body"}):[]}function cy(o,n,i,d){var _=n==="clippingParents"?uy(o):[].concat(n),w=[].concat(_,[i]),g=w[0],x=w.reduce(function(A,F){var I=Sd(o,F,d);return A.top=ai(I.top,A.top),A.right=aa(I.right,A.right),A.bottom=aa(I.bottom,A.bottom),A.left=ai(I.left,A.left),A},Sd(o,g,d));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function Sf(o){var n=o.reference,i=o.element,d=o.placement,_=d?Un(d):null,w=d?qi(d):null,g=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,A;switch(_){case Dt:A={x:g,y:n.y-i.height};break;case Qt:A={x:g,y:n.y+n.height};break;case Zt:A={x:n.x+n.width,y:x};break;case Lt:A={x:n.x-i.width,y:x};break;default:A={x:n.x,y:n.y}}var F=_?_u(_):null;if(F!=null){var I=F==="y"?"height":"width";switch(w){case li:A[F]=A[F]-(n[I]/2-i[I]/2);break;case Bi:A[F]=A[F]+(n[I]/2-i[I]/2);break}}return A}function Hi(o,n){n===void 0&&(n={});var i=n,d=i.placement,_=d===void 0?o.placement:d,w=i.strategy,g=w===void 0?o.strategy:w,x=i.boundary,A=x===void 0?lf:x,F=i.rootBoundary,I=F===void 0?cu:F,U=i.elementContext,J=U===void 0?Ri:U,z=i.altBoundary,ee=z===void 0?!1:z,te=i.padding,Q=te===void 0?0:te,O=Af(typeof Q!="number"?Q:xf(Q,zi)),H=J===Ri?uf:Ri,ne=o.rects.popper,L=o.elements[ee?H:J],$=cy(ui(L)?L:L.contextElement||$r(o.elements.popper),A,I,g),X=Wi(o.elements.reference),le=Sf({reference:X,element:ne,placement:_}),Ie=su(Object.assign({},ne,le)),Ne=J===Ri?Ie:X,fe={top:$.top-Ne.top+O.top,bottom:Ne.bottom-$.bottom+O.bottom,left:$.left-Ne.left+O.left,right:Ne.right-$.right+O.right},Fe=o.modifiersData.offset;if(J===Ri&&Fe){var st=Fe[_];Object.keys(fe).forEach(function(qe){var ft=[Zt,Qt].indexOf(qe)>=0?1:-1,kt=[Dt,Qt].indexOf(qe)>=0?"y":"x";fe[qe]+=st[kt]*ft})}return fe}function dy(o,n){n===void 0&&(n={});var i=n,d=i.placement,_=i.boundary,w=i.rootBoundary,g=i.padding,x=i.flipVariations,A=i.allowedAutoPlacements,F=A===void 0?du:A,I=qi(d),U=I?x?ru:ru.filter(function(ee){return qi(ee)===I}):zi,J=U.filter(function(ee){return F.indexOf(ee)>=0});J.length===0&&(J=U);var z=J.reduce(function(ee,te){return ee[te]=Hi(o,{placement:te,boundary:_,rootBoundary:w,padding:g})[Un(te)],ee},{});return Object.keys(z).sort(function(ee,te){return z[ee]-z[te]})}function fy(o){if(Un(o)===da)return[];var n=ia(o);return[Cd(o),n,Cd(n)]}function py(o){var n=o.state,i=o.options,d=o.name;if(!n.modifiersData[d]._skip){for(var _=i.mainAxis,w=_===void 0?!0:_,g=i.altAxis,x=g===void 0?!0:g,A=i.fallbackPlacements,F=i.padding,I=i.boundary,U=i.rootBoundary,J=i.altBoundary,z=i.flipVariations,ee=z===void 0?!0:z,te=i.allowedAutoPlacements,Q=n.options.placement,O=Un(Q),H=O===Q,ne=A||(H||!ee?[ia(Q)]:fy(Q)),L=[Q].concat(ne).reduce(function(mn,ut){return mn.concat(Un(ut)===da?dy(n,{placement:ut,boundary:I,rootBoundary:U,padding:F,flipVariations:ee,allowedAutoPlacements:te}):ut)},[]),$=n.rects.reference,X=n.rects.popper,le=new Map,Ie=!0,Ne=L[0],fe=0;fe<L.length;fe++){var Fe=L[fe],st=Un(Fe),qe=qi(Fe)===li,ft=[Dt,Qt].indexOf(st)>=0,kt=ft?"width":"height",lt=Hi(n,{placement:Fe,boundary:I,rootBoundary:U,altBoundary:J,padding:F}),Ve=ft?qe?Zt:Lt:qe?Qt:Dt;$[kt]>X[kt]&&(Ve=ia(Ve));var yt=ia(Ve),_n=[];if(w&&_n.push(lt[st]<=0),x&&_n.push(lt[Ve]<=0,lt[yt]<=0),_n.every(function(mn){return mn})){Ne=Fe,Ie=!1;break}le.set(Fe,_n)}if(Ie)for(var vn=ee?3:1,pt=function(ut){var en=L.find(function(ht){var wt=le.get(ht);if(wt)return wt.slice(0,ut).every(function($t){return $t})});if(en)return Ne=en,"break"},Hn=vn;Hn>0;Hn--){var pr=pt(Hn);if(pr==="break")break}n.placement!==Ne&&(n.modifiersData[d]._skip=!0,n.placement=Ne,n.reset=!0)}}const Of={name:"flip",enabled:!0,phase:"main",fn:py,requiresIfExists:["offset"],data:{_skip:!1}};function Od(o,n,i){return i===void 0&&(i={x:0,y:0}),{top:o.top-n.height-i.y,right:o.right-n.width+i.x,bottom:o.bottom-n.height+i.y,left:o.left-n.width-i.x}}function Id(o){return[Dt,Zt,Qt,Lt].some(function(n){return o[n]>=0})}function hy(o){var n=o.state,i=o.name,d=n.rects.reference,_=n.rects.popper,w=n.modifiersData.preventOverflow,g=Hi(n,{elementContext:"reference"}),x=Hi(n,{altBoundary:!0}),A=Od(g,d),F=Od(x,_,w),I=Id(A),U=Id(F);n.modifiersData[i]={referenceClippingOffsets:A,popperEscapeOffsets:F,isReferenceHidden:I,hasPopperEscaped:U},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":U})}const If={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hy};function _y(o,n,i){var d=Un(o),_=[Lt,Dt].indexOf(d)>=0?-1:1,w=typeof i=="function"?i(Object.assign({},n,{placement:o})):i,g=w[0],x=w[1];return g=g||0,x=(x||0)*_,[Lt,Zt].indexOf(d)>=0?{x,y:g}:{x:g,y:x}}function vy(o){var n=o.state,i=o.options,d=o.name,_=i.offset,w=_===void 0?[0,0]:_,g=du.reduce(function(I,U){return I[U]=_y(U,n.rects,w),I},{}),x=g[n.placement],A=x.x,F=x.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=A,n.modifiersData.popperOffsets.y+=F),n.modifiersData[d]=g}const Nf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vy};function my(o){var n=o.state,i=o.name;n.modifiersData[i]=Sf({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const wu={name:"popperOffsets",enabled:!0,phase:"read",fn:my,data:{}};function gy(o){return o==="x"?"y":"x"}function by(o){var n=o.state,i=o.options,d=o.name,_=i.mainAxis,w=_===void 0?!0:_,g=i.altAxis,x=g===void 0?!1:g,A=i.boundary,F=i.rootBoundary,I=i.altBoundary,U=i.padding,J=i.tether,z=J===void 0?!0:J,ee=i.tetherOffset,te=ee===void 0?0:ee,Q=Hi(n,{boundary:A,rootBoundary:F,padding:U,altBoundary:I}),O=Un(n.placement),H=qi(n.placement),ne=!H,L=_u(O),$=gy(L),X=n.modifiersData.popperOffsets,le=n.rects.reference,Ie=n.rects.popper,Ne=typeof te=="function"?te(Object.assign({},n.rects,{placement:n.placement})):te,fe=typeof Ne=="number"?{mainAxis:Ne,altAxis:Ne}:Object.assign({mainAxis:0,altAxis:0},Ne),Fe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,st={x:0,y:0};if(X){if(w){var qe,ft=L==="y"?Dt:Lt,kt=L==="y"?Qt:Zt,lt=L==="y"?"height":"width",Ve=X[L],yt=Ve+Q[ft],_n=Ve-Q[kt],vn=z?-Ie[lt]/2:0,pt=H===li?le[lt]:Ie[lt],Hn=H===li?-Ie[lt]:-le[lt],pr=n.elements.arrow,mn=z&&pr?hu(pr):{width:0,height:0},ut=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Ef(),en=ut[ft],ht=ut[kt],wt=Fs(0,le[lt],mn[lt]),$t=ne?le[lt]/2-vn-wt-en-fe.mainAxis:pt-wt-en-fe.mainAxis,Xi=ne?-le[lt]/2+vn+wt+ht+fe.mainAxis:Hn+wt+ht+fe.mainAxis,gn=n.elements.arrow&&qs(n.elements.arrow),Vn=gn?L==="y"?gn.clientTop||0:gn.clientLeft||0:0,Sn=(qe=Fe?.[L])!=null?qe:0,xe=Ve+$t-Sn-Vn,ot=Ve+Xi-Sn,tn=Fs(z?aa(yt,xe):yt,Ve,z?ai(_n,ot):_n);X[L]=tn,st[L]=tn-Ve}if(x){var je,fi=L==="x"?Dt:Lt,Kn=L==="x"?Qt:Zt,Et=X[$],Ue=$==="y"?"height":"width",On=Et+Q[fi],zn=Et-Q[Kn],In=[Dt,Lt].indexOf(O)!==-1,At=(je=Fe?.[$])!=null?je:0,Rt=In?On:Et-le[Ue]-Ie[Ue]-At+fe.altAxis,Nn=In?Et+le[Ue]+Ie[Ue]-At-fe.altAxis:zn,bn=z&&In?Xb(Rt,Et,Nn):Fs(z?Rt:On,Et,z?Nn:zn);X[$]=bn,st[$]=bn-Et}n.modifiersData[d]=st}}const Df={name:"preventOverflow",enabled:!0,phase:"main",fn:by,requiresIfExists:["offset"]};function yy(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function wy(o){return o===Jt(o)||!dn(o)?gu(o):yy(o)}function Ey(o){var n=o.getBoundingClientRect(),i=Ui(n.width)/o.offsetWidth||1,d=Ui(n.height)/o.offsetHeight||1;return i!==1||d!==1}function Ay(o,n,i){i===void 0&&(i=!1);var d=dn(n),_=dn(n)&&Ey(n),w=$r(n),g=Wi(o,_,i),x={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(d||!d&&!i)&&((qn(n)!=="body"||yu(w))&&(x=wy(n)),dn(n)?(A=Wi(n,!0),A.x+=n.clientLeft,A.y+=n.clientTop):w&&(A.x=bu(w))),{x:g.left+x.scrollLeft-A.x,y:g.top+x.scrollTop-A.y,width:g.width,height:g.height}}function xy(o){var n=new Map,i=new Set,d=[];o.forEach(function(w){n.set(w.name,w)});function _(w){i.add(w.name);var g=[].concat(w.requires||[],w.requiresIfExists||[]);g.forEach(function(x){if(!i.has(x)){var A=n.get(x);A&&_(A)}}),d.push(w)}return o.forEach(function(w){i.has(w.name)||_(w)}),d}function Ty(o){var n=xy(o);return bf.reduce(function(i,d){return i.concat(n.filter(function(_){return _.phase===d}))},[])}function Cy(o){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(o())})})),n}}function Sy(o){var n=o.reduce(function(i,d){var _=i[d.name];return i[d.name]=_?Object.assign({},_,d,{options:Object.assign({},_.options,d.options),data:Object.assign({},_.data,d.data)}):d,i},{});return Object.keys(n).map(function(i){return n[i]})}var Nd={placement:"bottom",modifiers:[],strategy:"absolute"};function Dd(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return!n.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function pa(o){o===void 0&&(o={});var n=o,i=n.defaultModifiers,d=i===void 0?[]:i,_=n.defaultOptions,w=_===void 0?Nd:_;return function(x,A,F){F===void 0&&(F=w);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nd,w),modifiersData:{},elements:{reference:x,popper:A},attributes:{},styles:{}},U=[],J=!1,z={state:I,setOptions:function(O){var H=typeof O=="function"?O(I.options):O;te(),I.options=Object.assign({},w,I.options,H),I.scrollParents={reference:ui(x)?Bs(x):x.contextElement?Bs(x.contextElement):[],popper:Bs(A)};var ne=Ty(Sy([].concat(d,I.options.modifiers)));return I.orderedModifiers=ne.filter(function(L){return L.enabled}),ee(),z.update()},forceUpdate:function(){if(!J){var O=I.elements,H=O.reference,ne=O.popper;if(Dd(H,ne)){I.rects={reference:Ay(H,qs(ne),I.options.strategy==="fixed"),popper:hu(ne)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(fe){return I.modifiersData[fe.name]=Object.assign({},fe.data)});for(var L=0;L<I.orderedModifiers.length;L++){if(I.reset===!0){I.reset=!1,L=-1;continue}var $=I.orderedModifiers[L],X=$.fn,le=$.options,Ie=le===void 0?{}:le,Ne=$.name;typeof X=="function"&&(I=X({state:I,options:Ie,name:Ne,instance:z})||I)}}}},update:Cy(function(){return new Promise(function(Q){z.forceUpdate(),Q(I)})}),destroy:function(){te(),J=!0}};if(!Dd(x,A))return z;z.setOptions(F).then(function(Q){!J&&F.onFirstUpdate&&F.onFirstUpdate(Q)});function ee(){I.orderedModifiers.forEach(function(Q){var O=Q.name,H=Q.options,ne=H===void 0?{}:H,L=Q.effect;if(typeof L=="function"){var $=L({state:I,name:O,instance:z,options:ne}),X=function(){};U.push($||X)}})}function te(){U.forEach(function(Q){return Q()}),U=[]}return z}}var Oy=pa(),Iy=[mu,wu,vu,pu],Ny=pa({defaultModifiers:Iy}),Dy=[mu,wu,vu,pu,Nf,Of,Df,Tf,If],Eu=pa({defaultModifiers:Dy});const Lf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_f,afterRead:ff,afterWrite:gf,applyStyles:pu,arrow:Tf,auto:da,basePlacements:zi,beforeMain:pf,beforeRead:cf,beforeWrite:vf,bottom:Qt,clippingParents:lf,computeStyles:vu,createPopper:Eu,createPopperBase:Oy,createPopperLite:Ny,detectOverflow:Hi,end:Bi,eventListeners:mu,flip:Of,hide:If,left:Lt,main:hf,modifierPhases:bf,offset:Nf,placements:du,popper:Ri,popperGenerator:pa,popperOffsets:wu,preventOverflow:Df,read:df,reference:uf,right:Zt,start:li,top:Dt,variationPlacements:ru,viewport:cu,write:mf},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Nr=new Map,Wl={set(o,n,i){Nr.has(o)||Nr.set(o,new Map);const d=Nr.get(o);if(!d.has(n)&&d.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`);return}d.set(n,i)},get(o,n){return Nr.has(o)&&Nr.get(o).get(n)||null},remove(o,n){if(!Nr.has(o))return;const i=Nr.get(o);i.delete(n),i.size===0&&Nr.delete(o)}},Ly=1e6,ky=1e3,ou="transitionend",kf=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),o),$y=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),Ry=o=>{do o+=Math.floor(Math.random()*Ly);while(document.getElementById(o));return o},Py=o=>{if(!o)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(o);const d=Number.parseFloat(n),_=Number.parseFloat(i);return!d&&!_?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*ky)},$f=o=>{o.dispatchEvent(new Event(ou))},ur=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),Dr=o=>ur(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(kf(o)):null,Yi=o=>{if(!ur(o)||o.getClientRects().length===0)return!1;const n=getComputedStyle(o).getPropertyValue("visibility")==="visible",i=o.closest("details:not([open])");if(!i)return n;if(i!==o){const d=o.closest("summary");if(d&&d.parentNode!==i||d===null)return!1}return n},Lr=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",Rf=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const n=o.getRootNode();return n instanceof ShadowRoot?n:null}return o instanceof ShadowRoot?o:o.parentNode?Rf(o.parentNode):null},la=()=>{},Hs=o=>{o.offsetHeight},Pf=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ql=[],My=o=>{document.readyState==="loading"?(ql.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of ql)n()}),ql.push(o)):o()},fn=()=>document.documentElement.dir==="rtl",hn=o=>{My(()=>{const n=Pf();if(n){const i=o.NAME,d=n.fn[i];n.fn[i]=o.jQueryInterface,n.fn[i].Constructor=o,n.fn[i].noConflict=()=>(n.fn[i]=d,o.jQueryInterface)}})},qt=(o,n=[],i=o)=>typeof o=="function"?o.call(...n):i,Mf=(o,n,i=!0)=>{if(!i){qt(o);return}const _=Py(n)+5;let w=!1;const g=({target:x})=>{x===n&&(w=!0,n.removeEventListener(ou,g),qt(o))};n.addEventListener(ou,g),setTimeout(()=>{w||$f(n)},_)},Au=(o,n,i,d)=>{const _=o.length;let w=o.indexOf(n);return w===-1?!i&&d?o[_-1]:o[0]:(w+=i?1:-1,d&&(w=(w+_)%_),o[Math.max(0,Math.min(w,_-1))])},Fy=/[^.]*(?=\..*)\.|.*/,By=/\..*/,Uy=/::\d+$/,Hl={};let Ld=1;const Ff={mouseenter:"mouseover",mouseleave:"mouseout"},Wy=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Bf(o,n){return n&&`${n}::${Ld++}`||o.uidEvent||Ld++}function Uf(o){const n=Bf(o);return o.uidEvent=n,Hl[n]=Hl[n]||{},Hl[n]}function qy(o,n){return function i(d){return xu(d,{delegateTarget:o}),i.oneOff&&R.off(o,d.type,n),n.apply(o,[d])}}function Hy(o,n,i){return function d(_){const w=o.querySelectorAll(n);for(let{target:g}=_;g&&g!==this;g=g.parentNode)for(const x of w)if(x===g)return xu(_,{delegateTarget:g}),d.oneOff&&R.off(o,_.type,n,i),i.apply(g,[_])}}function Wf(o,n,i=null){return Object.values(o).find(d=>d.callable===n&&d.delegationSelector===i)}function qf(o,n,i){const d=typeof n=="string",_=d?i:n||i;let w=Hf(o);return Wy.has(w)||(w=o),[d,_,w]}function kd(o,n,i,d,_){if(typeof n!="string"||!o)return;let[w,g,x]=qf(n,i,d);n in Ff&&(g=(ee=>function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return ee.call(this,te)})(g));const A=Uf(o),F=A[x]||(A[x]={}),I=Wf(F,g,w?i:null);if(I){I.oneOff=I.oneOff&&_;return}const U=Bf(g,n.replace(Fy,"")),J=w?Hy(o,i,g):qy(o,g);J.delegationSelector=w?i:null,J.callable=g,J.oneOff=_,J.uidEvent=U,F[U]=J,o.addEventListener(x,J,w)}function au(o,n,i,d,_){const w=Wf(n[i],d,_);w&&(o.removeEventListener(i,w,!!_),delete n[i][w.uidEvent])}function Vy(o,n,i,d){const _=n[i]||{};for(const[w,g]of Object.entries(_))w.includes(d)&&au(o,n,i,g.callable,g.delegationSelector)}function Hf(o){return o=o.replace(By,""),Ff[o]||o}const R={on(o,n,i,d){kd(o,n,i,d,!1)},one(o,n,i,d){kd(o,n,i,d,!0)},off(o,n,i,d){if(typeof n!="string"||!o)return;const[_,w,g]=qf(n,i,d),x=g!==n,A=Uf(o),F=A[g]||{},I=n.startsWith(".");if(typeof w<"u"){if(!Object.keys(F).length)return;au(o,A,g,w,_?i:null);return}if(I)for(const U of Object.keys(A))Vy(o,A,U,n.slice(1));for(const[U,J]of Object.entries(F)){const z=U.replace(Uy,"");(!x||n.includes(z))&&au(o,A,g,J.callable,J.delegationSelector)}},trigger(o,n,i){if(typeof n!="string"||!o)return null;const d=Pf(),_=Hf(n),w=n!==_;let g=null,x=!0,A=!0,F=!1;w&&d&&(g=d.Event(n,i),d(o).trigger(g),x=!g.isPropagationStopped(),A=!g.isImmediatePropagationStopped(),F=g.isDefaultPrevented());const I=xu(new Event(n,{bubbles:x,cancelable:!0}),i);return F&&I.preventDefault(),A&&o.dispatchEvent(I),I.defaultPrevented&&g&&g.preventDefault(),I}};function xu(o,n={}){for(const[i,d]of Object.entries(n))try{o[i]=d}catch{Object.defineProperty(o,i,{configurable:!0,get(){return d}})}return o}function $d(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function Vl(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const cr={setDataAttribute(o,n,i){o.setAttribute(`data-bs-${Vl(n)}`,i)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${Vl(n)}`)},getDataAttributes(o){if(!o)return{};const n={},i=Object.keys(o.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of i){let _=d.replace(/^bs/,"");_=_.charAt(0).toLowerCase()+_.slice(1),n[_]=$d(o.dataset[d])}return n},getDataAttribute(o,n){return $d(o.getAttribute(`data-bs-${Vl(n)}`))}};class Vs{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const d=ur(i)?cr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...ur(i)?cr.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[d,_]of Object.entries(i)){const w=n[d],g=ur(w)?"element":$y(w);if(!new RegExp(_).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${g}" but expected type "${_}".`)}}}const Ky="5.3.8";class Cn extends Vs{constructor(n,i){super(),n=Dr(n),n&&(this._element=n,this._config=this._getConfig(i),Wl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Wl.remove(this._element,this.constructor.DATA_KEY),R.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,d=!0){Mf(n,i,d)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Wl.get(Dr(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return Ky}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Kl=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let i=o.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>kf(i)).join(","):null},re={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(i=>i.matches(n))},parents(o,n){const i=[];let d=o.parentNode.closest(n);for(;d;)i.push(d),d=d.parentNode.closest(n);return i},prev(o,n){let i=o.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(o,n){let i=o.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(i=>!Lr(i)&&Yi(i))},getSelectorFromElement(o){const n=Kl(o);return n&&re.findOne(n)?n:null},getElementFromSelector(o){const n=Kl(o);return n?re.findOne(n):null},getMultipleElementsFromSelector(o){const n=Kl(o);return n?re.find(n):[]}},ha=(o,n="hide")=>{const i=`click.dismiss${o.EVENT_KEY}`,d=o.NAME;R.on(document,i,`[data-bs-dismiss="${d}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),Lr(this))return;const w=re.getElementFromSelector(this)||this.closest(`.${d}`);o.getOrCreateInstance(w)[n]()})},zy="alert",Yy="bs.alert",Vf=`.${Yy}`,Gy=`close${Vf}`,jy=`closed${Vf}`,Xy="fade",Qy="show";class _a extends Cn{static get NAME(){return zy}close(){if(R.trigger(this._element,Gy).defaultPrevented)return;this._element.classList.remove(Qy);const i=this._element.classList.contains(Xy);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),R.trigger(this._element,jy),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=_a.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}ha(_a,"close");hn(_a);const Zy="button",Jy="bs.button",e0=`.${Jy}`,t0=".data-api",n0="active",Rd='[data-bs-toggle="button"]',r0=`click${e0}${t0}`;class va extends Cn{static get NAME(){return Zy}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(n0))}static jQueryInterface(n){return this.each(function(){const i=va.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}R.on(document,r0,Rd,o=>{o.preventDefault();const n=o.target.closest(Rd);va.getOrCreateInstance(n).toggle()});hn(va);const i0="swipe",Gi=".bs.swipe",s0=`touchstart${Gi}`,o0=`touchmove${Gi}`,a0=`touchend${Gi}`,l0=`pointerdown${Gi}`,u0=`pointerup${Gi}`,c0="touch",d0="pen",f0="pointer-event",p0=40,h0={endCallback:null,leftCallback:null,rightCallback:null},_0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ua extends Vs{constructor(n,i){super(),this._element=n,!(!n||!ua.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return h0}static get DefaultType(){return _0}static get NAME(){return i0}dispose(){R.off(this._element,Gi)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),qt(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=p0)return;const i=n/this._deltaX;this._deltaX=0,i&&qt(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(R.on(this._element,l0,n=>this._start(n)),R.on(this._element,u0,n=>this._end(n)),this._element.classList.add(f0)):(R.on(this._element,s0,n=>this._start(n)),R.on(this._element,o0,n=>this._move(n)),R.on(this._element,a0,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===d0||n.pointerType===c0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const v0="carousel",m0="bs.carousel",Rr=`.${m0}`,Kf=".data-api",g0="ArrowLeft",b0="ArrowRight",y0=500,$s="next",ki="prev",Pi="left",sa="right",w0=`slide${Rr}`,zl=`slid${Rr}`,E0=`keydown${Rr}`,A0=`mouseenter${Rr}`,x0=`mouseleave${Rr}`,T0=`dragstart${Rr}`,C0=`load${Rr}${Kf}`,S0=`click${Rr}${Kf}`,zf="carousel",Zo="active",O0="slide",I0="carousel-item-end",N0="carousel-item-start",D0="carousel-item-next",L0="carousel-item-prev",Yf=".active",Gf=".carousel-item",k0=Yf+Gf,$0=".carousel-item img",R0=".carousel-indicators",P0="[data-bs-slide], [data-bs-slide-to]",M0='[data-bs-ride="carousel"]',F0={[g0]:sa,[b0]:Pi},B0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},U0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ks extends Cn{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=re.findOne(R0,this._element),this._addEventListeners(),this._config.ride===zf&&this.cycle()}static get Default(){return B0}static get DefaultType(){return U0}static get NAME(){return v0}next(){this._slide($s)}nextWhenVisible(){!document.hidden&&Yi(this._element)&&this.next()}prev(){this._slide(ki)}pause(){this._isSliding&&$f(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){R.one(this._element,zl,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){R.one(this._element,zl,()=>this.to(n));return}const d=this._getItemIndex(this._getActive());if(d===n)return;const _=n>d?$s:ki;this._slide(_,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&R.on(this._element,E0,n=>this._keydown(n)),this._config.pause==="hover"&&(R.on(this._element,A0,()=>this.pause()),R.on(this._element,x0,()=>this._maybeEnableCycle())),this._config.touch&&ua.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of re.find($0,this._element))R.on(d,T0,_=>_.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Pi)),rightCallback:()=>this._slide(this._directionToOrder(sa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),y0+this._config.interval))}};this._swipeHelper=new ua(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=F0[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=re.findOne(Yf,this._indicatorsElement);i.classList.remove(Zo),i.removeAttribute("aria-current");const d=re.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);d&&(d.classList.add(Zo),d.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const d=this._getActive(),_=n===$s,w=i||Au(this._getItems(),d,_,this._config.wrap);if(w===d)return;const g=this._getItemIndex(w),x=z=>R.trigger(this._element,z,{relatedTarget:w,direction:this._orderToDirection(n),from:this._getItemIndex(d),to:g});if(x(w0).defaultPrevented||!d||!w)return;const F=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=w;const I=_?N0:I0,U=_?D0:L0;w.classList.add(U),Hs(w),d.classList.add(I),w.classList.add(I);const J=()=>{w.classList.remove(I,U),w.classList.add(Zo),d.classList.remove(Zo,U,I),this._isSliding=!1,x(zl)};this._queueCallback(J,d,this._isAnimated()),F&&this.cycle()}_isAnimated(){return this._element.classList.contains(O0)}_getActive(){return re.findOne(k0,this._element)}_getItems(){return re.find(Gf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return fn()?n===Pi?ki:$s:n===Pi?$s:ki}_orderToDirection(n){return fn()?n===ki?Pi:sa:n===ki?sa:Pi}static jQueryInterface(n){return this.each(function(){const i=Ks.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(document,S0,P0,function(o){const n=re.getElementFromSelector(this);if(!n||!n.classList.contains(zf))return;o.preventDefault();const i=Ks.getOrCreateInstance(n),d=this.getAttribute("data-bs-slide-to");if(d){i.to(d),i._maybeEnableCycle();return}if(cr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});R.on(window,C0,()=>{const o=re.find(M0);for(const n of o)Ks.getOrCreateInstance(n)});hn(Ks);const W0="collapse",q0="bs.collapse",zs=`.${q0}`,H0=".data-api",V0=`show${zs}`,K0=`shown${zs}`,z0=`hide${zs}`,Y0=`hidden${zs}`,G0=`click${zs}${H0}`,Yl="show",Fi="collapse",Jo="collapsing",j0="collapsed",X0=`:scope .${Fi} .${Fi}`,Q0="collapse-horizontal",Z0="width",J0="height",ew=".collapse.show, .collapse.collapsing",lu='[data-bs-toggle="collapse"]',tw={parent:null,toggle:!0},nw={parent:"(null|element)",toggle:"boolean"};class Ws extends Cn{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const d=re.find(lu);for(const _ of d){const w=re.getSelectorFromElement(_),g=re.find(w).filter(x=>x===this._element);w!==null&&g.length&&this._triggerArray.push(_)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tw}static get DefaultType(){return nw}static get NAME(){return W0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(ew).filter(x=>x!==this._element).map(x=>Ws.getOrCreateInstance(x,{toggle:!1}))),n.length&&n[0]._isTransitioning||R.trigger(this._element,V0).defaultPrevented)return;for(const x of n)x.hide();const d=this._getDimension();this._element.classList.remove(Fi),this._element.classList.add(Jo),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=()=>{this._isTransitioning=!1,this._element.classList.remove(Jo),this._element.classList.add(Fi,Yl),this._element.style[d]="",R.trigger(this._element,K0)},g=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(_,this._element,!0),this._element.style[d]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||R.trigger(this._element,z0).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Hs(this._element),this._element.classList.add(Jo),this._element.classList.remove(Fi,Yl);for(const _ of this._triggerArray){const w=re.getElementFromSelector(_);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([_],!1)}this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(Jo),this._element.classList.add(Fi),R.trigger(this._element,Y0)};this._element.style[i]="",this._queueCallback(d,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Yl)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=Dr(n.parent),n}_getDimension(){return this._element.classList.contains(Q0)?Z0:J0}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(lu);for(const i of n){const d=re.getElementFromSelector(i);d&&this._addAriaAndCollapsedClass([i],this._isShown(d))}}_getFirstLevelChildren(n){const i=re.find(X0,this._config.parent);return re.find(n,this._config.parent).filter(d=>!i.includes(d))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const d of n)d.classList.toggle(j0,!i),d.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const d=Ws.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n]()}})}}R.on(document,G0,lu,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(const n of re.getMultipleElementsFromSelector(this))Ws.getOrCreateInstance(n,{toggle:!1}).toggle()});hn(Ws);const Pd="dropdown",rw="bs.dropdown",ci=`.${rw}`,Tu=".data-api",iw="Escape",Md="Tab",sw="ArrowUp",Fd="ArrowDown",ow=2,aw=`hide${ci}`,lw=`hidden${ci}`,uw=`show${ci}`,cw=`shown${ci}`,jf=`click${ci}${Tu}`,Xf=`keydown${ci}${Tu}`,dw=`keyup${ci}${Tu}`,Mi="show",fw="dropup",pw="dropend",hw="dropstart",_w="dropup-center",vw="dropdown-center",si='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',mw=`${si}.${Mi}`,oa=".dropdown-menu",gw=".navbar",bw=".navbar-nav",yw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ww=fn()?"top-end":"top-start",Ew=fn()?"top-start":"top-end",Aw=fn()?"bottom-end":"bottom-start",xw=fn()?"bottom-start":"bottom-end",Tw=fn()?"left-start":"right-start",Cw=fn()?"right-start":"left-start",Sw="top",Ow="bottom",Iw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Nw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wn extends Cn{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=re.next(this._element,oa)[0]||re.prev(this._element,oa)[0]||re.findOne(oa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Iw}static get DefaultType(){return Nw}static get NAME(){return Pd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Lr(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!R.trigger(this._element,uw,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(bw))for(const d of[].concat(...document.body.children))R.on(d,"mouseover",la);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mi),this._element.classList.add(Mi),R.trigger(this._element,cw,n)}}hide(){if(Lr(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!R.trigger(this._element,aw,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))R.off(d,"mouseover",la);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mi),this._element.classList.remove(Mi),this._element.setAttribute("aria-expanded","false"),cr.removeDataAttribute(this._menu,"popper"),R.trigger(this._element,lw,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!ur(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Pd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof Lf>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:ur(this._config.reference)?n=Dr(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=Eu(n,this._menu,i)}_isShown(){return this._menu.classList.contains(Mi)}_getPlacement(){const n=this._parent;if(n.classList.contains(pw))return Tw;if(n.classList.contains(hw))return Cw;if(n.classList.contains(_w))return Sw;if(n.classList.contains(vw))return Ow;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(fw)?i?Ew:ww:i?xw:Aw}_detectNavbar(){return this._element.closest(gw)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(cr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...qt(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const d=re.find(yw,this._menu).filter(_=>Yi(_));d.length&&Au(d,i,n===Fd,!d.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=Wn.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===ow||n.type==="keyup"&&n.key!==Md)return;const i=re.find(mw);for(const d of i){const _=Wn.getInstance(d);if(!_||_._config.autoClose===!1)continue;const w=n.composedPath(),g=w.includes(_._menu);if(w.includes(_._element)||_._config.autoClose==="inside"&&!g||_._config.autoClose==="outside"&&g||_._menu.contains(n.target)&&(n.type==="keyup"&&n.key===Md||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const x={relatedTarget:_._element};n.type==="click"&&(x.clickEvent=n),_._completeHide(x)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),d=n.key===iw,_=[sw,Fd].includes(n.key);if(!_&&!d||i&&!d)return;n.preventDefault();const w=this.matches(si)?this:re.prev(this,si)[0]||re.next(this,si)[0]||re.findOne(si,n.delegateTarget.parentNode),g=Wn.getOrCreateInstance(w);if(_){n.stopPropagation(),g.show(),g._selectMenuItem(n);return}g._isShown()&&(n.stopPropagation(),g.hide(),w.focus())}}R.on(document,Xf,si,Wn.dataApiKeydownHandler);R.on(document,Xf,oa,Wn.dataApiKeydownHandler);R.on(document,jf,Wn.clearMenus);R.on(document,dw,Wn.clearMenus);R.on(document,jf,si,function(o){o.preventDefault(),Wn.getOrCreateInstance(this).toggle()});hn(Wn);const Qf="backdrop",Dw="fade",Bd="show",Ud=`mousedown.bs.${Qf}`,Lw={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kw={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zf extends Vs{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return Lw}static get DefaultType(){return kw}static get NAME(){return Qf}show(n){if(!this._config.isVisible){qt(n);return}this._append();const i=this._getElement();this._config.isAnimated&&Hs(i),i.classList.add(Bd),this._emulateAnimation(()=>{qt(n)})}hide(n){if(!this._config.isVisible){qt(n);return}this._getElement().classList.remove(Bd),this._emulateAnimation(()=>{this.dispose(),qt(n)})}dispose(){this._isAppended&&(R.off(this._element,Ud),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(Dw),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=Dr(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),R.on(n,Ud,()=>{qt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){Mf(n,this._getElement(),this._config.isAnimated)}}const $w="focustrap",Rw="bs.focustrap",ca=`.${Rw}`,Pw=`focusin${ca}`,Mw=`keydown.tab${ca}`,Fw="Tab",Bw="forward",Wd="backward",Uw={autofocus:!0,trapElement:null},Ww={autofocus:"boolean",trapElement:"element"};class Jf extends Vs{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Uw}static get DefaultType(){return Ww}static get NAME(){return $w}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),R.off(document,ca),R.on(document,Pw,n=>this._handleFocusin(n)),R.on(document,Mw,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,R.off(document,ca))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const d=re.focusableChildren(i);d.length===0?i.focus():this._lastTabNavDirection===Wd?d[d.length-1].focus():d[0].focus()}_handleKeydown(n){n.key===Fw&&(this._lastTabNavDirection=n.shiftKey?Wd:Bw)}}const qd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Hd=".sticky-top",ea="padding-right",Vd="margin-right";class uu{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ea,i=>i+n),this._setElementAttributes(qd,ea,i=>i+n),this._setElementAttributes(Hd,Vd,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ea),this._resetElementAttributes(qd,ea),this._resetElementAttributes(Hd,Vd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,d){const _=this.getWidth(),w=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+_)return;this._saveInitialAttribute(g,i);const x=window.getComputedStyle(g).getPropertyValue(i);g.style.setProperty(i,`${d(Number.parseFloat(x))}px`)};this._applyManipulationCallback(n,w)}_saveInitialAttribute(n,i){const d=n.style.getPropertyValue(i);d&&cr.setDataAttribute(n,i,d)}_resetElementAttributes(n,i){const d=_=>{const w=cr.getDataAttribute(_,i);if(w===null){_.style.removeProperty(i);return}cr.removeDataAttribute(_,i),_.style.setProperty(i,w)};this._applyManipulationCallback(n,d)}_applyManipulationCallback(n,i){if(ur(n)){i(n);return}for(const d of re.find(n,this._element))i(d)}}const qw="modal",Hw="bs.modal",pn=`.${Hw}`,Vw=".data-api",Kw="Escape",zw=`hide${pn}`,Yw=`hidePrevented${pn}`,ep=`hidden${pn}`,tp=`show${pn}`,Gw=`shown${pn}`,jw=`resize${pn}`,Xw=`click.dismiss${pn}`,Qw=`mousedown.dismiss${pn}`,Zw=`keydown.dismiss${pn}`,Jw=`click${pn}${Vw}`,Kd="modal-open",e1="fade",zd="show",Gl="modal-static",t1=".modal.show",n1=".modal-dialog",r1=".modal-body",i1='[data-bs-toggle="modal"]',s1={backdrop:!0,focus:!0,keyboard:!0},o1={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vi extends Cn{constructor(n,i){super(n,i),this._dialog=re.findOne(n1,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new uu,this._addEventListeners()}static get Default(){return s1}static get DefaultType(){return o1}static get NAME(){return qw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||R.trigger(this._element,tp,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Kd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||R.trigger(this._element,zw).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(zd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){R.off(window,pn),R.off(this._dialog,pn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jf({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=re.findOne(r1,this._dialog);i&&(i.scrollTop=0),Hs(this._element),this._element.classList.add(zd);const d=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,R.trigger(this._element,Gw,{relatedTarget:n})};this._queueCallback(d,this._dialog,this._isAnimated())}_addEventListeners(){R.on(this._element,Zw,n=>{if(n.key===Kw){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),R.on(window,jw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),R.on(this._element,Qw,n=>{R.one(this._element,Xw,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Kd),this._resetAdjustments(),this._scrollBar.reset(),R.trigger(this._element,ep)})}_isAnimated(){return this._element.classList.contains(e1)}_triggerBackdropTransition(){if(R.trigger(this._element,Yw).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(Gl)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Gl),this._queueCallback(()=>{this._element.classList.remove(Gl),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),d=i>0;if(d&&!n){const _=fn()?"paddingLeft":"paddingRight";this._element.style[_]=`${i}px`}if(!d&&n){const _=fn()?"paddingRight":"paddingLeft";this._element.style[_]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const d=Vi.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof d[n]>"u")throw new TypeError(`No method named "${n}"`);d[n](i)}})}}R.on(document,Jw,i1,function(o){const n=re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),R.one(n,tp,_=>{_.defaultPrevented||R.one(n,ep,()=>{Yi(this)&&this.focus()})});const i=re.findOne(t1);i&&Vi.getInstance(i).hide(),Vi.getOrCreateInstance(n).toggle(this)});ha(Vi);hn(Vi);const a1="offcanvas",l1="bs.offcanvas",fr=`.${l1}`,np=".data-api",u1=`load${fr}${np}`,c1="Escape",Yd="show",Gd="showing",jd="hiding",d1="offcanvas-backdrop",rp=".offcanvas.show",f1=`show${fr}`,p1=`shown${fr}`,h1=`hide${fr}`,Xd=`hidePrevented${fr}`,ip=`hidden${fr}`,_1=`resize${fr}`,v1=`click${fr}${np}`,m1=`keydown.dismiss${fr}`,g1='[data-bs-toggle="offcanvas"]',b1={backdrop:!0,keyboard:!0,scroll:!1},y1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class kr extends Cn{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return b1}static get DefaultType(){return y1}static get NAME(){return a1}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||R.trigger(this._element,f1,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new uu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gd);const d=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Yd),this._element.classList.remove(Gd),R.trigger(this._element,p1,{relatedTarget:n})};this._queueCallback(d,this._element,!0)}hide(){if(!this._isShown||R.trigger(this._element,h1).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jd),this._backdrop.hide();const i=()=>{this._element.classList.remove(Yd,jd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new uu().reset(),R.trigger(this._element,ip)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){R.trigger(this._element,Xd);return}this.hide()},i=!!this._config.backdrop;return new Zf({className:d1,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Jf({trapElement:this._element})}_addEventListeners(){R.on(this._element,m1,n=>{if(n.key===c1){if(this._config.keyboard){this.hide();return}R.trigger(this._element,Xd)}})}static jQueryInterface(n){return this.each(function(){const i=kr.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}R.on(document,v1,g1,function(o){const n=re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Lr(this))return;R.one(n,ip,()=>{Yi(this)&&this.focus()});const i=re.findOne(rp);i&&i!==n&&kr.getInstance(i).hide(),kr.getOrCreateInstance(n).toggle(this)});R.on(window,u1,()=>{for(const o of re.find(rp))kr.getOrCreateInstance(o).show()});R.on(window,_1,()=>{for(const o of re.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&kr.getOrCreateInstance(o).hide()});ha(kr);hn(kr);const w1=/^aria-[\w-]*$/i,sp={"*":["class","dir","id","lang","role",w1],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},E1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),A1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,x1=(o,n)=>{const i=o.nodeName.toLowerCase();return n.includes(i)?E1.has(i)?!!A1.test(o.nodeValue):!0:n.filter(d=>d instanceof RegExp).some(d=>d.test(i))};function T1(o,n,i){if(!o.length)return o;if(i&&typeof i=="function")return i(o);const _=new window.DOMParser().parseFromString(o,"text/html"),w=[].concat(..._.body.querySelectorAll("*"));for(const g of w){const x=g.nodeName.toLowerCase();if(!Object.keys(n).includes(x)){g.remove();continue}const A=[].concat(...g.attributes),F=[].concat(n["*"]||[],n[x]||[]);for(const I of A)x1(I,F)||g.removeAttribute(I.nodeName)}return _.body.innerHTML}const C1="TemplateFactory",S1={allowList:sp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},O1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},I1={entry:"(string|element|function|null)",selector:"(string|element)"};class N1 extends Vs{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return S1}static get DefaultType(){return O1}static get NAME(){return C1}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[_,w]of Object.entries(this._config.content))this._setContent(n,w,_);const i=n.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&i.classList.add(...d.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,d]of Object.entries(n))super._typeCheckConfig({selector:i,entry:d},I1)}_setContent(n,i,d){const _=re.findOne(d,n);if(_){if(i=this._resolvePossibleFunction(i),!i){_.remove();return}if(ur(i)){this._putElementInTemplate(Dr(i),_);return}if(this._config.html){_.innerHTML=this._maybeSanitize(i);return}_.textContent=i}}_maybeSanitize(n){return this._config.sanitize?T1(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return qt(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const D1="tooltip",L1=new Set(["sanitize","allowList","sanitizeFn"]),jl="fade",k1="modal",ta="show",$1=".tooltip-inner",Qd=`.${k1}`,Zd="hide.bs.modal",Rs="hover",Xl="focus",Ql="click",R1="manual",P1="hide",M1="hidden",F1="show",B1="shown",U1="inserted",W1="click",q1="focusin",H1="focusout",V1="mouseenter",K1="mouseleave",z1={AUTO:"auto",TOP:"top",RIGHT:fn()?"left":"right",BOTTOM:"bottom",LEFT:fn()?"right":"left"},Y1={allowList:sp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},G1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ji extends Cn{constructor(n,i){if(typeof Lf>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Y1}static get DefaultType(){return G1}static get NAME(){return D1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),R.off(this._element.closest(Qd),Zd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=R.trigger(this._element,this.constructor.eventName(F1)),d=(Rf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!d)return;this._disposePopper();const _=this._getTipElement();this._element.setAttribute("aria-describedby",_.getAttribute("id"));const{container:w}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(w.append(_),R.trigger(this._element,this.constructor.eventName(U1))),this._popper=this._createPopper(_),_.classList.add(ta),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))R.on(x,"mouseover",la);const g=()=>{R.trigger(this._element,this.constructor.eventName(B1)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||R.trigger(this._element,this.constructor.eventName(P1)).defaultPrevented)return;if(this._getTipElement().classList.remove(ta),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))R.off(_,"mouseover",la);this._activeTrigger[Ql]=!1,this._activeTrigger[Xl]=!1,this._activeTrigger[Rs]=!1,this._isHovered=null;const d=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),R.trigger(this._element,this.constructor.eventName(M1)))};this._queueCallback(d,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(jl,ta),i.classList.add(`bs-${this.constructor.NAME}-auto`);const d=Ry(this.constructor.NAME).toString();return i.setAttribute("id",d),this._isAnimated()&&i.classList.add(jl),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new N1({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(jl)}_isShown(){return this.tip&&this.tip.classList.contains(ta)}_createPopper(n){const i=qt(this._config.placement,[this,n,this._element]),d=z1[i.toUpperCase()];return Eu(this._element,n,this._getPopperConfig(d))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return qt(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...i,...qt(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")R.on(this._element,this.constructor.eventName(W1),this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger[Ql]=!(_._isShown()&&_._activeTrigger[Ql]),_.toggle()});else if(i!==R1){const d=i===Rs?this.constructor.eventName(V1):this.constructor.eventName(q1),_=i===Rs?this.constructor.eventName(K1):this.constructor.eventName(H1);R.on(this._element,d,this._config.selector,w=>{const g=this._initializeOnDelegatedTarget(w);g._activeTrigger[w.type==="focusin"?Xl:Rs]=!0,g._enter()}),R.on(this._element,_,this._config.selector,w=>{const g=this._initializeOnDelegatedTarget(w);g._activeTrigger[w.type==="focusout"?Xl:Rs]=g._element.contains(w.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},R.on(this._element.closest(Qd),Zd,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=cr.getDataAttributes(this._element);for(const d of Object.keys(i))L1.has(d)&&delete i[d];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:Dr(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,d]of Object.entries(this._config))this.constructor.Default[i]!==d&&(n[i]=d);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=ji.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}hn(ji);const j1="popover",X1=".popover-header",Q1=".popover-body",Z1={...ji.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},J1={...ji.DefaultType,content:"(null|string|element|function)"};class ma extends ji{static get Default(){return Z1}static get DefaultType(){return J1}static get NAME(){return j1}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[X1]:this._getTitle(),[Q1]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=ma.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}hn(ma);const eE="scrollspy",tE="bs.scrollspy",Cu=`.${tE}`,nE=".data-api",rE=`activate${Cu}`,Jd=`click${Cu}`,iE=`load${Cu}${nE}`,sE="dropdown-item",$i="active",oE='[data-bs-spy="scroll"]',Zl="[href]",aE=".nav, .list-group",ef=".nav-link",lE=".nav-item",uE=".list-group-item",cE=`${ef}, ${lE} > ${ef}, ${uE}`,dE=".dropdown",fE=".dropdown-toggle",pE={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},hE={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ga extends Cn{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pE}static get DefaultType(){return hE}static get NAME(){return eE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=Dr(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(R.off(this._config.target,Jd),R.on(this._config.target,Jd,Zl,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const d=this._rootElement||window,_=i.offsetTop-this._element.offsetTop;if(d.scrollTo){d.scrollTo({top:_,behavior:"smooth"});return}d.scrollTop=_}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=g=>this._targetLinks.get(`#${g.target.id}`),d=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(i(g))},_=(this._rootElement||document.documentElement).scrollTop,w=_>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=_;for(const g of n){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(g));continue}const x=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&x){if(d(g),!_)return;continue}!w&&!x&&d(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=re.find(Zl,this._config.target);for(const i of n){if(!i.hash||Lr(i))continue;const d=re.findOne(decodeURI(i.hash),this._element);Yi(d)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,d))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add($i),this._activateParents(n),R.trigger(this._element,rE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(sE)){re.findOne(fE,n.closest(dE)).classList.add($i);return}for(const i of re.parents(n,aE))for(const d of re.prev(i,cE))d.classList.add($i)}_clearActiveClass(n){n.classList.remove($i);const i=re.find(`${Zl}.${$i}`,n);for(const d of i)d.classList.remove($i)}static jQueryInterface(n){return this.each(function(){const i=ga.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(window,iE,()=>{for(const o of re.find(oE))ga.getOrCreateInstance(o)});hn(ga);const _E="tab",vE="bs.tab",di=`.${vE}`,mE=`hide${di}`,gE=`hidden${di}`,bE=`show${di}`,yE=`shown${di}`,wE=`click${di}`,EE=`keydown${di}`,AE=`load${di}`,xE="ArrowLeft",tf="ArrowRight",TE="ArrowUp",nf="ArrowDown",Jl="Home",rf="End",oi="active",sf="fade",eu="show",CE="dropdown",op=".dropdown-toggle",SE=".dropdown-menu",tu=`:not(${op})`,OE='.list-group, .nav, [role="tablist"]',IE=".nav-item, .list-group-item",NE=`.nav-link${tu}, .list-group-item${tu}, [role="tab"]${tu}`,ap='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nu=`${NE}, ${ap}`,DE=`.${oi}[data-bs-toggle="tab"], .${oi}[data-bs-toggle="pill"], .${oi}[data-bs-toggle="list"]`;class Ki extends Cn{constructor(n){super(n),this._parent=this._element.closest(OE),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),R.on(this._element,EE,i=>this._keydown(i)))}static get NAME(){return _E}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),d=i?R.trigger(i,mE,{relatedTarget:n}):null;R.trigger(n,bE,{relatedTarget:i}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(oi),this._activate(re.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(eu);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),R.trigger(n,yE,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(sf))}_deactivate(n,i){if(!n)return;n.classList.remove(oi),n.blur(),this._deactivate(re.getElementFromSelector(n));const d=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(eu);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),R.trigger(n,gE,{relatedTarget:i})};this._queueCallback(d,n,n.classList.contains(sf))}_keydown(n){if(![xE,tf,TE,nf,Jl,rf].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(_=>!Lr(_));let d;if([Jl,rf].includes(n.key))d=i[n.key===Jl?0:i.length-1];else{const _=[tf,nf].includes(n.key);d=Au(i,n.target,_,!0)}d&&(d.focus({preventScroll:!0}),Ki.getOrCreateInstance(d).show())}_getChildren(){return re.find(nu,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const d of i)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),d=this._getOuterElement(n);n.setAttribute("aria-selected",i),d!==n&&this._setAttributeIfNotExists(d,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=re.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const d=this._getOuterElement(n);if(!d.classList.contains(CE))return;const _=(w,g)=>{const x=re.findOne(w,d);x&&x.classList.toggle(g,i)};_(op,oi),_(SE,eu),d.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,d){n.hasAttribute(i)||n.setAttribute(i,d)}_elemIsActive(n){return n.classList.contains(oi)}_getInnerElement(n){return n.matches(nu)?n:re.findOne(nu,n)}_getOuterElement(n){return n.closest(IE)||n}static jQueryInterface(n){return this.each(function(){const i=Ki.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}R.on(document,wE,ap,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!Lr(this)&&Ki.getOrCreateInstance(this).show()});R.on(window,AE,()=>{for(const o of re.find(DE))Ki.getOrCreateInstance(o)});hn(Ki);const LE="toast",kE="bs.toast",Pr=`.${kE}`,$E=`mouseover${Pr}`,RE=`mouseout${Pr}`,PE=`focusin${Pr}`,ME=`focusout${Pr}`,FE=`hide${Pr}`,BE=`hidden${Pr}`,UE=`show${Pr}`,WE=`shown${Pr}`,qE="fade",of="hide",na="show",ra="showing",HE={animation:"boolean",autohide:"boolean",delay:"number"},VE={animation:!0,autohide:!0,delay:5e3};class ba extends Cn{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return VE}static get DefaultType(){return HE}static get NAME(){return LE}show(){if(R.trigger(this._element,UE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(qE);const i=()=>{this._element.classList.remove(ra),R.trigger(this._element,WE),this._maybeScheduleHide()};this._element.classList.remove(of),Hs(this._element),this._element.classList.add(na,ra),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||R.trigger(this._element,FE).defaultPrevented)return;const i=()=>{this._element.classList.add(of),this._element.classList.remove(ra,na),R.trigger(this._element,BE)};this._element.classList.add(ra),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(na),super.dispose()}isShown(){return this._element.classList.contains(na)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const d=n.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){R.on(this._element,$E,n=>this._onInteraction(n,!0)),R.on(this._element,RE,n=>this._onInteraction(n,!1)),R.on(this._element,PE,n=>this._onInteraction(n,!0)),R.on(this._element,ME,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=ba.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}ha(ba);hn(ba);var Ms={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var KE=Ms.exports,af;function zE(){return af||(af=1,(function(o,n){(function(){var i,d="4.17.21",_=200,w="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",x="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",F=500,I="__lodash_placeholder__",U=1,J=2,z=4,ee=1,te=2,Q=1,O=2,H=4,ne=8,L=16,$=32,X=64,le=128,Ie=256,Ne=512,fe=30,Fe="...",st=800,qe=16,ft=1,kt=2,lt=3,Ve=1/0,yt=9007199254740991,_n=17976931348623157e292,vn=NaN,pt=4294967295,Hn=pt-1,pr=pt>>>1,mn=[["ary",le],["bind",Q],["bindKey",O],["curry",ne],["curryRight",L],["flip",Ne],["partial",$],["partialRight",X],["rearg",Ie]],ut="[object Arguments]",en="[object Array]",ht="[object AsyncFunction]",wt="[object Boolean]",$t="[object Date]",Xi="[object DOMException]",gn="[object Error]",Vn="[object Function]",Sn="[object GeneratorFunction]",xe="[object Map]",ot="[object Number]",tn="[object Null]",je="[object Object]",fi="[object Promise]",Kn="[object Proxy]",Et="[object RegExp]",Ue="[object Set]",On="[object String]",zn="[object Symbol]",In="[object Undefined]",At="[object WeakMap]",Rt="[object WeakSet]",Nn="[object ArrayBuffer]",bn="[object DataView]",_t="[object Float32Array]",Qi="[object Float64Array]",Zi="[object Int8Array]",Dn="[object Int16Array]",Ji="[object Int32Array]",es="[object Uint8Array]",ts="[object Uint8ClampedArray]",Y="[object Uint16Array]",ns="[object Uint32Array]",rs=/\b__p \+= '';/g,ya=/\b(__p \+=) '' \+/g,wa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,Yn=/[&<>"']/g,hr=RegExp(Pt.source),Ys=RegExp(Yn.source),_e=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,pi=/<%=([\s\S]+?)%>/g,Ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,is=/[\\^$.*+?()[\]{}|]/g,Ea=RegExp(is.source),ss=/^\s+/,Aa=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gs=/\{\n\/\* \[wrapped with (.+)\] \*/,_r=/,? & /,vr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,os=/[()=,{}\[\]\/\s]/,Mr=/\\(\\)?/g,hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,xa=/^[-+]0x[0-9a-f]+$/i,js=/^0b[01]+$/i,Xs=/^\[object .+?Constructor\]$/,Ta=/^0o[0-7]+$/i,Ca=/^(?:0|[1-9]\d*)$/,Mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wn=/($^)/,Qs=/['\n\r\u2028\u2029\\]/g,nt="\\ud800-\\udfff",Fr="\\u0300-\\u036f",Sa="\\ufe20-\\ufe2f",Oa="\\u20d0-\\u20ff",as=Fr+Sa+Oa,kn="\\u2700-\\u27bf",Zs="a-z\\xdf-\\xf6\\xf8-\\xff",vi="\\xac\\xb1\\xd7\\xf7",ls="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ia="\\u2000-\\u206f",mr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$n="A-Z\\xc0-\\xd6\\xd8-\\xde",Br="\\ufe0e\\ufe0f",Ur=vi+ls+Ia+mr,gr="['’]",Na="["+nt+"]",Js="["+Ur+"]",mi="["+as+"]",Vt="\\d+",eo="["+kn+"]",to="["+Zs+"]",us="[^"+nt+Ur+Vt+kn+Zs+$n+"]",br="\\ud83c[\\udffb-\\udfff]",Da="(?:"+mi+"|"+br+")",Wr="[^"+nt+"]",qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Hr="[\\ud800-\\udbff][\\udc00-\\udfff]",yr="["+$n+"]",Vr="\\u200d",Kr="(?:"+to+"|"+us+")",cs="(?:"+yr+"|"+us+")",gi="(?:"+gr+"(?:d|ll|m|re|s|t|ve))?",zr="(?:"+gr+"(?:D|LL|M|RE|S|T|VE))?",Yr=Da+"?",Re="["+Br+"]?",La="(?:"+Vr+"(?:"+[Wr,qr,Hr].join("|")+")"+Re+Yr+")*",ka="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$a="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",no=Re+Yr+La,Ra="(?:"+[eo,qr,Hr].join("|")+")"+no,wr="(?:"+[Wr+mi+"?",mi,qr,Hr,Na].join("|")+")",Pa=RegExp(gr,"g"),Ma=RegExp(mi,"g"),Rn=RegExp(br+"(?="+br+")|"+wr+no,"g"),Gr=RegExp([yr+"?"+to+"+"+gi+"(?="+[Js,yr,"$"].join("|")+")",cs+"+"+zr+"(?="+[Js,yr+Kr,"$"].join("|")+")",yr+"?"+Kr+"+"+gi,yr+"+"+zr,$a,ka,Vt,Ra].join("|"),"g"),jr=RegExp("["+Vr+nt+as+Br+"]"),Fa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ro=-1,Pe={};Pe[_t]=Pe[Qi]=Pe[Zi]=Pe[Dn]=Pe[Ji]=Pe[es]=Pe[ts]=Pe[Y]=Pe[ns]=!0,Pe[ut]=Pe[en]=Pe[Nn]=Pe[wt]=Pe[bn]=Pe[$t]=Pe[gn]=Pe[Vn]=Pe[xe]=Pe[ot]=Pe[je]=Pe[Et]=Pe[Ue]=Pe[On]=Pe[At]=!1;var $e={};$e[ut]=$e[en]=$e[Nn]=$e[bn]=$e[wt]=$e[$t]=$e[_t]=$e[Qi]=$e[Zi]=$e[Dn]=$e[Ji]=$e[xe]=$e[ot]=$e[je]=$e[Et]=$e[Ue]=$e[On]=$e[zn]=$e[es]=$e[ts]=$e[Y]=$e[ns]=!0,$e[gn]=$e[Vn]=$e[At]=!1;var Gn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Er={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ua=parseFloat,Wa=parseInt,io=typeof Go=="object"&&Go&&Go.Object===Object&&Go,qa=typeof self=="object"&&self&&self.Object===Object&&self,Qe=io||qa||Function("return this")(),ds=n&&!n.nodeType&&n,jn=ds&&!0&&o&&!o.nodeType&&o,bi=jn&&jn.exports===ds,Xn=bi&&io.process,xt=(function(){try{var y=jn&&jn.require&&jn.require("util").types;return y||Xn&&Xn.binding&&Xn.binding("util")}catch{}})(),fs=xt&&xt.isArrayBuffer,ps=xt&&xt.isDate,so=xt&&xt.isMap,oo=xt&&xt.isRegExp,ao=xt&&xt.isSet,lo=xt&&xt.isTypedArray;function Tt(y,S,T){switch(T.length){case 0:return y.call(S);case 1:return y.call(S,T[0]);case 2:return y.call(S,T[0],T[1]);case 3:return y.call(S,T[0],T[1],T[2])}return y.apply(S,T)}function Ct(y,S,T,G){for(var ce=-1,Oe=y==null?0:y.length;++ce<Oe;){var rt=y[ce];S(G,rt,T(rt),y)}return G}function Ze(y,S){for(var T=-1,G=y==null?0:y.length;++T<G&&S(y[T],T,y)!==!1;);return y}function Qn(y,S){for(var T=y==null?0:y.length;T--&&S(y[T],T,y)!==!1;);return y}function uo(y,S){for(var T=-1,G=y==null?0:y.length;++T<G;)if(!S(y[T],T,y))return!1;return!0}function St(y,S){for(var T=-1,G=y==null?0:y.length,ce=0,Oe=[];++T<G;){var rt=y[T];S(rt,T,y)&&(Oe[ce++]=rt)}return Oe}function yi(y,S){var T=y==null?0:y.length;return!!T&&we(y,S,0)>-1}function hs(y,S,T){for(var G=-1,ce=y==null?0:y.length;++G<ce;)if(T(S,y[G]))return!0;return!1}function a(y,S){for(var T=-1,G=y==null?0:y.length,ce=Array(G);++T<G;)ce[T]=S(y[T],T,y);return ce}function l(y,S){for(var T=-1,G=S.length,ce=y.length;++T<G;)y[ce+T]=S[T];return y}function c(y,S,T,G){var ce=-1,Oe=y==null?0:y.length;for(G&&Oe&&(T=y[++ce]);++ce<Oe;)T=S(T,y[ce],ce,y);return T}function b(y,S,T,G){var ce=y==null?0:y.length;for(G&&ce&&(T=y[--ce]);ce--;)T=S(T,y[ce],ce,y);return T}function C(y,S){for(var T=-1,G=y==null?0:y.length;++T<G;)if(S(y[T],T,y))return!0;return!1}var B=Le("length");function q(y){return y.split("")}function ae(y){return y.match(vr)||[]}function me(y,S,T){var G;return T(y,function(ce,Oe,rt){if(S(ce,Oe,rt))return G=Oe,!1}),G}function V(y,S,T,G){for(var ce=y.length,Oe=T+(G?1:-1);G?Oe--:++Oe<ce;)if(S(y[Oe],Oe,y))return Oe;return-1}function we(y,S,T){return S===S?mp(y,S,T):V(y,Se,T)}function Je(y,S,T,G){for(var ce=T-1,Oe=y.length;++ce<Oe;)if(G(y[ce],S))return ce;return-1}function Se(y){return y!==y}function et(y,S){var T=y==null?0:y.length;return T?vs(y,S)/T:vn}function Le(y){return function(S){return S==null?i:S[y]}}function Kt(y){return function(S){return y==null?i:y[S]}}function nn(y,S,T,G,ce){return ce(y,function(Oe,rt,Me){T=G?(G=!1,Oe):S(T,Oe,rt,Me)}),T}function _s(y,S){var T=y.length;for(y.sort(S);T--;)y[T]=y[T].value;return y}function vs(y,S){for(var T,G=-1,ce=y.length;++G<ce;){var Oe=S(y[G]);Oe!==i&&(T=T===i?Oe:T+Oe)}return T}function ms(y,S){for(var T=-1,G=Array(y);++T<y;)G[T]=S(T);return G}function lp(y,S){return a(S,function(T){return[T,y[T]]})}function Su(y){return y&&y.slice(0,Du(y)+1).replace(ss,"")}function zt(y){return function(S){return y(S)}}function Ha(y,S){return a(S,function(T){return y[T]})}function gs(y,S){return y.has(S)}function Ou(y,S){for(var T=-1,G=y.length;++T<G&&we(S,y[T],0)>-1;);return T}function Iu(y,S){for(var T=y.length;T--&&we(S,y[T],0)>-1;);return T}function up(y,S){for(var T=y.length,G=0;T--;)y[T]===S&&++G;return G}var cp=Kt(Gn),dp=Kt(Xe);function fp(y){return"\\"+Er[y]}function pp(y,S){return y==null?i:y[S]}function wi(y){return jr.test(y)}function hp(y){return Fa.test(y)}function _p(y){for(var S,T=[];!(S=y.next()).done;)T.push(S.value);return T}function Va(y){var S=-1,T=Array(y.size);return y.forEach(function(G,ce){T[++S]=[ce,G]}),T}function Nu(y,S){return function(T){return y(S(T))}}function Ar(y,S){for(var T=-1,G=y.length,ce=0,Oe=[];++T<G;){var rt=y[T];(rt===S||rt===I)&&(y[T]=I,Oe[ce++]=T)}return Oe}function co(y){var S=-1,T=Array(y.size);return y.forEach(function(G){T[++S]=G}),T}function vp(y){var S=-1,T=Array(y.size);return y.forEach(function(G){T[++S]=[G,G]}),T}function mp(y,S,T){for(var G=T-1,ce=y.length;++G<ce;)if(y[G]===S)return G;return-1}function gp(y,S,T){for(var G=T+1;G--;)if(y[G]===S)return G;return G}function Ei(y){return wi(y)?yp(y):B(y)}function En(y){return wi(y)?wp(y):q(y)}function Du(y){for(var S=y.length;S--&&Aa.test(y.charAt(S)););return S}var bp=Kt(Pn);function yp(y){for(var S=Rn.lastIndex=0;Rn.test(y);)++S;return S}function wp(y){return y.match(Rn)||[]}function Ep(y){return y.match(Gr)||[]}var Ap=(function y(S){S=S==null?Qe:Ai.defaults(Qe.Object(),S,Ai.pick(Qe,Ba));var T=S.Array,G=S.Date,ce=S.Error,Oe=S.Function,rt=S.Math,Me=S.Object,Ka=S.RegExp,xp=S.String,rn=S.TypeError,fo=T.prototype,Tp=Oe.prototype,xi=Me.prototype,po=S["__core-js_shared__"],ho=Tp.toString,ke=xi.hasOwnProperty,Cp=0,Lu=(function(){var e=/[^.]+$/.exec(po&&po.keys&&po.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),_o=xi.toString,Sp=ho.call(Me),Op=Qe._,Ip=Ka("^"+ho.call(ke).replace(is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vo=bi?S.Buffer:i,xr=S.Symbol,mo=S.Uint8Array,ku=vo?vo.allocUnsafe:i,go=Nu(Me.getPrototypeOf,Me),$u=Me.create,Ru=xi.propertyIsEnumerable,bo=fo.splice,Pu=xr?xr.isConcatSpreadable:i,bs=xr?xr.iterator:i,Xr=xr?xr.toStringTag:i,yo=(function(){try{var e=ti(Me,"defineProperty");return e({},"",{}),e}catch{}})(),Np=S.clearTimeout!==Qe.clearTimeout&&S.clearTimeout,Dp=G&&G.now!==Qe.Date.now&&G.now,Lp=S.setTimeout!==Qe.setTimeout&&S.setTimeout,wo=rt.ceil,Eo=rt.floor,za=Me.getOwnPropertySymbols,kp=vo?vo.isBuffer:i,Mu=S.isFinite,$p=fo.join,Rp=Nu(Me.keys,Me),it=rt.max,vt=rt.min,Pp=G.now,Mp=S.parseInt,Fu=rt.random,Fp=fo.reverse,Ya=ti(S,"DataView"),ys=ti(S,"Map"),Ga=ti(S,"Promise"),Ti=ti(S,"Set"),ws=ti(S,"WeakMap"),Es=ti(Me,"create"),Ao=ws&&new ws,Ci={},Bp=ni(Ya),Up=ni(ys),Wp=ni(Ga),qp=ni(Ti),Hp=ni(ws),xo=xr?xr.prototype:i,As=xo?xo.valueOf:i,Bu=xo?xo.toString:i;function f(e){if(He(e)&&!pe(e)&&!(e instanceof Ee)){if(e instanceof sn)return e;if(ke.call(e,"__wrapped__"))return Uc(e)}return new sn(e)}var Si=(function(){function e(){}return function(t){if(!We(t))return{};if($u)return $u(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function To(){}function sn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}f.templateSettings={escape:_e,evaluate:tt,interpolate:pi,variable:"",imports:{_:f}},f.prototype=To.prototype,f.prototype.constructor=f,sn.prototype=Si(To.prototype),sn.prototype.constructor=sn;function Ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pt,this.__views__=[]}function Vp(){var e=new Ee(this.__wrapped__);return e.__actions__=Ft(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ft(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ft(this.__views__),e}function Kp(){if(this.__filtered__){var e=new Ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function zp(){var e=this.__wrapped__.value(),t=this.__dir__,r=pe(e),s=t<0,u=r?e.length:0,h=i_(0,u,this.__views__),v=h.start,m=h.end,E=m-v,N=s?m:v-1,D=this.__iteratees__,k=D.length,K=0,Z=vt(E,this.__takeCount__);if(!r||!s&&u==E&&Z==E)return uc(e,this.__actions__);var se=[];e:for(;E--&&K<Z;){N+=t;for(var ge=-1,oe=e[N];++ge<k;){var ye=D[ge],Ae=ye.iteratee,jt=ye.type,Nt=Ae(oe);if(jt==kt)oe=Nt;else if(!Nt){if(jt==ft)continue e;break e}}se[K++]=oe}return se}Ee.prototype=Si(To.prototype),Ee.prototype.constructor=Ee;function Qr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Yp(){this.__data__=Es?Es(null):{},this.size=0}function Gp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function jp(e){var t=this.__data__;if(Es){var r=t[e];return r===A?i:r}return ke.call(t,e)?t[e]:i}function Xp(e){var t=this.__data__;return Es?t[e]!==i:ke.call(t,e)}function Qp(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Es&&t===i?A:t,this}Qr.prototype.clear=Yp,Qr.prototype.delete=Gp,Qr.prototype.get=jp,Qr.prototype.has=Xp,Qr.prototype.set=Qp;function Zn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Zp(){this.__data__=[],this.size=0}function Jp(e){var t=this.__data__,r=Co(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():bo.call(t,r,1),--this.size,!0}function eh(e){var t=this.__data__,r=Co(t,e);return r<0?i:t[r][1]}function th(e){return Co(this.__data__,e)>-1}function nh(e,t){var r=this.__data__,s=Co(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}Zn.prototype.clear=Zp,Zn.prototype.delete=Jp,Zn.prototype.get=eh,Zn.prototype.has=th,Zn.prototype.set=nh;function Jn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function rh(){this.size=0,this.__data__={hash:new Qr,map:new(ys||Zn),string:new Qr}}function ih(e){var t=Fo(this,e).delete(e);return this.size-=t?1:0,t}function sh(e){return Fo(this,e).get(e)}function oh(e){return Fo(this,e).has(e)}function ah(e,t){var r=Fo(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}Jn.prototype.clear=rh,Jn.prototype.delete=ih,Jn.prototype.get=sh,Jn.prototype.has=oh,Jn.prototype.set=ah;function Zr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Jn;++t<r;)this.add(e[t])}function lh(e){return this.__data__.set(e,A),this}function uh(e){return this.__data__.has(e)}Zr.prototype.add=Zr.prototype.push=lh,Zr.prototype.has=uh;function An(e){var t=this.__data__=new Zn(e);this.size=t.size}function ch(){this.__data__=new Zn,this.size=0}function dh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function fh(e){return this.__data__.get(e)}function ph(e){return this.__data__.has(e)}function hh(e,t){var r=this.__data__;if(r instanceof Zn){var s=r.__data__;if(!ys||s.length<_-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jn(s)}return r.set(e,t),this.size=r.size,this}An.prototype.clear=ch,An.prototype.delete=dh,An.prototype.get=fh,An.prototype.has=ph,An.prototype.set=hh;function Uu(e,t){var r=pe(e),s=!r&&ri(e),u=!r&&!s&&Ir(e),h=!r&&!s&&!u&&Di(e),v=r||s||u||h,m=v?ms(e.length,xp):[],E=m.length;for(var N in e)(t||ke.call(e,N))&&!(v&&(N=="length"||u&&(N=="offset"||N=="parent")||h&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||rr(N,E)))&&m.push(N);return m}function Wu(e){var t=e.length;return t?e[sl(0,t-1)]:i}function _h(e,t){return Bo(Ft(e),Jr(t,0,e.length))}function vh(e){return Bo(Ft(e))}function ja(e,t,r){(r!==i&&!xn(e[t],r)||r===i&&!(t in e))&&er(e,t,r)}function xs(e,t,r){var s=e[t];(!(ke.call(e,t)&&xn(s,r))||r===i&&!(t in e))&&er(e,t,r)}function Co(e,t){for(var r=e.length;r--;)if(xn(e[r][0],t))return r;return-1}function mh(e,t,r,s){return Tr(e,function(u,h,v){t(s,u,r(u),v)}),s}function qu(e,t){return e&&Fn(t,at(t),e)}function gh(e,t){return e&&Fn(t,Ut(t),e)}function er(e,t,r){t=="__proto__"&&yo?yo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Xa(e,t){for(var r=-1,s=t.length,u=T(s),h=e==null;++r<s;)u[r]=h?i:Nl(e,t[r]);return u}function Jr(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function on(e,t,r,s,u,h){var v,m=t&U,E=t&J,N=t&z;if(r&&(v=u?r(e,s,u,h):r(e)),v!==i)return v;if(!We(e))return e;var D=pe(e);if(D){if(v=o_(e),!m)return Ft(e,v)}else{var k=mt(e),K=k==Vn||k==Sn;if(Ir(e))return fc(e,m);if(k==je||k==ut||K&&!u){if(v=E||K?{}:Dc(e),!m)return E?jh(e,gh(v,e)):Gh(e,qu(v,e))}else{if(!$e[k])return u?e:{};v=a_(e,k,m)}}h||(h=new An);var Z=h.get(e);if(Z)return Z;h.set(e,v),od(e)?e.forEach(function(oe){v.add(on(oe,t,r,oe,e,h))}):id(e)&&e.forEach(function(oe,ye){v.set(ye,on(oe,t,r,ye,e,h))});var se=N?E?vl:_l:E?Ut:at,ge=D?i:se(e);return Ze(ge||e,function(oe,ye){ge&&(ye=oe,oe=e[ye]),xs(v,ye,on(oe,t,r,ye,e,h))}),v}function bh(e){var t=at(e);return function(r){return Hu(r,e,t)}}function Hu(e,t,r){var s=r.length;if(e==null)return!s;for(e=Me(e);s--;){var u=r[s],h=t[u],v=e[u];if(v===i&&!(u in e)||!h(v))return!1}return!0}function Vu(e,t,r){if(typeof e!="function")throw new rn(g);return Ds(function(){e.apply(i,r)},t)}function Ts(e,t,r,s){var u=-1,h=yi,v=!0,m=e.length,E=[],N=t.length;if(!m)return E;r&&(t=a(t,zt(r))),s?(h=hs,v=!1):t.length>=_&&(h=gs,v=!1,t=new Zr(t));e:for(;++u<m;){var D=e[u],k=r==null?D:r(D);if(D=s||D!==0?D:0,v&&k===k){for(var K=N;K--;)if(t[K]===k)continue e;E.push(D)}else h(t,k,s)||E.push(D)}return E}var Tr=mc(Mn),Ku=mc(Za,!0);function yh(e,t){var r=!0;return Tr(e,function(s,u,h){return r=!!t(s,u,h),r}),r}function So(e,t,r){for(var s=-1,u=e.length;++s<u;){var h=e[s],v=t(h);if(v!=null&&(m===i?v===v&&!Gt(v):r(v,m)))var m=v,E=h}return E}function wh(e,t,r,s){var u=e.length;for(r=ve(r),r<0&&(r=-r>u?0:u+r),s=s===i||s>u?u:ve(s),s<0&&(s+=u),s=r>s?0:ld(s);r<s;)e[r++]=t;return e}function zu(e,t){var r=[];return Tr(e,function(s,u,h){t(s,u,h)&&r.push(s)}),r}function dt(e,t,r,s,u){var h=-1,v=e.length;for(r||(r=u_),u||(u=[]);++h<v;){var m=e[h];t>0&&r(m)?t>1?dt(m,t-1,r,s,u):l(u,m):s||(u[u.length]=m)}return u}var Qa=gc(),Yu=gc(!0);function Mn(e,t){return e&&Qa(e,t,at)}function Za(e,t){return e&&Yu(e,t,at)}function Oo(e,t){return St(t,function(r){return ir(e[r])})}function ei(e,t){t=Sr(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Bn(t[r++])];return r&&r==s?e:i}function Gu(e,t,r){var s=t(e);return pe(e)?s:l(s,r(e))}function Ot(e){return e==null?e===i?In:tn:Xr&&Xr in Me(e)?r_(e):v_(e)}function Ja(e,t){return e>t}function Eh(e,t){return e!=null&&ke.call(e,t)}function Ah(e,t){return e!=null&&t in Me(e)}function xh(e,t,r){return e>=vt(t,r)&&e<it(t,r)}function el(e,t,r){for(var s=r?hs:yi,u=e[0].length,h=e.length,v=h,m=T(h),E=1/0,N=[];v--;){var D=e[v];v&&t&&(D=a(D,zt(t))),E=vt(D.length,E),m[v]=!r&&(t||u>=120&&D.length>=120)?new Zr(v&&D):i}D=e[0];var k=-1,K=m[0];e:for(;++k<u&&N.length<E;){var Z=D[k],se=t?t(Z):Z;if(Z=r||Z!==0?Z:0,!(K?gs(K,se):s(N,se,r))){for(v=h;--v;){var ge=m[v];if(!(ge?gs(ge,se):s(e[v],se,r)))continue e}K&&K.push(se),N.push(Z)}}return N}function Th(e,t,r,s){return Mn(e,function(u,h,v){t(s,r(u),h,v)}),s}function Cs(e,t,r){t=Sr(t,e),e=Rc(e,t);var s=e==null?e:e[Bn(ln(t))];return s==null?i:Tt(s,e,r)}function ju(e){return He(e)&&Ot(e)==ut}function Ch(e){return He(e)&&Ot(e)==Nn}function Sh(e){return He(e)&&Ot(e)==$t}function Ss(e,t,r,s,u){return e===t?!0:e==null||t==null||!He(e)&&!He(t)?e!==e&&t!==t:Oh(e,t,r,s,Ss,u)}function Oh(e,t,r,s,u,h){var v=pe(e),m=pe(t),E=v?en:mt(e),N=m?en:mt(t);E=E==ut?je:E,N=N==ut?je:N;var D=E==je,k=N==je,K=E==N;if(K&&Ir(e)){if(!Ir(t))return!1;v=!0,D=!1}if(K&&!D)return h||(h=new An),v||Di(e)?Oc(e,t,r,s,u,h):t_(e,t,E,r,s,u,h);if(!(r&ee)){var Z=D&&ke.call(e,"__wrapped__"),se=k&&ke.call(t,"__wrapped__");if(Z||se){var ge=Z?e.value():e,oe=se?t.value():t;return h||(h=new An),u(ge,oe,r,s,h)}}return K?(h||(h=new An),n_(e,t,r,s,u,h)):!1}function Ih(e){return He(e)&&mt(e)==xe}function tl(e,t,r,s){var u=r.length,h=u,v=!s;if(e==null)return!h;for(e=Me(e);u--;){var m=r[u];if(v&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++u<h;){m=r[u];var E=m[0],N=e[E],D=m[1];if(v&&m[2]){if(N===i&&!(E in e))return!1}else{var k=new An;if(s)var K=s(N,D,E,e,t,k);if(!(K===i?Ss(D,N,ee|te,s,k):K))return!1}}return!0}function Xu(e){if(!We(e)||d_(e))return!1;var t=ir(e)?Ip:Xs;return t.test(ni(e))}function Nh(e){return He(e)&&Ot(e)==Et}function Dh(e){return He(e)&&mt(e)==Ue}function Lh(e){return He(e)&&Ko(e.length)&&!!Pe[Ot(e)]}function Qu(e){return typeof e=="function"?e:e==null?Wt:typeof e=="object"?pe(e)?ec(e[0],e[1]):Ju(e):bd(e)}function nl(e){if(!Ns(e))return Rp(e);var t=[];for(var r in Me(e))ke.call(e,r)&&r!="constructor"&&t.push(r);return t}function kh(e){if(!We(e))return __(e);var t=Ns(e),r=[];for(var s in e)s=="constructor"&&(t||!ke.call(e,s))||r.push(s);return r}function rl(e,t){return e<t}function Zu(e,t){var r=-1,s=Bt(e)?T(e.length):[];return Tr(e,function(u,h,v){s[++r]=t(u,h,v)}),s}function Ju(e){var t=gl(e);return t.length==1&&t[0][2]?kc(t[0][0],t[0][1]):function(r){return r===e||tl(r,e,t)}}function ec(e,t){return yl(e)&&Lc(t)?kc(Bn(e),t):function(r){var s=Nl(r,e);return s===i&&s===t?Dl(r,e):Ss(t,s,ee|te)}}function Io(e,t,r,s,u){e!==t&&Qa(t,function(h,v){if(u||(u=new An),We(h))$h(e,t,v,r,Io,s,u);else{var m=s?s(El(e,v),h,v+"",e,t,u):i;m===i&&(m=h),ja(e,v,m)}},Ut)}function $h(e,t,r,s,u,h,v){var m=El(e,r),E=El(t,r),N=v.get(E);if(N){ja(e,r,N);return}var D=h?h(m,E,r+"",e,t,v):i,k=D===i;if(k){var K=pe(E),Z=!K&&Ir(E),se=!K&&!Z&&Di(E);D=E,K||Z||se?pe(m)?D=m:Ke(m)?D=Ft(m):Z?(k=!1,D=fc(E,!0)):se?(k=!1,D=pc(E,!0)):D=[]:Ls(E)||ri(E)?(D=m,ri(m)?D=ud(m):(!We(m)||ir(m))&&(D=Dc(E))):k=!1}k&&(v.set(E,D),u(D,E,s,h,v),v.delete(E)),ja(e,r,D)}function tc(e,t){var r=e.length;if(r)return t+=t<0?r:0,rr(t,r)?e[t]:i}function nc(e,t,r){t.length?t=a(t,function(h){return pe(h)?function(v){return ei(v,h.length===1?h[0]:h)}:h}):t=[Wt];var s=-1;t=a(t,zt(ie()));var u=Zu(e,function(h,v,m){var E=a(t,function(N){return N(h)});return{criteria:E,index:++s,value:h}});return _s(u,function(h,v){return Yh(h,v,r)})}function Rh(e,t){return rc(e,t,function(r,s){return Dl(e,s)})}function rc(e,t,r){for(var s=-1,u=t.length,h={};++s<u;){var v=t[s],m=ei(e,v);r(m,v)&&Os(h,Sr(v,e),m)}return h}function Ph(e){return function(t){return ei(t,e)}}function il(e,t,r,s){var u=s?Je:we,h=-1,v=t.length,m=e;for(e===t&&(t=Ft(t)),r&&(m=a(e,zt(r)));++h<v;)for(var E=0,N=t[h],D=r?r(N):N;(E=u(m,D,E,s))>-1;)m!==e&&bo.call(m,E,1),bo.call(e,E,1);return e}function ic(e,t){for(var r=e?t.length:0,s=r-1;r--;){var u=t[r];if(r==s||u!==h){var h=u;rr(u)?bo.call(e,u,1):ll(e,u)}}return e}function sl(e,t){return e+Eo(Fu()*(t-e+1))}function Mh(e,t,r,s){for(var u=-1,h=it(wo((t-e)/(r||1)),0),v=T(h);h--;)v[s?h:++u]=e,e+=r;return v}function ol(e,t){var r="";if(!e||t<1||t>yt)return r;do t%2&&(r+=e),t=Eo(t/2),t&&(e+=e);while(t);return r}function be(e,t){return Al($c(e,t,Wt),e+"")}function Fh(e){return Wu(Li(e))}function Bh(e,t){var r=Li(e);return Bo(r,Jr(t,0,r.length))}function Os(e,t,r,s){if(!We(e))return e;t=Sr(t,e);for(var u=-1,h=t.length,v=h-1,m=e;m!=null&&++u<h;){var E=Bn(t[u]),N=r;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(u!=v){var D=m[E];N=s?s(D,E,m):i,N===i&&(N=We(D)?D:rr(t[u+1])?[]:{})}xs(m,E,N),m=m[E]}return e}var sc=Ao?function(e,t){return Ao.set(e,t),e}:Wt,Uh=yo?function(e,t){return yo(e,"toString",{configurable:!0,enumerable:!1,value:kl(t),writable:!0})}:Wt;function Wh(e){return Bo(Li(e))}function an(e,t,r){var s=-1,u=e.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var h=T(u);++s<u;)h[s]=e[s+t];return h}function qh(e,t){var r;return Tr(e,function(s,u,h){return r=t(s,u,h),!r}),!!r}function No(e,t,r){var s=0,u=e==null?s:e.length;if(typeof t=="number"&&t===t&&u<=pr){for(;s<u;){var h=s+u>>>1,v=e[h];v!==null&&!Gt(v)&&(r?v<=t:v<t)?s=h+1:u=h}return u}return al(e,t,Wt,r)}function al(e,t,r,s){var u=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var v=t!==t,m=t===null,E=Gt(t),N=t===i;u<h;){var D=Eo((u+h)/2),k=r(e[D]),K=k!==i,Z=k===null,se=k===k,ge=Gt(k);if(v)var oe=s||se;else N?oe=se&&(s||K):m?oe=se&&K&&(s||!Z):E?oe=se&&K&&!Z&&(s||!ge):Z||ge?oe=!1:oe=s?k<=t:k<t;oe?u=D+1:h=D}return vt(h,Hn)}function oc(e,t){for(var r=-1,s=e.length,u=0,h=[];++r<s;){var v=e[r],m=t?t(v):v;if(!r||!xn(m,E)){var E=m;h[u++]=v===0?0:v}}return h}function ac(e){return typeof e=="number"?e:Gt(e)?vn:+e}function Yt(e){if(typeof e=="string")return e;if(pe(e))return a(e,Yt)+"";if(Gt(e))return Bu?Bu.call(e):"";var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function Cr(e,t,r){var s=-1,u=yi,h=e.length,v=!0,m=[],E=m;if(r)v=!1,u=hs;else if(h>=_){var N=t?null:Jh(e);if(N)return co(N);v=!1,u=gs,E=new Zr}else E=t?[]:m;e:for(;++s<h;){var D=e[s],k=t?t(D):D;if(D=r||D!==0?D:0,v&&k===k){for(var K=E.length;K--;)if(E[K]===k)continue e;t&&E.push(k),m.push(D)}else u(E,k,r)||(E!==m&&E.push(k),m.push(D))}return m}function ll(e,t){return t=Sr(t,e),e=Rc(e,t),e==null||delete e[Bn(ln(t))]}function lc(e,t,r,s){return Os(e,t,r(ei(e,t)),s)}function Do(e,t,r,s){for(var u=e.length,h=s?u:-1;(s?h--:++h<u)&&t(e[h],h,e););return r?an(e,s?0:h,s?h+1:u):an(e,s?h+1:0,s?u:h)}function uc(e,t){var r=e;return r instanceof Ee&&(r=r.value()),c(t,function(s,u){return u.func.apply(u.thisArg,l([s],u.args))},r)}function ul(e,t,r){var s=e.length;if(s<2)return s?Cr(e[0]):[];for(var u=-1,h=T(s);++u<s;)for(var v=e[u],m=-1;++m<s;)m!=u&&(h[u]=Ts(h[u]||v,e[m],t,r));return Cr(dt(h,1),t,r)}function cc(e,t,r){for(var s=-1,u=e.length,h=t.length,v={};++s<u;){var m=s<h?t[s]:i;r(v,e[s],m)}return v}function cl(e){return Ke(e)?e:[]}function dl(e){return typeof e=="function"?e:Wt}function Sr(e,t){return pe(e)?e:yl(e,t)?[e]:Bc(De(e))}var Hh=be;function Or(e,t,r){var s=e.length;return r=r===i?s:r,!t&&r>=s?e:an(e,t,r)}var dc=Np||function(e){return Qe.clearTimeout(e)};function fc(e,t){if(t)return e.slice();var r=e.length,s=ku?ku(r):new e.constructor(r);return e.copy(s),s}function fl(e){var t=new e.constructor(e.byteLength);return new mo(t).set(new mo(e)),t}function Vh(e,t){var r=t?fl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Kh(e){var t=new e.constructor(e.source,_i.exec(e));return t.lastIndex=e.lastIndex,t}function zh(e){return As?Me(As.call(e)):{}}function pc(e,t){var r=t?fl(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function hc(e,t){if(e!==t){var r=e!==i,s=e===null,u=e===e,h=Gt(e),v=t!==i,m=t===null,E=t===t,N=Gt(t);if(!m&&!N&&!h&&e>t||h&&v&&E&&!m&&!N||s&&v&&E||!r&&E||!u)return 1;if(!s&&!h&&!N&&e<t||N&&r&&u&&!s&&!h||m&&r&&u||!v&&u||!E)return-1}return 0}function Yh(e,t,r){for(var s=-1,u=e.criteria,h=t.criteria,v=u.length,m=r.length;++s<v;){var E=hc(u[s],h[s]);if(E){if(s>=m)return E;var N=r[s];return E*(N=="desc"?-1:1)}}return e.index-t.index}function _c(e,t,r,s){for(var u=-1,h=e.length,v=r.length,m=-1,E=t.length,N=it(h-v,0),D=T(E+N),k=!s;++m<E;)D[m]=t[m];for(;++u<v;)(k||u<h)&&(D[r[u]]=e[u]);for(;N--;)D[m++]=e[u++];return D}function vc(e,t,r,s){for(var u=-1,h=e.length,v=-1,m=r.length,E=-1,N=t.length,D=it(h-m,0),k=T(D+N),K=!s;++u<D;)k[u]=e[u];for(var Z=u;++E<N;)k[Z+E]=t[E];for(;++v<m;)(K||u<h)&&(k[Z+r[v]]=e[u++]);return k}function Ft(e,t){var r=-1,s=e.length;for(t||(t=T(s));++r<s;)t[r]=e[r];return t}function Fn(e,t,r,s){var u=!r;r||(r={});for(var h=-1,v=t.length;++h<v;){var m=t[h],E=s?s(r[m],e[m],m,r,e):i;E===i&&(E=e[m]),u?er(r,m,E):xs(r,m,E)}return r}function Gh(e,t){return Fn(e,bl(e),t)}function jh(e,t){return Fn(e,Ic(e),t)}function Lo(e,t){return function(r,s){var u=pe(r)?Ct:mh,h=t?t():{};return u(r,e,ie(s,2),h)}}function Oi(e){return be(function(t,r){var s=-1,u=r.length,h=u>1?r[u-1]:i,v=u>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(u--,h):i,v&&It(r[0],r[1],v)&&(h=u<3?i:h,u=1),t=Me(t);++s<u;){var m=r[s];m&&e(t,m,s,h)}return t})}function mc(e,t){return function(r,s){if(r==null)return r;if(!Bt(r))return e(r,s);for(var u=r.length,h=t?u:-1,v=Me(r);(t?h--:++h<u)&&s(v[h],h,v)!==!1;);return r}}function gc(e){return function(t,r,s){for(var u=-1,h=Me(t),v=s(t),m=v.length;m--;){var E=v[e?m:++u];if(r(h[E],E,h)===!1)break}return t}}function Xh(e,t,r){var s=t&Q,u=Is(e);function h(){var v=this&&this!==Qe&&this instanceof h?u:e;return v.apply(s?r:this,arguments)}return h}function bc(e){return function(t){t=De(t);var r=wi(t)?En(t):i,s=r?r[0]:t.charAt(0),u=r?Or(r,1).join(""):t.slice(1);return s[e]()+u}}function Ii(e){return function(t){return c(md(vd(t).replace(Pa,"")),e,"")}}function Is(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Si(e.prototype),s=e.apply(r,t);return We(s)?s:r}}function Qh(e,t,r){var s=Is(e);function u(){for(var h=arguments.length,v=T(h),m=h,E=Ni(u);m--;)v[m]=arguments[m];var N=h<3&&v[0]!==E&&v[h-1]!==E?[]:Ar(v,E);if(h-=N.length,h<r)return xc(e,t,ko,u.placeholder,i,v,N,i,i,r-h);var D=this&&this!==Qe&&this instanceof u?s:e;return Tt(D,this,v)}return u}function yc(e){return function(t,r,s){var u=Me(t);if(!Bt(t)){var h=ie(r,3);t=at(t),r=function(m){return h(u[m],m,u)}}var v=e(t,r,s);return v>-1?u[h?t[v]:v]:i}}function wc(e){return nr(function(t){var r=t.length,s=r,u=sn.prototype.thru;for(e&&t.reverse();s--;){var h=t[s];if(typeof h!="function")throw new rn(g);if(u&&!v&&Mo(h)=="wrapper")var v=new sn([],!0)}for(s=v?s:r;++s<r;){h=t[s];var m=Mo(h),E=m=="wrapper"?ml(h):i;E&&wl(E[0])&&E[1]==(le|ne|$|Ie)&&!E[4].length&&E[9]==1?v=v[Mo(E[0])].apply(v,E[3]):v=h.length==1&&wl(h)?v[m]():v.thru(h)}return function(){var N=arguments,D=N[0];if(v&&N.length==1&&pe(D))return v.plant(D).value();for(var k=0,K=r?t[k].apply(this,N):D;++k<r;)K=t[k].call(this,K);return K}})}function ko(e,t,r,s,u,h,v,m,E,N){var D=t&le,k=t&Q,K=t&O,Z=t&(ne|L),se=t&Ne,ge=K?i:Is(e);function oe(){for(var ye=arguments.length,Ae=T(ye),jt=ye;jt--;)Ae[jt]=arguments[jt];if(Z)var Nt=Ni(oe),Xt=up(Ae,Nt);if(s&&(Ae=_c(Ae,s,u,Z)),h&&(Ae=vc(Ae,h,v,Z)),ye-=Xt,Z&&ye<N){var ze=Ar(Ae,Nt);return xc(e,t,ko,oe.placeholder,r,Ae,ze,m,E,N-ye)}var Tn=k?r:this,or=K?Tn[e]:e;return ye=Ae.length,m?Ae=m_(Ae,m):se&&ye>1&&Ae.reverse(),D&&E<ye&&(Ae.length=E),this&&this!==Qe&&this instanceof oe&&(or=ge||Is(or)),or.apply(Tn,Ae)}return oe}function Ec(e,t){return function(r,s){return Th(r,e,t(s),{})}}function $o(e,t){return function(r,s){var u;if(r===i&&s===i)return t;if(r!==i&&(u=r),s!==i){if(u===i)return s;typeof r=="string"||typeof s=="string"?(r=Yt(r),s=Yt(s)):(r=ac(r),s=ac(s)),u=e(r,s)}return u}}function pl(e){return nr(function(t){return t=a(t,zt(ie())),be(function(r){var s=this;return e(t,function(u){return Tt(u,s,r)})})})}function Ro(e,t){t=t===i?" ":Yt(t);var r=t.length;if(r<2)return r?ol(t,e):t;var s=ol(t,wo(e/Ei(t)));return wi(t)?Or(En(s),0,e).join(""):s.slice(0,e)}function Zh(e,t,r,s){var u=t&Q,h=Is(e);function v(){for(var m=-1,E=arguments.length,N=-1,D=s.length,k=T(D+E),K=this&&this!==Qe&&this instanceof v?h:e;++N<D;)k[N]=s[N];for(;E--;)k[N++]=arguments[++m];return Tt(K,u?r:this,k)}return v}function Ac(e){return function(t,r,s){return s&&typeof s!="number"&&It(t,r,s)&&(r=s=i),t=sr(t),r===i?(r=t,t=0):r=sr(r),s=s===i?t<r?1:-1:sr(s),Mh(t,r,s,e)}}function Po(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=un(t),r=un(r)),e(t,r)}}function xc(e,t,r,s,u,h,v,m,E,N){var D=t&ne,k=D?v:i,K=D?i:v,Z=D?h:i,se=D?i:h;t|=D?$:X,t&=~(D?X:$),t&H||(t&=-4);var ge=[e,t,u,Z,k,se,K,m,E,N],oe=r.apply(i,ge);return wl(e)&&Pc(oe,ge),oe.placeholder=s,Mc(oe,e,t)}function hl(e){var t=rt[e];return function(r,s){if(r=un(r),s=s==null?0:vt(ve(s),292),s&&Mu(r)){var u=(De(r)+"e").split("e"),h=t(u[0]+"e"+(+u[1]+s));return u=(De(h)+"e").split("e"),+(u[0]+"e"+(+u[1]-s))}return t(r)}}var Jh=Ti&&1/co(new Ti([,-0]))[1]==Ve?function(e){return new Ti(e)}:Pl;function Tc(e){return function(t){var r=mt(t);return r==xe?Va(t):r==Ue?vp(t):lp(t,e(t))}}function tr(e,t,r,s,u,h,v,m){var E=t&O;if(!E&&typeof e!="function")throw new rn(g);var N=s?s.length:0;if(N||(t&=-97,s=u=i),v=v===i?v:it(ve(v),0),m=m===i?m:ve(m),N-=u?u.length:0,t&X){var D=s,k=u;s=u=i}var K=E?i:ml(e),Z=[e,t,r,s,u,D,k,h,v,m];if(K&&h_(Z,K),e=Z[0],t=Z[1],r=Z[2],s=Z[3],u=Z[4],m=Z[9]=Z[9]===i?E?0:e.length:it(Z[9]-N,0),!m&&t&(ne|L)&&(t&=-25),!t||t==Q)var se=Xh(e,t,r);else t==ne||t==L?se=Qh(e,t,m):(t==$||t==(Q|$))&&!u.length?se=Zh(e,t,r,s):se=ko.apply(i,Z);var ge=K?sc:Pc;return Mc(ge(se,Z),e,t)}function Cc(e,t,r,s){return e===i||xn(e,xi[r])&&!ke.call(s,r)?t:e}function Sc(e,t,r,s,u,h){return We(e)&&We(t)&&(h.set(t,e),Io(e,t,i,Sc,h),h.delete(t)),e}function e_(e){return Ls(e)?i:e}function Oc(e,t,r,s,u,h){var v=r&ee,m=e.length,E=t.length;if(m!=E&&!(v&&E>m))return!1;var N=h.get(e),D=h.get(t);if(N&&D)return N==t&&D==e;var k=-1,K=!0,Z=r&te?new Zr:i;for(h.set(e,t),h.set(t,e);++k<m;){var se=e[k],ge=t[k];if(s)var oe=v?s(ge,se,k,t,e,h):s(se,ge,k,e,t,h);if(oe!==i){if(oe)continue;K=!1;break}if(Z){if(!C(t,function(ye,Ae){if(!gs(Z,Ae)&&(se===ye||u(se,ye,r,s,h)))return Z.push(Ae)})){K=!1;break}}else if(!(se===ge||u(se,ge,r,s,h))){K=!1;break}}return h.delete(e),h.delete(t),K}function t_(e,t,r,s,u,h,v){switch(r){case bn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Nn:return!(e.byteLength!=t.byteLength||!h(new mo(e),new mo(t)));case wt:case $t:case ot:return xn(+e,+t);case gn:return e.name==t.name&&e.message==t.message;case Et:case On:return e==t+"";case xe:var m=Va;case Ue:var E=s&ee;if(m||(m=co),e.size!=t.size&&!E)return!1;var N=v.get(e);if(N)return N==t;s|=te,v.set(e,t);var D=Oc(m(e),m(t),s,u,h,v);return v.delete(e),D;case zn:if(As)return As.call(e)==As.call(t)}return!1}function n_(e,t,r,s,u,h){var v=r&ee,m=_l(e),E=m.length,N=_l(t),D=N.length;if(E!=D&&!v)return!1;for(var k=E;k--;){var K=m[k];if(!(v?K in t:ke.call(t,K)))return!1}var Z=h.get(e),se=h.get(t);if(Z&&se)return Z==t&&se==e;var ge=!0;h.set(e,t),h.set(t,e);for(var oe=v;++k<E;){K=m[k];var ye=e[K],Ae=t[K];if(s)var jt=v?s(Ae,ye,K,t,e,h):s(ye,Ae,K,e,t,h);if(!(jt===i?ye===Ae||u(ye,Ae,r,s,h):jt)){ge=!1;break}oe||(oe=K=="constructor")}if(ge&&!oe){var Nt=e.constructor,Xt=t.constructor;Nt!=Xt&&"constructor"in e&&"constructor"in t&&!(typeof Nt=="function"&&Nt instanceof Nt&&typeof Xt=="function"&&Xt instanceof Xt)&&(ge=!1)}return h.delete(e),h.delete(t),ge}function nr(e){return Al($c(e,i,Hc),e+"")}function _l(e){return Gu(e,at,bl)}function vl(e){return Gu(e,Ut,Ic)}var ml=Ao?function(e){return Ao.get(e)}:Pl;function Mo(e){for(var t=e.name+"",r=Ci[t],s=ke.call(Ci,t)?r.length:0;s--;){var u=r[s],h=u.func;if(h==null||h==e)return u.name}return t}function Ni(e){var t=ke.call(f,"placeholder")?f:e;return t.placeholder}function ie(){var e=f.iteratee||$l;return e=e===$l?Qu:e,arguments.length?e(arguments[0],arguments[1]):e}function Fo(e,t){var r=e.__data__;return c_(t)?r[typeof t=="string"?"string":"hash"]:r.map}function gl(e){for(var t=at(e),r=t.length;r--;){var s=t[r],u=e[s];t[r]=[s,u,Lc(u)]}return t}function ti(e,t){var r=pp(e,t);return Xu(r)?r:i}function r_(e){var t=ke.call(e,Xr),r=e[Xr];try{e[Xr]=i;var s=!0}catch{}var u=_o.call(e);return s&&(t?e[Xr]=r:delete e[Xr]),u}var bl=za?function(e){return e==null?[]:(e=Me(e),St(za(e),function(t){return Ru.call(e,t)}))}:Ml,Ic=za?function(e){for(var t=[];e;)l(t,bl(e)),e=go(e);return t}:Ml,mt=Ot;(Ya&&mt(new Ya(new ArrayBuffer(1)))!=bn||ys&&mt(new ys)!=xe||Ga&&mt(Ga.resolve())!=fi||Ti&&mt(new Ti)!=Ue||ws&&mt(new ws)!=At)&&(mt=function(e){var t=Ot(e),r=t==je?e.constructor:i,s=r?ni(r):"";if(s)switch(s){case Bp:return bn;case Up:return xe;case Wp:return fi;case qp:return Ue;case Hp:return At}return t});function i_(e,t,r){for(var s=-1,u=r.length;++s<u;){var h=r[s],v=h.size;switch(h.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=vt(t,e+v);break;case"takeRight":e=it(e,t-v);break}}return{start:e,end:t}}function s_(e){var t=e.match(Gs);return t?t[1].split(_r):[]}function Nc(e,t,r){t=Sr(t,e);for(var s=-1,u=t.length,h=!1;++s<u;){var v=Bn(t[s]);if(!(h=e!=null&&r(e,v)))break;e=e[v]}return h||++s!=u?h:(u=e==null?0:e.length,!!u&&Ko(u)&&rr(v,u)&&(pe(e)||ri(e)))}function o_(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ke.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Dc(e){return typeof e.constructor=="function"&&!Ns(e)?Si(go(e)):{}}function a_(e,t,r){var s=e.constructor;switch(t){case Nn:return fl(e);case wt:case $t:return new s(+e);case bn:return Vh(e,r);case _t:case Qi:case Zi:case Dn:case Ji:case es:case ts:case Y:case ns:return pc(e,r);case xe:return new s;case ot:case On:return new s(e);case Et:return Kh(e);case Ue:return new s;case zn:return zh(e)}}function l_(e,t){var r=t.length;if(!r)return e;var s=r-1;return t[s]=(r>1?"& ":"")+t[s],t=t.join(r>2?", ":" "),e.replace(ct,`{
/* [wrapped with `+t+`] */
`)}function u_(e){return pe(e)||ri(e)||!!(Pu&&e&&e[Pu])}function rr(e,t){var r=typeof e;return t=t??yt,!!t&&(r=="number"||r!="symbol"&&Ca.test(e))&&e>-1&&e%1==0&&e<t}function It(e,t,r){if(!We(r))return!1;var s=typeof t;return(s=="number"?Bt(r)&&rr(t,r.length):s=="string"&&t in r)?xn(r[t],e):!1}function yl(e,t){if(pe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gt(e)?!0:Ht.test(e)||!Ln.test(e)||t!=null&&e in Me(t)}function c_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wl(e){var t=Mo(e),r=f[t];if(typeof r!="function"||!(t in Ee.prototype))return!1;if(e===r)return!0;var s=ml(r);return!!s&&e===s[0]}function d_(e){return!!Lu&&Lu in e}var f_=po?ir:Fl;function Ns(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xi;return e===r}function Lc(e){return e===e&&!We(e)}function kc(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in Me(r))}}function p_(e){var t=Ho(e,function(s){return r.size===F&&r.clear(),s}),r=t.cache;return t}function h_(e,t){var r=e[1],s=t[1],u=r|s,h=u<(Q|O|le),v=s==le&&r==ne||s==le&&r==Ie&&e[7].length<=t[8]||s==(le|Ie)&&t[7].length<=t[8]&&r==ne;if(!(h||v))return e;s&Q&&(e[2]=t[2],u|=r&Q?0:H);var m=t[3];if(m){var E=e[3];e[3]=E?_c(E,m,t[4]):m,e[4]=E?Ar(e[3],I):t[4]}return m=t[5],m&&(E=e[5],e[5]=E?vc(E,m,t[6]):m,e[6]=E?Ar(e[5],I):t[6]),m=t[7],m&&(e[7]=m),s&le&&(e[8]=e[8]==null?t[8]:vt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function __(e){var t=[];if(e!=null)for(var r in Me(e))t.push(r);return t}function v_(e){return _o.call(e)}function $c(e,t,r){return t=it(t===i?e.length-1:t,0),function(){for(var s=arguments,u=-1,h=it(s.length-t,0),v=T(h);++u<h;)v[u]=s[t+u];u=-1;for(var m=T(t+1);++u<t;)m[u]=s[u];return m[t]=r(v),Tt(e,this,m)}}function Rc(e,t){return t.length<2?e:ei(e,an(t,0,-1))}function m_(e,t){for(var r=e.length,s=vt(t.length,r),u=Ft(e);s--;){var h=t[s];e[s]=rr(h,r)?u[h]:i}return e}function El(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Pc=Fc(sc),Ds=Lp||function(e,t){return Qe.setTimeout(e,t)},Al=Fc(Uh);function Mc(e,t,r){var s=t+"";return Al(e,l_(s,g_(s_(s),r)))}function Fc(e){var t=0,r=0;return function(){var s=Pp(),u=qe-(s-r);if(r=s,u>0){if(++t>=st)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bo(e,t){var r=-1,s=e.length,u=s-1;for(t=t===i?s:t;++r<t;){var h=sl(r,u),v=e[h];e[h]=e[r],e[r]=v}return e.length=t,e}var Bc=p_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yn,function(r,s,u,h){t.push(u?h.replace(Mr,"$1"):s||r)}),t});function Bn(e){if(typeof e=="string"||Gt(e))return e;var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function ni(e){if(e!=null){try{return ho.call(e)}catch{}try{return e+""}catch{}}return""}function g_(e,t){return Ze(mn,function(r){var s="_."+r[0];t&r[1]&&!yi(e,s)&&e.push(s)}),e.sort()}function Uc(e){if(e instanceof Ee)return e.clone();var t=new sn(e.__wrapped__,e.__chain__);return t.__actions__=Ft(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function b_(e,t,r){(r?It(e,t,r):t===i)?t=1:t=it(ve(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var u=0,h=0,v=T(wo(s/t));u<s;)v[h++]=an(e,u,u+=t);return v}function y_(e){for(var t=-1,r=e==null?0:e.length,s=0,u=[];++t<r;){var h=e[t];h&&(u[s++]=h)}return u}function w_(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),r=arguments[0],s=e;s--;)t[s-1]=arguments[s];return l(pe(r)?Ft(r):[r],dt(t,1))}var E_=be(function(e,t){return Ke(e)?Ts(e,dt(t,1,Ke,!0)):[]}),A_=be(function(e,t){var r=ln(t);return Ke(r)&&(r=i),Ke(e)?Ts(e,dt(t,1,Ke,!0),ie(r,2)):[]}),x_=be(function(e,t){var r=ln(t);return Ke(r)&&(r=i),Ke(e)?Ts(e,dt(t,1,Ke,!0),i,r):[]});function T_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),an(e,t<0?0:t,s)):[]}function C_(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,an(e,0,t<0?0:t)):[]}function S_(e,t){return e&&e.length?Do(e,ie(t,3),!0,!0):[]}function O_(e,t){return e&&e.length?Do(e,ie(t,3),!0):[]}function I_(e,t,r,s){var u=e==null?0:e.length;return u?(r&&typeof r!="number"&&It(e,t,r)&&(r=0,s=u),wh(e,t,r,s)):[]}function Wc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var u=r==null?0:ve(r);return u<0&&(u=it(s+u,0)),V(e,ie(t,3),u)}function qc(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var u=s-1;return r!==i&&(u=ve(r),u=r<0?it(s+u,0):vt(u,s-1)),V(e,ie(t,3),u,!0)}function Hc(e){var t=e==null?0:e.length;return t?dt(e,1):[]}function N_(e){var t=e==null?0:e.length;return t?dt(e,Ve):[]}function D_(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:ve(t),dt(e,t)):[]}function L_(e){for(var t=-1,r=e==null?0:e.length,s={};++t<r;){var u=e[t];s[u[0]]=u[1]}return s}function Vc(e){return e&&e.length?e[0]:i}function k_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var u=r==null?0:ve(r);return u<0&&(u=it(s+u,0)),we(e,t,u)}function $_(e){var t=e==null?0:e.length;return t?an(e,0,-1):[]}var R_=be(function(e){var t=a(e,cl);return t.length&&t[0]===e[0]?el(t):[]}),P_=be(function(e){var t=ln(e),r=a(e,cl);return t===ln(r)?t=i:r.pop(),r.length&&r[0]===e[0]?el(r,ie(t,2)):[]}),M_=be(function(e){var t=ln(e),r=a(e,cl);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?el(r,i,t):[]});function F_(e,t){return e==null?"":$p.call(e,t)}function ln(e){var t=e==null?0:e.length;return t?e[t-1]:i}function B_(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var u=s;return r!==i&&(u=ve(r),u=u<0?it(s+u,0):vt(u,s-1)),t===t?gp(e,t,u):V(e,Se,u,!0)}function U_(e,t){return e&&e.length?tc(e,ve(t)):i}var W_=be(Kc);function Kc(e,t){return e&&e.length&&t&&t.length?il(e,t):e}function q_(e,t,r){return e&&e.length&&t&&t.length?il(e,t,ie(r,2)):e}function H_(e,t,r){return e&&e.length&&t&&t.length?il(e,t,i,r):e}var V_=nr(function(e,t){var r=e==null?0:e.length,s=Xa(e,t);return ic(e,a(t,function(u){return rr(u,r)?+u:u}).sort(hc)),s});function K_(e,t){var r=[];if(!(e&&e.length))return r;var s=-1,u=[],h=e.length;for(t=ie(t,3);++s<h;){var v=e[s];t(v,s,e)&&(r.push(v),u.push(s))}return ic(e,u),r}function xl(e){return e==null?e:Fp.call(e)}function z_(e,t,r){var s=e==null?0:e.length;return s?(r&&typeof r!="number"&&It(e,t,r)?(t=0,r=s):(t=t==null?0:ve(t),r=r===i?s:ve(r)),an(e,t,r)):[]}function Y_(e,t){return No(e,t)}function G_(e,t,r){return al(e,t,ie(r,2))}function j_(e,t){var r=e==null?0:e.length;if(r){var s=No(e,t);if(s<r&&xn(e[s],t))return s}return-1}function X_(e,t){return No(e,t,!0)}function Q_(e,t,r){return al(e,t,ie(r,2),!0)}function Z_(e,t){var r=e==null?0:e.length;if(r){var s=No(e,t,!0)-1;if(xn(e[s],t))return s}return-1}function J_(e){return e&&e.length?oc(e):[]}function ev(e,t){return e&&e.length?oc(e,ie(t,2)):[]}function tv(e){var t=e==null?0:e.length;return t?an(e,1,t):[]}function nv(e,t,r){return e&&e.length?(t=r||t===i?1:ve(t),an(e,0,t<0?0:t)):[]}function rv(e,t,r){var s=e==null?0:e.length;return s?(t=r||t===i?1:ve(t),t=s-t,an(e,t<0?0:t,s)):[]}function iv(e,t){return e&&e.length?Do(e,ie(t,3),!1,!0):[]}function sv(e,t){return e&&e.length?Do(e,ie(t,3)):[]}var ov=be(function(e){return Cr(dt(e,1,Ke,!0))}),av=be(function(e){var t=ln(e);return Ke(t)&&(t=i),Cr(dt(e,1,Ke,!0),ie(t,2))}),lv=be(function(e){var t=ln(e);return t=typeof t=="function"?t:i,Cr(dt(e,1,Ke,!0),i,t)});function uv(e){return e&&e.length?Cr(e):[]}function cv(e,t){return e&&e.length?Cr(e,ie(t,2)):[]}function dv(e,t){return t=typeof t=="function"?t:i,e&&e.length?Cr(e,i,t):[]}function Tl(e){if(!(e&&e.length))return[];var t=0;return e=St(e,function(r){if(Ke(r))return t=it(r.length,t),!0}),ms(t,function(r){return a(e,Le(r))})}function zc(e,t){if(!(e&&e.length))return[];var r=Tl(e);return t==null?r:a(r,function(s){return Tt(t,i,s)})}var fv=be(function(e,t){return Ke(e)?Ts(e,t):[]}),pv=be(function(e){return ul(St(e,Ke))}),hv=be(function(e){var t=ln(e);return Ke(t)&&(t=i),ul(St(e,Ke),ie(t,2))}),_v=be(function(e){var t=ln(e);return t=typeof t=="function"?t:i,ul(St(e,Ke),i,t)}),vv=be(Tl);function mv(e,t){return cc(e||[],t||[],xs)}function gv(e,t){return cc(e||[],t||[],Os)}var bv=be(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,zc(e,r)});function Yc(e){var t=f(e);return t.__chain__=!0,t}function yv(e,t){return t(e),e}function Uo(e,t){return t(e)}var wv=nr(function(e){var t=e.length,r=t?e[0]:0,s=this.__wrapped__,u=function(h){return Xa(h,e)};return t>1||this.__actions__.length||!(s instanceof Ee)||!rr(r)?this.thru(u):(s=s.slice(r,+r+(t?1:0)),s.__actions__.push({func:Uo,args:[u],thisArg:i}),new sn(s,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function Ev(){return Yc(this)}function Av(){return new sn(this.value(),this.__chain__)}function xv(){this.__values__===i&&(this.__values__=ad(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Tv(){return this}function Cv(e){for(var t,r=this;r instanceof To;){var s=Uc(r);s.__index__=0,s.__values__=i,t?u.__wrapped__=s:t=s;var u=s;r=r.__wrapped__}return u.__wrapped__=e,t}function Sv(){var e=this.__wrapped__;if(e instanceof Ee){var t=e;return this.__actions__.length&&(t=new Ee(this)),t=t.reverse(),t.__actions__.push({func:Uo,args:[xl],thisArg:i}),new sn(t,this.__chain__)}return this.thru(xl)}function Ov(){return uc(this.__wrapped__,this.__actions__)}var Iv=Lo(function(e,t,r){ke.call(e,r)?++e[r]:er(e,r,1)});function Nv(e,t,r){var s=pe(e)?uo:yh;return r&&It(e,t,r)&&(t=i),s(e,ie(t,3))}function Dv(e,t){var r=pe(e)?St:zu;return r(e,ie(t,3))}var Lv=yc(Wc),kv=yc(qc);function $v(e,t){return dt(Wo(e,t),1)}function Rv(e,t){return dt(Wo(e,t),Ve)}function Pv(e,t,r){return r=r===i?1:ve(r),dt(Wo(e,t),r)}function Gc(e,t){var r=pe(e)?Ze:Tr;return r(e,ie(t,3))}function jc(e,t){var r=pe(e)?Qn:Ku;return r(e,ie(t,3))}var Mv=Lo(function(e,t,r){ke.call(e,r)?e[r].push(t):er(e,r,[t])});function Fv(e,t,r,s){e=Bt(e)?e:Li(e),r=r&&!s?ve(r):0;var u=e.length;return r<0&&(r=it(u+r,0)),zo(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&we(e,t,r)>-1}var Bv=be(function(e,t,r){var s=-1,u=typeof t=="function",h=Bt(e)?T(e.length):[];return Tr(e,function(v){h[++s]=u?Tt(t,v,r):Cs(v,t,r)}),h}),Uv=Lo(function(e,t,r){er(e,r,t)});function Wo(e,t){var r=pe(e)?a:Zu;return r(e,ie(t,3))}function Wv(e,t,r,s){return e==null?[]:(pe(t)||(t=t==null?[]:[t]),r=s?i:r,pe(r)||(r=r==null?[]:[r]),nc(e,t,r))}var qv=Lo(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function Hv(e,t,r){var s=pe(e)?c:nn,u=arguments.length<3;return s(e,ie(t,4),r,u,Tr)}function Vv(e,t,r){var s=pe(e)?b:nn,u=arguments.length<3;return s(e,ie(t,4),r,u,Ku)}function Kv(e,t){var r=pe(e)?St:zu;return r(e,Vo(ie(t,3)))}function zv(e){var t=pe(e)?Wu:Fh;return t(e)}function Yv(e,t,r){(r?It(e,t,r):t===i)?t=1:t=ve(t);var s=pe(e)?_h:Bh;return s(e,t)}function Gv(e){var t=pe(e)?vh:Wh;return t(e)}function jv(e){if(e==null)return 0;if(Bt(e))return zo(e)?Ei(e):e.length;var t=mt(e);return t==xe||t==Ue?e.size:nl(e).length}function Xv(e,t,r){var s=pe(e)?C:qh;return r&&It(e,t,r)&&(t=i),s(e,ie(t,3))}var Qv=be(function(e,t){if(e==null)return[];var r=t.length;return r>1&&It(e,t[0],t[1])?t=[]:r>2&&It(t[0],t[1],t[2])&&(t=[t[0]]),nc(e,dt(t,1),[])}),qo=Dp||function(){return Qe.Date.now()};function Zv(e,t){if(typeof t!="function")throw new rn(g);return e=ve(e),function(){if(--e<1)return t.apply(this,arguments)}}function Xc(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,tr(e,le,i,i,i,i,t)}function Qc(e,t){var r;if(typeof t!="function")throw new rn(g);return e=ve(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Cl=be(function(e,t,r){var s=Q;if(r.length){var u=Ar(r,Ni(Cl));s|=$}return tr(e,s,t,r,u)}),Zc=be(function(e,t,r){var s=Q|O;if(r.length){var u=Ar(r,Ni(Zc));s|=$}return tr(t,s,e,r,u)});function Jc(e,t,r){t=r?i:t;var s=tr(e,ne,i,i,i,i,i,t);return s.placeholder=Jc.placeholder,s}function ed(e,t,r){t=r?i:t;var s=tr(e,L,i,i,i,i,i,t);return s.placeholder=ed.placeholder,s}function td(e,t,r){var s,u,h,v,m,E,N=0,D=!1,k=!1,K=!0;if(typeof e!="function")throw new rn(g);t=un(t)||0,We(r)&&(D=!!r.leading,k="maxWait"in r,h=k?it(un(r.maxWait)||0,t):h,K="trailing"in r?!!r.trailing:K);function Z(ze){var Tn=s,or=u;return s=u=i,N=ze,v=e.apply(or,Tn),v}function se(ze){return N=ze,m=Ds(ye,t),D?Z(ze):v}function ge(ze){var Tn=ze-E,or=ze-N,yd=t-Tn;return k?vt(yd,h-or):yd}function oe(ze){var Tn=ze-E,or=ze-N;return E===i||Tn>=t||Tn<0||k&&or>=h}function ye(){var ze=qo();if(oe(ze))return Ae(ze);m=Ds(ye,ge(ze))}function Ae(ze){return m=i,K&&s?Z(ze):(s=u=i,v)}function jt(){m!==i&&dc(m),N=0,s=E=u=m=i}function Nt(){return m===i?v:Ae(qo())}function Xt(){var ze=qo(),Tn=oe(ze);if(s=arguments,u=this,E=ze,Tn){if(m===i)return se(E);if(k)return dc(m),m=Ds(ye,t),Z(E)}return m===i&&(m=Ds(ye,t)),v}return Xt.cancel=jt,Xt.flush=Nt,Xt}var Jv=be(function(e,t){return Vu(e,1,t)}),em=be(function(e,t,r){return Vu(e,un(t)||0,r)});function tm(e){return tr(e,Ne)}function Ho(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new rn(g);var r=function(){var s=arguments,u=t?t.apply(this,s):s[0],h=r.cache;if(h.has(u))return h.get(u);var v=e.apply(this,s);return r.cache=h.set(u,v)||h,v};return r.cache=new(Ho.Cache||Jn),r}Ho.Cache=Jn;function Vo(e){if(typeof e!="function")throw new rn(g);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function nm(e){return Qc(2,e)}var rm=Hh(function(e,t){t=t.length==1&&pe(t[0])?a(t[0],zt(ie())):a(dt(t,1),zt(ie()));var r=t.length;return be(function(s){for(var u=-1,h=vt(s.length,r);++u<h;)s[u]=t[u].call(this,s[u]);return Tt(e,this,s)})}),Sl=be(function(e,t){var r=Ar(t,Ni(Sl));return tr(e,$,i,t,r)}),nd=be(function(e,t){var r=Ar(t,Ni(nd));return tr(e,X,i,t,r)}),im=nr(function(e,t){return tr(e,Ie,i,i,i,t)});function sm(e,t){if(typeof e!="function")throw new rn(g);return t=t===i?t:ve(t),be(e,t)}function om(e,t){if(typeof e!="function")throw new rn(g);return t=t==null?0:it(ve(t),0),be(function(r){var s=r[t],u=Or(r,0,t);return s&&l(u,s),Tt(e,this,u)})}function am(e,t,r){var s=!0,u=!0;if(typeof e!="function")throw new rn(g);return We(r)&&(s="leading"in r?!!r.leading:s,u="trailing"in r?!!r.trailing:u),td(e,t,{leading:s,maxWait:t,trailing:u})}function lm(e){return Xc(e,1)}function um(e,t){return Sl(dl(t),e)}function cm(){if(!arguments.length)return[];var e=arguments[0];return pe(e)?e:[e]}function dm(e){return on(e,z)}function fm(e,t){return t=typeof t=="function"?t:i,on(e,z,t)}function pm(e){return on(e,U|z)}function hm(e,t){return t=typeof t=="function"?t:i,on(e,U|z,t)}function _m(e,t){return t==null||Hu(e,t,at(t))}function xn(e,t){return e===t||e!==e&&t!==t}var vm=Po(Ja),mm=Po(function(e,t){return e>=t}),ri=ju((function(){return arguments})())?ju:function(e){return He(e)&&ke.call(e,"callee")&&!Ru.call(e,"callee")},pe=T.isArray,gm=fs?zt(fs):Ch;function Bt(e){return e!=null&&Ko(e.length)&&!ir(e)}function Ke(e){return He(e)&&Bt(e)}function bm(e){return e===!0||e===!1||He(e)&&Ot(e)==wt}var Ir=kp||Fl,ym=ps?zt(ps):Sh;function wm(e){return He(e)&&e.nodeType===1&&!Ls(e)}function Em(e){if(e==null)return!0;if(Bt(e)&&(pe(e)||typeof e=="string"||typeof e.splice=="function"||Ir(e)||Di(e)||ri(e)))return!e.length;var t=mt(e);if(t==xe||t==Ue)return!e.size;if(Ns(e))return!nl(e).length;for(var r in e)if(ke.call(e,r))return!1;return!0}function Am(e,t){return Ss(e,t)}function xm(e,t,r){r=typeof r=="function"?r:i;var s=r?r(e,t):i;return s===i?Ss(e,t,i,r):!!s}function Ol(e){if(!He(e))return!1;var t=Ot(e);return t==gn||t==Xi||typeof e.message=="string"&&typeof e.name=="string"&&!Ls(e)}function Tm(e){return typeof e=="number"&&Mu(e)}function ir(e){if(!We(e))return!1;var t=Ot(e);return t==Vn||t==Sn||t==ht||t==Kn}function rd(e){return typeof e=="number"&&e==ve(e)}function Ko(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yt}function We(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function He(e){return e!=null&&typeof e=="object"}var id=so?zt(so):Ih;function Cm(e,t){return e===t||tl(e,t,gl(t))}function Sm(e,t,r){return r=typeof r=="function"?r:i,tl(e,t,gl(t),r)}function Om(e){return sd(e)&&e!=+e}function Im(e){if(f_(e))throw new ce(w);return Xu(e)}function Nm(e){return e===null}function Dm(e){return e==null}function sd(e){return typeof e=="number"||He(e)&&Ot(e)==ot}function Ls(e){if(!He(e)||Ot(e)!=je)return!1;var t=go(e);if(t===null)return!0;var r=ke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ho.call(r)==Sp}var Il=oo?zt(oo):Nh;function Lm(e){return rd(e)&&e>=-yt&&e<=yt}var od=ao?zt(ao):Dh;function zo(e){return typeof e=="string"||!pe(e)&&He(e)&&Ot(e)==On}function Gt(e){return typeof e=="symbol"||He(e)&&Ot(e)==zn}var Di=lo?zt(lo):Lh;function km(e){return e===i}function $m(e){return He(e)&&mt(e)==At}function Rm(e){return He(e)&&Ot(e)==Rt}var Pm=Po(rl),Mm=Po(function(e,t){return e<=t});function ad(e){if(!e)return[];if(Bt(e))return zo(e)?En(e):Ft(e);if(bs&&e[bs])return _p(e[bs]());var t=mt(e),r=t==xe?Va:t==Ue?co:Li;return r(e)}function sr(e){if(!e)return e===0?e:0;if(e=un(e),e===Ve||e===-Ve){var t=e<0?-1:1;return t*_n}return e===e?e:0}function ve(e){var t=sr(e),r=t%1;return t===t?r?t-r:t:0}function ld(e){return e?Jr(ve(e),0,pt):0}function un(e){if(typeof e=="number")return e;if(Gt(e))return vn;if(We(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=We(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Su(e);var r=js.test(e);return r||Ta.test(e)?Wa(e.slice(2),r?2:8):xa.test(e)?vn:+e}function ud(e){return Fn(e,Ut(e))}function Fm(e){return e?Jr(ve(e),-yt,yt):e===0?e:0}function De(e){return e==null?"":Yt(e)}var Bm=Oi(function(e,t){if(Ns(t)||Bt(t)){Fn(t,at(t),e);return}for(var r in t)ke.call(t,r)&&xs(e,r,t[r])}),cd=Oi(function(e,t){Fn(t,Ut(t),e)}),Yo=Oi(function(e,t,r,s){Fn(t,Ut(t),e,s)}),Um=Oi(function(e,t,r,s){Fn(t,at(t),e,s)}),Wm=nr(Xa);function qm(e,t){var r=Si(e);return t==null?r:qu(r,t)}var Hm=be(function(e,t){e=Me(e);var r=-1,s=t.length,u=s>2?t[2]:i;for(u&&It(t[0],t[1],u)&&(s=1);++r<s;)for(var h=t[r],v=Ut(h),m=-1,E=v.length;++m<E;){var N=v[m],D=e[N];(D===i||xn(D,xi[N])&&!ke.call(e,N))&&(e[N]=h[N])}return e}),Vm=be(function(e){return e.push(i,Sc),Tt(dd,i,e)});function Km(e,t){return me(e,ie(t,3),Mn)}function zm(e,t){return me(e,ie(t,3),Za)}function Ym(e,t){return e==null?e:Qa(e,ie(t,3),Ut)}function Gm(e,t){return e==null?e:Yu(e,ie(t,3),Ut)}function jm(e,t){return e&&Mn(e,ie(t,3))}function Xm(e,t){return e&&Za(e,ie(t,3))}function Qm(e){return e==null?[]:Oo(e,at(e))}function Zm(e){return e==null?[]:Oo(e,Ut(e))}function Nl(e,t,r){var s=e==null?i:ei(e,t);return s===i?r:s}function Jm(e,t){return e!=null&&Nc(e,t,Eh)}function Dl(e,t){return e!=null&&Nc(e,t,Ah)}var eg=Ec(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=_o.call(t)),e[t]=r},kl(Wt)),tg=Ec(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=_o.call(t)),ke.call(e,t)?e[t].push(r):e[t]=[r]},ie),ng=be(Cs);function at(e){return Bt(e)?Uu(e):nl(e)}function Ut(e){return Bt(e)?Uu(e,!0):kh(e)}function rg(e,t){var r={};return t=ie(t,3),Mn(e,function(s,u,h){er(r,t(s,u,h),s)}),r}function ig(e,t){var r={};return t=ie(t,3),Mn(e,function(s,u,h){er(r,u,t(s,u,h))}),r}var sg=Oi(function(e,t,r){Io(e,t,r)}),dd=Oi(function(e,t,r,s){Io(e,t,r,s)}),og=nr(function(e,t){var r={};if(e==null)return r;var s=!1;t=a(t,function(h){return h=Sr(h,e),s||(s=h.length>1),h}),Fn(e,vl(e),r),s&&(r=on(r,U|J|z,e_));for(var u=t.length;u--;)ll(r,t[u]);return r});function ag(e,t){return fd(e,Vo(ie(t)))}var lg=nr(function(e,t){return e==null?{}:Rh(e,t)});function fd(e,t){if(e==null)return{};var r=a(vl(e),function(s){return[s]});return t=ie(t),rc(e,r,function(s,u){return t(s,u[0])})}function ug(e,t,r){t=Sr(t,e);var s=-1,u=t.length;for(u||(u=1,e=i);++s<u;){var h=e==null?i:e[Bn(t[s])];h===i&&(s=u,h=r),e=ir(h)?h.call(e):h}return e}function cg(e,t,r){return e==null?e:Os(e,t,r)}function dg(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:Os(e,t,r,s)}var pd=Tc(at),hd=Tc(Ut);function fg(e,t,r){var s=pe(e),u=s||Ir(e)||Di(e);if(t=ie(t,4),r==null){var h=e&&e.constructor;u?r=s?new h:[]:We(e)?r=ir(h)?Si(go(e)):{}:r={}}return(u?Ze:Mn)(e,function(v,m,E){return t(r,v,m,E)}),r}function pg(e,t){return e==null?!0:ll(e,t)}function hg(e,t,r){return e==null?e:lc(e,t,dl(r))}function _g(e,t,r,s){return s=typeof s=="function"?s:i,e==null?e:lc(e,t,dl(r),s)}function Li(e){return e==null?[]:Ha(e,at(e))}function vg(e){return e==null?[]:Ha(e,Ut(e))}function mg(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=un(r),r=r===r?r:0),t!==i&&(t=un(t),t=t===t?t:0),Jr(un(e),t,r)}function gg(e,t,r){return t=sr(t),r===i?(r=t,t=0):r=sr(r),e=un(e),xh(e,t,r)}function bg(e,t,r){if(r&&typeof r!="boolean"&&It(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=sr(e),t===i?(t=e,e=0):t=sr(t)),e>t){var s=e;e=t,t=s}if(r||e%1||t%1){var u=Fu();return vt(e+u*(t-e+Ua("1e-"+((u+"").length-1))),t)}return sl(e,t)}var yg=Ii(function(e,t,r){return t=t.toLowerCase(),e+(r?_d(t):t)});function _d(e){return Ll(De(e).toLowerCase())}function vd(e){return e=De(e),e&&e.replace(Mt,cp).replace(Ma,"")}function wg(e,t,r){e=De(e),t=Yt(t);var s=e.length;r=r===i?s:Jr(ve(r),0,s);var u=r;return r-=t.length,r>=0&&e.slice(r,u)==t}function Eg(e){return e=De(e),e&&Ys.test(e)?e.replace(Yn,dp):e}function Ag(e){return e=De(e),e&&Ea.test(e)?e.replace(is,"\\$&"):e}var xg=Ii(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Tg=Ii(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Cg=bc("toLowerCase");function Sg(e,t,r){e=De(e),t=ve(t);var s=t?Ei(e):0;if(!t||s>=t)return e;var u=(t-s)/2;return Ro(Eo(u),r)+e+Ro(wo(u),r)}function Og(e,t,r){e=De(e),t=ve(t);var s=t?Ei(e):0;return t&&s<t?e+Ro(t-s,r):e}function Ig(e,t,r){e=De(e),t=ve(t);var s=t?Ei(e):0;return t&&s<t?Ro(t-s,r)+e:e}function Ng(e,t,r){return r||t==null?t=0:t&&(t=+t),Mp(De(e).replace(ss,""),t||0)}function Dg(e,t,r){return(r?It(e,t,r):t===i)?t=1:t=ve(t),ol(De(e),t)}function Lg(){var e=arguments,t=De(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var kg=Ii(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function $g(e,t,r){return r&&typeof r!="number"&&It(e,t,r)&&(t=r=i),r=r===i?pt:r>>>0,r?(e=De(e),e&&(typeof t=="string"||t!=null&&!Il(t))&&(t=Yt(t),!t&&wi(e))?Or(En(e),0,r):e.split(t,r)):[]}var Rg=Ii(function(e,t,r){return e+(r?" ":"")+Ll(t)});function Pg(e,t,r){return e=De(e),r=r==null?0:Jr(ve(r),0,e.length),t=Yt(t),e.slice(r,r+t.length)==t}function Mg(e,t,r){var s=f.templateSettings;r&&It(e,t,r)&&(t=i),e=De(e),t=Yo({},t,s,Cc);var u=Yo({},t.imports,s.imports,Cc),h=at(u),v=Ha(u,h),m,E,N=0,D=t.interpolate||wn,k="__p += '",K=Ka((t.escape||wn).source+"|"+D.source+"|"+(D===pi?hi:wn).source+"|"+(t.evaluate||wn).source+"|$","g"),Z="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ro+"]")+`
`;e.replace(K,function(oe,ye,Ae,jt,Nt,Xt){return Ae||(Ae=jt),k+=e.slice(N,Xt).replace(Qs,fp),ye&&(m=!0,k+=`' +
__e(`+ye+`) +
'`),Nt&&(E=!0,k+=`';
`+Nt+`;
__p += '`),Ae&&(k+=`' +
((__t = (`+Ae+`)) == null ? '' : __t) +
'`),N=Xt+oe.length,oe}),k+=`';
`;var se=ke.call(t,"variable")&&t.variable;if(!se)k=`with (obj) {
`+k+`
}
`;else if(os.test(se))throw new ce(x);k=(E?k.replace(rs,""):k).replace(ya,"$1").replace(wa,"$1;"),k="function("+(se||"obj")+`) {
`+(se?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+k+`return __p
}`;var ge=gd(function(){return Oe(h,Z+"return "+k).apply(i,v)});if(ge.source=k,Ol(ge))throw ge;return ge}function Fg(e){return De(e).toLowerCase()}function Bg(e){return De(e).toUpperCase()}function Ug(e,t,r){if(e=De(e),e&&(r||t===i))return Su(e);if(!e||!(t=Yt(t)))return e;var s=En(e),u=En(t),h=Ou(s,u),v=Iu(s,u)+1;return Or(s,h,v).join("")}function Wg(e,t,r){if(e=De(e),e&&(r||t===i))return e.slice(0,Du(e)+1);if(!e||!(t=Yt(t)))return e;var s=En(e),u=Iu(s,En(t))+1;return Or(s,0,u).join("")}function qg(e,t,r){if(e=De(e),e&&(r||t===i))return e.replace(ss,"");if(!e||!(t=Yt(t)))return e;var s=En(e),u=Ou(s,En(t));return Or(s,u).join("")}function Hg(e,t){var r=fe,s=Fe;if(We(t)){var u="separator"in t?t.separator:u;r="length"in t?ve(t.length):r,s="omission"in t?Yt(t.omission):s}e=De(e);var h=e.length;if(wi(e)){var v=En(e);h=v.length}if(r>=h)return e;var m=r-Ei(s);if(m<1)return s;var E=v?Or(v,0,m).join(""):e.slice(0,m);if(u===i)return E+s;if(v&&(m+=E.length-m),Il(u)){if(e.slice(m).search(u)){var N,D=E;for(u.global||(u=Ka(u.source,De(_i.exec(u))+"g")),u.lastIndex=0;N=u.exec(D);)var k=N.index;E=E.slice(0,k===i?m:k)}}else if(e.indexOf(Yt(u),m)!=m){var K=E.lastIndexOf(u);K>-1&&(E=E.slice(0,K))}return E+s}function Vg(e){return e=De(e),e&&hr.test(e)?e.replace(Pt,bp):e}var Kg=Ii(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Ll=bc("toUpperCase");function md(e,t,r){return e=De(e),t=r?i:t,t===i?hp(e)?Ep(e):ae(e):e.match(t)||[]}var gd=be(function(e,t){try{return Tt(e,i,t)}catch(r){return Ol(r)?r:new ce(r)}}),zg=nr(function(e,t){return Ze(t,function(r){r=Bn(r),er(e,r,Cl(e[r],e))}),e});function Yg(e){var t=e==null?0:e.length,r=ie();return e=t?a(e,function(s){if(typeof s[1]!="function")throw new rn(g);return[r(s[0]),s[1]]}):[],be(function(s){for(var u=-1;++u<t;){var h=e[u];if(Tt(h[0],this,s))return Tt(h[1],this,s)}})}function Gg(e){return bh(on(e,U))}function kl(e){return function(){return e}}function jg(e,t){return e==null||e!==e?t:e}var Xg=wc(),Qg=wc(!0);function Wt(e){return e}function $l(e){return Qu(typeof e=="function"?e:on(e,U))}function Zg(e){return Ju(on(e,U))}function Jg(e,t){return ec(e,on(t,U))}var eb=be(function(e,t){return function(r){return Cs(r,e,t)}}),tb=be(function(e,t){return function(r){return Cs(e,r,t)}});function Rl(e,t,r){var s=at(t),u=Oo(t,s);r==null&&!(We(t)&&(u.length||!s.length))&&(r=t,t=e,e=this,u=Oo(t,at(t)));var h=!(We(r)&&"chain"in r)||!!r.chain,v=ir(e);return Ze(u,function(m){var E=t[m];e[m]=E,v&&(e.prototype[m]=function(){var N=this.__chain__;if(h||N){var D=e(this.__wrapped__),k=D.__actions__=Ft(this.__actions__);return k.push({func:E,args:arguments,thisArg:e}),D.__chain__=N,D}return E.apply(e,l([this.value()],arguments))})}),e}function nb(){return Qe._===this&&(Qe._=Op),this}function Pl(){}function rb(e){return e=ve(e),be(function(t){return tc(t,e)})}var ib=pl(a),sb=pl(uo),ob=pl(C);function bd(e){return yl(e)?Le(Bn(e)):Ph(e)}function ab(e){return function(t){return e==null?i:ei(e,t)}}var lb=Ac(),ub=Ac(!0);function Ml(){return[]}function Fl(){return!1}function cb(){return{}}function db(){return""}function fb(){return!0}function pb(e,t){if(e=ve(e),e<1||e>yt)return[];var r=pt,s=vt(e,pt);t=ie(t),e-=pt;for(var u=ms(s,t);++r<e;)t(r);return u}function hb(e){return pe(e)?a(e,Bn):Gt(e)?[e]:Ft(Bc(De(e)))}function _b(e){var t=++Cp;return De(e)+t}var vb=$o(function(e,t){return e+t},0),mb=hl("ceil"),gb=$o(function(e,t){return e/t},1),bb=hl("floor");function yb(e){return e&&e.length?So(e,Wt,Ja):i}function wb(e,t){return e&&e.length?So(e,ie(t,2),Ja):i}function Eb(e){return et(e,Wt)}function Ab(e,t){return et(e,ie(t,2))}function xb(e){return e&&e.length?So(e,Wt,rl):i}function Tb(e,t){return e&&e.length?So(e,ie(t,2),rl):i}var Cb=$o(function(e,t){return e*t},1),Sb=hl("round"),Ob=$o(function(e,t){return e-t},0);function Ib(e){return e&&e.length?vs(e,Wt):0}function Nb(e,t){return e&&e.length?vs(e,ie(t,2)):0}return f.after=Zv,f.ary=Xc,f.assign=Bm,f.assignIn=cd,f.assignInWith=Yo,f.assignWith=Um,f.at=Wm,f.before=Qc,f.bind=Cl,f.bindAll=zg,f.bindKey=Zc,f.castArray=cm,f.chain=Yc,f.chunk=b_,f.compact=y_,f.concat=w_,f.cond=Yg,f.conforms=Gg,f.constant=kl,f.countBy=Iv,f.create=qm,f.curry=Jc,f.curryRight=ed,f.debounce=td,f.defaults=Hm,f.defaultsDeep=Vm,f.defer=Jv,f.delay=em,f.difference=E_,f.differenceBy=A_,f.differenceWith=x_,f.drop=T_,f.dropRight=C_,f.dropRightWhile=S_,f.dropWhile=O_,f.fill=I_,f.filter=Dv,f.flatMap=$v,f.flatMapDeep=Rv,f.flatMapDepth=Pv,f.flatten=Hc,f.flattenDeep=N_,f.flattenDepth=D_,f.flip=tm,f.flow=Xg,f.flowRight=Qg,f.fromPairs=L_,f.functions=Qm,f.functionsIn=Zm,f.groupBy=Mv,f.initial=$_,f.intersection=R_,f.intersectionBy=P_,f.intersectionWith=M_,f.invert=eg,f.invertBy=tg,f.invokeMap=Bv,f.iteratee=$l,f.keyBy=Uv,f.keys=at,f.keysIn=Ut,f.map=Wo,f.mapKeys=rg,f.mapValues=ig,f.matches=Zg,f.matchesProperty=Jg,f.memoize=Ho,f.merge=sg,f.mergeWith=dd,f.method=eb,f.methodOf=tb,f.mixin=Rl,f.negate=Vo,f.nthArg=rb,f.omit=og,f.omitBy=ag,f.once=nm,f.orderBy=Wv,f.over=ib,f.overArgs=rm,f.overEvery=sb,f.overSome=ob,f.partial=Sl,f.partialRight=nd,f.partition=qv,f.pick=lg,f.pickBy=fd,f.property=bd,f.propertyOf=ab,f.pull=W_,f.pullAll=Kc,f.pullAllBy=q_,f.pullAllWith=H_,f.pullAt=V_,f.range=lb,f.rangeRight=ub,f.rearg=im,f.reject=Kv,f.remove=K_,f.rest=sm,f.reverse=xl,f.sampleSize=Yv,f.set=cg,f.setWith=dg,f.shuffle=Gv,f.slice=z_,f.sortBy=Qv,f.sortedUniq=J_,f.sortedUniqBy=ev,f.split=$g,f.spread=om,f.tail=tv,f.take=nv,f.takeRight=rv,f.takeRightWhile=iv,f.takeWhile=sv,f.tap=yv,f.throttle=am,f.thru=Uo,f.toArray=ad,f.toPairs=pd,f.toPairsIn=hd,f.toPath=hb,f.toPlainObject=ud,f.transform=fg,f.unary=lm,f.union=ov,f.unionBy=av,f.unionWith=lv,f.uniq=uv,f.uniqBy=cv,f.uniqWith=dv,f.unset=pg,f.unzip=Tl,f.unzipWith=zc,f.update=hg,f.updateWith=_g,f.values=Li,f.valuesIn=vg,f.without=fv,f.words=md,f.wrap=um,f.xor=pv,f.xorBy=hv,f.xorWith=_v,f.zip=vv,f.zipObject=mv,f.zipObjectDeep=gv,f.zipWith=bv,f.entries=pd,f.entriesIn=hd,f.extend=cd,f.extendWith=Yo,Rl(f,f),f.add=vb,f.attempt=gd,f.camelCase=yg,f.capitalize=_d,f.ceil=mb,f.clamp=mg,f.clone=dm,f.cloneDeep=pm,f.cloneDeepWith=hm,f.cloneWith=fm,f.conformsTo=_m,f.deburr=vd,f.defaultTo=jg,f.divide=gb,f.endsWith=wg,f.eq=xn,f.escape=Eg,f.escapeRegExp=Ag,f.every=Nv,f.find=Lv,f.findIndex=Wc,f.findKey=Km,f.findLast=kv,f.findLastIndex=qc,f.findLastKey=zm,f.floor=bb,f.forEach=Gc,f.forEachRight=jc,f.forIn=Ym,f.forInRight=Gm,f.forOwn=jm,f.forOwnRight=Xm,f.get=Nl,f.gt=vm,f.gte=mm,f.has=Jm,f.hasIn=Dl,f.head=Vc,f.identity=Wt,f.includes=Fv,f.indexOf=k_,f.inRange=gg,f.invoke=ng,f.isArguments=ri,f.isArray=pe,f.isArrayBuffer=gm,f.isArrayLike=Bt,f.isArrayLikeObject=Ke,f.isBoolean=bm,f.isBuffer=Ir,f.isDate=ym,f.isElement=wm,f.isEmpty=Em,f.isEqual=Am,f.isEqualWith=xm,f.isError=Ol,f.isFinite=Tm,f.isFunction=ir,f.isInteger=rd,f.isLength=Ko,f.isMap=id,f.isMatch=Cm,f.isMatchWith=Sm,f.isNaN=Om,f.isNative=Im,f.isNil=Dm,f.isNull=Nm,f.isNumber=sd,f.isObject=We,f.isObjectLike=He,f.isPlainObject=Ls,f.isRegExp=Il,f.isSafeInteger=Lm,f.isSet=od,f.isString=zo,f.isSymbol=Gt,f.isTypedArray=Di,f.isUndefined=km,f.isWeakMap=$m,f.isWeakSet=Rm,f.join=F_,f.kebabCase=xg,f.last=ln,f.lastIndexOf=B_,f.lowerCase=Tg,f.lowerFirst=Cg,f.lt=Pm,f.lte=Mm,f.max=yb,f.maxBy=wb,f.mean=Eb,f.meanBy=Ab,f.min=xb,f.minBy=Tb,f.stubArray=Ml,f.stubFalse=Fl,f.stubObject=cb,f.stubString=db,f.stubTrue=fb,f.multiply=Cb,f.nth=U_,f.noConflict=nb,f.noop=Pl,f.now=qo,f.pad=Sg,f.padEnd=Og,f.padStart=Ig,f.parseInt=Ng,f.random=bg,f.reduce=Hv,f.reduceRight=Vv,f.repeat=Dg,f.replace=Lg,f.result=ug,f.round=Sb,f.runInContext=y,f.sample=zv,f.size=jv,f.snakeCase=kg,f.some=Xv,f.sortedIndex=Y_,f.sortedIndexBy=G_,f.sortedIndexOf=j_,f.sortedLastIndex=X_,f.sortedLastIndexBy=Q_,f.sortedLastIndexOf=Z_,f.startCase=Rg,f.startsWith=Pg,f.subtract=Ob,f.sum=Ib,f.sumBy=Nb,f.template=Mg,f.times=pb,f.toFinite=sr,f.toInteger=ve,f.toLength=ld,f.toLower=Fg,f.toNumber=un,f.toSafeInteger=Fm,f.toString=De,f.toUpper=Bg,f.trim=Ug,f.trimEnd=Wg,f.trimStart=qg,f.truncate=Hg,f.unescape=Vg,f.uniqueId=_b,f.upperCase=Kg,f.upperFirst=Ll,f.each=Gc,f.eachRight=jc,f.first=Vc,Rl(f,(function(){var e={};return Mn(f,function(t,r){ke.call(f.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),f.VERSION=d,Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Ze(["drop","take"],function(e,t){Ee.prototype[e]=function(r){r=r===i?1:it(ve(r),0);var s=this.__filtered__&&!t?new Ee(this):this.clone();return s.__filtered__?s.__takeCount__=vt(r,s.__takeCount__):s.__views__.push({size:vt(r,pt),type:e+(s.__dir__<0?"Right":"")}),s},Ee.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Ze(["filter","map","takeWhile"],function(e,t){var r=t+1,s=r==ft||r==lt;Ee.prototype[e]=function(u){var h=this.clone();return h.__iteratees__.push({iteratee:ie(u,3),type:r}),h.__filtered__=h.__filtered__||s,h}}),Ze(["head","last"],function(e,t){var r="take"+(t?"Right":"");Ee.prototype[e]=function(){return this[r](1).value()[0]}}),Ze(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Ee.prototype[e]=function(){return this.__filtered__?new Ee(this):this[r](1)}}),Ee.prototype.compact=function(){return this.filter(Wt)},Ee.prototype.find=function(e){return this.filter(e).head()},Ee.prototype.findLast=function(e){return this.reverse().find(e)},Ee.prototype.invokeMap=be(function(e,t){return typeof e=="function"?new Ee(this):this.map(function(r){return Cs(r,e,t)})}),Ee.prototype.reject=function(e){return this.filter(Vo(ie(e)))},Ee.prototype.slice=function(e,t){e=ve(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Ee(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=ve(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},Ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ee.prototype.toArray=function(){return this.take(pt)},Mn(Ee.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),u=f[s?"take"+(t=="last"?"Right":""):t],h=s||/^find/.test(t);u&&(f.prototype[t]=function(){var v=this.__wrapped__,m=s?[1]:arguments,E=v instanceof Ee,N=m[0],D=E||pe(v),k=function(ye){var Ae=u.apply(f,l([ye],m));return s&&K?Ae[0]:Ae};D&&r&&typeof N=="function"&&N.length!=1&&(E=D=!1);var K=this.__chain__,Z=!!this.__actions__.length,se=h&&!K,ge=E&&!Z;if(!h&&D){v=ge?v:new Ee(this);var oe=e.apply(v,m);return oe.__actions__.push({func:Uo,args:[k],thisArg:i}),new sn(oe,K)}return se&&ge?e.apply(this,m):(oe=this.thru(k),se?s?oe.value()[0]:oe.value():oe)})}),Ze(["pop","push","shift","sort","splice","unshift"],function(e){var t=fo[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var u=arguments;if(s&&!this.__chain__){var h=this.value();return t.apply(pe(h)?h:[],u)}return this[r](function(v){return t.apply(pe(v)?v:[],u)})}}),Mn(Ee.prototype,function(e,t){var r=f[t];if(r){var s=r.name+"";ke.call(Ci,s)||(Ci[s]=[]),Ci[s].push({name:t,func:r})}}),Ci[ko(i,O).name]=[{name:"wrapper",func:i}],Ee.prototype.clone=Vp,Ee.prototype.reverse=Kp,Ee.prototype.value=zp,f.prototype.at=wv,f.prototype.chain=Ev,f.prototype.commit=Av,f.prototype.next=xv,f.prototype.plant=Cv,f.prototype.reverse=Sv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Ov,f.prototype.first=f.prototype.head,bs&&(f.prototype[bs]=Tv),f}),Ai=Ap();jn?((jn.exports=Ai)._=Ai,ds._=Ai):Qe._=Ai}).call(KE)})(Ms,Ms.exports)),Ms.exports}var Us=zE();function YE(o){let n=null,i=null,d=new Map;const _=U=>JSON.stringify(U),w=async(U,J,z,ee)=>{if(ee===(z==="cart"?n:i))return{success:!0,skipped:!0};if(d.has(z))return console.log(`⏳ Skipping duplicate ${z} request`),{success:!1,skipped:!0};const te=new AbortController,Q=setTimeout(()=>te.abort(),5e3);d.set(z,!0);try{const O=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(J),signal:te.signal});if(clearTimeout(Q),!O.ok)throw new Error(`HTTP ${O.status}`);const H=await O.json();return z==="cart"?n=ee:i=ee,console.log(`✅ ${z} updated - v${H.version}`),{success:!0,data:H}}catch(O){return O.name==="AbortError"?console.warn(`⚠️ ${z} update timeout`):console.error(`❌ Failed to update ${z}:`,O.message),{success:!1,error:O}}finally{d.delete(z)}},g=Us.debounce(async U=>{const J=_(U);await w("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",J)},800),x=Us.debounce(async U=>{const J=_(U);await w("/api/pos/terminal/update-ui",{terminal_id:o,ui:U},"ui",J)},300),A=async U=>{const J=_(U);return await w("/api/pos/terminal/update-cart",{terminal_id:o,cart:U},"cart",J)},F=Us.debounce(async(U,J)=>{const z=_(U),ee=_(J);if(z===n&&ee===i)return{success:!0,skipped:!0};const te=new AbortController,Q=setTimeout(()=>te.abort(),5e3);try{const O=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:o,cart:U,ui:J}),signal:te.signal});if(clearTimeout(Q),!O.ok)throw new Error(`HTTP ${O.status}`);const H=await O.json();return n=z,i=ee,console.log(`✅ Batch update successful - v${H.version}`),{success:!0,data:H}}catch(O){return console.error("❌ Batch update failed:",O.message),{success:!1,error:O}}},500);return{broadcastCartUpdate:g,broadcastUIUpdate:x,broadcastImmediateCartUpdate:A,broadcastBatchUpdate:F,clearBroadcastCache:()=>{n=null,i=null,d.clear(),console.log("🧹 Broadcast cache cleared")}}}const GE={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)","z-index":"9999"}},jE={class:"modal-dialog modal-lg modal-dialog-centered"},XE={class:"modal-content"},QE={class:"modal-header bg-warning text-dark"},ZE={class:"modal-body"},JE={key:0,class:"alert alert-info mb-3"},eA={class:"mb-0"},tA={key:1,class:"alert alert-danger"},nA={class:"text-muted"},rA={key:2},iA={class:"fw-bold"},sA={key:0,class:"badge bg-secondary ms-2"},oA={class:"table table-sm table-bordered"},aA={class:"text-end"},lA={class:"text-end"},uA={class:"text-end text-danger fw-bold"},cA={class:"modal-footer"},dA={__name:"ConfirmMissingIngredientsModal",props:{show:Boolean,missingIngredients:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(o,{emit:n}){const i=o,d=n;ii(()=>i.show,x=>{console.log("📺 Modal show changed:",x),x&&console.log("📦 Missing ingredients:",i.missingIngredients)},{immediate:!0}),ii(()=>i.missingIngredients,x=>{console.log("📊 Missing ingredients changed:",x),console.log("📊 Array length:",x?.length),console.log("📊 Is array?:",Array.isArray(x))},{immediate:!0,deep:!0});const _=Be(()=>{if(console.log("🔄 Computing groupedByItem"),console.log("🔄 Input missingIngredients:",i.missingIngredients),!Array.isArray(i.missingIngredients)||i.missingIngredients.length===0)return console.log("⚠️ No ingredients to group (not array or empty)"),{};const x={};return i.missingIngredients.forEach((A,F)=>{console.log(`📝 Processing ingredient ${F}:`,A);const I=`${A.item_id}-${A.variant_id||"default"}`;x[I]||(x[I]={item_title:A.item_title,variant_name:A.variant_name,ingredients:[]}),x[I].ingredients.push(A)}),console.log("✅ Final grouped data:",x),x}),w=Be(()=>i.missingIngredients&&i.missingIngredients.length>0),g=Be(()=>Object.keys(_.value).length);return(x,A)=>o.show?gt((M(),P("div",GE,[p("div",jE,[p("div",XE,[p("div",QE,[A[4]||(A[4]=p("h5",{class:"modal-title"},[p("i",{class:"bi bi-exclamation-triangle-fill me-2"}),Ge(" Ingredient Shortage Warning ")],-1)),p("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:A[0]||(A[0]=F=>d("close"))},[...A[3]||(A[3]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),p("div",ZE,[w.value?de("",!0):(M(),P("div",JE,[A[5]||(A[5]=p("strong",null,"Debug Info:",-1)),p("ul",eA,[p("li",null,"Has data: "+W(w.value),1),p("li",null,"Array length: "+W(o.missingIngredients?.length||0),1),p("li",null,"Is array: "+W(Array.isArray(o.missingIngredients)),1),p("li",null,"Group count: "+W(g.value),1)])])),A[10]||(A[10]=p("div",{class:"alert alert-warning"},[p("strong",null,"Warning:"),Ge(" The following items have ingredient shortages. The order can still be placed, but pending ingredient deductions will be recorded and automatically deducted when stock arrives. ")],-1)),w.value?(M(),P("div",rA,[(M(!0),P(Ye,null,bt(_.value,(F,I)=>(M(),P("div",{key:I,class:"mb-4"},[p("h6",iA,[Ge(W(F.item_title)+" ",1),F.variant_name?(M(),P("span",sA,W(F.variant_name),1)):de("",!0)]),p("table",oA,[A[9]||(A[9]=p("thead",{class:"table-light"},[p("tr",null,[p("th",null,"Ingredient"),p("th",{class:"text-end"},"Required"),p("th",{class:"text-end"},"Available"),p("th",{class:"text-end"},"Short")])],-1)),p("tbody",null,[(M(!0),P(Ye,null,bt(F.ingredients,U=>(M(),P("tr",{key:U.inventory_item_id},[p("td",null,W(U.inventory_item_name),1),p("td",aA,W(U.required_quantity)+" "+W(U.unit),1),p("td",lA,W(U.available_quantity)+" "+W(U.unit),1),p("td",uA,W(U.shortage_quantity)+" "+W(U.unit),1)]))),128))])])]))),128))])):(M(),P("div",tA,[A[6]||(A[6]=p("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),A[7]||(A[7]=Ge(" No missing ingredient data available. ",-1)),A[8]||(A[8]=p("br",null,null,-1)),p("small",nA," Received "+W(o.missingIngredients?.length||0)+" ingredient(s) ",1)]))]),p("div",cA,[p("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:A[1]||(A[1]=F=>d("close"))}," Cancel Order "),p("button",{type:"button",class:"btn btn-primary px-4 py-2",onClick:A[2]||(A[2]=F=>d("confirm"))}," Proceed Anyway ")])])])],512)),[[Ps,o.show]]):de("",!0)}},fA={class:"page-wrapper"},pA={class:"container-fluid px-3 py-3"},hA={class:"row gx-3 gy-3"},_A={key:0,class:"row g-3 tablet-screen"},vA={class:"d-flex justify-content-between justify align-items-center mb-3"},mA={style:{width:"250px",position:"relative"}},gA={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},bA={key:0,class:"col-12 text-center py-5"},yA=["onClick"],wA={class:"cat-icon-wrap"},EA={class:"cat-icon"},AA=["src"],xA={key:1},TA={class:"cat-name"},CA={class:"cat-pill"},SA={key:0,class:"col-12"},OA={key:1},IA={class:"d-flex flex-wrap gap-2 align-items-center justify-content-between mb-4"},NA={class:"fw-bold mb-0"},DA={class:"d-flex gap-2 ms-auto align-items-center"},LA={class:"search-wrap position-relative"},kA={class:"row g-3"},$A={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},RA=["src"],PA={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},MA={key:0,class:"text-muted text-decoration-line-through me-1"},FA={class:"fw-bold text-success me-2"},BA={key:1,class:"text-muted text-decoration-line-through me-1"},UA={class:"fw-bold text-success"},WA={class:"text-decoration-line-through opacity-75 me-1"},qA={class:"fw-bold text-white"},HA={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},VA={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},KA={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},zA={key:0,class:"mb-3"},YA=["onUpdate:modelValue","onChange"],GA=["value"],jA={key:1},XA={class:"form-label small fw-semibold mb-2"},QA={key:0,class:"text-muted",style:{"font-size":"0.75rem"}},ZA={key:0,class:"d-flex flex-wrap gap-1"},JA={key:1},ex={class:"d-flex justify-content-between align-items-center w-100"},tx={class:"fw-semibold text-success"},nx=["onClick"],rx=["onClick","disabled"],ix={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},sx=["onClick"],ox={key:0,class:"col-lg-4 right-cart"},ax={class:"cart card border-0 shadow-lg rounded-4"},lx={class:"cart-header"},ux={class:"order-type"},cx=["onClick"],dx={class:"cart-body"},fx={class:"mb-3"},px={key:0,class:"row g-2"},hx={class:"col-6 table-dropdown"},_x=["value"],vx={key:0,class:"invalid-feedback d-block"},mx={class:"col-6 table-dropdown"},gx={key:1},bx={key:0,class:"invalid-feedback d-block"},yx={key:2,class:"mt-2"},wx={key:0,class:"invalid-feedback d-block"},Ex={key:1,class:"invalid-feedback d-block"},Ax={class:"cart-lines"},xx={key:0,class:"empty"},Tx={class:"line-left"},Cx=["src"],Sx={class:"meta"},Ox=["title"],Ix={key:0},Nx={class:"badge bg-success",style:{"font-size":"0.65rem"}},Dx={key:1,class:"addon-icons mt-1"},Lx=["onClick","title"],kx={class:"text-muted small"},$x={key:2,class:"badge bg-success mt-1 ms-1",style:{"font-size":"0.65rem"}},Rx={key:3,class:"mt-1"},Px={class:"badge",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},Mx={key:4,class:"note"},Fx={class:"line-right"},Bx={class:"qty-controls"},Ux=["onClick"],Wx={class:"qty"},qx=["onClick"],Hx={class:"price-delete"},Vx={class:"price"},Kx=["onClick"],zx={class:"totals"},Yx={class:"trow"},Gx={class:"sub-total"},jx={key:0,class:"trow"},Xx={class:"text-info"},Qx={key:1,class:"trow"},Zx={class:"fw-semibold"},Jx={key:2,class:"trow"},eT={class:"fw-semibold"},tT={key:3,class:"trow"},nT={class:"text-danger"},rT={key:4,class:"promos-section mb-3"},iT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},sT={class:"d-flex justify-content-between align-items-center"},oT={class:"text-success fs-6"},aT={key:5,class:"pending-discounts-section mb-3"},lT={class:"d-flex align-items-center gap-2 text-warning"},uT={class:"text-warning"},cT={key:6,class:"approved-discounts-section mb-3"},dT={class:"trow border-top pt-2 mt-2"},fT={class:"text-success"},pT={class:"trow total"},hT={class:"mb-3"},_T={class:"mb-3"},vT={class:"cart-footer"},mT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},gT={class:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable"},bT={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},yT={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},wT={class:"fw-bold mb-0"},ET={class:"px-3 pt-2 progress-bar"},AT={class:"stepper-container position-relative",style:{"min-height":"60px"}},xT={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},TT={key:1,style:{"font-size":"0.75rem"}},CT={class:"modal-body px-3 py-2"},ST={class:"row g-3 mb-3"},OT={class:"col-lg-5"},IT={class:"position-relative mb-3"},NT=["src"],DT={key:0,class:"badge bg-danger px-2 py-1 position-absolute top-0 end-0 rounded-end-0 rounded-bottom-0 shadow-sm",style:{"font-size":"0.7rem"}},LT={class:"rounded-3 border shadow-sm p-3 bg-white"},kT={class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},$T={key:0,class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},RT={class:"text-success"},PT={class:"d-flex justify-content-between",style:{"font-size":"1rem"}},MT={class:"fw-bold text-primary"},FT={class:"col-lg-7"},BT={class:"px-1"},UT={class:"step-content"},WT={class:"row g-2"},qT=["onClick"],HT={class:"d-flex justify-content-between align-items-center"},VT={class:"fw-bold mb-0",style:{"font-size":"0.85rem"}},KT={class:"d-flex justify-content-between align-items-center gap-2"},zT={key:0,class:"text-primary"},YT={style:{"font-size":"0.9rem"}},GT={class:"step-content"},jT={class:"row g-2"},XT=["id","checked","disabled","onChange"],QT=["for"],ZT={class:"step-content"},JT={class:"fw-semibold mb-1 d-flex justify-content-between",style:{"font-size":"0.85rem"}},eC={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},tC={class:"step-content"},nC={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},rC={key:0,class:"summary-item"},iC={class:"summary-value"},sC={key:1,class:"summary-item"},oC={class:"summary-value"},aC={key:2,class:"summary-item"},lC={class:"summary-value"},uC={class:"d-flex align-items-center mb-3"},cC={class:"qty-group gap-1"},dC=["disabled"],fC={class:"qty-box rounded-pill"},pC={class:"mb-2"},hC={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},_C={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end gap-2"},vC={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},mC={class:"modal-dialog modal-lg modal-dialog-centered"},gC={class:"modal-content rounded-4 border-0 shadow-lg"},bC={key:0,class:"modal-body pt-2"},yC={class:"alert alert-light border rounded-3 mb-3"},wC={class:"d-flex align-items-center gap-3"},EC=["src"],AC={class:"flex-grow-1"},xC={class:"fw-bold fs-6"},TC={class:"d-flex gap-3 mt-1"},CC={class:"text-muted"},SC={class:"fw-semibold"},OC={class:"text-muted"},IC={class:"fw-semibold"},NC={key:0,class:"table-responsive"},DC={class:"table table-hover align-middle mb-0"},LC={class:"text-center"},kC={class:"form-check d-flex justify-content-center"},$C=["checked","onChange"],RC={class:"d-flex align-items-center gap-2"},PC={class:"fw-semibold"},MC={key:0,class:"text-muted"},FC={class:"text-center"},BC={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},UC={class:"d-flex align-items-center justify-content-center gap-2"},WC=["onClick","disabled"],qC={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},HC=["onClick","disabled"],VC={key:1,class:"text-center text-muted py-5"},KC={class:"mt-3 p-3 rounded-3"},zC={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},YC={class:"text-success fw-semibold"},GC={__name:"Index",props:["client_secret","order_code"],setup(o){Kb();const{formatCurrencySymbol:n}=Wb();ks(()=>{Bl(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(a=>{new ma(a)})})});const i=j([]),d=j(!0),_=j(""),w=j(Date.now()),g=`category-search-${Math.random().toString(36).substr(2,9)}`,x=j(!1),A=Be(()=>{const a=_.value.trim().toLowerCase();return a?xt.value.filter(l=>l.name.toLowerCase().includes(a)):xt.value}),F=async()=>{d.value=!0;try{const a=await axios.get("/api/pos/fetch-menu-categories");i.value=a.data,i.value.length>0&&(Kn.value=i.value[0].id)}catch(a){console.error("Error fetching categories:",a)}finally{d.value=!1}},I=j([]),U=async()=>{try{const a=await axios.get("/api/pos/fetch-menu-items");I.value=a.data.data}catch(a){console.error("Error fetching inventory:",a)}},J=Be(()=>{const a={};return I.value.forEach(l=>{const c=l.category?.id||"uncategorized",b=l.category?.name||"Uncategorized";a[c]||(a[c]=[]);const C={id:l.id,title:l.name,img:l.image_url||"/assets/img/default.png",stock:0,price:Number(l.price),label_color:l.label_color||"#1B1670",family:b,description:l.description,nutrition:l.nutrition,tags:l.tags,allergies:l.allergies,ingredients:l.ingredients??[],variants:l.variants??[],addon_groups:l.addon_groups??[],is_saleable:l.is_saleable,resale_type:l.resale_type,resale_value:l.resale_value};a[c].push(C)}),a}),z=j({});ii(()=>I.value,a=>{a&&a.length>0&&a.forEach(l=>{l.variants&&l.variants.length>0&&(z.value[l.id]||(z.value[l.id]=l.variants[0].id))})},{immediate:!0,deep:!0});const ee=a=>{if(!a.variants||a.variants.length===0)return null;const l=z.value[a.id];return l&&a.variants.find(c=>c.id===l)||a.variants[0]},te=(a,l)=>{const c=parseInt(l.target.value);z.value[a.id]=c;const b=a.variants.find(C=>C.id===c);b&&console.log(`Selected ${b.name} for ${a.title} - ${n(b.price)}`)},Q=j({}),O=(a,l,c)=>{const b=a.id;Q.value[b]||(Q.value[b]={});const C=a.addon_groups.find(B=>B.group_id===l);if(C&&C.max_select>0&&c.length>C.max_select){ue.warning(`You can only select up to ${C.max_select} ${C.group_name}`);const B=Q.value[b][l]||[];Q.value[b][l]=B.slice(0,C.max_select);return}Q.value[b][l]=c},H=a=>{const l=a.id;if(!Q.value[l])return 0;let c=0;return Object.values(Q.value[l]).forEach(b=>{b.forEach(C=>{c+=parseFloat(C.price||0)})}),c},ne=a=>{const l=a.id;if(!Q.value[l])return[];const c=[];return Object.values(Q.value[l]).forEach(b=>{b.forEach(C=>{c.push({id:C.id,name:C.name,price:parseFloat(C.price),group_id:C.group_id||C.pivot?.addon_group_id})})}),c},L=j([]),$=()=>{if(!_e.value)return[];const a=ht();return a&&a.ingredients&&a.ingredients.length>0?a.ingredients:_e.value.ingredients||[]},X=a=>L.value.includes(a),le=a=>{const l=L.value.indexOf(a);l>-1?(L.value.splice(l,1),ue.info("Ingredient added back")):(L.value.push(a),ue.info("Ingredient removed"))},Ie=()=>$().filter(a=>!L.value.includes(a.id||a.inventory_item_id)).length,Ne=()=>{if(L.value.length===0)return null;const a=$(),l=L.value.map(c=>{const b=a.find(C=>C.id===c||C.inventory_item_id===c);return b?b.product_name||b.name:null}).filter(Boolean);return l.length===0?null:`No ${l.join(", ")}`},fe=j(1),Fe=Be(()=>_e.value?.variants&&_e.value.variants.length>0),st=Be(()=>$().length>0),qe=Be(()=>_e.value?.addon_groups&&_e.value.addon_groups.length>0),ft=Be(()=>{const a=[];return Fe.value&&a.push({id:"variants",name:"Variant"}),st.value&&a.push({id:"ingredients",name:"Ingredients"}),qe.value&&a.push({id:"addons",name:"Add-ons"}),a.push({id:"review",name:"Review"}),a}),kt=Be(()=>ft.value.length),lt=Be(()=>{if(fe.value===1)return"0%";const a=ft.value.length,l=(fe.value-1)/(a-1);return`calc(${l*100}% - ${14-l*28}px)`}),Ve=a=>a<fe.value?"bg-success text-white":a===fe.value?"bg-primary text-white":"bg-light text-muted border",yt=()=>{let a=fe.value+1;for(;a<=kt.value;){const l=ft.value[a-1];if(l.id==="variants"&&!Fe.value){a++;continue}if(l.id==="ingredients"&&!st.value){a++;continue}if(l.id==="addons"&&!qe.value){a++;continue}break}a<=kt.value&&(fe.value=a)},_n=()=>{let a=fe.value-1;for(;a>=1;){const l=ft.value[a-1];if(l.id==="variants"&&!Fe.value){a--;continue}if(l.id==="ingredients"&&!st.value){a--;continue}if(l.id==="addons"&&!qe.value){a--;continue}break}a>=1&&(fe.value=a)},vn=a=>{Ln.value=a,ut()},pt=()=>Fe.value&&_e.value?.variants?.find(l=>l.id===Ln.value)?.name||"",Hn=()=>{const a=[];return Object.values(Ht.value).forEach(l=>{l.forEach(c=>{a.push(`${c.name} (+${n(c.price)})`)})}),a.join(", ")},pr=async a=>{_e.value=a,pi.value="",yn.value="",Ln.value=null,Ht.value={},L.value=[],fe.value=1,a.variants&&a.variants.length>0&&(Ln.value=a.variants[0].id);const l=a.variants&&a.variants.length>0?a.variants[0]:null,c=l?l.id:null,b=Gn(a,c),C=mn(a,c,b);tt.value=C>0?1:0,L.value=[];const B=document.getElementById("chooseItem"),q=new bootstrap.Modal(B);B.addEventListener("shown.bs.modal",async()=>{await Bl()},{once:!0}),q.show()},mn=(a,l,c)=>{const b=c.filter(q=>!L.value.includes(q.id||q.inventory_item_id));if(!b||b.length===0)return 999999;const C={};for(const q of Y.value)Gn(q,q.variant_id).filter(V=>!q.removed_ingredients||q.removed_ingredients.length===0?!0:!q.removed_ingredients.includes(V.id||V.inventory_item_id)).forEach(V=>{const we=V.inventory_item_id,Je=Number(V.inventory_stock??V.inventory_item?.stock??0);C[we]||(C[we]={totalStock:Je,used:0});const Se=Number(V.quantity??V.qty??1)*q.qty;C[we].used+=Se});let B=999999;for(const q of b){const ae=q.inventory_item_id,me=Number(q.inventory_stock??q.inventory_item?.stock??0),V=Number(q.quantity??q.qty??1);if(C[ae]){const we=C[ae].totalStock-C[ae].used,Je=Math.floor(we/V);B=Math.min(B,Je)}else{const we=Math.floor(me/V);B=Math.min(B,we)}}return B},ut=()=>{const a=ht(),l=a?a.id:null,c=Gn(_e.value,l),b=mn(_e.value,l,c);if(b<=0){ue.error("No stock available for this variant. Please remove items from cart first."),tt.value=0;return}tt.value=Math.min(1,b)},en=(a,l)=>{if(!_e.value)return;const c=_e.value.addon_groups.find(b=>b.group_id===a);if(c&&c.max_select>0&&l.length>c.max_select){ue.warning(`You can only select up to ${c.max_select} ${c.group_name}`),Ht.value[a]=l.slice(0,c.max_select);return}Ht.value[a]=l},ht=()=>{if(!_e.value||!_e.value.variants||_e.value.variants.length===0)return null;const a=Ln.value;return a&&_e.value.variants.find(l=>l.id===a)||_e.value.variants[0]},wt=()=>{if(!_e.value)return 0;const a=ht();return parseFloat(a?a.price:_e.value.price||0)},$t=()=>{let a=0;return Object.values(Ht.value).forEach(l=>{l.forEach(c=>{a+=parseFloat(c.price||0)})}),a},Xi=()=>{const a=[];return Object.values(Ht.value).forEach(l=>{l.forEach(c=>{a.push({id:c.id,name:c.name,price:parseFloat(c.price),group_id:c.group_id||c.pivot?.addon_group_id})})}),a},gn=a=>{if(!a)return 0;const l=ee(a),c=l?l.id:null,b=Gn(a,c);if(!b.length)return 999999;let C=1/0;return b.forEach(B=>{const q=Number(B.quantity??B.qty??1),ae=Number(B.inventory_stock??B.inventory_item?.stock??0);if(q<=0)return;const me=Math.floor(ae/q);C=Math.min(C,me)}),C===1/0?0:C},Vn=a=>gn(a),Sn=j(""),xe=j("dine"),ot=j("Walk In"),tn=j(" "),je=j(" "),fi=j(10),Kn=j(null),Et=a=>Kn.value=a,Ue=j(!0),On=a=>{Et(a.id),Ue.value=!1},zn=()=>Ue.value=!0,In=j({}),At=j([]),Rt=j(null),Nn=async()=>{try{const a=await axios.get("/api/pos/fetch-profile-tables");if(In.value=a.data,In.value.order_types){At.value=In.value.order_types.map(c=>c.charAt(0).toUpperCase()+c.slice(1));const l=localStorage.getItem("quickOrderType");if(l){const c=At.value.find(b=>b.toLowerCase().replace(/_/g," ")===l.toLowerCase().replace(/_/g," "));c?xe.value=c:xe.value=At.value[0]}else xe.value=At.value[0]}}catch(a){console.error("Error fetching profile tables:",a)}},bn=Be(()=>J.value[Kn.value]??[]),_t=j({sortBy:"",priceMin:null,priceMax:null}),Qi=Be(()=>{let a=bn.value;const l=Sn.value.trim().toLowerCase();if(l&&(a=a.filter(c=>c.title.toLowerCase().includes(l)||(c.family||"").toLowerCase().includes(l)||(c.description||"").toLowerCase().includes(l)||(c.tags?.map(b=>b.name.toLowerCase()).join(", ")||"").includes(l))),_t.value.priceMin!==null&&_t.value.priceMin!==""&&(a=a.filter(c=>c.price>=_t.value.priceMin)),_t.value.priceMax!==null&&_t.value.priceMax!==""&&(a=a.filter(c=>c.price<=_t.value.priceMax)),_t.value.sortBy)switch(a=[...a],_t.value.sortBy){case"name_asc":a.sort((c,b)=>c.title.localeCompare(b.title));break;case"name_desc":a.sort((c,b)=>b.title.localeCompare(c.title));break;case"price_asc":a.sort((c,b)=>c.price-b.price);break;case"price_desc":a.sort((c,b)=>b.price-c.price);break;case"stock_asc":a.sort((c,b)=>(c.stock??0)-(b.stock??0));break;case"stock_desc":a.sort((c,b)=>(b.stock??0)-(c.stock??0));break}return a}),Zi=a=>{_t.value={...a}},Dn=j(""),Ji=()=>{const a=localStorage.getItem("pos_walkin_counter");a?Dn.value=parseInt(a):(Dn.value=1,localStorage.setItem("pos_walkin_counter","1"))},es=()=>{const l=`Walk In-${String(Dn.value).padStart(3,"0")}`;return Dn.value++,localStorage.setItem("pos_walkin_counter",Dn.value.toString()),l},ts=()=>{_t.value={sortBy:"",priceMin:null,priceMax:null}},Y=j([]),ns=async a=>{const l=Y.value[a];if(!l)return;const c=rs(l,l.qty+1);if(!c.canAdd){console.log("🚨 Missing ingredients detected (client-side)"),Br.value={itemIndex:a,item:l,newQty:l.qty+1},$n.value=c.missing,mr.value=!0,ue.warning("Some ingredients are missing. Confirm to proceed.");return}l.outOfStock=!1,l.qty++,l.price=l.unit_price*l.qty,l.resale_discount_per_item&&(l.total_resale_discount=l.resale_discount_per_item*l.qty)},rs=(a,l)=>{const c=a.ingredients||[];if(c.length===0)return{canAdd:!0,missing:[]};const b=[],C={};return Y.value.forEach(q=>{(q.ingredients||[]).filter(V=>!q.removed_ingredients||q.removed_ingredients.length===0?!0:!q.removed_ingredients.includes(V.id||V.inventory_item_id)).forEach(V=>{const we=V.inventory_item_id,Je=Number(V.inventory_stock??V.inventory_item?.stock??0);C[we]||(C[we]={totalStock:Je,used:0,name:V.product_name||V.name,unit:V.unit||"unit"});const Se=Number(V.quantity??V.qty??1)*q.qty;C[we].used+=Se})}),c.filter(q=>!a.removed_ingredients||a.removed_ingredients.length===0?!0:!a.removed_ingredients.includes(q.id||q.inventory_item_id)).forEach(q=>{const ae=q.inventory_item_id,me=Number(q.quantity??q.qty??1)*l,V=Number(q.inventory_stock??q.inventory_item?.stock??0);if(!C[ae])V<me&&b.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:ae,inventory_item_name:q.product_name||q.name,required_quantity:me,available_quantity:V,shortage_quantity:me-V,unit:q.unit||"unit",order_quantity:l});else{const we=C[ae].totalStock-C[ae].used,Je=Y.value.find(Se=>Se.id===a.id&&Se.variant_id===a.variant_id&&JSON.stringify(Se.addons?.map(et=>et.id).sort())===JSON.stringify(a.addons?.map(et=>et.id).sort()));if(Je){const Se=Number(q.quantity??q.qty??1)*Je.qty,et=we+Se;et<me&&b.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:ae,inventory_item_name:q.product_name||q.name,required_quantity:me,available_quantity:et,shortage_quantity:me-et,unit:q.unit||"unit",order_quantity:l})}else we<me&&b.push({item_id:a.id,item_title:a.title,variant_id:a.variant_id||null,variant_name:a.variant_name||null,inventory_item_id:ae,inventory_item_name:q.product_name||q.name,required_quantity:me,available_quantity:we,shortage_quantity:me-we,unit:q.unit||"unit",order_quantity:l})}}),{canAdd:b.length===0,missing:b}},ya=async a=>{const l=Y.value[a];if(!l||l.qty<=1){ue.error("Cannot reduce below 1.");return}l.qty--,l.price=l.unit_price*l.qty,l.resale_discount_per_item&&(l.total_resale_discount=l.resale_discount_per_item*l.qty),l.outOfStock=!1},wa=a=>{if(Y.value[a],Y.value.splice(a,1),Y.value.length===0){nt.value=[],Re.value=[],Mt.value=[],kn();return}Re.value.length>0&&(Re.value=Re.value.filter(c=>{if(!c.menu_items||c.menu_items.length===0)return!0;const b=c.menu_items.map(B=>B.id);return Y.value.some(B=>b.includes(B.id))}));const l=[];nt.value.forEach(c=>{c.min_purchase&&Pt.value<c.min_purchase?ue.info(`Discount "${c.name}" removed — subtotal is lower than minimum required (${n(c.min_purchase)}).`):l.push(c)}),nt.value=l},Pt=Be(()=>Y.value.reduce((a,l)=>a+l.price,0)),Yn=Be(()=>{if(xe.value!=="Delivery")return 0;const a=Vt.props.onboarding.tax_and_vat;return a.has_delivery_charges?a.delivery_charge_flat?parseFloat(a.delivery_charge_flat):a.delivery_charge_percentage?Pt.value*parseFloat(a.delivery_charge_percentage)/100:0:0}),hr=Be(()=>{if(Y.value.length===0)return 0;const a=Vt.props.onboarding.tax_and_vat;return a.has_service_charges?a.service_charge_flat?parseFloat(a.service_charge_flat):a.service_charge_percentage?Pt.value*parseFloat(a.service_charge_percentage)/100:0:0}),Ys=a=>`£${(Math.round(a*100)/100).toFixed(2)}`,_e=j(null),tt=j(0),pi=j(""),Ln=j(null),Ht=j({}),yn=j(""),is=async()=>{if(!_e.value)return;if(tt.value<=0){ue.error("Please select at least 1 item to add to cart");return}const a=ht(),l=a?a.id:null;a&&`${a.name}`;const c=a?a.name:null,b=parseFloat(a?a.price:_e.value.price),C=Xi(),B=$t(),q=b+B,ae=a?Ct(a,!0):Ct(_e.value,!1),me=Gn(_e.value,l),V=Ne();try{const we=C.map(Le=>Le.id).sort((Le,Kt)=>Le-Kt).join("-"),Je=me.length>0?Ea(me):999999,Se=Y.value.findIndex(Le=>{if(Le.variant_id!==l)return!1;const Kt=(Le.addons||[]).map(nn=>nn.id).sort((nn,_s)=>nn-_s).join("-");return Le.id===_e.value.id&&Kt===we});if(Se>=0){if(Y.value[Se].qty+=tt.value,Y.value[Se].price=Y.value[Se].unit_price*Y.value[Se].qty,Y.value[Se].total_resale_discount=ae*Y.value[Se].qty,yn.value&&yn.value.trim()){const Le=Y.value[Se].item_kitchen_note||"",Kt=yn.value.trim(),nn=[Le,Kt,V].filter(Boolean).filter((_s,vs,ms)=>ms.indexOf(_s)===vs);Y.value[Se].item_kitchen_note=nn.join("; ")}else if(V){const Le=Y.value[Se].item_kitchen_note||"";Y.value[Se].item_kitchen_note=[Le,V].filter(Boolean).join("; ")}L.value.length>0&&(Y.value[Se].removed_ingredients=[...L.value]),ue.success(`Quantity updated to ${Y.value[Se].qty}`)}else{const Le=[yn.value.trim(),V].filter(Boolean).join(". ");Y.value.push({id:_e.value.id,title:_e.value.title,img:_e.value.img,price:q*tt.value,unit_price:Number(q),qty:tt.value,note:pi.value||"",item_kitchen_note:Le,stock:Je,ingredients:me,variant_id:l,variant_name:c,addons:C,removed_ingredients:[...L.value],resale_discount_per_item:ae,total_resale_discount:ae*tt.value}),ue.success(`${_e.value.title} added to cart`)}bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),tt.value=0,pi.value="",yn.value="",Ln.value=null,Ht.value={},L.value=[]}catch(we){ue.error("Failed to add item: "+(we.response?.data?.message||we.message))}},Ea=a=>{if(!a||a.length===0)return 999999;let l=1/0;return a.forEach(c=>{const b=Number(c.quantity??c.qty??1),C=Number(c.inventory_stock??c.inventory_item?.stock??0);if(b<=0)return;const B=Math.floor(C/b);l=Math.min(l,B)}),l===1/0?0:l},ss=async()=>{if(!_e.value)return;const a=ht(),l=a?a.id:null,c=$(),b=rs({id:_e.value.id,title:_e.value.title,variant_id:l,variant_name:a?a.name:null,ingredients:c,removed_ingredients:L.value||[]},tt.value+1);if(!b.canAdd){console.log("🚨 Missing ingredients for modal increment (client-side)"),gr.value={currentQty:tt.value},$n.value=b.missing,mr.value=!0,ue.warning("Some ingredients are missing. Confirm to proceed.");return}tt.value++},Aa=()=>{tt.value>1&&tt.value--},ct=j({}),Gs=()=>{Y.value=[],ot.value=es(),je.value="",tn.value="",Rt.value=null,xe.value=At.value[0]||"eat_in",_r.value="",vr.value="",fi.value=0,Re.value=[],nt.value=[],Mt.value=[],Fr.value=[],kn()};ii(xe,()=>ct.value={});const _r=j(""),vr=j(""),os=j(!1),Mr=j(null),hi=j(!1),_i=j(0),xa=()=>{if(Y.value.length===0){ue.error("Please add at least one item to the cart.");return}if(xe.value==="Eat_in"&&!Rt.value){ct.value.table_number=["Table number is required for dine-in orders."],ue.error("Please select a table number for Dine In orders.");return}if((xe.value==="Delivery"||xe.value==="Takeaway")&&!ot.value){ct.value.customer=["Customer name is required."],ue.error("Customer name is required.");return}if(xe.value==="Delivery"&&!tn.value){ct.value.phoneNumber=["Phone number is required for delivery."],ue.error("Phone number is required for delivery.");return}if(xe.value==="Delivery"&&!je.value){ct.value.deliveryLocation=["Delivery location is required."],ue.error("Delivery location is required.");return}_i.value=parseFloat(jr.value).toFixed(2),hi.value=!0},js=async a=>{try{const l=await axios.post("http://localhost:8085/print",{order:a,type:"customer"},{headers:{"Content-Type":"application/json"},timeout:5e3});console.info("✅ Customer print OK"),console.info("Status:",l.status),console.info("Data  :",l.data)}catch(l){console.error("❌ Print request failed"),l.response?(console.error("Status:",l.response.status),console.error("Data  :",l.response.data)):l.request?(console.error("No response from server"),console.error("Request object:",l.request)):console.error("Error message:",l.message)}console.info("The Customer request send back: "+res.data)},Xs=async a=>{try{const l=await axios.post("http://localhost:8085/print",{order:a,type:"KOT"},{headers:{"Content-Type":"application/json"},timeout:5e3});console.info("✅ Customer print OK"),console.info("Status:",l.status),console.info("Data  :",l.data)}catch(l){console.error("❌ Print request failed"),l.response?(console.error("Status:",l.response.status),console.error("Data  :",l.response.data)):l.request?(console.error("No response from server"),console.error("Request object:",l.request)):console.error("Error message:",l.message)}console.info("The KOT request send back: "+res.data)},Ta=j("cash"),Ca=j(0),Mt=j([]),wn=j(null),Qs=j(!1),nt=j([]),Fr=j([]),Sa=async a=>{if(!a||a.length===0){ue.warning("No discounts selected.");return}const l=Fr.value.map(b=>b.id),c=a.filter(b=>!l.includes(b.id));if(c.length===0){ue.error("All selected discounts have been rejected for this order.");return}if(c.length<a.length){const b=a.length-c.length;ue.warning(`${b} discount(s) were previously rejected and cannot be requested again.`)}try{const b=await axios.post("/api/discount-approvals/request",{discounts:a.map(C=>({discount_id:C.id,discount_percentage:parseFloat(C.discount_amount),discount_name:C.name})),order_items:Y.value.map(C=>({id:C.id,title:C.title,qty:C.qty,unit_price:C.unit_price,price:C.price})),order_subtotal:Pt.value,request_note:`Discount approval request from ${Xn.value?.name||"Cashier"}`});b.data.success&&(Mt.value=b.data.data.map(C=>({...C,discountData:a.find(B=>B.id===C.discount_id),percentage:parseFloat(C.discount_percentage),status:"pending"})),Kr.value=!1,Qs.value=!0,ue.info("Discount approval request sent to Super Admin. Waiting for approval..."),Oa())}catch(b){console.error("Error requesting discount approval:",b),ue.error(b.response?.data?.message||"Failed to request discount approval")}},Oa=()=>{wn.value&&clearInterval(wn.value),wn.value=setInterval(async()=>{await as()},3e3)},as=async()=>{if(Mt.value.length===0){kn();return}try{const a=Mt.value.map(c=>c.id),l=await axios.post("/api/discount-approvals/check-status",{approval_ids:a});l.data.success&&(l.data.data.forEach(b=>{if(b.status!=="pending"){const C=Mt.value.findIndex(B=>B.id===b.id);if(C>=0){if(b.status==="approved"){const B={id:b.discount_id,name:b.discount_name||b.discount?.name,percentage:parseFloat(b.discount_percentage),approval_id:b.id};Zs(B),ue.success(`Discount "${B.name}" (${B.percentage}%) approved!`)}else b.status==="rejected"&&(Fr.value.push({id:b.discount_id,name:b.discount_name,percentage:parseFloat(b.discount_percentage),rejection_reason:b.approval_note}),ue.error(`Discount "${b.discount_name}" rejected.`+(b.approval_note?` Reason: ${b.approval_note}`:"")));Mt.value.splice(C,1)}}}),Mt.value.length===0&&(Qs.value=!1,kn()))}catch(a){console.error("Error checking approval status:",a)}},kn=()=>{wn.value&&(clearInterval(wn.value),wn.value=null)},Zs=a=>{nt.value.push(a)};$b(()=>{kn()}),ks(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",a=>{as()})});const vi=Be(()=>!nt.value||nt.value.length===0?0:nt.value.reduce((a,l)=>{const c=parseFloat(l.percentage||0),b=Pt.value*c/100;return a+b},0)),ls=a=>Pt.value*a/100,Ia=()=>{nt.value=[],Mt.value=[],Fr.value=[],kn()},mr=j(!1),$n=j([]),Br=j(null),Ur=j(null),gr=j(null),Na=j(null),Js=async({paymentMethod:a,cashReceived:l,cardAmount:c,changeAmount:b,items:C,autoPrintKot:B,done:q})=>{ct.value={};try{const ae={customer_name:ot.value,phone_number:tn.value,delivery_location:je.value,sub_total:Pt.value,tax:Rn.value,service_charges:hr.value,delivery_charges:Yn.value,sales_discount:Gr.value,approved_discounts:vi.value,approved_discount_details:nt.value.map(V=>({discount_id:V.id,discount_name:V.name,discount_percentage:V.percentage,discount_amount:ls(V.percentage),approval_id:V.approval_id})),promo_discount:wr.value,applied_promos:Re.value.map(V=>({promo_id:V.id,promo_name:V.name,promo_type:V.type,discount_amount:V.applied_discount||0,applied_to_items:V.applied_to_items||[]})),total_amount:jr.value,note:_r.value,kitchen_note:vr.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:xe.value==="Eat_in"?"Eat In":xe.value==="Delivery"?"Delivery":xe.value==="Takeaway"?"Takeaway":"Collection",table_number:Rt.value?.name||null,payment_method:a,auto_print_kot:B,cash_received:l,change:b,...a==="Split"&&{payment_type:"split",cash_amount:l,card_amount:c},items:(Y.value??[]).map(V=>{const we=I.value.find(et=>et.id===V.id);let Je=we;if(V.variant_id&&we?.variants){const et=we.variants.find(Le=>Le.id===V.variant_id);et&&(Je=et)}const Se=Je?Ct(Je,!!V.variant_id):0;return{product_id:V.id,title:V.title,quantity:V.qty,price:V.price,note:V.note??"",kitchen_note:vr.value??"",unit_price:V.unit_price,item_kitchen_note:V.item_kitchen_note??"",tax_percentage:Ba(V),tax_amount:Fa(V),variant_id:V.variant_id||null,variant_name:V.variant_name||null,addons:V.addons||[],sale_discount_per_item:Se,removed_ingredients:V.removed_ingredients||[]}}),confirm_missing_ingredients:!0};console.log("📤 Sending order");const me=await axios.post("/pos/order",ae);if(console.log("✅ Order created successfully:",me.data),me.data.logout===!0){ue.success(me.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=me.data.redirect||"/login"},1e3),q&&q();return}Gs(),hi.value=!1,ue.success(me.data.message||"Order placed successfully!"),Mr.value={...me.data.order,...ae,items:ae.items,payment_type:a==="Split"?"split":a.toLowerCase(),cash_amount:a==="Split"?l:null,card_amount:a==="Split"?c:null},B&&(br.value=await yr(),Xs(JSON.parse(JSON.stringify(Mr.value)))),js(JSON.parse(JSON.stringify(Mr.value))),Re.value=[],nt.value=[],Mt.value=[],kn()}catch(ae){console.error("❌ Order submission error:",ae),ue.error(ae.response?.data?.message||"Failed to place order")}finally{q&&q()}},mi=async()=>{if(console.log("✅ User confirmed missing ingredients"),mr.value=!1,Br.value){const{item:a,newQty:l}=Br.value;a.outOfStock=!1,a.qty=l,a.price=a.unit_price*a.qty,a.resale_discount_per_item&&(a.total_resale_discount=a.resale_discount_per_item*a.qty),ue.success("Quantity updated"),Br.value=null,$n.value=[];return}if(Ur.value){const{product:a,variantId:l,variantName:c,variantPrice:b,selectedAddons:C,addonsPrice:B,resaleDiscountPerItem:q,existingIndex:ae,newQty:me}=Ur.value,V=b+B;if(ae>=0)Y.value[ae].qty=me,Y.value[ae].price=Y.value[ae].unit_price*me,Y.value[ae].total_resale_discount=q*me,Y.value[ae].outOfStock=!1,ue.success("Quantity updated");else{const we=Gn(a,l),Je=Vn(a);Y.value.push({id:a.id,title:a.title,img:a.img,price:V,unit_price:Number(V),qty:1,note:"",stock:Je,ingredients:we,variant_id:l,variant_name:c,addons:C,outOfStock:!1,resale_discount_per_item:q,total_resale_discount:q}),ue.success("Item added to cart")}Ur.value=null,$n.value=[];return}if(gr.value){tt.value=gr.value.currentQty+1,ue.success("Quantity increased"),gr.value=null,$n.value=[];return}};ks(async()=>{Ji();const a=String(Dn.value).padStart(3,"0");if(ot.value=`Walk In-${a}`,window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(c=>new window.bootstrap.Tooltip(c));const l=document.getElementById("chooseItem");l&&new window.bootstrap.Modal(l,{backdrop:"static"})}_.value="",w.value=Date.now(),await Bl(),setTimeout(()=>{x.value=!0;const l=document.getElementById(g);l&&(l.value="",_.value="")},100),F(),U(),Nn()});const Vt=kb();function eo(){const a=Vt.props.flash?.success,l=Vt.props.flash?.error;a&&ue.success(a,{autoClose:4e3}),l&&ue.error(l,{autoClose:6e3})}ks(()=>eo()),ks(()=>{Vt.props.flash?.success;const a=Vt.props.flash?.error;a&&ue.error(a);const l=Vt.props.flash?.print_payload;l&&setTimeout(()=>js(l),250),l&&setTimeout(()=>Xs(l),250)}),ii(()=>Vt.props.flash,()=>eo(),{deep:!0});const to=({id:a,status:l,message:c})=>{br.value=br.value.map(b=>b.id===a?{...b,status:l}:b)},us=j(!1),br=j([]),Da=j(!1),Wr=j(!1),qr=j([]),Hr=j(!1),yr=async()=>{Wr.value=!0,qr.value=[],Hr.value=!0;try{const a=await axios.get("/api/pos/orders/today");qr.value=a.data.orders}catch(a){console.error("Failed to fetch POS orders:",a),ue.error(a.response?.data?.message||"Failed to fetch POS orders")}finally{Hr.value=!1}},Vr=j(!1),Kr=j(!1),cs=j(!0),gi=j(!0),zr=j([]),Yr=j([]),Re=j([]),La=a=>{if(Re.value=a,!a||a.length===0){ue.warning("No promos selected.");return}const l=a.reduce((b,C)=>b+parseFloat(C.applied_discount||0),0);if(l<=0){ue.warning("Selected promos don't provide any discount for current cart items."),Re.value=[];return}const c=new Set(a.flatMap(b=>b.applied_to_items||[])).size;ue.success(`${a.length} promo(s) applied! Applied to ${c} item(s). You saved ${n(l)}`),Vr.value=!1},ka=async()=>{cs.value=!0,Vr.value=!0;try{const a=await axios.get("/api/promos/current");a.data?.success?zr.value=a.data.data||[]:(console.warn("Failed to fetch promos:",a.data),zr.value=[],ue.warning("No promos available at the moment"))}catch(a){console.error("Error fetching current meal promos:",a),zr.value=[],ue.error("Failed to load promotions")}finally{cs.value=!1}},$a=async()=>{gi.value=!0,Kr.value=!0;try{const a=await axios.get("/api/discounts/all");a.data?.success?Yr.value=a.data.data||[]:(console.warn("Failed to fetch discounts:",a.data),Yr.value=[],ue.warning("No discounts available at the moment"))}catch(a){console.error("Error fetching current meal discounts:",a),Yr.value=[],ue.error("Failed to load discounts")}finally{gi.value=!1}},no=a=>!Re.value||Re.value.length===0?!1:Re.value.some(l=>!l.menu_items||l.menu_items.length===0?!0:l.menu_items.map(b=>b.id).includes(a.id)),Ra=a=>{Mr.value=a,os.value=!0,Wr.value=!1},wr=Be(()=>!Re.value||Re.value.length===0?0:Re.value.reduce((a,l)=>{const c=parseFloat(l.discount_amount??0)||0;if(l.applied_discount!==void 0)return a+parseFloat(l.applied_discount);const b=Pa(l);if(l.min_purchase&&b<parseFloat(l.min_purchase))return a;if(l.type==="flat")return a+c;if(l.type==="percent"){const C=b*c/100,B=parseFloat(l.max_discount??0)||0;return B>0&&C>B?a+B:a+C}return a},0)),Pa=a=>{if(!a.menu_items||a.menu_items.length===0)return Y.value.reduce((c,b)=>c+b.unit_price*b.qty,0);const l=a.menu_items.map(c=>c.id);return Y.value.filter(c=>l.includes(c.id)).reduce((c,b)=>c+b.unit_price*b.qty,0)},Ma=Be(()=>!Re.value||Re.value.length===0?[]:Re.value.map(a=>({promo_id:a.id,promo_name:a.name,promo_type:a.type,discount_amount:a.applied_discount||0,applied_to_items:a.applied_to_items||[]}))),Rn=Be(()=>{let a=0;const l=parseFloat(Vt.props.onboarding.tax_and_vat.tax_rate)||0;return Y.value.forEach(c=>{const b=I.value.find(C=>C.id===c.id);if(b&&b.is_taxable){const B=c.unit_price*c.qty*l/100;a+=B}}),a}),Gr=Be(()=>Y.value.reduce((a,l)=>a+(l.total_resale_discount||0),0)),jr=Be(()=>{const a=Pt.value+Rn.value+Yn.value+hr.value-Gr.value-wr.value-vi.value;return Math.max(0,a)}),Fa=a=>{const l=I.value.find(c=>c.id===a.id);return l&&l.is_taxable&&l.tax_percentage?a.unit_price*a.qty*parseFloat(l.tax_percentage)/100:0},Ba=a=>{const l=I.value.find(c=>c.id===a.id);return l&&l.is_taxable&&l.tax_percentage?parseFloat(l.tax_percentage):0},ro=a=>{const l=ee(a),c=l?l.id:null,C=ne(a).map(q=>q.id).sort().join("-"),B=Y.value.find(q=>{const ae=(q.addons||[]).map(me=>me.id).sort().join("-");return q.id===a.id&&q.variant_id===c&&ae===C});return B?B.qty:0},Pe=async a=>{const l=ee(a),c=l?l.id:null,b=ne(a),C=b.map(Le=>Le.id).sort().join("-"),B=Y.value.findIndex(Le=>{const Kt=(Le.addons||[]).map(nn=>nn.id).sort().join("-");return Le.id===a.id&&Le.variant_id===c&&Kt===C});let q=1,ae=null;const me=Gn(a,c);B>=0&&(ae=Y.value[B],q=ae.qty+1);const V=rs({id:a.id,title:a.title,variant_id:c,variant_name:l?l.name:null,ingredients:me,removed_ingredients:ae?.removed_ingredients||[],addons:b},q);if(!V.canAdd){console.log("🚨 Missing ingredients for card increment (client-side)");const Le=parseFloat(l?l.price:a.price),Kt=H(a),nn=l?Ct(l,!0):Ct(a,!1);Ur.value={product:a,variant:l,variantId:c,variantName:l?l.name:null,variantPrice:Le,selectedAddons:b,addonsPrice:Kt,resaleDiscountPerItem:nn,existingIndex:B,newQty:q},$n.value=V.missing,mr.value=!0,ue.warning("Some ingredients are missing. Confirm to proceed.");return}const we=parseFloat(l?l.price:a.price),Je=H(a),Se=we+Je,et=l?Ct(l,!0):Ct(a,!1);if(B>=0)Y.value[B].qty++,Y.value[B].price=Y.value[B].unit_price*Y.value[B].qty,Y.value[B].total_resale_discount=et*Y.value[B].qty,Y.value[B].outOfStock=!1;else{const Le=Vn(a);Y.value.push({id:a.id,title:a.title,img:a.img,price:Se,unit_price:Number(Se),qty:1,note:"",stock:Le,ingredients:me,variant_id:c,variant_name:l?l.name:null,addons:b,outOfStock:!1,resale_discount_per_item:et,total_resale_discount:et})}},$e=a=>{const l=ee(a),c=l?l.id:null,C=ne(a).map(ae=>ae.id).sort().join("-"),B=Y.value.findIndex(ae=>{const me=(ae.addons||[]).map(V=>V.id).sort().join("-");return ae.id===a.id&&ae.variant_id===c&&me===C});if(B<0)return;const q=Y.value[B];q.qty<=1?Y.value.splice(B,1):(q.qty--,q.price=q.unit_price*q.qty,q.outOfStock=!1)},Gn=(a,l)=>!l||!a.variants?.length?a.ingredients??[]:a.variants.find(b=>b.id===l)?.ingredients??a.ingredients??[],Xe=j(null),Pn=j(null);let Er=null;const Ua=(a,l)=>{Xe.value=JSON.parse(JSON.stringify(a)),Pn.value=l;const c=I.value.find(b=>b.id===a.id);if(c&&c.addon_groups&&c.addon_groups.length>0){const b=new Map;a.addons&&a.addons.forEach(B=>{b.set(B.id,{quantity:B.quantity||1,selected:!0})});const C=[];c.addon_groups.forEach(B=>{B.addons&&B.addons.length>0&&B.addons.forEach(q=>{const ae=b.get(q.id);C.push({id:q.id,name:q.name,price:parseFloat(q.price||0),group_id:B.group_id,group_name:B.group_name,quantity:ae?.quantity||1,selected:ae?.selected||!1})})}),Xe.value.addons=C}else Xe.value.addons=[];if(!Er){const b=document.getElementById("addonManagementModal");b&&(Er=new bootstrap.Modal(b))}Er&&Er.show()},Wa=a=>{a.selected=!a.selected,a.selected||(a.quantity=1)},io=a=>{a.selected&&(a.quantity=(a.quantity||1)+1)},qa=a=>{a.selected&&(a.quantity||1)>1&&(a.quantity-=1)},Qe=a=>a.addons?a.addons.reduce((l,c)=>c.selected!==!1?l+parseFloat(c.price)*(c.quantity||1):l,0):0,ds=()=>{if(Pn.value===null)return;const a=Xe.value.addons.filter(B=>B.selected!==!1),l=Xe.value.variant_id?I.value.find(B=>B.id===Xe.value.id)?.variants?.find(B=>B.id===Xe.value.variant_id):null,c=parseFloat(l?l.price:Xe.value.unit_price),b=a.reduce((B,q)=>B+parseFloat(q.price)*(q.quantity||1),0),C=c+b;Y.value[Pn.value].addons=a,Y.value[Pn.value].unit_price=C,Y.value[Pn.value].price=C*Y.value[Pn.value].qty,ue.success("Addons updated successfully!"),Er&&Er.hide(),Xe.value=null,Pn.value=null},jn=a=>!a.addons||a.addons.length===0?"":a.addons.map(l=>l.name).join(", "),bi=()=>{let a=0;return Ht.value&&typeof Ht.value=="object"&&Object.values(Ht.value).forEach(l=>{Array.isArray(l)&&(a+=l.length)}),a},Xn=Be(()=>Vt.props.current_user),xt=Be(()=>i.value.filter(a=>a.menu_items_count&&a.menu_items_count>0)),fs=Be(()=>Xn.value?.roles?.includes("Cashier")||Xn.value?.roles?.includes("Admin")||Xn.value?.roles?.includes("Manager")),ps=j(`terminal-${Xn.value?.id}`),{broadcastCartUpdate:so,broadcastUIUpdate:oo}=YE(ps.value),ao=Us.debounce(a=>{console.log("📤 Broadcasting cart:",a.items.length,"items"),so(a)},300),lo=Us.debounce(a=>{console.log("📤 Broadcasting UI"),oo(a)},100);ii(()=>({items:Y.value.map(a=>({id:a.id,title:a.name||a.title,img:a.image_url||a.img||"/assets/img/default.png",price:parseFloat(a.total||a.price||0),qty:parseInt(a.qty||1),variant_name:a.variant?.name||null,addons:(a.addons||[]).map(l=>({id:l.id,name:l.name,price:parseFloat(l.price||0)})),resale_discount_per_item:parseFloat(a.resale_discount_per_item||0)})),customer:ot.value||"Walk In",phone_number:tn.value||"",delivery_location:je.value||"",orderType:xe.value||"Dine In",table:Rt.value?{id:Rt.value.id,name:Rt.value.name}:null,subtotal:parseFloat(Pt.value||0),tax:parseFloat(Rn.value||0),serviceCharges:parseFloat(hr.value||0),deliveryCharges:parseFloat(Yn.value||0),saleDiscount:parseFloat(Gr.value||0),promoDiscount:parseFloat(wr.value||0),total:parseFloat(jr.value||0),note:_r.value||"",appliedPromos:(Re.value||[]).map(a=>({id:a.id,name:a.name,discount:parseFloat(a.discount||0),applied_to_items:a.applied_to_items||[]}))}),a=>{console.log("🔔 Cart changed:",a.items.length,"items, Total:",a.total),ao(a)},{deep:!0,immediate:!0}),ii(()=>({showCategories:Ue.value??!0,activeCat:Kn.value||null,menuCategories:(i.value||[]).map(a=>({id:a.id,name:a.name,menu_items_count:a.menu_items_count||0})),menuItems:(I.value||[]).map(a=>({id:a.id,name:a.name,price:parseFloat(a.price||0),image_url:a.image_url||null,description:a.description||"",label_color:a.label_color||"#1B1670",category:a.category?{id:a.category.id,name:a.category.name}:null,variants:(a.variants||[]).map(l=>({id:l.id,name:l.name,price:parseFloat(l.price||0),is_saleable:l.is_saleable??!1,resale_type:l.resale_type||null,resale_value:parseFloat(l.resale_value||0)})),addon_groups:(a.addon_groups||[]).map(l=>({id:l.id,name:l.name,addons:(l.addons||[]).map(c=>({id:c.id,name:c.name,price:parseFloat(c.price||0)}))})),is_saleable:a.is_saleable??!1,resale_type:a.resale_type||null,resale_value:parseFloat(a.resale_value||0)})),searchQuery:Sn.value||"",selectedCardVariant:z.value||{},selectedCardAddons:Q.value||{}}),a=>{console.log("🔔 UI changed - Categories:",a.menuCategories.length,"Items:",a.menuItems.length),lo(a)},{deep:!0,immediate:!0});const Tt=()=>{if(!fs.value){ue.error("Only cashiers can access customer display");return}const a=route("customer-display.index",{terminal:ps.value});window.open(a,"_blank","width=1920,height=1080")},Ct=(a,l=!1)=>{if(!a)return 0;const c=a.is_saleable??a?.menu_item?.is_saleable,b=a.resale_type??a?.menu_item?.resale_type,C=a.resale_value??a?.menu_item?.resale_value,B=parseFloat(a.price||0);return!c||!b||!C?0:b==="flat"?parseFloat(C):b==="percentage"?B*parseFloat(C)/100:0},Ze=(a,l=!1)=>{const c=parseFloat(a.price||0),b=Ct(a,l);return Math.max(0,c-b)},Qn=(a,l=!1)=>{if(!a)return null;const c=a.is_saleable??a?.menu_item?.is_saleable,b=a.resale_type??a?.menu_item?.resale_type,C=a.resale_value??a?.menu_item?.resale_value,B=Ct(a,l);return!c||!b||!C||B<=0?null:{type:b,value:C,amount:B,display:b==="flat"?`Sale ${n(B)}`:`${C}% OFF`}},uo=a=>{const l=ee(a);let c;l?c=Ze(l,!0):c=Ze(a,!1);const b=H(a);return c+b},St=a=>{if(!a.variants||a.variants.length===0){const C=Ct(a,!1)>0;return{min:Ze(a,!1),max:Ze(a,!1),minOriginal:C?parseFloat(a.price||0):null,maxOriginal:C?parseFloat(a.price||0):null}}const l=a.variants.map(C=>Ze(C,!0)),c=a.variants.map(C=>parseFloat(C.price||0)),b=a.variants.some(C=>Ct(C,!0)>0);return{min:Math.min(...l),max:Math.max(...l),minOriginal:b?Math.min(...c):null,maxOriginal:b?Math.max(...c):null}},yi=()=>{if(!_e.value)return 0;const a=ht();return a?Ze(a,!0):Ze(_e.value,!1)},hs=()=>yi()+$t();return(a,l)=>(M(),P(Ye,null,[cn(Ce(Rb),{title:"Sale"}),cn(Pb,null,{default:Ul(()=>[p("div",fA,[p("div",pA,[p("div",hA,[p("div",{class:ar(Ue.value?"col-md-12":"col-lg-8")},[Ue.value?(M(),P("div",_A,[p("div",vA,[l[24]||(l[24]=p("h4",{class:"mb-0"},"Menu Categories",-1)),fs.value?(M(),P("button",{key:0,onClick:Tt,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...l[22]||(l[22]=[p("i",{class:"bi bi-tv"},null,-1),p("span",null,"Customer View",-1)])])):de("",!0),p("div",mA,[l[23]||(l[23]=p("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),x.value?gt((M(),P("input",{id:g,"onUpdate:modelValue":l[0]||(l[0]=c=>_.value=c),key:w.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:g,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[lr,_.value]]):(M(),P("input",gA))])]),l[27]||(l[27]=p("hr",null,null,-1)),d.value?(M(),P("div",bA,[...l[25]||(l[25]=[p("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),p("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(M(),P(Ye,{key:1},[(M(!0),P(Ye,null,bt(A.value,c=>(M(),P("div",{key:c.id,class:"col-6 col-md-4 col-lg-4 category-cards"},[p("div",{class:"cat-card",onClick:b=>On(c)},[p("div",wA,[p("span",EA,[c.image_url?(M(),P("img",{key:0,src:c.image_url,alt:"Category Image",class:"cat-image"},null,8,AA)):(M(),P("span",xA,"🍵"))])]),p("div",TA,W(c.name),1),p("div",CA,W(c.menu_items_count)+" Menu ",1)],8,yA)]))),128)),!d.value&&A.value.length===0?(M(),P("div",SA,[...l[26]||(l[26]=[p("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):de("",!0)],64))])):(M(),P("div",OA,[p("div",IA,[p("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:zn},[...l[28]||(l[28]=[p("i",{class:"bi bi-arrow-left me-1"},null,-1),Ge(" Back ",-1)])]),p("h5",NA,W(i.value.find(c=>c.id===Kn.value)?.name||"Items"),1),p("div",DA,[cn(Hb,{modelValue:_t.value,"onUpdate:modelValue":l[1]||(l[1]=c=>_t.value=c),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:Zi,onClear:ts},null,8,["modelValue"]),p("div",LA,[l[29]||(l[29]=p("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),gt(p("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>Sn.value=c),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[lr,Sn.value]])])])]),p("div",kA,[(M(!0),P(Ye,null,bt(Qi.value,c=>(M(),P("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:c.id},[p("div",{class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:jo({borderColor:c.label_color||"#1B1670"})},[p("div",$A,[p("img",{src:c.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,RA),c.variants&&c.variants.length>0?(M(),P("div",PA,[St(c).minOriginal!==null?(M(),P("span",MA,W(Ce(n)(St(c).minOriginal)),1)):de("",!0),p("span",FA,W(Ce(n)(St(c).min))+" - ",1),St(c).maxOriginal!==null?(M(),P("span",BA,W(Ce(n)(St(c).maxOriginal)),1)):de("",!0),p("span",UA,W(Ce(n)(St(c).max)),1)])):de("",!0),p("span",{class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:jo({background:c.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[Qn(ee(c)||c,!!c.variants?.length)?(M(),P(Ye,{key:0},[p("span",WA,W(Ce(n)(ee(c)?.price||c.price)),1),p("span",qA,W(Ce(n)(uo(c))),1)],64)):(M(),P(Ye,{key:1},[Ge(W(Ce(n)(ee(c)?.price||c.price)),1)],64))],4),gn(c)<=0?(M(),P("span",HA," OUT OF STOCK ")):de("",!0)]),p("div",VA,[c.variants&&c.variants.length>0&&Qn(ee(c),!0)||(!c.variants||c.variants.length===0)&&Qn(c,!1)?(M(),P("span",KA,W(c.variants&&c.variants.length>0?Qn(ee(c),!0).display:Qn(c,!1).display),1)):de("",!0),p("div",null,[p("div",{class:"h5 fw-bold mb-2 menu-name",style:jo({color:c.label_color||"#1B1670"})},W(c.title),5),c.variants&&c.variants.length>0?(M(),P("div",zA,[l[30]||(l[30]=p("label",{class:"form-label small fw-semibold mb-1"}," Variants: ",-1)),gt(p("select",{"onUpdate:modelValue":b=>z.value[c.id]=b,class:"form-select form-select-sm variant-select",onChange:b=>te(c,b),onClick:l[3]||(l[3]=Xo(()=>{},["stop"]))},[(M(!0),P(Ye,null,bt(c.variants,b=>(M(),P("option",{key:b.id,value:b.id},[Ge(W(b.name)+" - "+W(Ce(n)(b.price))+" ",1),b.is_saleable&&Ct(b,!0)>0?(M(),P(Ye,{key:0},[Ge(" (Sale: "+W(Ce(n)(Ct(b,!0)))+") ",1)],64)):de("",!0)],8,GA))),128))],40,YA),[[wd,z.value[c.id]]])])):de("",!0),c.addon_groups&&c.addon_groups.length>0?(M(),P("div",jA,[(M(!0),P(Ye,null,bt(c.addon_groups,b=>(M(),P("div",{key:b.group_id,class:"mb-3"},[p("label",XA,[Ge(W(b.group_name)+" ",1),b.max_select>0?(M(),P("span",QA," (Max "+W(b.max_select)+") ",1)):de("",!0)]),cn(Ce(Ed),{modelValue:Q.value[c.id]?.[b.group_id]||[],"onUpdate:modelValue":C=>O(c,b.group_id,C),options:b.addons,optionLabel:"name",dataKey:"id",placeholder:"Select addons",maxSelectedLabels:3,class:"w-100 addon-multiselect"},{value:Ul(C=>[C.value&&C.value.length>0?(M(),P("div",ZA,[(M(!0),P(Ye,null,bt(C.value,B=>(M(),P("span",{key:B.id,class:"badge bg-primary"},W(B.name)+" +"+W(Ce(n)(B.price)),1))),128))])):(M(),P("span",JA,W(C.placeholder),1))]),option:Ul(C=>[p("div",ex,[p("span",null,W(C.option.name),1),p("span",tx," +"+W(Ce(n)(C.option.price)),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options"])]))),128))])):de("",!0),p("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:b=>pr(c)}," View Details ",8,nx)]),p("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:l[4]||(l[4]=Xo(()=>{},["stop"]))},[p("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xo(b=>$e(c),["stop"]),disabled:ro(c)<=0},[...l[31]||(l[31]=[p("strong",null,"−",-1)])],8,rx),p("div",ix,W(ro(c)),1),p("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:Xo(b=>Pe(c),["stop"])},[...l[32]||(l[32]=[p("strong",null,"+",-1)])],8,sx)])])],4)]))),128))])]))],2),Ue.value?de("",!0):(M(),P("div",ox,[p("div",{class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},[p("button",{class:"btn btn-warning px-3 py-2 promos-btn",onClick:ka}," Promos "),p("button",{class:"btn btn-warning px-3 py-2 discount-btn",onClick:$a}," Discounts ")]),p("div",ax,[p("div",lx,[p("div",ux,[(M(!0),P(Ye,null,bt(At.value,(c,b)=>(M(),P("button",{key:b,class:ar(["ot-pill btn cart-header-buttons",{active:xe.value===c}]),onClick:C=>xe.value=c},W(c.replace(/_/g," ")),11,cx))),128)),l[33]||(l[33]=p("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),p("div",dx,[p("div",fx,[xe.value==="Eat_in"?(M(),P("div",px,[p("div",hx,[l[35]||(l[35]=p("label",{class:"form-label small"},"Table",-1)),gt(p("select",{"onUpdate:modelValue":l[5]||(l[5]=c=>Rt.value=c),class:"form-select form-select-sm"},[l[34]||(l[34]=p("option",{value:null},"Select Table",-1)),(M(!0),P(Ye,null,bt(In.value.table_details,(c,b)=>(M(),P("option",{key:b,value:c},W(c.name),9,_x))),128))],512),[[wd,Rt.value]]),ct.value.table_number?(M(),P("div",vx,W(ct.value.table_number[0]),1)):de("",!0)]),p("div",mx,[l[36]||(l[36]=p("label",{class:"form-label small"},"Customer",-1)),gt(p("input",{"onUpdate:modelValue":l[6]||(l[6]=c=>ot.value=c),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[lr,ot.value]])])])):(M(),P("div",gx,[l[37]||(l[37]=p("label",{class:"form-label small"},"Customer",-1)),gt(p("input",{"onUpdate:modelValue":l[7]||(l[7]=c=>ot.value=c),class:ar(["form-control form-control-sm",{"is-invalid":ct.value.customer}]),placeholder:"Walk In"},null,2),[[lr,ot.value]]),ct.value.customer?(M(),P("div",bx,W(ct.value.customer[0]),1)):de("",!0)])),xe.value==="Delivery"?(M(),P("div",yx,[l[38]||(l[38]=p("label",{class:"form-label small"},"Delivery Location",-1)),gt(p("input",{"onUpdate:modelValue":l[8]||(l[8]=c=>je.value=c),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[lr,je.value]]),ct.value.delivery_location?(M(),P("div",wx,W(ct.value.delivery_location[0]),1)):de("",!0),l[39]||(l[39]=p("label",{class:"form-label small mt-2"},"Phone Number",-1)),gt(p("input",{"onUpdate:modelValue":l[9]||(l[9]=c=>tn.value=c),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[lr,tn.value]]),ct.value.phone_number?(M(),P("div",Ex,W(ct.value.phone_number[0]),1)):de("",!0)])):de("",!0)]),p("div",Ax,[Y.value.length===0?(M(),P("div",xx," Add items from the left ")):de("",!0),(M(!0),P(Ye,null,bt(Y.value,(c,b)=>(M(),P("div",{key:c.title,class:"line"},[p("div",Tx,[p("img",{src:c.img,alt:""},null,8,Cx),p("div",Sx,[p("div",{class:"name",title:c.title},W(c.title),9,Ox),c.resale_discount_per_item>0?(M(),P("div",Ix,[p("span",Nx,[l[40]||(l[40]=p("i",{class:"bi bi-tag-fill"},null,-1)),Ge(" Save "+W(Ce(n)(c.resale_discount_per_item)),1)])])):de("",!0),c.addons&&c.addons.length>0?(M(),P("div",Dx,[p("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:C=>Ua(c,b),title:jn(c)},[l[41]||(l[41]=p("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),p("span",kx,W(c.addons.length)+" addon(s)",1)],8,Lx)])):de("",!0),no(c)?(M(),P("span",$x,[...l[42]||(l[42]=[p("i",{class:"bi bi-tag-fill"},null,-1)])])):de("",!0),c.variant_name?(M(),P("div",Rx,[p("span",Px,W(c.variant_name),1)])):de("",!0),c.note?(M(),P("div",Mx,W(c.note),1)):de("",!0)])]),p("div",Fx,[p("div",Bx,[p("button",{class:"qty-btn",onClick:C=>ya(b)},"−",8,Ux),p("div",Wx,W(c.qty),1),p("button",{class:"qty-btn",onClick:C=>ns(b)},"+",8,qx)]),p("div",Hx,[p("div",Vx,W(Ce(n)(c.price)),1),p("button",{class:"del",onClick:C=>wa(b)},[...l[43]||(l[43]=[p("i",{class:"bi bi-trash"},null,-1)])],8,Kx)])])]))),128))]),p("div",zx,[p("div",Yx,[l[44]||(l[44]=p("span",null,"Sub Total",-1)),p("b",Gx,W(Ce(n)(Pt.value)),1)]),Rn.value>0?(M(),P("div",jx,[l[45]||(l[45]=p("span",{class:"d-flex align-items-center gap-2"},[p("i",{class:"bi bi-receipt text-info"}),Ge(" Tax ")],-1)),p("b",Xx,W(Ce(n)(Rn.value)),1)])):de("",!0),hr.value>0?(M(),P("div",Qx,[l[46]||(l[46]=p("span",{class:"text-muted"},"Service Charges:",-1)),p("span",Zx,W(Ce(n)(hr.value)),1)])):de("",!0),Yn.value>0?(M(),P("div",Jx,[l[47]||(l[47]=p("span",{class:"text-muted"},"Delivery Charges:",-1)),p("span",eT,W(Ce(n)(Yn.value)),1)])):de("",!0),Gr.value>0?(M(),P("div",tT,[l[48]||(l[48]=p("span",{class:"d-flex align-items-center gap-2"},[p("span",{class:"text-danger"},"Sale Discount:")],-1)),p("b",nT,"-"+W(Ce(n)(Gr.value)),1)])):de("",!0),Re.value&&Re.value.length>0?(M(),P("div",rT,[p("div",iT,[p("div",sT,[l[49]||(l[49]=p("span",{class:"text-success"},"Promo Discount:",-1)),p("b",oT,"-"+W(Ce(n)(wr.value)),1)])])])):de("",!0),Mt.value.length>0?(M(),P("div",aT,[l[51]||(l[51]=p("div",{class:"alert alert-warning py-2 px-3 mb-2"},[p("div",{class:"d-flex align-items-center gap-2"},[p("i",{class:"bi bi-clock-history"}),p("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(M(!0),P(Ye,null,bt(Mt.value,c=>(M(),P("div",{key:c.id,class:"trow"},[p("span",lT,[l[50]||(l[50]=p("i",{class:"bi bi-hourglass-split"},null,-1)),p("span",null,W(c.discountData?.name||"Discount")+" ("+W(c.percentage)+"%)",1)]),p("span",uT," -"+W(Ce(n)(ls(c.percentage))),1)]))),128)),l[52]||(l[52]=p("small",{class:"text-muted d-block mt-1 ms-4"},[p("i",{class:"bi bi-info-circle me-1"}),Ge(" Will apply after Super Admin approval ")],-1))])):de("",!0),nt.value.length>0?(M(),P("div",cT,[p("div",dT,[l[53]||(l[53]=p("div",{class:"d-flex align-items-center text-success gap-2"},[p("i",{class:"bi bi-check-circle"}),p("small",{class:"fw-semibold"},"Approved Discounts"),p("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),p("b",fT,"-"+W(Ce(n)(vi.value)),1)])])):de("",!0),p("div",pT,[l[54]||(l[54]=p("span",null,"Total",-1)),p("b",null,W(Ce(n)(jr.value)),1)])]),p("div",hT,[l[55]||(l[55]=p("label",{for:"frontNote",class:"form-label small fw-semibold"},"Front Note",-1)),gt(p("textarea",{id:"frontNote","onUpdate:modelValue":l[10]||(l[10]=c=>_r.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[lr,_r.value]])]),p("div",_T,[l[56]||(l[56]=p("label",{for:"kitchenNote",class:"form-label small fw-semibold"},"Kitchen Note",-1)),gt(p("textarea",{id:"kitchenNote","onUpdate:modelValue":l[11]||(l[11]=c=>vr.value=c),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[lr,vr.value]])])]),p("div",vT,[p("button",{class:"btn btn-secondary btn-clear",onClick:l[12]||(l[12]=c=>Gs())}," Clear "),p("button",{class:"btn btn-primary btn-place",onClick:xa}," Place Order ")])])]))])]),p("div",mT,[p("div",gT,[p("div",bT,[p("div",yT,[p("div",null,[p("h5",wT,W(_e.value?.title||"Choose Item"),1),l[57]||(l[57]=p("p",{class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},"Customize your order",-1))]),l[58]||(l[58]=p("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),p("div",ET,[p("div",AT,[l[59]||(l[59]=p("div",{class:"stepper-progress-bg"},null,-1)),p("div",{class:"stepper-progress-fill",style:jo({width:lt.value})},null,4),(M(!0),P(Ye,null,bt(ft.value,(c,b)=>(M(),P("div",{key:c.id,class:"stepper-step text-center"},[p("div",{class:ar(["stepper-circle stepper-circle-sm",Ve(b+1)])},[b+1<fe.value?(M(),P("i",xT)):(M(),P("span",TT,W(b+1),1))],2),p("small",{class:ar(["stepper-label",{"stepper-label-active":b+1===fe.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block"}},W(c.name),3)]))),128))])]),p("div",CT,[p("div",ST,[p("div",OT,[p("div",IT,[p("img",{src:_e.value?.image_url||_e.value?.img||"/assets/img/product/product29.jpg",class:"img-fluid rounded-3 w-100 object-fit-cover",style:{height:"200px","object-fit":"cover"},alt:"Product"},null,8,NT),ht()&&Qn(ht(),!0)?(M(),P("span",DT,[l[60]||(l[60]=p("i",{class:"bi bi-tag-fill me-1"},null,-1)),Ge(" "+W(Qn(ht(),!0).display),1)])):de("",!0)]),p("div",LT,[l[64]||(l[64]=p("div",{class:"d-flex align-items-center mb-2"},[p("i",{class:"bi bi-receipt me-2 text-primary",style:{"font-size":"1rem"}}),p("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Price Breakdown")],-1)),p("div",kT,[l[61]||(l[61]=p("span",{class:"text-muted"},"Base Price",-1)),p("strong",null,W(Ce(n)(wt())),1)]),$t()>0?(M(),P("div",$T,[l[62]||(l[62]=p("span",{class:"text-muted"},"Add-ons",-1)),p("strong",RT,"+ "+W(Ce(n)($t())),1)])):de("",!0),l[65]||(l[65]=p("hr",{class:"my-2"},null,-1)),p("div",PT,[l[63]||(l[63]=p("span",{class:"fw-bold"},"Total",-1)),p("span",MT,W(Ce(n)(hs())),1)])])]),p("div",FT,[p("div",BT,[gt(p("div",UT,[l[67]||(l[67]=p("div",{class:"d-flex align-items-start mb-2"},[p("i",{class:"bi bi-grid-3x3-gap me-2 text-primary",style:{"font-size":"1.1rem"}}),p("div",null,[p("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Choose Variant ")])],-1)),p("div",WT,[(M(!0),P(Ye,null,bt(_e.value?.variants,c=>(M(),P("div",{key:c.id,class:"col-12"},[p("div",{class:ar(["border rounded-3 p-2 shadow-sm variant-card",Ln.value===c.id?"border-primary bg-light":""]),onClick:b=>vn(c.id),style:{cursor:"pointer"}},[p("div",HT,[p("div",null,[p("h6",VT,W(c.name),1)]),p("div",KT,[Ln.value===c.id?(M(),P("div",zT,[...l[66]||(l[66]=[p("i",{class:"bi bi-check-circle-fill",style:{"font-size":"1rem"}},null,-1)])])):de("",!0),p("strong",YT,W(Ce(n)(c.price)),1)])])],10,qT)]))),128))])],512),[[Ps,fe.value===1&&Fe.value]]),gt(p("div",GT,[l[68]||(l[68]=p("div",{class:"d-flex align-items-start mb-2"},[p("div",null,[p("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Remove Ingredients")])],-1)),p("div",jT,[(M(!0),P(Ye,null,bt($(),c=>(M(),P("div",{key:c.id||c.inventory_item_id,class:"col-md-6"},[p("div",{class:ar(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":X(c.id||c.inventory_item_id)}])},[p("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"ingredient-"+(c.id||c.inventory_item_id),checked:!X(c.id||c.inventory_item_id),disabled:!X(c.id||c.inventory_item_id)&&Ie()===1,onChange:b=>le(c.id||c.inventory_item_id)},null,40,XT),p("label",{for:"ingredient-"+(c.id||c.inventory_item_id),class:"form-check-label",style:{"font-size":"0.8rem"}},W(c.product_name||c.name),9,QT)],2)]))),128))])],512),[[Ps,fe.value===2&&st.value]]),gt(p("div",ZT,[l[69]||(l[69]=p("div",{class:"d-flex align-items-start mb-2"},[p("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}}),p("div",null,[p("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Add Add-ons "),p("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Enhance your meal")])],-1)),(M(!0),P(Ye,null,bt(_e.value?.addon_groups,c=>(M(),P("div",{key:c.group_id,class:"mb-3"},[p("label",JT,[p("span",null,W(c.group_name),1),c.max_select>0?(M(),P("span",eC," Max "+W(c.max_select),1)):de("",!0)]),cn(Ce(Ed),{modelValue:Ht.value[c.group_id]||[],"onUpdate:modelValue":b=>en(c.group_id,b),options:c.addons,optionLabel:"name",dataKey:"id",placeholder:"Select add-ons",maxSelectedLabels:2,class:"w-100",appendTo:"self"},null,8,["modelValue","onUpdate:modelValue","options"])]))),128))],512),[[Ps,fe.value===3&&qe.value]]),gt(p("div",tC,[l[76]||(l[76]=p("div",{class:"d-flex align-items-start mb-2"},[p("i",{class:"bi bi-cart-check me-2 text-success",style:{"font-size":"1.1rem"}}),p("div",null,[p("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Review Your Order"),p("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Confirm selections")])],-1)),p("div",nC,[l[73]||(l[73]=p("h6",{class:"fw-bold mb-2 text-secondary"},"Order Summary",-1)),Fe.value?(M(),P("div",rC,[l[70]||(l[70]=p("span",{class:"summary-label"},"Variant:",-1)),p("span",iC,W(pt()),1)])):de("",!0),L.value.length>0?(M(),P("div",sC,[l[71]||(l[71]=p("span",{class:"summary-label"},"Removed:",-1)),p("span",oC,W(Ne()),1)])):de("",!0),bi()>0?(M(),P("div",aC,[l[72]||(l[72]=p("span",{class:"summary-label"},"Add-ons:",-1)),p("span",lC,W(Hn()),1)])):de("",!0)]),p("div",uC,[l[74]||(l[74]=p("label",{class:"me-3 fw-semibold",style:{"font-size":"0.85rem"}},"Quantity:",-1)),p("div",cC,[p("button",{class:"qty-btn",onClick:Aa,disabled:tt.value<=1},"−",8,dC),p("div",fC,W(tt.value),1),p("button",{class:"qty-btn",onClick:ss},"+")])]),p("div",pC,[l[75]||(l[75]=p("label",{class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},[p("i",{class:"bi bi-chat-left-text me-1"}),Ge(" Kitchen Note (Optional) ")],-1)),gt(p("textarea",{"onUpdate:modelValue":l[13]||(l[13]=c=>yn.value=c),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions...",style:{"font-size":"0.8rem"}},null,512),[[lr,yn.value]]),p("div",hC,W(yn.value?.length||0)+"/200 ",1)])],512),[[Ps,fe.value===kt.value]])])])])]),p("div",_C,[fe.value>1?(M(),P("button",{key:0,class:"btn btn-light btn-sm px-4 py-2 shadow-sm",onClick:_n},[...l[77]||(l[77]=[p("i",{class:"bi bi-arrow-left me-1"},null,-1),Ge("Back ",-1)])])):de("",!0),fe.value<kt.value?(M(),P("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:yt},[...l[78]||(l[78]=[Ge(" Next ",-1),p("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):(M(),P("button",{key:2,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:is},[...l[79]||(l[79]=[p("i",{class:"bi bi-cart-plus me-1"},null,-1),Ge("Add to Cart ",-1)])]))])])])]),p("div",vC,[p("div",mC,[p("div",gC,[l[90]||(l[90]=p("div",{class:"modal-header border-0 pb-2"},[p("h5",{class:"modal-title fw-bold"},[p("i",{class:"bi bi-puzzle-fill text-primary me-2"}),Ge(" Manage Add-ons ")]),p("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),Xe.value?(M(),P("div",bC,[p("div",yC,[p("div",wC,[p("img",{src:Xe.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,EC),p("div",AC,[p("div",xC,W(Xe.value.title),1),p("div",TC,[p("small",CC,[l[80]||(l[80]=p("i",{class:"bi bi-tag me-1"},null,-1)),l[81]||(l[81]=Ge(" Base Price: ",-1)),p("span",SC,W(Ce(n)(Xe.value?.unit_price-Qe(Y.value[Pn.value]||{addons:[]}))),1)]),p("small",OC,[l[82]||(l[82]=p("i",{class:"bi bi-box me-1"},null,-1)),l[83]||(l[83]=Ge(" Quantity: ",-1)),p("span",IC,W(Xe.value.qty),1)])])])])]),Xe.value.addons&&Xe.value.addons.length>0?(M(),P("div",NC,[p("table",DC,[l[86]||(l[86]=p("thead",{class:"table-light"},[p("tr",null,[p("th",{style:{width:"60px"},class:"text-center"},"Select"),p("th",null,"Items"),p("th",{style:{width:"120px"},class:"text-center"},"Price"),p("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),p("tbody",null,[(M(!0),P(Ye,null,bt(Xe.value.addons,c=>(M(),P("tr",{key:c.id,class:ar({"table-active":c.selected!==!1})},[p("td",LC,[p("div",kC,[p("input",{type:"checkbox",class:"form-check-input",checked:c.selected!==!1,onChange:b=>Wa(c),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,$C)])]),p("td",null,[p("div",RC,[p("div",{class:ar(["addon-status-indicator",c.selected!==!1?"bg-success":"bg-secondary"])},null,2),p("div",null,[p("div",PC,W(c.name),1),c.group_name?(M(),P("small",MC,W(c.group_name),1)):de("",!0)])])]),p("td",FC,[p("span",BC," +"+W(Ce(n)(c.price)),1)]),p("td",null,[p("div",UC,[p("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:b=>qa(c),disabled:!c.selected||(c.quantity||1)<=1},[...l[84]||(l[84]=[p("i",{class:"bi bi-dash-lg"},null,-1)])],8,WC),p("span",qC,W(c.quantity||1),1),p("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:b=>io(c),disabled:!c.selected},[...l[85]||(l[85]=[p("i",{class:"bi bi-plus-lg"},null,-1)])],8,HC)])])],2))),128))])])])):(M(),P("div",VC,[...l[87]||(l[87]=[p("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),p("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),p("div",KC,[bi()>0?(M(),P("div",zC,[p("small",YC,[l[88]||(l[88]=p("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),Ge(" "+W(bi())+" add-on(s) selected • Add-ons Total: "+W(Ce(n)(Qe(Xe.value))),1)])])):de("",!0)])])):de("",!0),p("div",{class:"modal-footer border-0 pt-0 bg-light"},[l[89]||(l[89]=p("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),p("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:ds}," Save ")])])])]),cn(Ub,{show:us.value,kot:br.value,loading:Da.value,onClose:l[14]||(l[14]=c=>us.value=!1),onStatusUpdated:to},null,8,["show","kot","loading"]),cn(Fb,{show:os.value,order:Mr.value,money:Ys,onClose:l[15]||(l[15]=c=>os.value=!1)},null,8,["show","order"]),cn(Mb,{show:hi.value,customer:ot.value,"delivery-location":je.value,phone:tn.value,"order-type":xe.value,"selected-table":Rt.value,"order-items":Y.value,"grand-total":jr.value,money:Ys,cashReceived:_i.value,"onUpdate:cashReceived":l[16]||(l[16]=c=>_i.value=c),client_secret:o.client_secret,order_code:o.order_code,"sub-total":Pt.value,tax:Rn.value,"service-charges":hr.value,"delivery-charges":Yn.value,"promo-discount":wr.value,"promo-id":Re.value?.id,"promo-name":Re.value?.name,"promo-type":Re.value?.type,"promo-discount-amount":wr.value,note:_r.value,"kitchen-note":vr.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":Ta.value,change:Ca.value,onClose:l[17]||(l[17]=c=>hi.value=!1),onConfirm:Js,appliedPromos:Ma.value,"approved-discounts":vi.value,"approved-discount-details":nt.value.map(c=>({discount_id:c.id,discount_name:c.name,discount_percentage:c.percentage,discount_amount:ls(c.percentage),approval_id:c.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","appliedPromos","approved-discounts","approved-discount-details"]),cn(qb,{show:Wr.value,orders:qr.value,onClose:l[18]||(l[18]=c=>Wr.value=!1),onViewDetails:Ra,loading:Hr.value},null,8,["show","orders","loading"]),cn(Bb,{show:Vr.value,loading:cs.value,promos:zr.value,"order-items":Y.value,onApplyPromo:La,onClose:l[19]||(l[19]=c=>Vr.value=!1)},null,8,["show","loading","promos","order-items"]),cn(Vb,{show:Kr.value,discounts:Yr.value,"order-items":Y.value,loading:gi.value,"applied-discounts":nt.value,"rejected-discounts":Fr.value,onClose:l[20]||(l[20]=c=>Kr.value=!1),onApplyDiscount:Sa,onClearDiscount:Ia},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"]),cn(dA,{show:mr.value,"missing-ingredients":$n.value,onClose:l[21]||(l[21]=c=>{mr.value=!1,Na.value=null}),onConfirm:mi},null,8,["show","missing-ingredients"])])]),_:1})],64))}},wS=Lb(GC,[["__scopeId","data-v-1b43ef35"]]);export{wS as default};

import{g as k,b as x,f as c,a3 as mt,a0 as al,a as ln,H as vi,d as Lt,m as dt,l as Y,k as br,ae as Hr,V as Hb,j as rt,a6 as Ub,aS as uf,ag as Vb,a4 as zb,E as Ru,F as Ue,i as pt,e as Ze,t as $,b5 as Ua,w as Bi,c as be,p as ve,_ as Kb,o as As,n as Mu,r as B,A as Gb,z as Yb,s as H,u as de,h as jb,v as gr,y as qi,K as $o,T as Qb}from"./app-BWJIgFUk.js";import{_ as Xb}from"./Master-CIAemtMp.js";import cf from"./ConfirmOrderModal-QDHdCVGw.js";import Jb from"./ReceiptModal-Cocs7GWW.js";import Zb from"./PromoModal-DxdWErbk.js";import ey from"./KotModal-BBJz0LGc.js";import{u as ty}from"./useFormatters-D4QMfBkH.js";import ny from"./PosOrdersModal-C5aV_U-e.js";import{F as ry}from"./FilterModal-JVylnsp0.js";import{s as iy}from"./index-CmMDiWKC.js";import{a as sy,s as ll,f as oy}from"./index-DrwUNMx0.js";import{s as ay}from"./index-DTkP46Ub.js";import{R as ly}from"./index-566Dsl26.js";import uy from"./DiscountModal-Bgd1eNRP.js";import cy from"./PendingOrdersModal-DMH9ne95.js";import dy from"./UnpaidOrdersModal-CyuODBD2.js";import{P as df}from"./pencil-BJi1dG4D.js";import{E as fy}from"./eye-CO_nMJfp.js";import"./index-N5It5Rdt.js";import"./createLucideIcon-BtxAcjLS.js";import"./PasswordVerificationModal-C7K_1d78.js";import"./sun-DRYQ-wZ1.js";import"./StripePayment-D8kUXXY1.js";import"./SplitPayment-Chd8CHQ3.js";import"./Receipt-CsR7BVvu.js";import"./clock-Ccf1y-kf.js";import"./circle-check-big-D4FYRdeD.js";import"./circle-x-CjlZLeFL.js";import"./printer-CrfNXRsb.js";var lc={name:"ChevronUpIcon",extends:sy};function py(a){return my(a)||_y(a)||vy(a)||hy()}function hy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vy(a,n){if(a){if(typeof a=="string")return ec(a,n);var i={}.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ec(a,n):void 0}}function _y(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function my(a){if(Array.isArray(a))return ec(a)}function ec(a,n){(n==null||n>a.length)&&(n=a.length);for(var i=0,f=Array(n);i<n;i++)f[i]=a[i];return f}function gy(a,n,i,f,v,g){return x(),k("svg",mt({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.pti()),py(n[0]||(n[0]=[c("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)])),16)}lc.render=gy;var by={root:"p-accordioncontent",content:"p-accordioncontent-content"},yy=al.extend({name:"accordioncontent",classes:by}),wy={name:"BaseAccordionContent",extends:ll,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:yy,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},el={name:"AccordionContent",extends:wy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return mt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function Ey(a,n,i,f,v,g){return a.asChild?vi(a.$slots,"default",{key:1,class:rt(a.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs}):(x(),ln(Hb,mt({key:0,name:"p-toggleable-content"},a.ptm("transition",g.ptParams)),{default:Lt(function(){return[!g.$pcAccordion.lazy||g.$pcAccordionPanel.active?dt((x(),ln(br(a.as),mt({key:0,class:a.cx("root")},g.attrs),{default:Lt(function(){return[c("div",mt({class:a.cx("content")},a.ptm("content",g.ptParams)),[vi(a.$slots,"default")],16)]}),_:3},16,["class"])),[[Hr,g.$pcAccordion.lazy?!0:g.$pcAccordionPanel.active]]):Y("",!0)]}),_:3},16))}el.render=Ey;var Ay={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},xy=al.extend({name:"accordionheader",classes:Ay}),Cy={name:"BaseAccordionHeader",extends:ll,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:xy,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},tl={name:"AccordionHeader",extends:Cy,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){!this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onKeydown:function(n){switch(n.code){case"ArrowDown":this.onArrowDownKey(n);break;case"ArrowUp":this.onArrowUpKey(n);break;case"Home":this.onHomeKey(n);break;case"End":this.onEndKey(n);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(n);break}},onArrowDownKey:function(n){var i=this.findNextPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onHomeKey(n),n.preventDefault()},onArrowUpKey:function(n){var i=this.findPrevPanel(this.findPanel(n.currentTarget));i?this.changeFocusedPanel(n,i):this.onEndKey(n),n.preventDefault()},onHomeKey:function(n){var i=this.findFirstPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEndKey:function(n){var i=this.findLastPanel();this.changeFocusedPanel(n,i),n.preventDefault()},onEnterKey:function(n){this.changeActiveValue(),n.preventDefault()},findPanel:function(n){return n?.closest('[data-pc-name="accordionpanel"]')},findHeader:function(n){return Vb(n,'[data-pc-name="accordionheader"]')},findNextPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.nextElementSibling;return f?uf(f,"data-p-disabled")?this.findNextPanel(f):this.findHeader(f):null},findPrevPanel:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=i?n:n.previousElementSibling;return f?uf(f,"data-p-disabled")?this.findPrevPanel(f):this.findHeader(f):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(n,i){Ub(this.findHeader(i))}},computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return mt(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}},dataP:function(){return oy({active:this.$pcAccordionPanel.active})}},components:{ChevronUpIcon:lc,ChevronDownIcon:ay},directives:{ripple:ly}};function Ty(a,n,i,f,v,g){var E=zb("ripple");return a.asChild?vi(a.$slots,"default",{key:1,class:rt(a.cx("root")),active:g.$pcAccordionPanel.active,a11yAttrs:g.a11yAttrs,onClick:g.onClick}):dt((x(),ln(br(a.as),mt({key:0,"data-p":g.dataP,class:a.cx("root"),onClick:g.onClick},g.attrs),{default:Lt(function(){return[vi(a.$slots,"default",{active:g.$pcAccordionPanel.active}),vi(a.$slots,"toggleicon",{active:g.$pcAccordionPanel.active,class:rt(a.cx("toggleicon"))},function(){return[g.$pcAccordionPanel.active?(x(),ln(br(g.$pcAccordion.$slots.collapseicon?g.$pcAccordion.$slots.collapseicon:g.$pcAccordion.collapseIcon?"span":"ChevronUpIcon"),mt({key:0,class:[g.$pcAccordion.collapseIcon,a.cx("toggleicon")],"aria-hidden":"true"},a.ptm("toggleicon",g.ptParams)),null,16,["class"])):(x(),ln(br(g.$pcAccordion.$slots.expandicon?g.$pcAccordion.$slots.expandicon:g.$pcAccordion.expandIcon?"span":"ChevronDownIcon"),mt({key:1,class:[g.$pcAccordion.expandIcon,a.cx("toggleicon")],"aria-hidden":"true"},a.ptm("toggleicon",g.ptParams)),null,16,["class"]))]})]}),_:3},16,["data-p","class","onClick"])),[[E]])}tl.render=Ty;var Sy={root:function(n){var i=n.instance,f=n.props;return["p-accordionpanel",{"p-accordionpanel-active":i.active,"p-disabled":f.disabled}]}},Iy=al.extend({name:"accordionpanel",classes:Sy}),Oy={name:"BaseAccordionPanel",extends:ll,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Iy,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},nl={name:"AccordionPanel",extends:Oy,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return mt(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function ky(a,n,i,f,v,g){return a.asChild?vi(a.$slots,"default",{key:1,class:rt(a.cx("root")),active:g.active,a11yAttrs:g.a11yAttrs}):(x(),ln(br(a.as),mt({key:0,class:a.cx("root")},g.attrs),{default:Lt(function(){return[vi(a.$slots,"default")]}),_:3},16,["class"]))}nl.render=ky;var Dy=`
    .p-accordionpanel {
        display: flex;
        flex-direction: column;
        border-style: solid;
        border-width: dt('accordion.panel.border.width');
        border-color: dt('accordion.panel.border.color');
    }

    .p-accordionheader {
        all: unset;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('accordion.header.padding');
        color: dt('accordion.header.color');
        background: dt('accordion.header.background');
        border-style: solid;
        border-width: dt('accordion.header.border.width');
        border-color: dt('accordion.header.border.color');
        font-weight: dt('accordion.header.font.weight');
        border-radius: dt('accordion.header.border.radius');
        transition:
            background dt('accordion.transition.duration'),
            color dt('accordion.transition.duration'),
            outline-color dt('accordion.transition.duration'),
            box-shadow dt('accordion.transition.duration');
        outline-color: transparent;
    }

    .p-accordionpanel:first-child > .p-accordionheader {
        border-width: dt('accordion.header.first.border.width');
        border-start-start-radius: dt('accordion.header.first.top.border.radius');
        border-start-end-radius: dt('accordion.header.first.top.border.radius');
    }

    .p-accordionpanel:last-child > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.bottom.border.radius');
    }

    .p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.active.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.active.bottom.border.radius');
    }

    .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.color');
    }

    .p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
        box-shadow: dt('accordion.header.focus.ring.shadow');
        outline: dt('accordion.header.focus.ring.width') dt('accordion.header.focus.ring.style') dt('accordion.header.focus.ring.color');
        outline-offset: dt('accordion.header.focus.ring.offset');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
        background: dt('accordion.header.hover.background');
        color: dt('accordion.header.hover.color');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
        background: dt('accordion.header.active.background');
        color: dt('accordion.header.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
        background: dt('accordion.header.active.hover.background');
        color: dt('accordion.header.active.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.hover.color');
    }

    .p-accordioncontent-content {
        border-style: solid;
        border-width: dt('accordion.content.border.width');
        border-color: dt('accordion.content.border.color');
        background-color: dt('accordion.content.background');
        color: dt('accordion.content.color');
        padding: dt('accordion.content.padding');
    }
`,Ny={root:"p-accordion p-component"},$y=al.extend({name:"accordion",style:Dy,classes:Ny}),Py={name:"BaseAccordion",extends:ll,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:$y,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},jf={name:"Accordion",extends:Py,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{d_value:this.value}},watch:{value:function(n){this.d_value=n},activeIndex:{immediate:!0,handler:function(n){this.hasAccordionTab&&(this.d_value=this.multiple?n?.map(String):n?.toString())}}},methods:{isItemActive:function(n){var i;return this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.includes(n):this.d_value===n},updateValue:function(n){var i,f=this.isItemActive(n);this.multiple?f?this.d_value=this.d_value.filter(function(v){return v!==n}):this.d_value?this.d_value.push(n):this.d_value=[n]:this.d_value=f?null:n,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.map(Number):Number(this.d_value)),this.$emit(f?"tab-close":"tab-open",{originalEvent:void 0,index:Number(n)})},isAccordionTab:function(n){return n.type.name==="AccordionTab"},getTabProp:function(n,i){return n.props?n.props[i]:void 0},getKey:function(n,i){return this.getTabProp(n,"header")||i},getHeaderPT:function(n,i){var f=this;return{root:mt({onClick:function(g){return f.onTabClick(g,i)}},this.getTabProp(n,"headerProps"),this.getTabPT(n,"header",i)),toggleicon:mt(this.getTabProp(n,"headeractionprops"),this.getTabPT(n,"headeraction",i))}},getContentPT:function(n,i){return{root:mt(this.getTabProp(n,"contentProps"),this.getTabPT(n,"toggleablecontent",i)),transition:this.getTabPT(n,"transition",i),content:this.getTabPT(n,"content",i)}},getTabPT:function(n,i,f){var v=this.tabs.length,g={props:n.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:f,count:v,first:f===0,last:f===v-1,active:this.isItemActive("".concat(f))}};return mt(this.ptm("accordiontab.".concat(i),g),this.ptmo(this.getTabProp(n,"pt"),i,g))},onTabClick:function(n,i){this.$emit("tab-click",{originalEvent:n,index:i})}},computed:{tabs:function(){var n=this;return this.$slots.default().reduce(function(i,f){return n.isAccordionTab(f)?i.push(f):f.children&&f.children instanceof Array&&f.children.forEach(function(v){n.isAccordionTab(v)&&i.push(v)}),i},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:nl,AccordionHeader:tl,AccordionContent:el,ChevronUpIcon:lc,ChevronRightIcon:iy}};function Ly(a,n,i,f,v,g){var E=Ru("AccordionHeader"),I=Ru("AccordionContent"),C=Ru("AccordionPanel");return x(),k("div",mt({class:a.cx("root")},a.ptmi("root")),[g.hasAccordionTab?(x(!0),k(Ue,{key:0},pt(g.tabs,function(M,D){return x(),ln(C,{key:g.getKey(M,D),value:"".concat(D),pt:{root:g.getTabPT(M,"root",D)},disabled:g.getTabProp(M,"disabled")},{default:Lt(function(){return[Ze(E,{class:rt(g.getTabProp(M,"headerClass")),pt:g.getHeaderPT(M,D)},{toggleicon:Lt(function(U){return[U.active?(x(),ln(br(a.$slots.collapseicon?a.$slots.collapseicon:a.collapseIcon?"span":"ChevronDownIcon"),mt({key:0,class:[a.collapseIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",D)),null,16,["class"])):(x(),ln(br(a.$slots.expandicon?a.$slots.expandicon:a.expandIcon?"span":"ChevronUpIcon"),mt({key:1,class:[a.expandIcon,U.class],"aria-hidden":"true"},{ref_for:!0},g.getTabPT(M,"headericon",D)),null,16,["class"]))]}),default:Lt(function(){return[M.children&&M.children.headericon?(x(),ln(br(M.children.headericon),{key:0,isTabActive:g.isItemActive("".concat(D)),active:g.isItemActive("".concat(D)),index:D},null,8,["isTabActive","active","index"])):Y("",!0),M.props&&M.props.header?(x(),k("span",mt({key:1,ref_for:!0},g.getTabPT(M,"headertitle",D)),$(M.props.header),17)):Y("",!0),M.children&&M.children.header?(x(),ln(br(M.children.header),{key:2})):Y("",!0)]}),_:2},1032,["class","pt"]),Ze(I,{pt:g.getContentPT(M,D)},{default:Lt(function(){return[(x(),ln(br(M)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):vi(a.$slots,"default",{key:1})],16)}jf.render=Ly;var zt="top",wn="bottom",En="right",Kt="left",ul="auto",Ms=[zt,wn,En,Kt],Vi="start",ks="end",Qf="clippingParents",uc="viewport",Ts="popper",Xf="reference",tc=Ms.reduce(function(a,n){return a.concat([n+"-"+Vi,n+"-"+ks])},[]),cc=[].concat(Ms,[ul]).reduce(function(a,n){return a.concat([n,n+"-"+Vi,n+"-"+ks])},[]),Jf="beforeRead",Zf="read",ep="afterRead",tp="beforeMain",np="main",rp="afterMain",ip="beforeWrite",sp="write",op="afterWrite",ap=[Jf,Zf,ep,tp,np,rp,ip,sp,op];function Er(a){return a?(a.nodeName||"").toLowerCase():null}function An(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var n=a.ownerDocument;return n&&n.defaultView||window}return a}function zi(a){var n=An(a).Element;return a instanceof n||a instanceof Element}function Ln(a){var n=An(a).HTMLElement;return a instanceof n||a instanceof HTMLElement}function dc(a){if(typeof ShadowRoot>"u")return!1;var n=An(a).ShadowRoot;return a instanceof n||a instanceof ShadowRoot}function Ry(a){var n=a.state;Object.keys(n.elements).forEach(function(i){var f=n.styles[i]||{},v=n.attributes[i]||{},g=n.elements[i];!Ln(g)||!Er(g)||(Object.assign(g.style,f),Object.keys(v).forEach(function(E){var I=v[E];I===!1?g.removeAttribute(E):g.setAttribute(E,I===!0?"":I)}))})}function My(a){var n=a.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(f){var v=n.elements[f],g=n.attributes[f]||{},E=Object.keys(n.styles.hasOwnProperty(f)?n.styles[f]:i[f]),I=E.reduce(function(C,M){return C[M]="",C},{});!Ln(v)||!Er(v)||(Object.assign(v.style,I),Object.keys(g).forEach(function(C){v.removeAttribute(C)}))})}}const fc={name:"applyStyles",enabled:!0,phase:"write",fn:Ry,effect:My,requires:["computeStyles"]};function yr(a){return a.split("-")[0]}var Ui=Math.max,rl=Math.min,Ds=Math.round;function nc(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function lp(){return!/^((?!chrome|android).)*safari/i.test(nc())}function Ns(a,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var f=a.getBoundingClientRect(),v=1,g=1;n&&Ln(a)&&(v=a.offsetWidth>0&&Ds(f.width)/a.offsetWidth||1,g=a.offsetHeight>0&&Ds(f.height)/a.offsetHeight||1);var E=zi(a)?An(a):window,I=E.visualViewport,C=!lp()&&i,M=(f.left+(C&&I?I.offsetLeft:0))/v,D=(f.top+(C&&I?I.offsetTop:0))/g,U=f.width/v,J=f.height/g;return{width:U,height:J,top:D,right:M+U,bottom:D+J,left:M,x:M,y:D}}function pc(a){var n=Ns(a),i=a.offsetWidth,f=a.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-f)<=1&&(f=n.height),{x:a.offsetLeft,y:a.offsetTop,width:i,height:f}}function up(a,n){var i=n.getRootNode&&n.getRootNode();if(a.contains(n))return!0;if(i&&dc(i)){var f=n;do{if(f&&a.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function zr(a){return An(a).getComputedStyle(a)}function Fy(a){return["table","td","th"].indexOf(Er(a))>=0}function bi(a){return((zi(a)?a.ownerDocument:a.document)||window.document).documentElement}function cl(a){return Er(a)==="html"?a:a.assignedSlot||a.parentNode||(dc(a)?a.host:null)||bi(a)}function ff(a){return!Ln(a)||zr(a).position==="fixed"?null:a.offsetParent}function qy(a){var n=/firefox/i.test(nc()),i=/Trident/i.test(nc());if(i&&Ln(a)){var f=zr(a);if(f.position==="fixed")return null}var v=cl(a);for(dc(v)&&(v=v.host);Ln(v)&&["html","body"].indexOf(Er(v))<0;){var g=zr(v);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||n&&g.willChange==="filter"||n&&g.filter&&g.filter!=="none")return v;v=v.parentNode}return null}function Wo(a){for(var n=An(a),i=ff(a);i&&Fy(i)&&zr(i).position==="static";)i=ff(i);return i&&(Er(i)==="html"||Er(i)==="body"&&zr(i).position==="static")?n:i||qy(a)||n}function hc(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function Mo(a,n,i){return Ui(a,rl(n,i))}function By(a,n,i){var f=Mo(a,n,i);return f>i?i:f}function cp(){return{top:0,right:0,bottom:0,left:0}}function dp(a){return Object.assign({},cp(),a)}function fp(a,n){return n.reduce(function(i,f){return i[f]=a,i},{})}var Wy=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,dp(typeof n!="number"?n:fp(n,Ms))};function Hy(a){var n,i=a.state,f=a.name,v=a.options,g=i.elements.arrow,E=i.modifiersData.popperOffsets,I=yr(i.placement),C=hc(I),M=[Kt,En].indexOf(I)>=0,D=M?"height":"width";if(!(!g||!E)){var U=Wy(v.padding,i),J=pc(g),K=C==="y"?zt:Kt,te=C==="y"?wn:En,G=i.rects.reference[D]+i.rects.reference[C]-E[C]-i.rects.popper[D],re=E[C]-i.rects.reference[C],oe=Wo(g),Pe=oe?C==="y"?oe.clientHeight||0:oe.clientWidth||0:0,Ie=G/2-re/2,fe=U[K],ae=Pe-J[D]-U[te],Ae=Pe/2-J[D]/2+Ie,Oe=Mo(fe,Ae,ae),qe=C;i.modifiersData[f]=(n={},n[qe]=Oe,n.centerOffset=Oe-Ae,n)}}function Uy(a){var n=a.state,i=a.options,f=i.element,v=f===void 0?"[data-popper-arrow]":f;v!=null&&(typeof v=="string"&&(v=n.elements.popper.querySelector(v),!v)||up(n.elements.popper,v)&&(n.elements.arrow=v))}const pp={name:"arrow",enabled:!0,phase:"main",fn:Hy,effect:Uy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $s(a){return a.split("-")[1]}var Vy={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zy(a,n){var i=a.x,f=a.y,v=n.devicePixelRatio||1;return{x:Ds(i*v)/v||0,y:Ds(f*v)/v||0}}function pf(a){var n,i=a.popper,f=a.popperRect,v=a.placement,g=a.variation,E=a.offsets,I=a.position,C=a.gpuAcceleration,M=a.adaptive,D=a.roundOffsets,U=a.isFixed,J=E.x,K=J===void 0?0:J,te=E.y,G=te===void 0?0:te,re=typeof D=="function"?D({x:K,y:G}):{x:K,y:G};K=re.x,G=re.y;var oe=E.hasOwnProperty("x"),Pe=E.hasOwnProperty("y"),Ie=Kt,fe=zt,ae=window;if(M){var Ae=Wo(i),Oe="clientHeight",qe="clientWidth";if(Ae===An(i)&&(Ae=bi(i),zr(Ae).position!=="static"&&I==="absolute"&&(Oe="scrollHeight",qe="scrollWidth")),Ae=Ae,v===zt||(v===Kt||v===En)&&g===ks){fe=wn;var Ne=U&&Ae===ae&&ae.visualViewport?ae.visualViewport.height:Ae[Oe];G-=Ne-f.height,G*=C?1:-1}if(v===Kt||(v===zt||v===wn)&&g===ks){Ie=En;var Ve=U&&Ae===ae&&ae.visualViewport?ae.visualViewport.width:Ae[qe];K-=Ve-f.width,K*=C?1:-1}}var et=Object.assign({position:I},M&&Vy),wt=D===!0?zy({x:K,y:G},An(i)):{x:K,y:G};if(K=wt.x,G=wt.y,C){var ke;return Object.assign({},et,(ke={},ke[fe]=Pe?"0":"",ke[Ie]=oe?"0":"",ke.transform=(ae.devicePixelRatio||1)<=1?"translate("+K+"px, "+G+"px)":"translate3d("+K+"px, "+G+"px, 0)",ke))}return Object.assign({},et,(n={},n[fe]=Pe?G+"px":"",n[Ie]=oe?K+"px":"",n.transform="",n))}function Ky(a){var n=a.state,i=a.options,f=i.gpuAcceleration,v=f===void 0?!0:f,g=i.adaptive,E=g===void 0?!0:g,I=i.roundOffsets,C=I===void 0?!0:I,M={placement:yr(n.placement),variation:$s(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:v,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,pf(Object.assign({},M,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:E,roundOffsets:C})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,pf(Object.assign({},M,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:C})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const vc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ky,data:{}};var Va={passive:!0};function Gy(a){var n=a.state,i=a.instance,f=a.options,v=f.scroll,g=v===void 0?!0:v,E=f.resize,I=E===void 0?!0:E,C=An(n.elements.popper),M=[].concat(n.scrollParents.reference,n.scrollParents.popper);return g&&M.forEach(function(D){D.addEventListener("scroll",i.update,Va)}),I&&C.addEventListener("resize",i.update,Va),function(){g&&M.forEach(function(D){D.removeEventListener("scroll",i.update,Va)}),I&&C.removeEventListener("resize",i.update,Va)}}const _c={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gy,data:{}};var Yy={left:"right",right:"left",bottom:"top",top:"bottom"};function Xa(a){return a.replace(/left|right|bottom|top/g,function(n){return Yy[n]})}var jy={start:"end",end:"start"};function hf(a){return a.replace(/start|end/g,function(n){return jy[n]})}function mc(a){var n=An(a),i=n.pageXOffset,f=n.pageYOffset;return{scrollLeft:i,scrollTop:f}}function gc(a){return Ns(bi(a)).left+mc(a).scrollLeft}function Qy(a,n){var i=An(a),f=bi(a),v=i.visualViewport,g=f.clientWidth,E=f.clientHeight,I=0,C=0;if(v){g=v.width,E=v.height;var M=lp();(M||!M&&n==="fixed")&&(I=v.offsetLeft,C=v.offsetTop)}return{width:g,height:E,x:I+gc(a),y:C}}function Xy(a){var n,i=bi(a),f=mc(a),v=(n=a.ownerDocument)==null?void 0:n.body,g=Ui(i.scrollWidth,i.clientWidth,v?v.scrollWidth:0,v?v.clientWidth:0),E=Ui(i.scrollHeight,i.clientHeight,v?v.scrollHeight:0,v?v.clientHeight:0),I=-f.scrollLeft+gc(a),C=-f.scrollTop;return zr(v||i).direction==="rtl"&&(I+=Ui(i.clientWidth,v?v.clientWidth:0)-g),{width:g,height:E,x:I,y:C}}function bc(a){var n=zr(a),i=n.overflow,f=n.overflowX,v=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+v+f)}function hp(a){return["html","body","#document"].indexOf(Er(a))>=0?a.ownerDocument.body:Ln(a)&&bc(a)?a:hp(cl(a))}function Fo(a,n){var i;n===void 0&&(n=[]);var f=hp(a),v=f===((i=a.ownerDocument)==null?void 0:i.body),g=An(f),E=v?[g].concat(g.visualViewport||[],bc(f)?f:[]):f,I=n.concat(E);return v?I:I.concat(Fo(cl(E)))}function rc(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Jy(a,n){var i=Ns(a,!1,n==="fixed");return i.top=i.top+a.clientTop,i.left=i.left+a.clientLeft,i.bottom=i.top+a.clientHeight,i.right=i.left+a.clientWidth,i.width=a.clientWidth,i.height=a.clientHeight,i.x=i.left,i.y=i.top,i}function vf(a,n,i){return n===uc?rc(Qy(a,i)):zi(n)?Jy(n,i):rc(Xy(bi(a)))}function Zy(a){var n=Fo(cl(a)),i=["absolute","fixed"].indexOf(zr(a).position)>=0,f=i&&Ln(a)?Wo(a):a;return zi(f)?n.filter(function(v){return zi(v)&&up(v,f)&&Er(v)!=="body"}):[]}function e1(a,n,i,f){var v=n==="clippingParents"?Zy(a):[].concat(n),g=[].concat(v,[i]),E=g[0],I=g.reduce(function(C,M){var D=vf(a,M,f);return C.top=Ui(D.top,C.top),C.right=rl(D.right,C.right),C.bottom=rl(D.bottom,C.bottom),C.left=Ui(D.left,C.left),C},vf(a,E,f));return I.width=I.right-I.left,I.height=I.bottom-I.top,I.x=I.left,I.y=I.top,I}function vp(a){var n=a.reference,i=a.element,f=a.placement,v=f?yr(f):null,g=f?$s(f):null,E=n.x+n.width/2-i.width/2,I=n.y+n.height/2-i.height/2,C;switch(v){case zt:C={x:E,y:n.y-i.height};break;case wn:C={x:E,y:n.y+n.height};break;case En:C={x:n.x+n.width,y:I};break;case Kt:C={x:n.x-i.width,y:I};break;default:C={x:n.x,y:n.y}}var M=v?hc(v):null;if(M!=null){var D=M==="y"?"height":"width";switch(g){case Vi:C[M]=C[M]-(n[D]/2-i[D]/2);break;case ks:C[M]=C[M]+(n[D]/2-i[D]/2);break}}return C}function Ps(a,n){n===void 0&&(n={});var i=n,f=i.placement,v=f===void 0?a.placement:f,g=i.strategy,E=g===void 0?a.strategy:g,I=i.boundary,C=I===void 0?Qf:I,M=i.rootBoundary,D=M===void 0?uc:M,U=i.elementContext,J=U===void 0?Ts:U,K=i.altBoundary,te=K===void 0?!1:K,G=i.padding,re=G===void 0?0:G,oe=dp(typeof re!="number"?re:fp(re,Ms)),Pe=J===Ts?Xf:Ts,Ie=a.rects.popper,fe=a.elements[te?Pe:J],ae=e1(zi(fe)?fe:fe.contextElement||bi(a.elements.popper),C,D,E),Ae=Ns(a.elements.reference),Oe=vp({reference:Ae,element:Ie,placement:v}),qe=rc(Object.assign({},Ie,Oe)),Ne=J===Ts?qe:Ae,Ve={top:ae.top-Ne.top+oe.top,bottom:Ne.bottom-ae.bottom+oe.bottom,left:ae.left-Ne.left+oe.left,right:Ne.right-ae.right+oe.right},et=a.modifiersData.offset;if(J===Ts&&et){var wt=et[v];Object.keys(Ve).forEach(function(ke){var It=[En,wn].indexOf(ke)>=0?1:-1,cn=[zt,wn].indexOf(ke)>=0?"y":"x";Ve[ke]+=wt[cn]*It})}return Ve}function t1(a,n){n===void 0&&(n={});var i=n,f=i.placement,v=i.boundary,g=i.rootBoundary,E=i.padding,I=i.flipVariations,C=i.allowedAutoPlacements,M=C===void 0?cc:C,D=$s(f),U=D?I?tc:tc.filter(function(te){return $s(te)===D}):Ms,J=U.filter(function(te){return M.indexOf(te)>=0});J.length===0&&(J=U);var K=J.reduce(function(te,G){return te[G]=Ps(a,{placement:G,boundary:v,rootBoundary:g,padding:E})[yr(G)],te},{});return Object.keys(K).sort(function(te,G){return K[te]-K[G]})}function n1(a){if(yr(a)===ul)return[];var n=Xa(a);return[hf(a),n,hf(n)]}function r1(a){var n=a.state,i=a.options,f=a.name;if(!n.modifiersData[f]._skip){for(var v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,I=E===void 0?!0:E,C=i.fallbackPlacements,M=i.padding,D=i.boundary,U=i.rootBoundary,J=i.altBoundary,K=i.flipVariations,te=K===void 0?!0:K,G=i.allowedAutoPlacements,re=n.options.placement,oe=yr(re),Pe=oe===re,Ie=C||(Pe||!te?[Xa(re)]:n1(re)),fe=[re].concat(Ie).reduce(function(qn,At){return qn.concat(yr(At)===ul?t1(n,{placement:At,boundary:D,rootBoundary:U,padding:M,flipVariations:te,allowedAutoPlacements:G}):At)},[]),ae=n.rects.reference,Ae=n.rects.popper,Oe=new Map,qe=!0,Ne=fe[0],Ve=0;Ve<fe.length;Ve++){var et=fe[Ve],wt=yr(et),ke=$s(et)===Vi,It=[zt,wn].indexOf(wt)>=0,cn=It?"width":"height",Et=Ps(n,{placement:et,boundary:D,rootBoundary:U,altBoundary:J,padding:M}),tt=It?ke?En:Kt:ke?wn:zt;ae[cn]>Ae[cn]&&(tt=Xa(tt));var Ce=Xa(tt),xn=[];if(g&&xn.push(Et[wt]<=0),I&&xn.push(Et[tt]<=0,Et[Ce]<=0),xn.every(function(qn){return qn})){Ne=et,qe=!1;break}Oe.set(et,xn)}if(qe)for(var Gt=te?3:1,Ot=function(At){var Cn=fe.find(function(Gr){var Rt=Oe.get(Gr);if(Rt)return Rt.slice(0,At).every(function(Bn){return Bn})});if(Cn)return Ne=Cn,"break"},Ar=Gt;Ar>0;Ar--){var ht=Ot(Ar);if(ht==="break")break}n.placement!==Ne&&(n.modifiersData[f]._skip=!0,n.placement=Ne,n.reset=!0)}}const _p={name:"flip",enabled:!0,phase:"main",fn:r1,requiresIfExists:["offset"],data:{_skip:!1}};function _f(a,n,i){return i===void 0&&(i={x:0,y:0}),{top:a.top-n.height-i.y,right:a.right-n.width+i.x,bottom:a.bottom-n.height+i.y,left:a.left-n.width-i.x}}function mf(a){return[zt,En,wn,Kt].some(function(n){return a[n]>=0})}function i1(a){var n=a.state,i=a.name,f=n.rects.reference,v=n.rects.popper,g=n.modifiersData.preventOverflow,E=Ps(n,{elementContext:"reference"}),I=Ps(n,{altBoundary:!0}),C=_f(E,f),M=_f(I,v,g),D=mf(C),U=mf(M);n.modifiersData[i]={referenceClippingOffsets:C,popperEscapeOffsets:M,isReferenceHidden:D,hasPopperEscaped:U},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":U})}const mp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i1};function s1(a,n,i){var f=yr(a),v=[Kt,zt].indexOf(f)>=0?-1:1,g=typeof i=="function"?i(Object.assign({},n,{placement:a})):i,E=g[0],I=g[1];return E=E||0,I=(I||0)*v,[Kt,En].indexOf(f)>=0?{x:I,y:E}:{x:E,y:I}}function o1(a){var n=a.state,i=a.options,f=a.name,v=i.offset,g=v===void 0?[0,0]:v,E=cc.reduce(function(D,U){return D[U]=s1(U,n.rects,g),D},{}),I=E[n.placement],C=I.x,M=I.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=C,n.modifiersData.popperOffsets.y+=M),n.modifiersData[f]=E}const gp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:o1};function a1(a){var n=a.state,i=a.name;n.modifiersData[i]=vp({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const yc={name:"popperOffsets",enabled:!0,phase:"read",fn:a1,data:{}};function l1(a){return a==="x"?"y":"x"}function u1(a){var n=a.state,i=a.options,f=a.name,v=i.mainAxis,g=v===void 0?!0:v,E=i.altAxis,I=E===void 0?!1:E,C=i.boundary,M=i.rootBoundary,D=i.altBoundary,U=i.padding,J=i.tether,K=J===void 0?!0:J,te=i.tetherOffset,G=te===void 0?0:te,re=Ps(n,{boundary:C,rootBoundary:M,padding:U,altBoundary:D}),oe=yr(n.placement),Pe=$s(n.placement),Ie=!Pe,fe=hc(oe),ae=l1(fe),Ae=n.modifiersData.popperOffsets,Oe=n.rects.reference,qe=n.rects.popper,Ne=typeof G=="function"?G(Object.assign({},n.rects,{placement:n.placement})):G,Ve=typeof Ne=="number"?{mainAxis:Ne,altAxis:Ne}:Object.assign({mainAxis:0,altAxis:0},Ne),et=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,wt={x:0,y:0};if(Ae){if(g){var ke,It=fe==="y"?zt:Kt,cn=fe==="y"?wn:En,Et=fe==="y"?"height":"width",tt=Ae[fe],Ce=tt+re[It],xn=tt-re[cn],Gt=K?-qe[Et]/2:0,Ot=Pe===Vi?Oe[Et]:qe[Et],Ar=Pe===Vi?-qe[Et]:-Oe[Et],ht=n.elements.arrow,qn=K&&ht?pc(ht):{width:0,height:0},At=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:cp(),Cn=At[It],Gr=At[cn],Rt=Mo(0,Oe[Et],qn[Et]),Bn=Ie?Oe[Et]/2-Gt-Rt-Cn-Ve.mainAxis:Ot-Rt-Cn-Ve.mainAxis,Ws=Ie?-Oe[Et]/2+Gt+Rt+Gr+Ve.mainAxis:Ar+Rt+Gr+Ve.mainAxis,nr=n.elements.arrow&&Wo(n.elements.arrow),Yr=nr?fe==="y"?nr.clientTop||0:nr.clientLeft||0:0,Ei=(ke=et?.[fe])!=null?ke:0,kt=tt+Bn-Ei-Yr,xr=tt+Ws-Ei,Wn=Mo(K?rl(Ce,kt):Ce,tt,K?Ui(xn,xr):xn);Ae[fe]=Wn,wt[fe]=Wn-tt}if(I){var Yt,Cr=fe==="x"?zt:Kt,Hs=fe==="x"?wn:En,Dt=Ae[ae],vt=ae==="y"?"height":"width",Nt=Dt+re[Cr],me=Dt-re[Hs],Xe=[zt,Kt].indexOf(oe)!==-1,it=(Yt=et?.[ae])!=null?Yt:0,xt=Xe?Nt:Dt-Oe[vt]-qe[vt]-it+Ve.altAxis,rr=Xe?Dt+Oe[vt]+qe[vt]-it-Ve.altAxis:me,Mt=K&&Xe?By(xt,Dt,rr):Mo(K?xt:Nt,Dt,K?rr:me);Ae[ae]=Mt,wt[ae]=Mt-Dt}n.modifiersData[f]=wt}}const bp={name:"preventOverflow",enabled:!0,phase:"main",fn:u1,requiresIfExists:["offset"]};function c1(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function d1(a){return a===An(a)||!Ln(a)?mc(a):c1(a)}function f1(a){var n=a.getBoundingClientRect(),i=Ds(n.width)/a.offsetWidth||1,f=Ds(n.height)/a.offsetHeight||1;return i!==1||f!==1}function p1(a,n,i){i===void 0&&(i=!1);var f=Ln(n),v=Ln(n)&&f1(n),g=bi(n),E=Ns(a,v,i),I={scrollLeft:0,scrollTop:0},C={x:0,y:0};return(f||!f&&!i)&&((Er(n)!=="body"||bc(g))&&(I=d1(n)),Ln(n)?(C=Ns(n,!0),C.x+=n.clientLeft,C.y+=n.clientTop):g&&(C.x=gc(g))),{x:E.left+I.scrollLeft-C.x,y:E.top+I.scrollTop-C.y,width:E.width,height:E.height}}function h1(a){var n=new Map,i=new Set,f=[];a.forEach(function(g){n.set(g.name,g)});function v(g){i.add(g.name);var E=[].concat(g.requires||[],g.requiresIfExists||[]);E.forEach(function(I){if(!i.has(I)){var C=n.get(I);C&&v(C)}}),f.push(g)}return a.forEach(function(g){i.has(g.name)||v(g)}),f}function v1(a){var n=h1(a);return ap.reduce(function(i,f){return i.concat(n.filter(function(v){return v.phase===f}))},[])}function _1(a){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(a())})})),n}}function m1(a){var n=a.reduce(function(i,f){var v=i[f.name];return i[f.name]=v?Object.assign({},v,f,{options:Object.assign({},v.options,f.options),data:Object.assign({},v.data,f.data)}):f,i},{});return Object.keys(n).map(function(i){return n[i]})}var gf={placement:"bottom",modifiers:[],strategy:"absolute"};function bf(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return!n.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function dl(a){a===void 0&&(a={});var n=a,i=n.defaultModifiers,f=i===void 0?[]:i,v=n.defaultOptions,g=v===void 0?gf:v;return function(I,C,M){M===void 0&&(M=g);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},gf,g),modifiersData:{},elements:{reference:I,popper:C},attributes:{},styles:{}},U=[],J=!1,K={state:D,setOptions:function(oe){var Pe=typeof oe=="function"?oe(D.options):oe;G(),D.options=Object.assign({},g,D.options,Pe),D.scrollParents={reference:zi(I)?Fo(I):I.contextElement?Fo(I.contextElement):[],popper:Fo(C)};var Ie=v1(m1([].concat(f,D.options.modifiers)));return D.orderedModifiers=Ie.filter(function(fe){return fe.enabled}),te(),K.update()},forceUpdate:function(){if(!J){var oe=D.elements,Pe=oe.reference,Ie=oe.popper;if(bf(Pe,Ie)){D.rects={reference:p1(Pe,Wo(Ie),D.options.strategy==="fixed"),popper:pc(Ie)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(Ve){return D.modifiersData[Ve.name]=Object.assign({},Ve.data)});for(var fe=0;fe<D.orderedModifiers.length;fe++){if(D.reset===!0){D.reset=!1,fe=-1;continue}var ae=D.orderedModifiers[fe],Ae=ae.fn,Oe=ae.options,qe=Oe===void 0?{}:Oe,Ne=ae.name;typeof Ae=="function"&&(D=Ae({state:D,options:qe,name:Ne,instance:K})||D)}}}},update:_1(function(){return new Promise(function(re){K.forceUpdate(),re(D)})}),destroy:function(){G(),J=!0}};if(!bf(I,C))return K;K.setOptions(M).then(function(re){!J&&M.onFirstUpdate&&M.onFirstUpdate(re)});function te(){D.orderedModifiers.forEach(function(re){var oe=re.name,Pe=re.options,Ie=Pe===void 0?{}:Pe,fe=re.effect;if(typeof fe=="function"){var ae=fe({state:D,name:oe,instance:K,options:Ie}),Ae=function(){};U.push(ae||Ae)}})}function G(){U.forEach(function(re){return re()}),U=[]}return K}}var g1=dl(),b1=[_c,yc,vc,fc],y1=dl({defaultModifiers:b1}),w1=[_c,yc,vc,fc,gp,_p,bp,pp,mp],wc=dl({defaultModifiers:w1});const yp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rp,afterRead:ep,afterWrite:op,applyStyles:fc,arrow:pp,auto:ul,basePlacements:Ms,beforeMain:tp,beforeRead:Jf,beforeWrite:ip,bottom:wn,clippingParents:Qf,computeStyles:vc,createPopper:wc,createPopperBase:g1,createPopperLite:y1,detectOverflow:Ps,end:ks,eventListeners:_c,flip:_p,hide:mp,left:Kt,main:np,modifierPhases:ap,offset:gp,placements:cc,popper:Ts,popperGenerator:dl,popperOffsets:yc,preventOverflow:bp,read:Zf,reference:Xf,right:En,start:Vi,top:zt,variationPlacements:tc,viewport:uc,write:sp},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const hi=new Map,Fu={set(a,n,i){hi.has(a)||hi.set(a,new Map);const f=hi.get(a);if(!f.has(n)&&f.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`);return}f.set(n,i)},get(a,n){return hi.has(a)&&hi.get(a).get(n)||null},remove(a,n){if(!hi.has(a))return;const i=hi.get(a);i.delete(n),i.size===0&&hi.delete(a)}},E1=1e6,A1=1e3,ic="transitionend",wp=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(n,i)=>`#${CSS.escape(i)}`)),a),x1=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),C1=a=>{do a+=Math.floor(Math.random()*E1);while(document.getElementById(a));return a},T1=a=>{if(!a)return 0;let{transitionDuration:n,transitionDelay:i}=window.getComputedStyle(a);const f=Number.parseFloat(n),v=Number.parseFloat(i);return!f&&!v?0:(n=n.split(",")[0],i=i.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(i))*A1)},Ep=a=>{a.dispatchEvent(new Event(ic))},Ur=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),_i=a=>Ur(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(wp(a)):null,Fs=a=>{if(!Ur(a)||a.getClientRects().length===0)return!1;const n=getComputedStyle(a).getPropertyValue("visibility")==="visible",i=a.closest("details:not([open])");if(!i)return n;if(i!==a){const f=a.closest("summary");if(f&&f.parentNode!==i||f===null)return!1}return n},mi=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",Ap=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const n=a.getRootNode();return n instanceof ShadowRoot?n:null}return a instanceof ShadowRoot?a:a.parentNode?Ap(a.parentNode):null},il=()=>{},Ho=a=>{a.offsetHeight},xp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qu=[],S1=a=>{document.readyState==="loading"?(qu.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of qu)n()}),qu.push(a)):a()},Rn=()=>document.documentElement.dir==="rtl",Fn=a=>{S1(()=>{const n=xp();if(n){const i=a.NAME,f=n.fn[i];n.fn[i]=a.jQueryInterface,n.fn[i].Constructor=a,n.fn[i].noConflict=()=>(n.fn[i]=f,a.jQueryInterface)}})},un=(a,n=[],i=a)=>typeof a=="function"?a.call(...n):i,Cp=(a,n,i=!0)=>{if(!i){un(a);return}const v=T1(n)+5;let g=!1;const E=({target:I})=>{I===n&&(g=!0,n.removeEventListener(ic,E),un(a))};n.addEventListener(ic,E),setTimeout(()=>{g||Ep(n)},v)},Ec=(a,n,i,f)=>{const v=a.length;let g=a.indexOf(n);return g===-1?!i&&f?a[v-1]:a[0]:(g+=i?1:-1,f&&(g=(g+v)%v),a[Math.max(0,Math.min(g,v-1))])},I1=/[^.]*(?=\..*)\.|.*/,O1=/\..*/,k1=/::\d+$/,Bu={};let yf=1;const Tp={mouseenter:"mouseover",mouseleave:"mouseout"},D1=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Sp(a,n){return n&&`${n}::${yf++}`||a.uidEvent||yf++}function Ip(a){const n=Sp(a);return a.uidEvent=n,Bu[n]=Bu[n]||{},Bu[n]}function N1(a,n){return function i(f){return Ac(f,{delegateTarget:a}),i.oneOff&&F.off(a,f.type,n),n.apply(a,[f])}}function $1(a,n,i){return function f(v){const g=a.querySelectorAll(n);for(let{target:E}=v;E&&E!==this;E=E.parentNode)for(const I of g)if(I===E)return Ac(v,{delegateTarget:E}),f.oneOff&&F.off(a,v.type,n,i),i.apply(E,[v])}}function Op(a,n,i=null){return Object.values(a).find(f=>f.callable===n&&f.delegationSelector===i)}function kp(a,n,i){const f=typeof n=="string",v=f?i:n||i;let g=Dp(a);return D1.has(g)||(g=a),[f,v,g]}function wf(a,n,i,f,v){if(typeof n!="string"||!a)return;let[g,E,I]=kp(n,i,f);n in Tp&&(E=(te=>function(G){if(!G.relatedTarget||G.relatedTarget!==G.delegateTarget&&!G.delegateTarget.contains(G.relatedTarget))return te.call(this,G)})(E));const C=Ip(a),M=C[I]||(C[I]={}),D=Op(M,E,g?i:null);if(D){D.oneOff=D.oneOff&&v;return}const U=Sp(E,n.replace(I1,"")),J=g?$1(a,i,E):N1(a,E);J.delegationSelector=g?i:null,J.callable=E,J.oneOff=v,J.uidEvent=U,M[U]=J,a.addEventListener(I,J,g)}function sc(a,n,i,f,v){const g=Op(n[i],f,v);g&&(a.removeEventListener(i,g,!!v),delete n[i][g.uidEvent])}function P1(a,n,i,f){const v=n[i]||{};for(const[g,E]of Object.entries(v))g.includes(f)&&sc(a,n,i,E.callable,E.delegationSelector)}function Dp(a){return a=a.replace(O1,""),Tp[a]||a}const F={on(a,n,i,f){wf(a,n,i,f,!1)},one(a,n,i,f){wf(a,n,i,f,!0)},off(a,n,i,f){if(typeof n!="string"||!a)return;const[v,g,E]=kp(n,i,f),I=E!==n,C=Ip(a),M=C[E]||{},D=n.startsWith(".");if(typeof g<"u"){if(!Object.keys(M).length)return;sc(a,C,E,g,v?i:null);return}if(D)for(const U of Object.keys(C))P1(a,C,U,n.slice(1));for(const[U,J]of Object.entries(M)){const K=U.replace(k1,"");(!I||n.includes(K))&&sc(a,C,E,J.callable,J.delegationSelector)}},trigger(a,n,i){if(typeof n!="string"||!a)return null;const f=xp(),v=Dp(n),g=n!==v;let E=null,I=!0,C=!0,M=!1;g&&f&&(E=f.Event(n,i),f(a).trigger(E),I=!E.isPropagationStopped(),C=!E.isImmediatePropagationStopped(),M=E.isDefaultPrevented());const D=Ac(new Event(n,{bubbles:I,cancelable:!0}),i);return M&&D.preventDefault(),C&&a.dispatchEvent(D),D.defaultPrevented&&E&&E.preventDefault(),D}};function Ac(a,n={}){for(const[i,f]of Object.entries(n))try{a[i]=f}catch{Object.defineProperty(a,i,{configurable:!0,get(){return f}})}return a}function Ef(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function Wu(a){return a.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Vr={setDataAttribute(a,n,i){a.setAttribute(`data-bs-${Wu(n)}`,i)},removeDataAttribute(a,n){a.removeAttribute(`data-bs-${Wu(n)}`)},getDataAttributes(a){if(!a)return{};const n={},i=Object.keys(a.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of i){let v=f.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1),n[v]=Ef(a.dataset[f])}return n},getDataAttribute(a,n){return Ef(a.getAttribute(`data-bs-${Wu(n)}`))}};class Uo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,i){const f=Ur(i)?Vr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...Ur(i)?Vr.getDataAttributes(i):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,i=this.constructor.DefaultType){for(const[f,v]of Object.entries(i)){const g=n[f],E=Ur(g)?"element":x1(g);if(!new RegExp(v).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${f}" provided type "${E}" but expected type "${v}".`)}}}const L1="5.3.8";class tr extends Uo{constructor(n,i){super(),n=_i(n),n&&(this._element=n,this._config=this._getConfig(i),Fu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Fu.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,i,f=!0){Cp(n,i,f)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Fu.get(_i(n),this.DATA_KEY)}static getOrCreateInstance(n,i={}){return this.getInstance(n)||new this(n,typeof i=="object"?i:null)}static get VERSION(){return L1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const Hu=a=>{let n=a.getAttribute("data-bs-target");if(!n||n==="#"){let i=a.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&i!=="#"?i.trim():null}return n?n.split(",").map(i=>wp(i)).join(","):null},ee={find(a,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,a))},findOne(a,n=document.documentElement){return Element.prototype.querySelector.call(n,a)},children(a,n){return[].concat(...a.children).filter(i=>i.matches(n))},parents(a,n){const i=[];let f=a.parentNode.closest(n);for(;f;)i.push(f),f=f.parentNode.closest(n);return i},prev(a,n){let i=a.previousElementSibling;for(;i;){if(i.matches(n))return[i];i=i.previousElementSibling}return[]},next(a,n){let i=a.nextElementSibling;for(;i;){if(i.matches(n))return[i];i=i.nextElementSibling}return[]},focusableChildren(a){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(n,a).filter(i=>!mi(i)&&Fs(i))},getSelectorFromElement(a){const n=Hu(a);return n&&ee.findOne(n)?n:null},getElementFromSelector(a){const n=Hu(a);return n?ee.findOne(n):null},getMultipleElementsFromSelector(a){const n=Hu(a);return n?ee.find(n):[]}},fl=(a,n="hide")=>{const i=`click.dismiss${a.EVENT_KEY}`,f=a.NAME;F.on(document,i,`[data-bs-dismiss="${f}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),mi(this))return;const g=ee.getElementFromSelector(this)||this.closest(`.${f}`);a.getOrCreateInstance(g)[n]()})},R1="alert",M1="bs.alert",Np=`.${M1}`,F1=`close${Np}`,q1=`closed${Np}`,B1="fade",W1="show";class pl extends tr{static get NAME(){return R1}close(){if(F.trigger(this._element,F1).defaultPrevented)return;this._element.classList.remove(W1);const i=this._element.classList.contains(B1);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),F.trigger(this._element,q1),this.dispose()}static jQueryInterface(n){return this.each(function(){const i=pl.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}fl(pl,"close");Fn(pl);const H1="button",U1="bs.button",V1=`.${U1}`,z1=".data-api",K1="active",Af='[data-bs-toggle="button"]',G1=`click${V1}${z1}`;class hl extends tr{static get NAME(){return H1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(K1))}static jQueryInterface(n){return this.each(function(){const i=hl.getOrCreateInstance(this);n==="toggle"&&i[n]()})}}F.on(document,G1,Af,a=>{a.preventDefault();const n=a.target.closest(Af);hl.getOrCreateInstance(n).toggle()});Fn(hl);const Y1="swipe",qs=".bs.swipe",j1=`touchstart${qs}`,Q1=`touchmove${qs}`,X1=`touchend${qs}`,J1=`pointerdown${qs}`,Z1=`pointerup${qs}`,e0="touch",t0="pen",n0="pointer-event",r0=40,i0={endCallback:null,leftCallback:null,rightCallback:null},s0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class sl extends Uo{constructor(n,i){super(),this._element=n,!(!n||!sl.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return i0}static get DefaultType(){return s0}static get NAME(){return Y1}dispose(){F.off(this._element,qs)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),un(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=r0)return;const i=n/this._deltaX;this._deltaX=0,i&&un(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,J1,n=>this._start(n)),F.on(this._element,Z1,n=>this._end(n)),this._element.classList.add(n0)):(F.on(this._element,j1,n=>this._start(n)),F.on(this._element,Q1,n=>this._move(n)),F.on(this._element,X1,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===t0||n.pointerType===e0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const o0="carousel",a0="bs.carousel",yi=`.${a0}`,$p=".data-api",l0="ArrowLeft",u0="ArrowRight",c0=500,Po="next",xs="prev",Ss="left",Ja="right",d0=`slide${yi}`,Uu=`slid${yi}`,f0=`keydown${yi}`,p0=`mouseenter${yi}`,h0=`mouseleave${yi}`,v0=`dragstart${yi}`,_0=`load${yi}${$p}`,m0=`click${yi}${$p}`,Pp="carousel",za="active",g0="slide",b0="carousel-item-end",y0="carousel-item-start",w0="carousel-item-next",E0="carousel-item-prev",Lp=".active",Rp=".carousel-item",A0=Lp+Rp,x0=".carousel-item img",C0=".carousel-indicators",T0="[data-bs-slide], [data-bs-slide-to]",S0='[data-bs-ride="carousel"]',I0={[l0]:Ja,[u0]:Ss},O0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},k0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vo extends tr{constructor(n,i){super(n,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ee.findOne(C0,this._element),this._addEventListeners(),this._config.ride===Pp&&this.cycle()}static get Default(){return O0}static get DefaultType(){return k0}static get NAME(){return o0}next(){this._slide(Po)}nextWhenVisible(){!document.hidden&&Fs(this._element)&&this.next()}prev(){this._slide(xs)}pause(){this._isSliding&&Ep(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){F.one(this._element,Uu,()=>this.cycle());return}this.cycle()}}to(n){const i=this._getItems();if(n>i.length-1||n<0)return;if(this._isSliding){F.one(this._element,Uu,()=>this.to(n));return}const f=this._getItemIndex(this._getActive());if(f===n)return;const v=n>f?Po:xs;this._slide(v,i[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&F.on(this._element,f0,n=>this._keydown(n)),this._config.pause==="hover"&&(F.on(this._element,p0,()=>this.pause()),F.on(this._element,h0,()=>this._maybeEnableCycle())),this._config.touch&&sl.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of ee.find(x0,this._element))F.on(f,v0,v=>v.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Ss)),rightCallback:()=>this._slide(this._directionToOrder(Ja)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),c0+this._config.interval))}};this._swipeHelper=new sl(this._element,i)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const i=I0[n.key];i&&(n.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const i=ee.findOne(Lp,this._indicatorsElement);i.classList.remove(za),i.removeAttribute("aria-current");const f=ee.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);f&&(f.classList.add(za),f.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const i=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(n,i=null){if(this._isSliding)return;const f=this._getActive(),v=n===Po,g=i||Ec(this._getItems(),f,v,this._config.wrap);if(g===f)return;const E=this._getItemIndex(g),I=K=>F.trigger(this._element,K,{relatedTarget:g,direction:this._orderToDirection(n),from:this._getItemIndex(f),to:E});if(I(d0).defaultPrevented||!f||!g)return;const M=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(E),this._activeElement=g;const D=v?y0:b0,U=v?w0:E0;g.classList.add(U),Ho(g),f.classList.add(D),g.classList.add(D);const J=()=>{g.classList.remove(D,U),g.classList.add(za),f.classList.remove(za,U,D),this._isSliding=!1,I(Uu)};this._queueCallback(J,f,this._isAnimated()),M&&this.cycle()}_isAnimated(){return this._element.classList.contains(g0)}_getActive(){return ee.findOne(A0,this._element)}_getItems(){return ee.find(Rp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return Rn()?n===Ss?xs:Po:n===Ss?Po:xs}_orderToDirection(n){return Rn()?n===xs?Ss:Ja:n===xs?Ja:Ss}static jQueryInterface(n){return this.each(function(){const i=Vo.getOrCreateInstance(this,n);if(typeof n=="number"){i.to(n);return}if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,m0,T0,function(a){const n=ee.getElementFromSelector(this);if(!n||!n.classList.contains(Pp))return;a.preventDefault();const i=Vo.getOrCreateInstance(n),f=this.getAttribute("data-bs-slide-to");if(f){i.to(f),i._maybeEnableCycle();return}if(Vr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});F.on(window,_0,()=>{const a=ee.find(S0);for(const n of a)Vo.getOrCreateInstance(n)});Fn(Vo);const D0="collapse",N0="bs.collapse",zo=`.${N0}`,$0=".data-api",P0=`show${zo}`,L0=`shown${zo}`,R0=`hide${zo}`,M0=`hidden${zo}`,F0=`click${zo}${$0}`,Vu="show",Os="collapse",Ka="collapsing",q0="collapsed",B0=`:scope .${Os} .${Os}`,W0="collapse-horizontal",H0="width",U0="height",V0=".collapse.show, .collapse.collapsing",oc='[data-bs-toggle="collapse"]',z0={parent:null,toggle:!0},K0={parent:"(null|element)",toggle:"boolean"};class Bo extends tr{constructor(n,i){super(n,i),this._isTransitioning=!1,this._triggerArray=[];const f=ee.find(oc);for(const v of f){const g=ee.getSelectorFromElement(v),E=ee.find(g).filter(I=>I===this._element);g!==null&&E.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return z0}static get DefaultType(){return K0}static get NAME(){return D0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(V0).filter(I=>I!==this._element).map(I=>Bo.getOrCreateInstance(I,{toggle:!1}))),n.length&&n[0]._isTransitioning||F.trigger(this._element,P0).defaultPrevented)return;for(const I of n)I.hide();const f=this._getDimension();this._element.classList.remove(Os),this._element.classList.add(Ka),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(Ka),this._element.classList.add(Os,Vu),this._element.style[f]="",F.trigger(this._element,L0)},E=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(v,this._element,!0),this._element.style[f]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,R0).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Ho(this._element),this._element.classList.add(Ka),this._element.classList.remove(Os,Vu);for(const v of this._triggerArray){const g=ee.getElementFromSelector(v);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(Ka),this._element.classList.add(Os),F.trigger(this._element,M0)};this._element.style[i]="",this._queueCallback(f,this._element,!0)}_isShown(n=this._element){return n.classList.contains(Vu)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=_i(n.parent),n}_getDimension(){return this._element.classList.contains(W0)?H0:U0}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(oc);for(const i of n){const f=ee.getElementFromSelector(i);f&&this._addAriaAndCollapsedClass([i],this._isShown(f))}}_getFirstLevelChildren(n){const i=ee.find(B0,this._config.parent);return ee.find(n,this._config.parent).filter(f=>!i.includes(f))}_addAriaAndCollapsedClass(n,i){if(n.length)for(const f of n)f.classList.toggle(q0,!i),f.setAttribute("aria-expanded",i)}static jQueryInterface(n){const i={};return typeof n=="string"&&/show|hide/.test(n)&&(i.toggle=!1),this.each(function(){const f=Bo.getOrCreateInstance(this,i);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n]()}})}}F.on(document,F0,oc,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const n of ee.getMultipleElementsFromSelector(this))Bo.getOrCreateInstance(n,{toggle:!1}).toggle()});Fn(Bo);const xf="dropdown",G0="bs.dropdown",Ki=`.${G0}`,xc=".data-api",Y0="Escape",Cf="Tab",j0="ArrowUp",Tf="ArrowDown",Q0=2,X0=`hide${Ki}`,J0=`hidden${Ki}`,Z0=`show${Ki}`,ew=`shown${Ki}`,Mp=`click${Ki}${xc}`,Fp=`keydown${Ki}${xc}`,tw=`keyup${Ki}${xc}`,Is="show",nw="dropup",rw="dropend",iw="dropstart",sw="dropup-center",ow="dropdown-center",Wi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',aw=`${Wi}.${Is}`,Za=".dropdown-menu",lw=".navbar",uw=".navbar-nav",cw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",dw=Rn()?"top-end":"top-start",fw=Rn()?"top-start":"top-end",pw=Rn()?"bottom-end":"bottom-start",hw=Rn()?"bottom-start":"bottom-end",vw=Rn()?"left-start":"right-start",_w=Rn()?"right-start":"left-start",mw="top",gw="bottom",bw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},yw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wr extends tr{constructor(n,i){super(n,i),this._popper=null,this._parent=this._element.parentNode,this._menu=ee.next(this._element,Za)[0]||ee.prev(this._element,Za)[0]||ee.findOne(Za,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bw}static get DefaultType(){return yw}static get NAME(){return xf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(mi(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!F.trigger(this._element,Z0,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(uw))for(const f of[].concat(...document.body.children))F.on(f,"mouseover",il);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Is),this._element.classList.add(Is),F.trigger(this._element,ew,n)}}hide(){if(mi(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!F.trigger(this._element,X0,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))F.off(f,"mouseover",il);this._popper&&this._popper.destroy(),this._menu.classList.remove(Is),this._element.classList.remove(Is),this._element.setAttribute("aria-expanded","false"),Vr.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,J0,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!Ur(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${xf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(typeof yp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:Ur(this._config.reference)?n=_i(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const i=this._getPopperConfig();this._popper=wc(n,this._menu,i)}_isShown(){return this._menu.classList.contains(Is)}_getPlacement(){const n=this._parent;if(n.classList.contains(rw))return vw;if(n.classList.contains(iw))return _w;if(n.classList.contains(sw))return mw;if(n.classList.contains(ow))return gw;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(nw)?i?fw:dw:i?hw:pw}_detectNavbar(){return this._element.closest(lw)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Vr.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...un(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:i}){const f=ee.find(cw,this._menu).filter(v=>Fs(v));f.length&&Ec(f,i,n===Tf,!f.includes(i)).focus()}static jQueryInterface(n){return this.each(function(){const i=wr.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}static clearMenus(n){if(n.button===Q0||n.type==="keyup"&&n.key!==Cf)return;const i=ee.find(aw);for(const f of i){const v=wr.getInstance(f);if(!v||v._config.autoClose===!1)continue;const g=n.composedPath(),E=g.includes(v._menu);if(g.includes(v._element)||v._config.autoClose==="inside"&&!E||v._config.autoClose==="outside"&&E||v._menu.contains(n.target)&&(n.type==="keyup"&&n.key===Cf||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const I={relatedTarget:v._element};n.type==="click"&&(I.clickEvent=n),v._completeHide(I)}}static dataApiKeydownHandler(n){const i=/input|textarea/i.test(n.target.tagName),f=n.key===Y0,v=[j0,Tf].includes(n.key);if(!v&&!f||i&&!f)return;n.preventDefault();const g=this.matches(Wi)?this:ee.prev(this,Wi)[0]||ee.next(this,Wi)[0]||ee.findOne(Wi,n.delegateTarget.parentNode),E=wr.getOrCreateInstance(g);if(v){n.stopPropagation(),E.show(),E._selectMenuItem(n);return}E._isShown()&&(n.stopPropagation(),E.hide(),g.focus())}}F.on(document,Fp,Wi,wr.dataApiKeydownHandler);F.on(document,Fp,Za,wr.dataApiKeydownHandler);F.on(document,Mp,wr.clearMenus);F.on(document,tw,wr.clearMenus);F.on(document,Mp,Wi,function(a){a.preventDefault(),wr.getOrCreateInstance(this).toggle()});Fn(wr);const qp="backdrop",ww="fade",Sf="show",If=`mousedown.bs.${qp}`,Ew={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Aw={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bp extends Uo{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return Ew}static get DefaultType(){return Aw}static get NAME(){return qp}show(n){if(!this._config.isVisible){un(n);return}this._append();const i=this._getElement();this._config.isAnimated&&Ho(i),i.classList.add(Sf),this._emulateAnimation(()=>{un(n)})}hide(n){if(!this._config.isVisible){un(n);return}this._getElement().classList.remove(Sf),this._emulateAnimation(()=>{this.dispose(),un(n)})}dispose(){this._isAppended&&(F.off(this._element,If),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(ww),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=_i(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),F.on(n,If,()=>{un(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){Cp(n,this._getElement(),this._config.isAnimated)}}const xw="focustrap",Cw="bs.focustrap",ol=`.${Cw}`,Tw=`focusin${ol}`,Sw=`keydown.tab${ol}`,Iw="Tab",Ow="forward",Of="backward",kw={autofocus:!0,trapElement:null},Dw={autofocus:"boolean",trapElement:"element"};class Wp extends Uo{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kw}static get DefaultType(){return Dw}static get NAME(){return xw}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,ol),F.on(document,Tw,n=>this._handleFocusin(n)),F.on(document,Sw,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,ol))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target===document||n.target===i||i.contains(n.target))return;const f=ee.focusableChildren(i);f.length===0?i.focus():this._lastTabNavDirection===Of?f[f.length-1].focus():f[0].focus()}_handleKeydown(n){n.key===Iw&&(this._lastTabNavDirection=n.shiftKey?Of:Ow)}}const kf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Df=".sticky-top",Ga="padding-right",Nf="margin-right";class ac{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ga,i=>i+n),this._setElementAttributes(kf,Ga,i=>i+n),this._setElementAttributes(Df,Nf,i=>i-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ga),this._resetElementAttributes(kf,Ga),this._resetElementAttributes(Df,Nf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,i,f){const v=this.getWidth(),g=E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+v)return;this._saveInitialAttribute(E,i);const I=window.getComputedStyle(E).getPropertyValue(i);E.style.setProperty(i,`${f(Number.parseFloat(I))}px`)};this._applyManipulationCallback(n,g)}_saveInitialAttribute(n,i){const f=n.style.getPropertyValue(i);f&&Vr.setDataAttribute(n,i,f)}_resetElementAttributes(n,i){const f=v=>{const g=Vr.getDataAttribute(v,i);if(g===null){v.style.removeProperty(i);return}Vr.removeDataAttribute(v,i),v.style.setProperty(i,g)};this._applyManipulationCallback(n,f)}_applyManipulationCallback(n,i){if(Ur(n)){i(n);return}for(const f of ee.find(n,this._element))i(f)}}const Nw="modal",$w="bs.modal",Mn=`.${$w}`,Pw=".data-api",Lw="Escape",Rw=`hide${Mn}`,Mw=`hidePrevented${Mn}`,Hp=`hidden${Mn}`,Up=`show${Mn}`,Fw=`shown${Mn}`,qw=`resize${Mn}`,Bw=`click.dismiss${Mn}`,Ww=`mousedown.dismiss${Mn}`,Hw=`keydown.dismiss${Mn}`,Uw=`click${Mn}${Pw}`,$f="modal-open",Vw="fade",Pf="show",zu="modal-static",zw=".modal.show",Kw=".modal-dialog",Gw=".modal-body",Yw='[data-bs-toggle="modal"]',jw={backdrop:!0,focus:!0,keyboard:!0},Qw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ls extends tr{constructor(n,i){super(n,i),this._dialog=ee.findOne(Kw,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ac,this._addEventListeners()}static get Default(){return jw}static get DefaultType(){return Qw}static get NAME(){return Nw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||F.trigger(this._element,Up,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($f),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||F.trigger(this._element,Rw).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Pf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){F.off(window,Mn),F.off(this._dialog,Mn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Wp({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=ee.findOne(Gw,this._dialog);i&&(i.scrollTop=0),Ho(this._element),this._element.classList.add(Pf);const f=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Fw,{relatedTarget:n})};this._queueCallback(f,this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Hw,n=>{if(n.key===Lw){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),F.on(window,qw,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,Ww,n=>{F.one(this._element,Bw,i=>{if(!(this._element!==n.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($f),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Hp)})}_isAnimated(){return this._element.classList.contains(Vw)}_triggerBackdropTransition(){if(F.trigger(this._element,Mw).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(zu)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(zu),this._queueCallback(()=>{this._element.classList.remove(zu),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),f=i>0;if(f&&!n){const v=Rn()?"paddingLeft":"paddingRight";this._element.style[v]=`${i}px`}if(!f&&n){const v=Rn()?"paddingRight":"paddingLeft";this._element.style[v]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,i){return this.each(function(){const f=Ls.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof f[n]>"u")throw new TypeError(`No method named "${n}"`);f[n](i)}})}}F.on(document,Uw,Yw,function(a){const n=ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),F.one(n,Up,v=>{v.defaultPrevented||F.one(n,Hp,()=>{Fs(this)&&this.focus()})});const i=ee.findOne(zw);i&&Ls.getInstance(i).hide(),Ls.getOrCreateInstance(n).toggle(this)});fl(Ls);Fn(Ls);const Xw="offcanvas",Jw="bs.offcanvas",Kr=`.${Jw}`,Vp=".data-api",Zw=`load${Kr}${Vp}`,eE="Escape",Lf="show",Rf="showing",Mf="hiding",tE="offcanvas-backdrop",zp=".offcanvas.show",nE=`show${Kr}`,rE=`shown${Kr}`,iE=`hide${Kr}`,Ff=`hidePrevented${Kr}`,Kp=`hidden${Kr}`,sE=`resize${Kr}`,oE=`click${Kr}${Vp}`,aE=`keydown.dismiss${Kr}`,lE='[data-bs-toggle="offcanvas"]',uE={backdrop:!0,keyboard:!0,scroll:!1},cE={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gi extends tr{constructor(n,i){super(n,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uE}static get DefaultType(){return cE}static get NAME(){return Xw}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||F.trigger(this._element,nE,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ac().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Rf);const f=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Lf),this._element.classList.remove(Rf),F.trigger(this._element,rE,{relatedTarget:n})};this._queueCallback(f,this._element,!0)}hide(){if(!this._isShown||F.trigger(this._element,iE).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mf),this._backdrop.hide();const i=()=>{this._element.classList.remove(Lf,Mf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ac().reset(),F.trigger(this._element,Kp)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){F.trigger(this._element,Ff);return}this.hide()},i=!!this._config.backdrop;return new Bp({className:tE,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?n:null})}_initializeFocusTrap(){return new Wp({trapElement:this._element})}_addEventListeners(){F.on(this._element,aE,n=>{if(n.key===eE){if(this._config.keyboard){this.hide();return}F.trigger(this._element,Ff)}})}static jQueryInterface(n){return this.each(function(){const i=gi.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}F.on(document,oE,lE,function(a){const n=ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),mi(this))return;F.one(n,Kp,()=>{Fs(this)&&this.focus()});const i=ee.findOne(zp);i&&i!==n&&gi.getInstance(i).hide(),gi.getOrCreateInstance(n).toggle(this)});F.on(window,Zw,()=>{for(const a of ee.find(zp))gi.getOrCreateInstance(a).show()});F.on(window,sE,()=>{for(const a of ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&gi.getOrCreateInstance(a).hide()});fl(gi);Fn(gi);const dE=/^aria-[\w-]*$/i,Gp={"*":["class","dir","id","lang","role",dE],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hE=(a,n)=>{const i=a.nodeName.toLowerCase();return n.includes(i)?fE.has(i)?!!pE.test(a.nodeValue):!0:n.filter(f=>f instanceof RegExp).some(f=>f.test(i))};function vE(a,n,i){if(!a.length)return a;if(i&&typeof i=="function")return i(a);const v=new window.DOMParser().parseFromString(a,"text/html"),g=[].concat(...v.body.querySelectorAll("*"));for(const E of g){const I=E.nodeName.toLowerCase();if(!Object.keys(n).includes(I)){E.remove();continue}const C=[].concat(...E.attributes),M=[].concat(n["*"]||[],n[I]||[]);for(const D of C)hE(D,M)||E.removeAttribute(D.nodeName)}return v.body.innerHTML}const _E="TemplateFactory",mE={allowList:Gp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},gE={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bE={entry:"(string|element|function|null)",selector:"(string|element)"};class yE extends Uo{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return mE}static get DefaultType(){return gE}static get NAME(){return _E}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[v,g]of Object.entries(this._config.content))this._setContent(n,g,v);const i=n.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&i.classList.add(...f.split(" ")),i}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[i,f]of Object.entries(n))super._typeCheckConfig({selector:i,entry:f},bE)}_setContent(n,i,f){const v=ee.findOne(f,n);if(v){if(i=this._resolvePossibleFunction(i),!i){v.remove();return}if(Ur(i)){this._putElementInTemplate(_i(i),v);return}if(this._config.html){v.innerHTML=this._maybeSanitize(i);return}v.textContent=i}}_maybeSanitize(n){return this._config.sanitize?vE(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return un(n,[void 0,this])}_putElementInTemplate(n,i){if(this._config.html){i.innerHTML="",i.append(n);return}i.textContent=n.textContent}}const wE="tooltip",EE=new Set(["sanitize","allowList","sanitizeFn"]),Ku="fade",AE="modal",Ya="show",xE=".tooltip-inner",qf=`.${AE}`,Bf="hide.bs.modal",Lo="hover",Gu="focus",Yu="click",CE="manual",TE="hide",SE="hidden",IE="show",OE="shown",kE="inserted",DE="click",NE="focusin",$E="focusout",PE="mouseenter",LE="mouseleave",RE={AUTO:"auto",TOP:"top",RIGHT:Rn()?"left":"right",BOTTOM:"bottom",LEFT:Rn()?"right":"left"},ME={allowList:Gp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},FE={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Bs extends tr{constructor(n,i){if(typeof yp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ME}static get DefaultType(){return FE}static get NAME(){return wE}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(qf),Bf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=F.trigger(this._element,this.constructor.eventName(IE)),f=(Ap(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!f)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:g}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(g.append(v),F.trigger(this._element,this.constructor.eventName(kE))),this._popper=this._createPopper(v),v.classList.add(Ya),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))F.on(I,"mouseover",il);const E=()=>{F.trigger(this._element,this.constructor.eventName(OE)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(E,this.tip,this._isAnimated())}hide(){if(!this._isShown()||F.trigger(this._element,this.constructor.eventName(TE)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ya),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))F.off(v,"mouseover",il);this._activeTrigger[Yu]=!1,this._activeTrigger[Gu]=!1,this._activeTrigger[Lo]=!1,this._isHovered=null;const f=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName(SE)))};this._queueCallback(f,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const i=this._getTemplateFactory(n).toHtml();if(!i)return null;i.classList.remove(Ku,Ya),i.classList.add(`bs-${this.constructor.NAME}-auto`);const f=C1(this.constructor.NAME).toString();return i.setAttribute("id",f),this._isAnimated()&&i.classList.add(Ku),i}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new yE({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[xE]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ku)}_isShown(){return this.tip&&this.tip.classList.contains(Ya)}_createPopper(n){const i=un(this._config.placement,[this,n,this._element]),f=RE[i.toUpperCase()];return wc(this._element,n,this._getPopperConfig(f))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(i=>Number.parseInt(i,10)):typeof n=="function"?i=>n(i,this._element):n}_resolvePossibleFunction(n){return un(n,[this._element,this._element])}_getPopperConfig(n){const i={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...i,...un(this._config.popperConfig,[void 0,i])}}_setListeners(){const n=this._config.trigger.split(" ");for(const i of n)if(i==="click")F.on(this._element,this.constructor.eventName(DE),this._config.selector,f=>{const v=this._initializeOnDelegatedTarget(f);v._activeTrigger[Yu]=!(v._isShown()&&v._activeTrigger[Yu]),v.toggle()});else if(i!==CE){const f=i===Lo?this.constructor.eventName(PE):this.constructor.eventName(NE),v=i===Lo?this.constructor.eventName(LE):this.constructor.eventName($E);F.on(this._element,f,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusin"?Gu:Lo]=!0,E._enter()}),F.on(this._element,v,this._config.selector,g=>{const E=this._initializeOnDelegatedTarget(g);E._activeTrigger[g.type==="focusout"?Gu:Lo]=E._element.contains(g.relatedTarget),E._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(qf),Bf,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,i){clearTimeout(this._timeout),this._timeout=setTimeout(n,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const i=Vr.getDataAttributes(this._element);for(const f of Object.keys(i))EE.has(f)&&delete i[f];return n={...i,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:_i(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[i,f]of Object.entries(this._config))this.constructor.Default[i]!==f&&(n[i]=f);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const i=Bs.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}Fn(Bs);const qE="popover",BE=".popover-header",WE=".popover-body",HE={...Bs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},UE={...Bs.DefaultType,content:"(null|string|element|function)"};class vl extends Bs{static get Default(){return HE}static get DefaultType(){return UE}static get NAME(){return qE}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[BE]:this._getTitle(),[WE]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const i=vl.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n]()}})}}Fn(vl);const VE="scrollspy",zE="bs.scrollspy",Cc=`.${zE}`,KE=".data-api",GE=`activate${Cc}`,Wf=`click${Cc}`,YE=`load${Cc}${KE}`,jE="dropdown-item",Cs="active",QE='[data-bs-spy="scroll"]',ju="[href]",XE=".nav, .list-group",Hf=".nav-link",JE=".nav-item",ZE=".list-group-item",eA=`${Hf}, ${JE} > ${Hf}, ${ZE}`,tA=".dropdown",nA=".dropdown-toggle",rA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},iA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _l extends tr{constructor(n,i){super(n,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rA}static get DefaultType(){return iA}static get NAME(){return VE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=_i(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(i=>Number.parseFloat(i))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Wf),F.on(this._config.target,Wf,ju,n=>{const i=this._observableSections.get(n.target.hash);if(i){n.preventDefault();const f=this._rootElement||window,v=i.offsetTop-this._element.offsetTop;if(f.scrollTo){f.scrollTo({top:v,behavior:"smooth"});return}f.scrollTop=v}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),n)}_observerCallback(n){const i=E=>this._targetLinks.get(`#${E.target.id}`),f=E=>{this._previousScrollData.visibleEntryTop=E.target.offsetTop,this._process(i(E))},v=(this._rootElement||document.documentElement).scrollTop,g=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const E of n){if(!E.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(E));continue}const I=E.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(g&&I){if(f(E),!v)return;continue}!g&&!I&&f(E)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=ee.find(ju,this._config.target);for(const i of n){if(!i.hash||mi(i))continue;const f=ee.findOne(decodeURI(i.hash),this._element);Fs(f)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,f))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Cs),this._activateParents(n),F.trigger(this._element,GE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(jE)){ee.findOne(nA,n.closest(tA)).classList.add(Cs);return}for(const i of ee.parents(n,XE))for(const f of ee.prev(i,eA))f.classList.add(Cs)}_clearActiveClass(n){n.classList.remove(Cs);const i=ee.find(`${ju}.${Cs}`,n);for(const f of i)f.classList.remove(Cs)}static jQueryInterface(n){return this.each(function(){const i=_l.getOrCreateInstance(this,n);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(window,YE,()=>{for(const a of ee.find(QE))_l.getOrCreateInstance(a)});Fn(_l);const sA="tab",oA="bs.tab",Gi=`.${oA}`,aA=`hide${Gi}`,lA=`hidden${Gi}`,uA=`show${Gi}`,cA=`shown${Gi}`,dA=`click${Gi}`,fA=`keydown${Gi}`,pA=`load${Gi}`,hA="ArrowLeft",Uf="ArrowRight",vA="ArrowUp",Vf="ArrowDown",Qu="Home",zf="End",Hi="active",Kf="fade",Xu="show",_A="dropdown",Yp=".dropdown-toggle",mA=".dropdown-menu",Ju=`:not(${Yp})`,gA='.list-group, .nav, [role="tablist"]',bA=".nav-item, .list-group-item",yA=`.nav-link${Ju}, .list-group-item${Ju}, [role="tab"]${Ju}`,jp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zu=`${yA}, ${jp}`,wA=`.${Hi}[data-bs-toggle="tab"], .${Hi}[data-bs-toggle="pill"], .${Hi}[data-bs-toggle="list"]`;class Rs extends tr{constructor(n){super(n),this._parent=this._element.closest(gA),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,fA,i=>this._keydown(i)))}static get NAME(){return sA}show(){const n=this._element;if(this._elemIsActive(n))return;const i=this._getActiveElem(),f=i?F.trigger(i,aA,{relatedTarget:n}):null;F.trigger(n,uA,{relatedTarget:i}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(i,n),this._activate(n,i))}_activate(n,i){if(!n)return;n.classList.add(Hi),this._activate(ee.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(Xu);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),F.trigger(n,cA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Kf))}_deactivate(n,i){if(!n)return;n.classList.remove(Hi),n.blur(),this._deactivate(ee.getElementFromSelector(n));const f=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(Xu);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),F.trigger(n,lA,{relatedTarget:i})};this._queueCallback(f,n,n.classList.contains(Kf))}_keydown(n){if(![hA,Uf,vA,Vf,Qu,zf].includes(n.key))return;n.stopPropagation(),n.preventDefault();const i=this._getChildren().filter(v=>!mi(v));let f;if([Qu,zf].includes(n.key))f=i[n.key===Qu?0:i.length-1];else{const v=[Uf,Vf].includes(n.key);f=Ec(i,n.target,v,!0)}f&&(f.focus({preventScroll:!0}),Rs.getOrCreateInstance(f).show())}_getChildren(){return ee.find(Zu,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,i){this._setAttributeIfNotExists(n,"role","tablist");for(const f of i)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const i=this._elemIsActive(n),f=this._getOuterElement(n);n.setAttribute("aria-selected",i),f!==n&&this._setAttributeIfNotExists(f,"role","presentation"),i||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=ee.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const f=this._getOuterElement(n);if(!f.classList.contains(_A))return;const v=(g,E)=>{const I=ee.findOne(g,f);I&&I.classList.toggle(E,i)};v(Yp,Hi),v(mA,Xu),f.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(n,i,f){n.hasAttribute(i)||n.setAttribute(i,f)}_elemIsActive(n){return n.classList.contains(Hi)}_getInnerElement(n){return n.matches(Zu)?n:ee.findOne(Zu,n)}_getOuterElement(n){return n.closest(bA)||n}static jQueryInterface(n){return this.each(function(){const i=Rs.getOrCreateInstance(this);if(typeof n=="string"){if(i[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);i[n]()}})}}F.on(document,dA,jp,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!mi(this)&&Rs.getOrCreateInstance(this).show()});F.on(window,pA,()=>{for(const a of ee.find(wA))Rs.getOrCreateInstance(a)});Fn(Rs);const EA="toast",AA="bs.toast",wi=`.${AA}`,xA=`mouseover${wi}`,CA=`mouseout${wi}`,TA=`focusin${wi}`,SA=`focusout${wi}`,IA=`hide${wi}`,OA=`hidden${wi}`,kA=`show${wi}`,DA=`shown${wi}`,NA="fade",Gf="hide",ja="show",Qa="showing",$A={animation:"boolean",autohide:"boolean",delay:"number"},PA={animation:!0,autohide:!0,delay:5e3};class ml extends tr{constructor(n,i){super(n,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return PA}static get DefaultType(){return $A}static get NAME(){return EA}show(){if(F.trigger(this._element,kA).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(NA);const i=()=>{this._element.classList.remove(Qa),F.trigger(this._element,DA),this._maybeScheduleHide()};this._element.classList.remove(Gf),Ho(this._element),this._element.classList.add(ja,Qa),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||F.trigger(this._element,IA).defaultPrevented)return;const i=()=>{this._element.classList.add(Gf),this._element.classList.remove(Qa,ja),F.trigger(this._element,OA)};this._element.classList.add(Qa),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ja),super.dispose()}isShown(){return this._element.classList.contains(ja)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,i){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const f=n.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,xA,n=>this._onInteraction(n,!0)),F.on(this._element,CA,n=>this._onInteraction(n,!1)),F.on(this._element,TA,n=>this._onInteraction(n,!0)),F.on(this._element,SA,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const i=ml.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof i[n]>"u")throw new TypeError(`No method named "${n}"`);i[n](this)}})}}fl(ml);Fn(ml);var Ro={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var LA=Ro.exports,Yf;function RA(){return Yf||(Yf=1,(function(a,n){(function(){var i,f="4.17.21",v=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",I="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",M=500,D="__lodash_placeholder__",U=1,J=2,K=4,te=1,G=2,re=1,oe=2,Pe=4,Ie=8,fe=16,ae=32,Ae=64,Oe=128,qe=256,Ne=512,Ve=30,et="...",wt=800,ke=16,It=1,cn=2,Et=3,tt=1/0,Ce=9007199254740991,xn=17976931348623157e292,Gt=NaN,Ot=4294967295,Ar=Ot-1,ht=Ot>>>1,qn=[["ary",Oe],["bind",re],["bindKey",oe],["curry",Ie],["curryRight",fe],["flip",Ne],["partial",ae],["partialRight",Ae],["rearg",qe]],At="[object Arguments]",Cn="[object Array]",Gr="[object AsyncFunction]",Rt="[object Boolean]",Bn="[object Date]",Ws="[object DOMException]",nr="[object Error]",Yr="[object Function]",Ei="[object GeneratorFunction]",kt="[object Map]",xr="[object Number]",Wn="[object Null]",Yt="[object Object]",Cr="[object Promise]",Hs="[object Proxy]",Dt="[object RegExp]",vt="[object Set]",Nt="[object String]",me="[object Symbol]",Xe="[object Undefined]",it="[object WeakMap]",xt="[object WeakSet]",rr="[object ArrayBuffer]",Mt="[object DataView]",Us="[object Float32Array]",ir="[object Float64Array]",Vs="[object Int8Array]",zs="[object Int16Array]",Tr="[object Int32Array]",sr="[object Uint8Array]",gt="[object Uint8ClampedArray]",Ks="[object Uint16Array]",Gs="[object Uint32Array]",bt=/\b__p \+= '';/g,Ko=/\b(__p \+=) '' \+/g,Ys=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Go=/&(?:amp|lt|gt|quot|#39);/g,Ai=/[&<>"']/g,js=RegExp(Go.source),Qs=RegExp(Ai.source),q=/<%-([\s\S]+?)%>/g,gl=/<%([\s\S]+?)%>/g,Yi=/<%=([\s\S]+?)%>/g,bl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yl=/^\w*$/,Ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/[\\^$.*+?()[\]{}|]/g,Hn=RegExp(xi.source),dn=/^\s+/,Xs=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,Js=/,? & /,or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,Un=/\\(\\)?/g,wl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ci=/\w*$/,El=/^[-+]0x[0-9a-f]+$/i,Al=/^0b[01]+$/i,Ct=/^\[object .+?Constructor\]$/,Ti=/^0o[0-7]+$/i,Vn=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jr=/($^)/,Zs=/['\n\r\u2028\u2029\\]/g,fn="\\ud800-\\udfff",Qr="\\u0300-\\u036f",xl="\\ufe20-\\ufe2f",eo="\\u20d0-\\u20ff",ji=Qr+xl+eo,Yo="\\u2700-\\u27bf",jo="a-z\\xdf-\\xf6\\xf8-\\xff",qt="\\xac\\xb1\\xd7\\xf7",Xr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qo="\\u2000-\\u206f",st=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jr="A-Z\\xc0-\\xd6\\xd8-\\xde",Xo="\\ufe0e\\ufe0f",Jo=qt+Xr+Qo+st,Qi="[']",Sr="["+fn+"]",Zo="["+Jo+"]",zn="["+ji+"]",Zr="\\d+",Cl="["+Yo+"]",Kn="["+jo+"]",Qt="[^"+fn+Jo+Zr+Yo+jo+Jr+"]",Xt="\\ud83c[\\udffb-\\udfff]",Xi="(?:"+zn+"|"+Xt+")",Si="[^"+fn+"]",ei="(?:\\ud83c[\\udde6-\\uddff]){2}",to="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+Jr+"]",no="\\u200d",ro="(?:"+Kn+"|"+Qt+")",ea="(?:"+pn+"|"+Qt+")",ta="(?:"+Qi+"(?:d|ll|m|re|s|t|ve))?",Jt="(?:"+Qi+"(?:D|LL|M|RE|S|T|VE))?",io=Xi+"?",Ii="["+Xo+"]?",Tl="(?:"+no+"(?:"+[Si,ei,to].join("|")+")"+Ii+io+")*",na="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ra=Ii+io+Tl,Zi="(?:"+[Cl,ei,to].join("|")+")"+ra,so="(?:"+[Si+zn+"?",zn,ei,to,Sr].join("|")+")",oo=RegExp(Qi,"g"),Sl=RegExp(zn,"g"),ti=RegExp(Xt+"(?="+Xt+")|"+so+ra,"g"),es=RegExp([pn+"?"+Kn+"+"+ta+"(?="+[Zo,pn,"$"].join("|")+")",ea+"+"+Jt+"(?="+[Zo,pn+ro,"$"].join("|")+")",pn+"?"+ro+"+"+ta,pn+"+"+Jt,Ji,na,Zr,Zi].join("|"),"g"),ao=RegExp("["+no+fn+ji+Xo+"]"),lo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ts=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ns=-1,Z={};Z[Us]=Z[ir]=Z[Vs]=Z[zs]=Z[Tr]=Z[sr]=Z[gt]=Z[Ks]=Z[Gs]=!0,Z[At]=Z[Cn]=Z[rr]=Z[Rt]=Z[Mt]=Z[Bn]=Z[nr]=Z[Yr]=Z[kt]=Z[xr]=Z[Yt]=Z[Dt]=Z[vt]=Z[Nt]=Z[it]=!1;var Be={};Be[At]=Be[Cn]=Be[rr]=Be[Mt]=Be[Rt]=Be[Bn]=Be[Us]=Be[ir]=Be[Vs]=Be[zs]=Be[Tr]=Be[kt]=Be[xr]=Be[Yt]=Be[Dt]=Be[vt]=Be[Nt]=Be[me]=Be[sr]=Be[gt]=Be[Ks]=Be[Gs]=!0,Be[nr]=Be[Yr]=Be[it]=!1;var Il={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ol={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ar=parseFloat,Nl=parseInt,ia=typeof Ua=="object"&&Ua&&Ua.Object===Object&&Ua,lr=typeof self=="object"&&self&&self.Object===Object&&self,je=ia||lr||Function("return this")(),Gn=n&&!n.nodeType&&n,hn=Gn&&!0&&a&&!a.nodeType&&a,rs=hn&&hn.exports===Gn,is=rs&&ia.process,Zt=(function(){try{var y=hn&&hn.require&&hn.require("util").types;return y||is&&is.binding&&is.binding("util")}catch{}})(),sa=Zt&&Zt.isArrayBuffer,ur=Zt&&Zt.isDate,ot=Zt&&Zt.isMap,Yn=Zt&&Zt.isRegExp,Ir=Zt&&Zt.isSet,oa=Zt&&Zt.isTypedArray;function Bt(y,N,T){switch(T.length){case 0:return y.call(N);case 1:return y.call(N,T[0]);case 2:return y.call(N,T[0],T[1]);case 3:return y.call(N,T[0],T[1],T[2])}return y.apply(N,T)}function $l(y,N,T,z){for(var le=-1,$e=y==null?0:y.length;++le<$e;){var at=y[le];N(z,at,T(at),y)}return z}function en(y,N){for(var T=-1,z=y==null?0:y.length;++T<z&&N(y[T],T,y)!==!1;);return y}function aa(y,N){for(var T=y==null?0:y.length;T--&&N(y[T],T,y)!==!1;);return y}function la(y,N){for(var T=-1,z=y==null?0:y.length;++T<z;)if(!N(y[T],T,y))return!1;return!0}function cr(y,N){for(var T=-1,z=y==null?0:y.length,le=0,$e=[];++T<z;){var at=y[T];N(at,T,y)&&($e[le++]=at)}return $e}function ni(y,N){var T=y==null?0:y.length;return!!T&&In(y,N,0)>-1}function Or(y,N,T){for(var z=-1,le=y==null?0:y.length;++z<le;)if(T(N,y[z]))return!0;return!1}function ze(y,N){for(var T=-1,z=y==null?0:y.length,le=Array(z);++T<z;)le[T]=N(y[T],T,y);return le}function Tn(y,N){for(var T=-1,z=N.length,le=y.length;++T<z;)y[le+T]=N[T];return y}function uo(y,N,T,z){var le=-1,$e=y==null?0:y.length;for(z&&$e&&(T=y[++le]);++le<$e;)T=N(T,y[le],le,y);return T}function Pl(y,N,T,z){var le=y==null?0:y.length;for(z&&le&&(T=y[--le]);le--;)T=N(T,y[le],le,y);return T}function co(y,N){for(var T=-1,z=y==null?0:y.length;++T<z;)if(N(y[T],T,y))return!0;return!1}var Ll=fo("length");function Rl(y){return y.split("")}function Ml(y){return y.match(or)||[]}function tn(y,N,T){var z;return T(y,function(le,$e,at){if(N(le,$e,at))return z=$e,!1}),z}function Sn(y,N,T,z){for(var le=y.length,$e=T+(z?1:-1);z?$e--:++$e<le;)if(N(y[$e],$e,y))return $e;return-1}function In(y,N,T){return N===N?go(y,N,T):Sn(y,kr,T)}function Fl(y,N,T,z){for(var le=T-1,$e=y.length;++le<$e;)if(z(y[le],N))return le;return-1}function kr(y){return y!==y}function ua(y,N){var T=y==null?0:y.length;return T?ss(y,N)/T:Gt}function fo(y){return function(N){return N==null?i:N[y]}}function Dr(y){return function(N){return y==null?i:y[N]}}function po(y,N,T,z,le){return le(y,function($e,at,De){T=z?(z=!1,$e):N(T,$e,at,De)}),T}function ql(y,N){var T=y.length;for(y.sort(N);T--;)y[T]=y[T].value;return y}function ss(y,N){for(var T,z=-1,le=y.length;++z<le;){var $e=N(y[z]);$e!==i&&(T=T===i?$e:T+$e)}return T}function ho(y,N){for(var T=-1,z=Array(y);++T<y;)z[T]=N(T);return z}function os(y,N){return ze(N,function(T){return[T,y[T]]})}function vo(y){return y&&y.slice(0,ca(y)+1).replace(dn,"")}function Wt(y){return function(N){return y(N)}}function _o(y,N){return ze(N,function(T){return y[T]})}function We(y,N){return y.has(N)}function Ye(y,N){for(var T=-1,z=y.length;++T<z&&In(N,y[T],0)>-1;);return T}function Qe(y,N){for(var T=y.length;T--&&In(N,y[T],0)>-1;);return T}function jn(y,N){for(var T=y.length,z=0;T--;)y[T]===N&&++z;return z}var dr=Dr(Il),ri=Dr(Ol);function fr(y){return"\\"+Dl[y]}function as(y,N){return y==null?i:y[N]}function Me(y){return ao.test(y)}function Bl(y){return lo.test(y)}function Wl(y){for(var N,T=[];!(N=y.next()).done;)T.push(N.value);return T}function $t(y){var N=-1,T=Array(y.size);return y.forEach(function(z,le){T[++N]=[le,z]}),T}function mo(y,N){return function(T){return y(N(T))}}function pr(y,N){for(var T=-1,z=y.length,le=0,$e=[];++T<z;){var at=y[T];(at===N||at===D)&&(y[T]=D,$e[le++]=T)}return $e}function ls(y){var N=-1,T=Array(y.size);return y.forEach(function(z){T[++N]=z}),T}function us(y){var N=-1,T=Array(y.size);return y.forEach(function(z){T[++N]=[z,z]}),T}function go(y,N,T){for(var z=T-1,le=y.length;++z<le;)if(y[z]===N)return z;return-1}function Hl(y,N,T){for(var z=T+1;z--;)if(y[z]===N)return z;return z}function ii(y){return Me(y)?Ul(y):Ll(y)}function vn(y){return Me(y)?fa(y):Rl(y)}function ca(y){for(var N=y.length;N--&&Xs.test(y.charAt(N)););return N}var da=Dr(kl);function Ul(y){for(var N=ti.lastIndex=0;ti.test(y);)++N;return N}function fa(y){return y.match(ti)||[]}function pa(y){return y.match(es)||[]}var Vl=(function y(N){N=N==null?je:si.defaults(je.Object(),N,si.pick(je,ts));var T=N.Array,z=N.Date,le=N.Error,$e=N.Function,at=N.Math,De=N.Object,oi=N.RegExp,Qn=N.String,Tt=N.TypeError,cs=T.prototype,_n=$e.prototype,ai=De.prototype,ds=N["__core-js_shared__"],fs=_n.toString,Le=ai.hasOwnProperty,li=0,Oi=(function(){var e=/[^.]+$/.exec(ds&&ds.keys&&ds.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),ki=ai.toString,ha=fs.call(De),va=je._,Nr=oi("^"+fs.call(Le).replace(xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=rs?N.Buffer:i,hr=N.Symbol,ps=N.Uint8Array,_a=Te?Te.allocUnsafe:i,o=mo(De.getPrototypeOf,De),s=De.create,u=ai.propertyIsEnumerable,_=cs.splice,A=hr?hr.isConcatSpreadable:i,O=hr?hr.iterator:i,S=hr?hr.toStringTag:i,W=(function(){try{var e=Ri(De,"defineProperty");return e({},"",{}),e}catch{}})(),pe=N.clearTimeout!==je.clearTimeout&&N.clearTimeout,ue=z&&z.now!==je.Date.now&&z.now,we=N.setTimeout!==je.setTimeout&&N.setTimeout,Ke=at.ceil,X=at.floor,Re=De.getOwnPropertySymbols,He=Te?Te.isBuffer:i,lt=N.isFinite,nn=cs.join,Di=mo(De.keys,De),Ge=at.max,Q=at.min,bo=z.now,yo=N.parseInt,ma=at.random,zl=cs.reverse,On=Ri(N,"DataView"),Xn=Ri(N,"Map"),hs=Ri(N,"Promise"),vs=Ri(N,"Set"),wo=Ri(N,"WeakMap"),Eo=Ri(De,"create"),ga=wo&&new wo,_s={},Qp=Mi(On),Xp=Mi(Xn),Jp=Mi(hs),Zp=Mi(vs),eh=Mi(wo),ba=hr?hr.prototype:i,Ao=ba?ba.valueOf:i,Tc=ba?ba.toString:i;function p(e){if(nt(e)&&!he(e)&&!(e instanceof xe)){if(e instanceof kn)return e;if(Le.call(e,"__wrapped__"))return Sd(e)}return new kn(e)}var ms=(function(){function e(){}return function(t){if(!Je(t))return{};if(s)return s(t);e.prototype=t;var r=new e;return e.prototype=i,r}})();function ya(){}function kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}p.templateSettings={escape:q,evaluate:gl,interpolate:Yi,variable:"",imports:{_:p}},p.prototype=ya.prototype,p.prototype.constructor=p,kn.prototype=ms(ya.prototype),kn.prototype.constructor=kn;function xe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function th(){var e=new xe(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e}function nh(){if(this.__filtered__){var e=new xe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function rh(){var e=this.__wrapped__.value(),t=this.__dir__,r=he(e),l=t<0,d=r?e.length:0,h=vv(0,d,this.__views__),m=h.start,b=h.end,w=b-m,P=l?b:m-1,L=this.__iteratees__,R=L.length,V=0,j=Q(w,this.__takeCount__);if(!r||!l&&d==w&&j==w)return Qc(e,this.__actions__);var ie=[];e:for(;w--&&V<j;){P+=t;for(var ge=-1,se=e[P];++ge<R;){var Ee=L[ge],Se=Ee.iteratee,bn=Ee.type,Vt=Se(se);if(bn==cn)se=Vt;else if(!Vt){if(bn==It)continue e;break e}}ie[V++]=se}return ie}xe.prototype=ms(ya.prototype),xe.prototype.constructor=xe;function Ni(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function ih(){this.__data__=Eo?Eo(null):{},this.size=0}function sh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function oh(e){var t=this.__data__;if(Eo){var r=t[e];return r===C?i:r}return Le.call(t,e)?t[e]:i}function ah(e){var t=this.__data__;return Eo?t[e]!==i:Le.call(t,e)}function lh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Eo&&t===i?C:t,this}Ni.prototype.clear=ih,Ni.prototype.delete=sh,Ni.prototype.get=oh,Ni.prototype.has=ah,Ni.prototype.set=lh;function $r(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function uh(){this.__data__=[],this.size=0}function ch(e){var t=this.__data__,r=wa(t,e);if(r<0)return!1;var l=t.length-1;return r==l?t.pop():_.call(t,r,1),--this.size,!0}function dh(e){var t=this.__data__,r=wa(t,e);return r<0?i:t[r][1]}function fh(e){return wa(this.__data__,e)>-1}function ph(e,t){var r=this.__data__,l=wa(r,e);return l<0?(++this.size,r.push([e,t])):r[l][1]=t,this}$r.prototype.clear=uh,$r.prototype.delete=ch,$r.prototype.get=dh,$r.prototype.has=fh,$r.prototype.set=ph;function Pr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}function hh(){this.size=0,this.__data__={hash:new Ni,map:new(Xn||$r),string:new Ni}}function vh(e){var t=$a(this,e).delete(e);return this.size-=t?1:0,t}function _h(e){return $a(this,e).get(e)}function mh(e){return $a(this,e).has(e)}function gh(e,t){var r=$a(this,e),l=r.size;return r.set(e,t),this.size+=r.size==l?0:1,this}Pr.prototype.clear=hh,Pr.prototype.delete=vh,Pr.prototype.get=_h,Pr.prototype.has=mh,Pr.prototype.set=gh;function $i(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Pr;++t<r;)this.add(e[t])}function bh(e){return this.__data__.set(e,C),this}function yh(e){return this.__data__.has(e)}$i.prototype.add=$i.prototype.push=bh,$i.prototype.has=yh;function Jn(e){var t=this.__data__=new $r(e);this.size=t.size}function wh(){this.__data__=new $r,this.size=0}function Eh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Ah(e){return this.__data__.get(e)}function xh(e){return this.__data__.has(e)}function Ch(e,t){var r=this.__data__;if(r instanceof $r){var l=r.__data__;if(!Xn||l.length<v-1)return l.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pr(l)}return r.set(e,t),this.size=r.size,this}Jn.prototype.clear=wh,Jn.prototype.delete=Eh,Jn.prototype.get=Ah,Jn.prototype.has=xh,Jn.prototype.set=Ch;function Sc(e,t){var r=he(e),l=!r&&Fi(e),d=!r&&!l&&pi(e),h=!r&&!l&&!d&&ws(e),m=r||l||d||h,b=m?ho(e.length,Qn):[],w=b.length;for(var P in e)(t||Le.call(e,P))&&!(m&&(P=="length"||d&&(P=="offset"||P=="parent")||h&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||Fr(P,w)))&&b.push(P);return b}function Ic(e){var t=e.length;return t?e[nu(0,t-1)]:i}function Th(e,t){return Pa(rn(e),Pi(t,0,e.length))}function Sh(e){return Pa(rn(e))}function Kl(e,t,r){(r!==i&&!Zn(e[t],r)||r===i&&!(t in e))&&Lr(e,t,r)}function xo(e,t,r){var l=e[t];(!(Le.call(e,t)&&Zn(l,r))||r===i&&!(t in e))&&Lr(e,t,r)}function wa(e,t){for(var r=e.length;r--;)if(Zn(e[r][0],t))return r;return-1}function Ih(e,t,r,l){return ui(e,function(d,h,m){t(l,d,r(d),m)}),l}function Oc(e,t){return e&&_r(t,yt(t),e)}function Oh(e,t){return e&&_r(t,on(t),e)}function Lr(e,t,r){t=="__proto__"&&W?W(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Gl(e,t){for(var r=-1,l=t.length,d=T(l),h=e==null;++r<l;)d[r]=h?i:Su(e,t[r]);return d}function Pi(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function Dn(e,t,r,l,d,h){var m,b=t&U,w=t&J,P=t&K;if(r&&(m=d?r(e,l,d,h):r(e)),m!==i)return m;if(!Je(e))return e;var L=he(e);if(L){if(m=mv(e),!b)return rn(e,m)}else{var R=Pt(e),V=R==Yr||R==Ei;if(pi(e))return Zc(e,b);if(R==Yt||R==At||V&&!d){if(m=w||V?{}:gd(e),!b)return w?ov(e,Oh(m,e)):sv(e,Oc(m,e))}else{if(!Be[R])return d?e:{};m=gv(e,R,b)}}h||(h=new Jn);var j=h.get(e);if(j)return j;h.set(e,m),Gd(e)?e.forEach(function(se){m.add(Dn(se,t,r,se,e,h))}):zd(e)&&e.forEach(function(se,Ee){m.set(Ee,Dn(se,t,r,Ee,e,h))});var ie=P?w?pu:fu:w?on:yt,ge=L?i:ie(e);return en(ge||e,function(se,Ee){ge&&(Ee=se,se=e[Ee]),xo(m,Ee,Dn(se,t,r,Ee,e,h))}),m}function kh(e){var t=yt(e);return function(r){return kc(r,e,t)}}function kc(e,t,r){var l=r.length;if(e==null)return!l;for(e=De(e);l--;){var d=r[l],h=t[d],m=e[d];if(m===i&&!(d in e)||!h(m))return!1}return!0}function Dc(e,t,r){if(typeof e!="function")throw new Tt(E);return Do(function(){e.apply(i,r)},t)}function Co(e,t,r,l){var d=-1,h=ni,m=!0,b=e.length,w=[],P=t.length;if(!b)return w;r&&(t=ze(t,Wt(r))),l?(h=Or,m=!1):t.length>=v&&(h=We,m=!1,t=new $i(t));e:for(;++d<b;){var L=e[d],R=r==null?L:r(L);if(L=l||L!==0?L:0,m&&R===R){for(var V=P;V--;)if(t[V]===R)continue e;w.push(L)}else h(t,R,l)||w.push(L)}return w}var ui=id(vr),Nc=id(jl,!0);function Dh(e,t){var r=!0;return ui(e,function(l,d,h){return r=!!t(l,d,h),r}),r}function Ea(e,t,r){for(var l=-1,d=e.length;++l<d;){var h=e[l],m=t(h);if(m!=null&&(b===i?m===m&&!gn(m):r(m,b)))var b=m,w=h}return w}function Nh(e,t,r,l){var d=e.length;for(r=_e(r),r<0&&(r=-r>d?0:d+r),l=l===i||l>d?d:_e(l),l<0&&(l+=d),l=r>l?0:jd(l);r<l;)e[r++]=t;return e}function $c(e,t){var r=[];return ui(e,function(l,d,h){t(l,d,h)&&r.push(l)}),r}function St(e,t,r,l,d){var h=-1,m=e.length;for(r||(r=yv),d||(d=[]);++h<m;){var b=e[h];t>0&&r(b)?t>1?St(b,t-1,r,l,d):Tn(d,b):l||(d[d.length]=b)}return d}var Yl=sd(),Pc=sd(!0);function vr(e,t){return e&&Yl(e,t,yt)}function jl(e,t){return e&&Pc(e,t,yt)}function Aa(e,t){return cr(t,function(r){return qr(e[r])})}function Li(e,t){t=di(t,e);for(var r=0,l=t.length;e!=null&&r<l;)e=e[mr(t[r++])];return r&&r==l?e:i}function Lc(e,t,r){var l=t(e);return he(e)?l:Tn(l,r(e))}function Ht(e){return e==null?e===i?Xe:Wn:S&&S in De(e)?hv(e):Sv(e)}function Ql(e,t){return e>t}function $h(e,t){return e!=null&&Le.call(e,t)}function Ph(e,t){return e!=null&&t in De(e)}function Lh(e,t,r){return e>=Q(t,r)&&e<Ge(t,r)}function Xl(e,t,r){for(var l=r?Or:ni,d=e[0].length,h=e.length,m=h,b=T(h),w=1/0,P=[];m--;){var L=e[m];m&&t&&(L=ze(L,Wt(t))),w=Q(L.length,w),b[m]=!r&&(t||d>=120&&L.length>=120)?new $i(m&&L):i}L=e[0];var R=-1,V=b[0];e:for(;++R<d&&P.length<w;){var j=L[R],ie=t?t(j):j;if(j=r||j!==0?j:0,!(V?We(V,ie):l(P,ie,r))){for(m=h;--m;){var ge=b[m];if(!(ge?We(ge,ie):l(e[m],ie,r)))continue e}V&&V.push(ie),P.push(j)}}return P}function Rh(e,t,r,l){return vr(e,function(d,h,m){t(l,r(d),h,m)}),l}function To(e,t,r){t=di(t,e),e=Ed(e,t);var l=e==null?e:e[mr($n(t))];return l==null?i:Bt(l,e,r)}function Rc(e){return nt(e)&&Ht(e)==At}function Mh(e){return nt(e)&&Ht(e)==rr}function Fh(e){return nt(e)&&Ht(e)==Bn}function So(e,t,r,l,d){return e===t?!0:e==null||t==null||!nt(e)&&!nt(t)?e!==e&&t!==t:qh(e,t,r,l,So,d)}function qh(e,t,r,l,d,h){var m=he(e),b=he(t),w=m?Cn:Pt(e),P=b?Cn:Pt(t);w=w==At?Yt:w,P=P==At?Yt:P;var L=w==Yt,R=P==Yt,V=w==P;if(V&&pi(e)){if(!pi(t))return!1;m=!0,L=!1}if(V&&!L)return h||(h=new Jn),m||ws(e)?vd(e,t,r,l,d,h):fv(e,t,w,r,l,d,h);if(!(r&te)){var j=L&&Le.call(e,"__wrapped__"),ie=R&&Le.call(t,"__wrapped__");if(j||ie){var ge=j?e.value():e,se=ie?t.value():t;return h||(h=new Jn),d(ge,se,r,l,h)}}return V?(h||(h=new Jn),pv(e,t,r,l,d,h)):!1}function Bh(e){return nt(e)&&Pt(e)==kt}function Jl(e,t,r,l){var d=r.length,h=d,m=!l;if(e==null)return!h;for(e=De(e);d--;){var b=r[d];if(m&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++d<h;){b=r[d];var w=b[0],P=e[w],L=b[1];if(m&&b[2]){if(P===i&&!(w in e))return!1}else{var R=new Jn;if(l)var V=l(P,L,w,e,t,R);if(!(V===i?So(L,P,te|G,l,R):V))return!1}}return!0}function Mc(e){if(!Je(e)||Ev(e))return!1;var t=qr(e)?Nr:Ct;return t.test(Mi(e))}function Wh(e){return nt(e)&&Ht(e)==Dt}function Hh(e){return nt(e)&&Pt(e)==vt}function Uh(e){return nt(e)&&Ba(e.length)&&!!Z[Ht(e)]}function Fc(e){return typeof e=="function"?e:e==null?an:typeof e=="object"?he(e)?Wc(e[0],e[1]):Bc(e):af(e)}function Zl(e){if(!ko(e))return Di(e);var t=[];for(var r in De(e))Le.call(e,r)&&r!="constructor"&&t.push(r);return t}function Vh(e){if(!Je(e))return Tv(e);var t=ko(e),r=[];for(var l in e)l=="constructor"&&(t||!Le.call(e,l))||r.push(l);return r}function eu(e,t){return e<t}function qc(e,t){var r=-1,l=sn(e)?T(e.length):[];return ui(e,function(d,h,m){l[++r]=t(d,h,m)}),l}function Bc(e){var t=vu(e);return t.length==1&&t[0][2]?yd(t[0][0],t[0][1]):function(r){return r===e||Jl(r,e,t)}}function Wc(e,t){return mu(e)&&bd(t)?yd(mr(e),t):function(r){var l=Su(r,e);return l===i&&l===t?Iu(r,e):So(t,l,te|G)}}function xa(e,t,r,l,d){e!==t&&Yl(t,function(h,m){if(d||(d=new Jn),Je(h))zh(e,t,m,r,xa,l,d);else{var b=l?l(bu(e,m),h,m+"",e,t,d):i;b===i&&(b=h),Kl(e,m,b)}},on)}function zh(e,t,r,l,d,h,m){var b=bu(e,r),w=bu(t,r),P=m.get(w);if(P){Kl(e,r,P);return}var L=h?h(b,w,r+"",e,t,m):i,R=L===i;if(R){var V=he(w),j=!V&&pi(w),ie=!V&&!j&&ws(w);L=w,V||j||ie?he(b)?L=b:ut(b)?L=rn(b):j?(R=!1,L=Zc(w,!0)):ie?(R=!1,L=ed(w,!0)):L=[]:No(w)||Fi(w)?(L=b,Fi(b)?L=Qd(b):(!Je(b)||qr(b))&&(L=gd(w))):R=!1}R&&(m.set(w,L),d(L,w,l,h,m),m.delete(w)),Kl(e,r,L)}function Hc(e,t){var r=e.length;if(r)return t+=t<0?r:0,Fr(t,r)?e[t]:i}function Uc(e,t,r){t.length?t=ze(t,function(h){return he(h)?function(m){return Li(m,h.length===1?h[0]:h)}:h}):t=[an];var l=-1;t=ze(t,Wt(ne()));var d=qc(e,function(h,m,b){var w=ze(t,function(P){return P(h)});return{criteria:w,index:++l,value:h}});return ql(d,function(h,m){return iv(h,m,r)})}function Kh(e,t){return Vc(e,t,function(r,l){return Iu(e,l)})}function Vc(e,t,r){for(var l=-1,d=t.length,h={};++l<d;){var m=t[l],b=Li(e,m);r(b,m)&&Io(h,di(m,e),b)}return h}function Gh(e){return function(t){return Li(t,e)}}function tu(e,t,r,l){var d=l?Fl:In,h=-1,m=t.length,b=e;for(e===t&&(t=rn(t)),r&&(b=ze(e,Wt(r)));++h<m;)for(var w=0,P=t[h],L=r?r(P):P;(w=d(b,L,w,l))>-1;)b!==e&&_.call(b,w,1),_.call(e,w,1);return e}function zc(e,t){for(var r=e?t.length:0,l=r-1;r--;){var d=t[r];if(r==l||d!==h){var h=d;Fr(d)?_.call(e,d,1):su(e,d)}}return e}function nu(e,t){return e+X(ma()*(t-e+1))}function Yh(e,t,r,l){for(var d=-1,h=Ge(Ke((t-e)/(r||1)),0),m=T(h);h--;)m[l?h:++d]=e,e+=r;return m}function ru(e,t){var r="";if(!e||t<1||t>Ce)return r;do t%2&&(r+=e),t=X(t/2),t&&(e+=e);while(t);return r}function ye(e,t){return yu(wd(e,t,an),e+"")}function jh(e){return Ic(Es(e))}function Qh(e,t){var r=Es(e);return Pa(r,Pi(t,0,r.length))}function Io(e,t,r,l){if(!Je(e))return e;t=di(t,e);for(var d=-1,h=t.length,m=h-1,b=e;b!=null&&++d<h;){var w=mr(t[d]),P=r;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(d!=m){var L=b[w];P=l?l(L,w,b):i,P===i&&(P=Je(L)?L:Fr(t[d+1])?[]:{})}xo(b,w,P),b=b[w]}return e}var Kc=ga?function(e,t){return ga.set(e,t),e}:an,Xh=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:an;function Jh(e){return Pa(Es(e))}function Nn(e,t,r){var l=-1,d=e.length;t<0&&(t=-t>d?0:d+t),r=r>d?d:r,r<0&&(r+=d),d=t>r?0:r-t>>>0,t>>>=0;for(var h=T(d);++l<d;)h[l]=e[l+t];return h}function Zh(e,t){var r;return ui(e,function(l,d,h){return r=t(l,d,h),!r}),!!r}function Ca(e,t,r){var l=0,d=e==null?l:e.length;if(typeof t=="number"&&t===t&&d<=ht){for(;l<d;){var h=l+d>>>1,m=e[h];m!==null&&!gn(m)&&(r?m<=t:m<t)?l=h+1:d=h}return d}return iu(e,t,an,r)}function iu(e,t,r,l){var d=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var m=t!==t,b=t===null,w=gn(t),P=t===i;d<h;){var L=X((d+h)/2),R=r(e[L]),V=R!==i,j=R===null,ie=R===R,ge=gn(R);if(m)var se=l||ie;else P?se=ie&&(l||V):b?se=ie&&V&&(l||!j):w?se=ie&&V&&!j&&(l||!ge):j||ge?se=!1:se=l?R<=t:R<t;se?d=L+1:h=L}return Q(h,Ar)}function Gc(e,t){for(var r=-1,l=e.length,d=0,h=[];++r<l;){var m=e[r],b=t?t(m):m;if(!r||!Zn(b,w)){var w=b;h[d++]=m===0?0:m}}return h}function Yc(e){return typeof e=="number"?e:gn(e)?Gt:+e}function mn(e){if(typeof e=="string")return e;if(he(e))return ze(e,mn)+"";if(gn(e))return Tc?Tc.call(e):"";var t=e+"";return t=="0"&&1/e==-tt?"-0":t}function ci(e,t,r){var l=-1,d=ni,h=e.length,m=!0,b=[],w=b;if(r)m=!1,d=Or;else if(h>=v){var P=t?null:cv(e);if(P)return ls(P);m=!1,d=We,w=new $i}else w=t?[]:b;e:for(;++l<h;){var L=e[l],R=t?t(L):L;if(L=r||L!==0?L:0,m&&R===R){for(var V=w.length;V--;)if(w[V]===R)continue e;t&&w.push(R),b.push(L)}else d(w,R,r)||(w!==b&&w.push(R),b.push(L))}return b}function su(e,t){return t=di(t,e),e=Ed(e,t),e==null||delete e[mr($n(t))]}function jc(e,t,r,l){return Io(e,t,r(Li(e,t)),l)}function Ta(e,t,r,l){for(var d=e.length,h=l?d:-1;(l?h--:++h<d)&&t(e[h],h,e););return r?Nn(e,l?0:h,l?h+1:d):Nn(e,l?h+1:0,l?d:h)}function Qc(e,t){var r=e;return r instanceof xe&&(r=r.value()),uo(t,function(l,d){return d.func.apply(d.thisArg,Tn([l],d.args))},r)}function ou(e,t,r){var l=e.length;if(l<2)return l?ci(e[0]):[];for(var d=-1,h=T(l);++d<l;)for(var m=e[d],b=-1;++b<l;)b!=d&&(h[d]=Co(h[d]||m,e[b],t,r));return ci(St(h,1),t,r)}function Xc(e,t,r){for(var l=-1,d=e.length,h=t.length,m={};++l<d;){var b=l<h?t[l]:i;r(m,e[l],b)}return m}function au(e){return ut(e)?e:[]}function lu(e){return typeof e=="function"?e:an}function di(e,t){return he(e)?e:mu(e,t)?[e]:Td(Fe(e))}var ev=ye;function fi(e,t,r){var l=e.length;return r=r===i?l:r,!t&&r>=l?e:Nn(e,t,r)}var Jc=pe||function(e){return je.clearTimeout(e)};function Zc(e,t){if(t)return e.slice();var r=e.length,l=_a?_a(r):new e.constructor(r);return e.copy(l),l}function uu(e){var t=new e.constructor(e.byteLength);return new ps(t).set(new ps(e)),t}function tv(e,t){var r=t?uu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function nv(e){var t=new e.constructor(e.source,Ci.exec(e));return t.lastIndex=e.lastIndex,t}function rv(e){return Ao?De(Ao.call(e)):{}}function ed(e,t){var r=t?uu(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function td(e,t){if(e!==t){var r=e!==i,l=e===null,d=e===e,h=gn(e),m=t!==i,b=t===null,w=t===t,P=gn(t);if(!b&&!P&&!h&&e>t||h&&m&&w&&!b&&!P||l&&m&&w||!r&&w||!d)return 1;if(!l&&!h&&!P&&e<t||P&&r&&d&&!l&&!h||b&&r&&d||!m&&d||!w)return-1}return 0}function iv(e,t,r){for(var l=-1,d=e.criteria,h=t.criteria,m=d.length,b=r.length;++l<m;){var w=td(d[l],h[l]);if(w){if(l>=b)return w;var P=r[l];return w*(P=="desc"?-1:1)}}return e.index-t.index}function nd(e,t,r,l){for(var d=-1,h=e.length,m=r.length,b=-1,w=t.length,P=Ge(h-m,0),L=T(w+P),R=!l;++b<w;)L[b]=t[b];for(;++d<m;)(R||d<h)&&(L[r[d]]=e[d]);for(;P--;)L[b++]=e[d++];return L}function rd(e,t,r,l){for(var d=-1,h=e.length,m=-1,b=r.length,w=-1,P=t.length,L=Ge(h-b,0),R=T(L+P),V=!l;++d<L;)R[d]=e[d];for(var j=d;++w<P;)R[j+w]=t[w];for(;++m<b;)(V||d<h)&&(R[j+r[m]]=e[d++]);return R}function rn(e,t){var r=-1,l=e.length;for(t||(t=T(l));++r<l;)t[r]=e[r];return t}function _r(e,t,r,l){var d=!r;r||(r={});for(var h=-1,m=t.length;++h<m;){var b=t[h],w=l?l(r[b],e[b],b,r,e):i;w===i&&(w=e[b]),d?Lr(r,b,w):xo(r,b,w)}return r}function sv(e,t){return _r(e,_u(e),t)}function ov(e,t){return _r(e,_d(e),t)}function Sa(e,t){return function(r,l){var d=he(r)?$l:Ih,h=t?t():{};return d(r,e,ne(l,2),h)}}function gs(e){return ye(function(t,r){var l=-1,d=r.length,h=d>1?r[d-1]:i,m=d>2?r[2]:i;for(h=e.length>3&&typeof h=="function"?(d--,h):i,m&&Ut(r[0],r[1],m)&&(h=d<3?i:h,d=1),t=De(t);++l<d;){var b=r[l];b&&e(t,b,l,h)}return t})}function id(e,t){return function(r,l){if(r==null)return r;if(!sn(r))return e(r,l);for(var d=r.length,h=t?d:-1,m=De(r);(t?h--:++h<d)&&l(m[h],h,m)!==!1;);return r}}function sd(e){return function(t,r,l){for(var d=-1,h=De(t),m=l(t),b=m.length;b--;){var w=m[e?b:++d];if(r(h[w],w,h)===!1)break}return t}}function av(e,t,r){var l=t&re,d=Oo(e);function h(){var m=this&&this!==je&&this instanceof h?d:e;return m.apply(l?r:this,arguments)}return h}function od(e){return function(t){t=Fe(t);var r=Me(t)?vn(t):i,l=r?r[0]:t.charAt(0),d=r?fi(r,1).join(""):t.slice(1);return l[e]()+d}}function bs(e){return function(t){return uo(sf(rf(t).replace(oo,"")),e,"")}}function Oo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ms(e.prototype),l=e.apply(r,t);return Je(l)?l:r}}function lv(e,t,r){var l=Oo(e);function d(){for(var h=arguments.length,m=T(h),b=h,w=ys(d);b--;)m[b]=arguments[b];var P=h<3&&m[0]!==w&&m[h-1]!==w?[]:pr(m,w);if(h-=P.length,h<r)return dd(e,t,Ia,d.placeholder,i,m,P,i,i,r-h);var L=this&&this!==je&&this instanceof d?l:e;return Bt(L,this,m)}return d}function ad(e){return function(t,r,l){var d=De(t);if(!sn(t)){var h=ne(r,3);t=yt(t),r=function(b){return h(d[b],b,d)}}var m=e(t,r,l);return m>-1?d[h?t[m]:m]:i}}function ld(e){return Mr(function(t){var r=t.length,l=r,d=kn.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new Tt(E);if(d&&!m&&Na(h)=="wrapper")var m=new kn([],!0)}for(l=m?l:r;++l<r;){h=t[l];var b=Na(h),w=b=="wrapper"?hu(h):i;w&&gu(w[0])&&w[1]==(Oe|Ie|ae|qe)&&!w[4].length&&w[9]==1?m=m[Na(w[0])].apply(m,w[3]):m=h.length==1&&gu(h)?m[b]():m.thru(h)}return function(){var P=arguments,L=P[0];if(m&&P.length==1&&he(L))return m.plant(L).value();for(var R=0,V=r?t[R].apply(this,P):L;++R<r;)V=t[R].call(this,V);return V}})}function Ia(e,t,r,l,d,h,m,b,w,P){var L=t&Oe,R=t&re,V=t&oe,j=t&(Ie|fe),ie=t&Ne,ge=V?i:Oo(e);function se(){for(var Ee=arguments.length,Se=T(Ee),bn=Ee;bn--;)Se[bn]=arguments[bn];if(j)var Vt=ys(se),yn=jn(Se,Vt);if(l&&(Se=nd(Se,l,d,j)),h&&(Se=rd(Se,h,m,j)),Ee-=yn,j&&Ee<P){var ct=pr(Se,Vt);return dd(e,t,Ia,se.placeholder,r,Se,ct,b,w,P-Ee)}var er=R?r:this,Wr=V?er[e]:e;return Ee=Se.length,b?Se=Iv(Se,b):ie&&Ee>1&&Se.reverse(),L&&w<Ee&&(Se.length=w),this&&this!==je&&this instanceof se&&(Wr=ge||Oo(Wr)),Wr.apply(er,Se)}return se}function ud(e,t){return function(r,l){return Rh(r,e,t(l),{})}}function Oa(e,t){return function(r,l){var d;if(r===i&&l===i)return t;if(r!==i&&(d=r),l!==i){if(d===i)return l;typeof r=="string"||typeof l=="string"?(r=mn(r),l=mn(l)):(r=Yc(r),l=Yc(l)),d=e(r,l)}return d}}function cu(e){return Mr(function(t){return t=ze(t,Wt(ne())),ye(function(r){var l=this;return e(t,function(d){return Bt(d,l,r)})})})}function ka(e,t){t=t===i?" ":mn(t);var r=t.length;if(r<2)return r?ru(t,e):t;var l=ru(t,Ke(e/ii(t)));return Me(t)?fi(vn(l),0,e).join(""):l.slice(0,e)}function uv(e,t,r,l){var d=t&re,h=Oo(e);function m(){for(var b=-1,w=arguments.length,P=-1,L=l.length,R=T(L+w),V=this&&this!==je&&this instanceof m?h:e;++P<L;)R[P]=l[P];for(;w--;)R[P++]=arguments[++b];return Bt(V,d?r:this,R)}return m}function cd(e){return function(t,r,l){return l&&typeof l!="number"&&Ut(t,r,l)&&(r=l=i),t=Br(t),r===i?(r=t,t=0):r=Br(r),l=l===i?t<r?1:-1:Br(l),Yh(t,r,l,e)}}function Da(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Pn(t),r=Pn(r)),e(t,r)}}function dd(e,t,r,l,d,h,m,b,w,P){var L=t&Ie,R=L?m:i,V=L?i:m,j=L?h:i,ie=L?i:h;t|=L?ae:Ae,t&=~(L?Ae:ae),t&Pe||(t&=-4);var ge=[e,t,d,j,R,ie,V,b,w,P],se=r.apply(i,ge);return gu(e)&&Ad(se,ge),se.placeholder=l,xd(se,e,t)}function du(e){var t=at[e];return function(r,l){if(r=Pn(r),l=l==null?0:Q(_e(l),292),l&&lt(r)){var d=(Fe(r)+"e").split("e"),h=t(d[0]+"e"+(+d[1]+l));return d=(Fe(h)+"e").split("e"),+(d[0]+"e"+(+d[1]-l))}return t(r)}}var cv=vs&&1/ls(new vs([,-0]))[1]==tt?function(e){return new vs(e)}:$u;function fd(e){return function(t){var r=Pt(t);return r==kt?$t(t):r==vt?us(t):os(t,e(t))}}function Rr(e,t,r,l,d,h,m,b){var w=t&oe;if(!w&&typeof e!="function")throw new Tt(E);var P=l?l.length:0;if(P||(t&=-97,l=d=i),m=m===i?m:Ge(_e(m),0),b=b===i?b:_e(b),P-=d?d.length:0,t&Ae){var L=l,R=d;l=d=i}var V=w?i:hu(e),j=[e,t,r,l,d,L,R,h,m,b];if(V&&Cv(j,V),e=j[0],t=j[1],r=j[2],l=j[3],d=j[4],b=j[9]=j[9]===i?w?0:e.length:Ge(j[9]-P,0),!b&&t&(Ie|fe)&&(t&=-25),!t||t==re)var ie=av(e,t,r);else t==Ie||t==fe?ie=lv(e,t,b):(t==ae||t==(re|ae))&&!d.length?ie=uv(e,t,r,l):ie=Ia.apply(i,j);var ge=V?Kc:Ad;return xd(ge(ie,j),e,t)}function pd(e,t,r,l){return e===i||Zn(e,ai[r])&&!Le.call(l,r)?t:e}function hd(e,t,r,l,d,h){return Je(e)&&Je(t)&&(h.set(t,e),xa(e,t,i,hd,h),h.delete(t)),e}function dv(e){return No(e)?i:e}function vd(e,t,r,l,d,h){var m=r&te,b=e.length,w=t.length;if(b!=w&&!(m&&w>b))return!1;var P=h.get(e),L=h.get(t);if(P&&L)return P==t&&L==e;var R=-1,V=!0,j=r&G?new $i:i;for(h.set(e,t),h.set(t,e);++R<b;){var ie=e[R],ge=t[R];if(l)var se=m?l(ge,ie,R,t,e,h):l(ie,ge,R,e,t,h);if(se!==i){if(se)continue;V=!1;break}if(j){if(!co(t,function(Ee,Se){if(!We(j,Se)&&(ie===Ee||d(ie,Ee,r,l,h)))return j.push(Se)})){V=!1;break}}else if(!(ie===ge||d(ie,ge,r,l,h))){V=!1;break}}return h.delete(e),h.delete(t),V}function fv(e,t,r,l,d,h,m){switch(r){case Mt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rr:return!(e.byteLength!=t.byteLength||!h(new ps(e),new ps(t)));case Rt:case Bn:case xr:return Zn(+e,+t);case nr:return e.name==t.name&&e.message==t.message;case Dt:case Nt:return e==t+"";case kt:var b=$t;case vt:var w=l&te;if(b||(b=ls),e.size!=t.size&&!w)return!1;var P=m.get(e);if(P)return P==t;l|=G,m.set(e,t);var L=vd(b(e),b(t),l,d,h,m);return m.delete(e),L;case me:if(Ao)return Ao.call(e)==Ao.call(t)}return!1}function pv(e,t,r,l,d,h){var m=r&te,b=fu(e),w=b.length,P=fu(t),L=P.length;if(w!=L&&!m)return!1;for(var R=w;R--;){var V=b[R];if(!(m?V in t:Le.call(t,V)))return!1}var j=h.get(e),ie=h.get(t);if(j&&ie)return j==t&&ie==e;var ge=!0;h.set(e,t),h.set(t,e);for(var se=m;++R<w;){V=b[R];var Ee=e[V],Se=t[V];if(l)var bn=m?l(Se,Ee,V,t,e,h):l(Ee,Se,V,e,t,h);if(!(bn===i?Ee===Se||d(Ee,Se,r,l,h):bn)){ge=!1;break}se||(se=V=="constructor")}if(ge&&!se){var Vt=e.constructor,yn=t.constructor;Vt!=yn&&"constructor"in e&&"constructor"in t&&!(typeof Vt=="function"&&Vt instanceof Vt&&typeof yn=="function"&&yn instanceof yn)&&(ge=!1)}return h.delete(e),h.delete(t),ge}function Mr(e){return yu(wd(e,i,kd),e+"")}function fu(e){return Lc(e,yt,_u)}function pu(e){return Lc(e,on,_d)}var hu=ga?function(e){return ga.get(e)}:$u;function Na(e){for(var t=e.name+"",r=_s[t],l=Le.call(_s,t)?r.length:0;l--;){var d=r[l],h=d.func;if(h==null||h==e)return d.name}return t}function ys(e){var t=Le.call(p,"placeholder")?p:e;return t.placeholder}function ne(){var e=p.iteratee||Du;return e=e===Du?Fc:e,arguments.length?e(arguments[0],arguments[1]):e}function $a(e,t){var r=e.__data__;return wv(t)?r[typeof t=="string"?"string":"hash"]:r.map}function vu(e){for(var t=yt(e),r=t.length;r--;){var l=t[r],d=e[l];t[r]=[l,d,bd(d)]}return t}function Ri(e,t){var r=as(e,t);return Mc(r)?r:i}function hv(e){var t=Le.call(e,S),r=e[S];try{e[S]=i;var l=!0}catch{}var d=ki.call(e);return l&&(t?e[S]=r:delete e[S]),d}var _u=Re?function(e){return e==null?[]:(e=De(e),cr(Re(e),function(t){return u.call(e,t)}))}:Pu,_d=Re?function(e){for(var t=[];e;)Tn(t,_u(e)),e=o(e);return t}:Pu,Pt=Ht;(On&&Pt(new On(new ArrayBuffer(1)))!=Mt||Xn&&Pt(new Xn)!=kt||hs&&Pt(hs.resolve())!=Cr||vs&&Pt(new vs)!=vt||wo&&Pt(new wo)!=it)&&(Pt=function(e){var t=Ht(e),r=t==Yt?e.constructor:i,l=r?Mi(r):"";if(l)switch(l){case Qp:return Mt;case Xp:return kt;case Jp:return Cr;case Zp:return vt;case eh:return it}return t});function vv(e,t,r){for(var l=-1,d=r.length;++l<d;){var h=r[l],m=h.size;switch(h.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Q(t,e+m);break;case"takeRight":e=Ge(e,t-m);break}}return{start:e,end:t}}function _v(e){var t=e.match(_t);return t?t[1].split(Js):[]}function md(e,t,r){t=di(t,e);for(var l=-1,d=t.length,h=!1;++l<d;){var m=mr(t[l]);if(!(h=e!=null&&r(e,m)))break;e=e[m]}return h||++l!=d?h:(d=e==null?0:e.length,!!d&&Ba(d)&&Fr(m,d)&&(he(e)||Fi(e)))}function mv(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function gd(e){return typeof e.constructor=="function"&&!ko(e)?ms(o(e)):{}}function gv(e,t,r){var l=e.constructor;switch(t){case rr:return uu(e);case Rt:case Bn:return new l(+e);case Mt:return tv(e,r);case Us:case ir:case Vs:case zs:case Tr:case sr:case gt:case Ks:case Gs:return ed(e,r);case kt:return new l;case xr:case Nt:return new l(e);case Dt:return nv(e);case vt:return new l;case me:return rv(e)}}function bv(e,t){var r=t.length;if(!r)return e;var l=r-1;return t[l]=(r>1?"& ":"")+t[l],t=t.join(r>2?", ":" "),e.replace(ce,`{
/* [wrapped with `+t+`] */
`)}function yv(e){return he(e)||Fi(e)||!!(A&&e&&e[A])}function Fr(e,t){var r=typeof e;return t=t??Ce,!!t&&(r=="number"||r!="symbol"&&Vn.test(e))&&e>-1&&e%1==0&&e<t}function Ut(e,t,r){if(!Je(r))return!1;var l=typeof t;return(l=="number"?sn(r)&&Fr(t,r.length):l=="string"&&t in r)?Zn(r[t],e):!1}function mu(e,t){if(he(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gn(e)?!0:yl.test(e)||!bl.test(e)||t!=null&&e in De(t)}function wv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function gu(e){var t=Na(e),r=p[t];if(typeof r!="function"||!(t in xe.prototype))return!1;if(e===r)return!0;var l=hu(r);return!!l&&e===l[0]}function Ev(e){return!!Oi&&Oi in e}var Av=ds?qr:Lu;function ko(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ai;return e===r}function bd(e){return e===e&&!Je(e)}function yd(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==i||e in De(r))}}function xv(e){var t=Fa(e,function(l){return r.size===M&&r.clear(),l}),r=t.cache;return t}function Cv(e,t){var r=e[1],l=t[1],d=r|l,h=d<(re|oe|Oe),m=l==Oe&&r==Ie||l==Oe&&r==qe&&e[7].length<=t[8]||l==(Oe|qe)&&t[7].length<=t[8]&&r==Ie;if(!(h||m))return e;l&re&&(e[2]=t[2],d|=r&re?0:Pe);var b=t[3];if(b){var w=e[3];e[3]=w?nd(w,b,t[4]):b,e[4]=w?pr(e[3],D):t[4]}return b=t[5],b&&(w=e[5],e[5]=w?rd(w,b,t[6]):b,e[6]=w?pr(e[5],D):t[6]),b=t[7],b&&(e[7]=b),l&Oe&&(e[8]=e[8]==null?t[8]:Q(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}function Tv(e){var t=[];if(e!=null)for(var r in De(e))t.push(r);return t}function Sv(e){return ki.call(e)}function wd(e,t,r){return t=Ge(t===i?e.length-1:t,0),function(){for(var l=arguments,d=-1,h=Ge(l.length-t,0),m=T(h);++d<h;)m[d]=l[t+d];d=-1;for(var b=T(t+1);++d<t;)b[d]=l[d];return b[t]=r(m),Bt(e,this,b)}}function Ed(e,t){return t.length<2?e:Li(e,Nn(t,0,-1))}function Iv(e,t){for(var r=e.length,l=Q(t.length,r),d=rn(e);l--;){var h=t[l];e[l]=Fr(h,r)?d[h]:i}return e}function bu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ad=Cd(Kc),Do=we||function(e,t){return je.setTimeout(e,t)},yu=Cd(Xh);function xd(e,t,r){var l=t+"";return yu(e,bv(l,Ov(_v(l),r)))}function Cd(e){var t=0,r=0;return function(){var l=bo(),d=ke-(l-r);if(r=l,d>0){if(++t>=wt)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Pa(e,t){var r=-1,l=e.length,d=l-1;for(t=t===i?l:t;++r<t;){var h=nu(r,d),m=e[h];e[h]=e[r],e[r]=m}return e.length=t,e}var Td=xv(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ft,function(r,l,d,h){t.push(d?h.replace(Un,"$1"):l||r)}),t});function mr(e){if(typeof e=="string"||gn(e))return e;var t=e+"";return t=="0"&&1/e==-tt?"-0":t}function Mi(e){if(e!=null){try{return fs.call(e)}catch{}try{return e+""}catch{}}return""}function Ov(e,t){return en(qn,function(r){var l="_."+r[0];t&r[1]&&!ni(e,l)&&e.push(l)}),e.sort()}function Sd(e){if(e instanceof xe)return e.clone();var t=new kn(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function kv(e,t,r){(r?Ut(e,t,r):t===i)?t=1:t=Ge(_e(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var d=0,h=0,m=T(Ke(l/t));d<l;)m[h++]=Nn(e,d,d+=t);return m}function Dv(e){for(var t=-1,r=e==null?0:e.length,l=0,d=[];++t<r;){var h=e[t];h&&(d[l++]=h)}return d}function Nv(){var e=arguments.length;if(!e)return[];for(var t=T(e-1),r=arguments[0],l=e;l--;)t[l-1]=arguments[l];return Tn(he(r)?rn(r):[r],St(t,1))}var $v=ye(function(e,t){return ut(e)?Co(e,St(t,1,ut,!0)):[]}),Pv=ye(function(e,t){var r=$n(t);return ut(r)&&(r=i),ut(e)?Co(e,St(t,1,ut,!0),ne(r,2)):[]}),Lv=ye(function(e,t){var r=$n(t);return ut(r)&&(r=i),ut(e)?Co(e,St(t,1,ut,!0),i,r):[]});function Rv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:_e(t),Nn(e,t<0?0:t,l)):[]}function Mv(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:_e(t),t=l-t,Nn(e,0,t<0?0:t)):[]}function Fv(e,t){return e&&e.length?Ta(e,ne(t,3),!0,!0):[]}function qv(e,t){return e&&e.length?Ta(e,ne(t,3),!0):[]}function Bv(e,t,r,l){var d=e==null?0:e.length;return d?(r&&typeof r!="number"&&Ut(e,t,r)&&(r=0,l=d),Nh(e,t,r,l)):[]}function Id(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:_e(r);return d<0&&(d=Ge(l+d,0)),Sn(e,ne(t,3),d)}function Od(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l-1;return r!==i&&(d=_e(r),d=r<0?Ge(l+d,0):Q(d,l-1)),Sn(e,ne(t,3),d,!0)}function kd(e){var t=e==null?0:e.length;return t?St(e,1):[]}function Wv(e){var t=e==null?0:e.length;return t?St(e,tt):[]}function Hv(e,t){var r=e==null?0:e.length;return r?(t=t===i?1:_e(t),St(e,t)):[]}function Uv(e){for(var t=-1,r=e==null?0:e.length,l={};++t<r;){var d=e[t];l[d[0]]=d[1]}return l}function Dd(e){return e&&e.length?e[0]:i}function Vv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=r==null?0:_e(r);return d<0&&(d=Ge(l+d,0)),In(e,t,d)}function zv(e){var t=e==null?0:e.length;return t?Nn(e,0,-1):[]}var Kv=ye(function(e){var t=ze(e,au);return t.length&&t[0]===e[0]?Xl(t):[]}),Gv=ye(function(e){var t=$n(e),r=ze(e,au);return t===$n(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Xl(r,ne(t,2)):[]}),Yv=ye(function(e){var t=$n(e),r=ze(e,au);return t=typeof t=="function"?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Xl(r,i,t):[]});function jv(e,t){return e==null?"":nn.call(e,t)}function $n(e){var t=e==null?0:e.length;return t?e[t-1]:i}function Qv(e,t,r){var l=e==null?0:e.length;if(!l)return-1;var d=l;return r!==i&&(d=_e(r),d=d<0?Ge(l+d,0):Q(d,l-1)),t===t?Hl(e,t,d):Sn(e,kr,d,!0)}function Xv(e,t){return e&&e.length?Hc(e,_e(t)):i}var Jv=ye(Nd);function Nd(e,t){return e&&e.length&&t&&t.length?tu(e,t):e}function Zv(e,t,r){return e&&e.length&&t&&t.length?tu(e,t,ne(r,2)):e}function e_(e,t,r){return e&&e.length&&t&&t.length?tu(e,t,i,r):e}var t_=Mr(function(e,t){var r=e==null?0:e.length,l=Gl(e,t);return zc(e,ze(t,function(d){return Fr(d,r)?+d:d}).sort(td)),l});function n_(e,t){var r=[];if(!(e&&e.length))return r;var l=-1,d=[],h=e.length;for(t=ne(t,3);++l<h;){var m=e[l];t(m,l,e)&&(r.push(m),d.push(l))}return zc(e,d),r}function wu(e){return e==null?e:zl.call(e)}function r_(e,t,r){var l=e==null?0:e.length;return l?(r&&typeof r!="number"&&Ut(e,t,r)?(t=0,r=l):(t=t==null?0:_e(t),r=r===i?l:_e(r)),Nn(e,t,r)):[]}function i_(e,t){return Ca(e,t)}function s_(e,t,r){return iu(e,t,ne(r,2))}function o_(e,t){var r=e==null?0:e.length;if(r){var l=Ca(e,t);if(l<r&&Zn(e[l],t))return l}return-1}function a_(e,t){return Ca(e,t,!0)}function l_(e,t,r){return iu(e,t,ne(r,2),!0)}function u_(e,t){var r=e==null?0:e.length;if(r){var l=Ca(e,t,!0)-1;if(Zn(e[l],t))return l}return-1}function c_(e){return e&&e.length?Gc(e):[]}function d_(e,t){return e&&e.length?Gc(e,ne(t,2)):[]}function f_(e){var t=e==null?0:e.length;return t?Nn(e,1,t):[]}function p_(e,t,r){return e&&e.length?(t=r||t===i?1:_e(t),Nn(e,0,t<0?0:t)):[]}function h_(e,t,r){var l=e==null?0:e.length;return l?(t=r||t===i?1:_e(t),t=l-t,Nn(e,t<0?0:t,l)):[]}function v_(e,t){return e&&e.length?Ta(e,ne(t,3),!1,!0):[]}function __(e,t){return e&&e.length?Ta(e,ne(t,3)):[]}var m_=ye(function(e){return ci(St(e,1,ut,!0))}),g_=ye(function(e){var t=$n(e);return ut(t)&&(t=i),ci(St(e,1,ut,!0),ne(t,2))}),b_=ye(function(e){var t=$n(e);return t=typeof t=="function"?t:i,ci(St(e,1,ut,!0),i,t)});function y_(e){return e&&e.length?ci(e):[]}function w_(e,t){return e&&e.length?ci(e,ne(t,2)):[]}function E_(e,t){return t=typeof t=="function"?t:i,e&&e.length?ci(e,i,t):[]}function Eu(e){if(!(e&&e.length))return[];var t=0;return e=cr(e,function(r){if(ut(r))return t=Ge(r.length,t),!0}),ho(t,function(r){return ze(e,fo(r))})}function $d(e,t){if(!(e&&e.length))return[];var r=Eu(e);return t==null?r:ze(r,function(l){return Bt(t,i,l)})}var A_=ye(function(e,t){return ut(e)?Co(e,t):[]}),x_=ye(function(e){return ou(cr(e,ut))}),C_=ye(function(e){var t=$n(e);return ut(t)&&(t=i),ou(cr(e,ut),ne(t,2))}),T_=ye(function(e){var t=$n(e);return t=typeof t=="function"?t:i,ou(cr(e,ut),i,t)}),S_=ye(Eu);function I_(e,t){return Xc(e||[],t||[],xo)}function O_(e,t){return Xc(e||[],t||[],Io)}var k_=ye(function(e){var t=e.length,r=t>1?e[t-1]:i;return r=typeof r=="function"?(e.pop(),r):i,$d(e,r)});function Pd(e){var t=p(e);return t.__chain__=!0,t}function D_(e,t){return t(e),e}function La(e,t){return t(e)}var N_=Mr(function(e){var t=e.length,r=t?e[0]:0,l=this.__wrapped__,d=function(h){return Gl(h,e)};return t>1||this.__actions__.length||!(l instanceof xe)||!Fr(r)?this.thru(d):(l=l.slice(r,+r+(t?1:0)),l.__actions__.push({func:La,args:[d],thisArg:i}),new kn(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(i),h}))});function $_(){return Pd(this)}function P_(){return new kn(this.value(),this.__chain__)}function L_(){this.__values__===i&&(this.__values__=Yd(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function R_(){return this}function M_(e){for(var t,r=this;r instanceof ya;){var l=Sd(r);l.__index__=0,l.__values__=i,t?d.__wrapped__=l:t=l;var d=l;r=r.__wrapped__}return d.__wrapped__=e,t}function F_(){var e=this.__wrapped__;if(e instanceof xe){var t=e;return this.__actions__.length&&(t=new xe(this)),t=t.reverse(),t.__actions__.push({func:La,args:[wu],thisArg:i}),new kn(t,this.__chain__)}return this.thru(wu)}function q_(){return Qc(this.__wrapped__,this.__actions__)}var B_=Sa(function(e,t,r){Le.call(e,r)?++e[r]:Lr(e,r,1)});function W_(e,t,r){var l=he(e)?la:Dh;return r&&Ut(e,t,r)&&(t=i),l(e,ne(t,3))}function H_(e,t){var r=he(e)?cr:$c;return r(e,ne(t,3))}var U_=ad(Id),V_=ad(Od);function z_(e,t){return St(Ra(e,t),1)}function K_(e,t){return St(Ra(e,t),tt)}function G_(e,t,r){return r=r===i?1:_e(r),St(Ra(e,t),r)}function Ld(e,t){var r=he(e)?en:ui;return r(e,ne(t,3))}function Rd(e,t){var r=he(e)?aa:Nc;return r(e,ne(t,3))}var Y_=Sa(function(e,t,r){Le.call(e,r)?e[r].push(t):Lr(e,r,[t])});function j_(e,t,r,l){e=sn(e)?e:Es(e),r=r&&!l?_e(r):0;var d=e.length;return r<0&&(r=Ge(d+r,0)),Wa(e)?r<=d&&e.indexOf(t,r)>-1:!!d&&In(e,t,r)>-1}var Q_=ye(function(e,t,r){var l=-1,d=typeof t=="function",h=sn(e)?T(e.length):[];return ui(e,function(m){h[++l]=d?Bt(t,m,r):To(m,t,r)}),h}),X_=Sa(function(e,t,r){Lr(e,r,t)});function Ra(e,t){var r=he(e)?ze:qc;return r(e,ne(t,3))}function J_(e,t,r,l){return e==null?[]:(he(t)||(t=t==null?[]:[t]),r=l?i:r,he(r)||(r=r==null?[]:[r]),Uc(e,t,r))}var Z_=Sa(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function em(e,t,r){var l=he(e)?uo:po,d=arguments.length<3;return l(e,ne(t,4),r,d,ui)}function tm(e,t,r){var l=he(e)?Pl:po,d=arguments.length<3;return l(e,ne(t,4),r,d,Nc)}function nm(e,t){var r=he(e)?cr:$c;return r(e,qa(ne(t,3)))}function rm(e){var t=he(e)?Ic:jh;return t(e)}function im(e,t,r){(r?Ut(e,t,r):t===i)?t=1:t=_e(t);var l=he(e)?Th:Qh;return l(e,t)}function sm(e){var t=he(e)?Sh:Jh;return t(e)}function om(e){if(e==null)return 0;if(sn(e))return Wa(e)?ii(e):e.length;var t=Pt(e);return t==kt||t==vt?e.size:Zl(e).length}function am(e,t,r){var l=he(e)?co:Zh;return r&&Ut(e,t,r)&&(t=i),l(e,ne(t,3))}var lm=ye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ut(e,t[0],t[1])?t=[]:r>2&&Ut(t[0],t[1],t[2])&&(t=[t[0]]),Uc(e,St(t,1),[])}),Ma=ue||function(){return je.Date.now()};function um(e,t){if(typeof t!="function")throw new Tt(E);return e=_e(e),function(){if(--e<1)return t.apply(this,arguments)}}function Md(e,t,r){return t=r?i:t,t=e&&t==null?e.length:t,Rr(e,Oe,i,i,i,i,t)}function Fd(e,t){var r;if(typeof t!="function")throw new Tt(E);return e=_e(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Au=ye(function(e,t,r){var l=re;if(r.length){var d=pr(r,ys(Au));l|=ae}return Rr(e,l,t,r,d)}),qd=ye(function(e,t,r){var l=re|oe;if(r.length){var d=pr(r,ys(qd));l|=ae}return Rr(t,l,e,r,d)});function Bd(e,t,r){t=r?i:t;var l=Rr(e,Ie,i,i,i,i,i,t);return l.placeholder=Bd.placeholder,l}function Wd(e,t,r){t=r?i:t;var l=Rr(e,fe,i,i,i,i,i,t);return l.placeholder=Wd.placeholder,l}function Hd(e,t,r){var l,d,h,m,b,w,P=0,L=!1,R=!1,V=!0;if(typeof e!="function")throw new Tt(E);t=Pn(t)||0,Je(r)&&(L=!!r.leading,R="maxWait"in r,h=R?Ge(Pn(r.maxWait)||0,t):h,V="trailing"in r?!!r.trailing:V);function j(ct){var er=l,Wr=d;return l=d=i,P=ct,m=e.apply(Wr,er),m}function ie(ct){return P=ct,b=Do(Ee,t),L?j(ct):m}function ge(ct){var er=ct-w,Wr=ct-P,lf=t-er;return R?Q(lf,h-Wr):lf}function se(ct){var er=ct-w,Wr=ct-P;return w===i||er>=t||er<0||R&&Wr>=h}function Ee(){var ct=Ma();if(se(ct))return Se(ct);b=Do(Ee,ge(ct))}function Se(ct){return b=i,V&&l?j(ct):(l=d=i,m)}function bn(){b!==i&&Jc(b),P=0,l=w=d=b=i}function Vt(){return b===i?m:Se(Ma())}function yn(){var ct=Ma(),er=se(ct);if(l=arguments,d=this,w=ct,er){if(b===i)return ie(w);if(R)return Jc(b),b=Do(Ee,t),j(w)}return b===i&&(b=Do(Ee,t)),m}return yn.cancel=bn,yn.flush=Vt,yn}var cm=ye(function(e,t){return Dc(e,1,t)}),dm=ye(function(e,t,r){return Dc(e,Pn(t)||0,r)});function fm(e){return Rr(e,Ne)}function Fa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Tt(E);var r=function(){var l=arguments,d=t?t.apply(this,l):l[0],h=r.cache;if(h.has(d))return h.get(d);var m=e.apply(this,l);return r.cache=h.set(d,m)||h,m};return r.cache=new(Fa.Cache||Pr),r}Fa.Cache=Pr;function qa(e){if(typeof e!="function")throw new Tt(E);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function pm(e){return Fd(2,e)}var hm=ev(function(e,t){t=t.length==1&&he(t[0])?ze(t[0],Wt(ne())):ze(St(t,1),Wt(ne()));var r=t.length;return ye(function(l){for(var d=-1,h=Q(l.length,r);++d<h;)l[d]=t[d].call(this,l[d]);return Bt(e,this,l)})}),xu=ye(function(e,t){var r=pr(t,ys(xu));return Rr(e,ae,i,t,r)}),Ud=ye(function(e,t){var r=pr(t,ys(Ud));return Rr(e,Ae,i,t,r)}),vm=Mr(function(e,t){return Rr(e,qe,i,i,i,t)});function _m(e,t){if(typeof e!="function")throw new Tt(E);return t=t===i?t:_e(t),ye(e,t)}function mm(e,t){if(typeof e!="function")throw new Tt(E);return t=t==null?0:Ge(_e(t),0),ye(function(r){var l=r[t],d=fi(r,0,t);return l&&Tn(d,l),Bt(e,this,d)})}function gm(e,t,r){var l=!0,d=!0;if(typeof e!="function")throw new Tt(E);return Je(r)&&(l="leading"in r?!!r.leading:l,d="trailing"in r?!!r.trailing:d),Hd(e,t,{leading:l,maxWait:t,trailing:d})}function bm(e){return Md(e,1)}function ym(e,t){return xu(lu(t),e)}function wm(){if(!arguments.length)return[];var e=arguments[0];return he(e)?e:[e]}function Em(e){return Dn(e,K)}function Am(e,t){return t=typeof t=="function"?t:i,Dn(e,K,t)}function xm(e){return Dn(e,U|K)}function Cm(e,t){return t=typeof t=="function"?t:i,Dn(e,U|K,t)}function Tm(e,t){return t==null||kc(e,t,yt(t))}function Zn(e,t){return e===t||e!==e&&t!==t}var Sm=Da(Ql),Im=Da(function(e,t){return e>=t}),Fi=Rc((function(){return arguments})())?Rc:function(e){return nt(e)&&Le.call(e,"callee")&&!u.call(e,"callee")},he=T.isArray,Om=sa?Wt(sa):Mh;function sn(e){return e!=null&&Ba(e.length)&&!qr(e)}function ut(e){return nt(e)&&sn(e)}function km(e){return e===!0||e===!1||nt(e)&&Ht(e)==Rt}var pi=He||Lu,Dm=ur?Wt(ur):Fh;function Nm(e){return nt(e)&&e.nodeType===1&&!No(e)}function $m(e){if(e==null)return!0;if(sn(e)&&(he(e)||typeof e=="string"||typeof e.splice=="function"||pi(e)||ws(e)||Fi(e)))return!e.length;var t=Pt(e);if(t==kt||t==vt)return!e.size;if(ko(e))return!Zl(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0}function Pm(e,t){return So(e,t)}function Lm(e,t,r){r=typeof r=="function"?r:i;var l=r?r(e,t):i;return l===i?So(e,t,i,r):!!l}function Cu(e){if(!nt(e))return!1;var t=Ht(e);return t==nr||t==Ws||typeof e.message=="string"&&typeof e.name=="string"&&!No(e)}function Rm(e){return typeof e=="number"&&lt(e)}function qr(e){if(!Je(e))return!1;var t=Ht(e);return t==Yr||t==Ei||t==Gr||t==Hs}function Vd(e){return typeof e=="number"&&e==_e(e)}function Ba(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ce}function Je(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function nt(e){return e!=null&&typeof e=="object"}var zd=ot?Wt(ot):Bh;function Mm(e,t){return e===t||Jl(e,t,vu(t))}function Fm(e,t,r){return r=typeof r=="function"?r:i,Jl(e,t,vu(t),r)}function qm(e){return Kd(e)&&e!=+e}function Bm(e){if(Av(e))throw new le(g);return Mc(e)}function Wm(e){return e===null}function Hm(e){return e==null}function Kd(e){return typeof e=="number"||nt(e)&&Ht(e)==xr}function No(e){if(!nt(e)||Ht(e)!=Yt)return!1;var t=o(e);if(t===null)return!0;var r=Le.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fs.call(r)==ha}var Tu=Yn?Wt(Yn):Wh;function Um(e){return Vd(e)&&e>=-Ce&&e<=Ce}var Gd=Ir?Wt(Ir):Hh;function Wa(e){return typeof e=="string"||!he(e)&&nt(e)&&Ht(e)==Nt}function gn(e){return typeof e=="symbol"||nt(e)&&Ht(e)==me}var ws=oa?Wt(oa):Uh;function Vm(e){return e===i}function zm(e){return nt(e)&&Pt(e)==it}function Km(e){return nt(e)&&Ht(e)==xt}var Gm=Da(eu),Ym=Da(function(e,t){return e<=t});function Yd(e){if(!e)return[];if(sn(e))return Wa(e)?vn(e):rn(e);if(O&&e[O])return Wl(e[O]());var t=Pt(e),r=t==kt?$t:t==vt?ls:Es;return r(e)}function Br(e){if(!e)return e===0?e:0;if(e=Pn(e),e===tt||e===-tt){var t=e<0?-1:1;return t*xn}return e===e?e:0}function _e(e){var t=Br(e),r=t%1;return t===t?r?t-r:t:0}function jd(e){return e?Pi(_e(e),0,Ot):0}function Pn(e){if(typeof e=="number")return e;if(gn(e))return Gt;if(Je(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Je(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vo(e);var r=Al.test(e);return r||Ti.test(e)?Nl(e.slice(2),r?2:8):El.test(e)?Gt:+e}function Qd(e){return _r(e,on(e))}function jm(e){return e?Pi(_e(e),-Ce,Ce):e===0?e:0}function Fe(e){return e==null?"":mn(e)}var Qm=gs(function(e,t){if(ko(t)||sn(t)){_r(t,yt(t),e);return}for(var r in t)Le.call(t,r)&&xo(e,r,t[r])}),Xd=gs(function(e,t){_r(t,on(t),e)}),Ha=gs(function(e,t,r,l){_r(t,on(t),e,l)}),Xm=gs(function(e,t,r,l){_r(t,yt(t),e,l)}),Jm=Mr(Gl);function Zm(e,t){var r=ms(e);return t==null?r:Oc(r,t)}var eg=ye(function(e,t){e=De(e);var r=-1,l=t.length,d=l>2?t[2]:i;for(d&&Ut(t[0],t[1],d)&&(l=1);++r<l;)for(var h=t[r],m=on(h),b=-1,w=m.length;++b<w;){var P=m[b],L=e[P];(L===i||Zn(L,ai[P])&&!Le.call(e,P))&&(e[P]=h[P])}return e}),tg=ye(function(e){return e.push(i,hd),Bt(Jd,i,e)});function ng(e,t){return tn(e,ne(t,3),vr)}function rg(e,t){return tn(e,ne(t,3),jl)}function ig(e,t){return e==null?e:Yl(e,ne(t,3),on)}function sg(e,t){return e==null?e:Pc(e,ne(t,3),on)}function og(e,t){return e&&vr(e,ne(t,3))}function ag(e,t){return e&&jl(e,ne(t,3))}function lg(e){return e==null?[]:Aa(e,yt(e))}function ug(e){return e==null?[]:Aa(e,on(e))}function Su(e,t,r){var l=e==null?i:Li(e,t);return l===i?r:l}function cg(e,t){return e!=null&&md(e,t,$h)}function Iu(e,t){return e!=null&&md(e,t,Ph)}var dg=ud(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ki.call(t)),e[t]=r},ku(an)),fg=ud(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ki.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]},ne),pg=ye(To);function yt(e){return sn(e)?Sc(e):Zl(e)}function on(e){return sn(e)?Sc(e,!0):Vh(e)}function hg(e,t){var r={};return t=ne(t,3),vr(e,function(l,d,h){Lr(r,t(l,d,h),l)}),r}function vg(e,t){var r={};return t=ne(t,3),vr(e,function(l,d,h){Lr(r,d,t(l,d,h))}),r}var _g=gs(function(e,t,r){xa(e,t,r)}),Jd=gs(function(e,t,r,l){xa(e,t,r,l)}),mg=Mr(function(e,t){var r={};if(e==null)return r;var l=!1;t=ze(t,function(h){return h=di(h,e),l||(l=h.length>1),h}),_r(e,pu(e),r),l&&(r=Dn(r,U|J|K,dv));for(var d=t.length;d--;)su(r,t[d]);return r});function gg(e,t){return Zd(e,qa(ne(t)))}var bg=Mr(function(e,t){return e==null?{}:Kh(e,t)});function Zd(e,t){if(e==null)return{};var r=ze(pu(e),function(l){return[l]});return t=ne(t),Vc(e,r,function(l,d){return t(l,d[0])})}function yg(e,t,r){t=di(t,e);var l=-1,d=t.length;for(d||(d=1,e=i);++l<d;){var h=e==null?i:e[mr(t[l])];h===i&&(l=d,h=r),e=qr(h)?h.call(e):h}return e}function wg(e,t,r){return e==null?e:Io(e,t,r)}function Eg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:Io(e,t,r,l)}var ef=fd(yt),tf=fd(on);function Ag(e,t,r){var l=he(e),d=l||pi(e)||ws(e);if(t=ne(t,4),r==null){var h=e&&e.constructor;d?r=l?new h:[]:Je(e)?r=qr(h)?ms(o(e)):{}:r={}}return(d?en:vr)(e,function(m,b,w){return t(r,m,b,w)}),r}function xg(e,t){return e==null?!0:su(e,t)}function Cg(e,t,r){return e==null?e:jc(e,t,lu(r))}function Tg(e,t,r,l){return l=typeof l=="function"?l:i,e==null?e:jc(e,t,lu(r),l)}function Es(e){return e==null?[]:_o(e,yt(e))}function Sg(e){return e==null?[]:_o(e,on(e))}function Ig(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=Pn(r),r=r===r?r:0),t!==i&&(t=Pn(t),t=t===t?t:0),Pi(Pn(e),t,r)}function Og(e,t,r){return t=Br(t),r===i?(r=t,t=0):r=Br(r),e=Pn(e),Lh(e,t,r)}function kg(e,t,r){if(r&&typeof r!="boolean"&&Ut(e,t,r)&&(t=r=i),r===i&&(typeof t=="boolean"?(r=t,t=i):typeof e=="boolean"&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Br(e),t===i?(t=e,e=0):t=Br(t)),e>t){var l=e;e=t,t=l}if(r||e%1||t%1){var d=ma();return Q(e+d*(t-e+ar("1e-"+((d+"").length-1))),t)}return nu(e,t)}var Dg=bs(function(e,t,r){return t=t.toLowerCase(),e+(r?nf(t):t)});function nf(e){return Ou(Fe(e).toLowerCase())}function rf(e){return e=Fe(e),e&&e.replace(jt,dr).replace(Sl,"")}function Ng(e,t,r){e=Fe(e),t=mn(t);var l=e.length;r=r===i?l:Pi(_e(r),0,l);var d=r;return r-=t.length,r>=0&&e.slice(r,d)==t}function $g(e){return e=Fe(e),e&&Qs.test(e)?e.replace(Ai,ri):e}function Pg(e){return e=Fe(e),e&&Hn.test(e)?e.replace(xi,"\\$&"):e}var Lg=bs(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Rg=bs(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Mg=od("toLowerCase");function Fg(e,t,r){e=Fe(e),t=_e(t);var l=t?ii(e):0;if(!t||l>=t)return e;var d=(t-l)/2;return ka(X(d),r)+e+ka(Ke(d),r)}function qg(e,t,r){e=Fe(e),t=_e(t);var l=t?ii(e):0;return t&&l<t?e+ka(t-l,r):e}function Bg(e,t,r){e=Fe(e),t=_e(t);var l=t?ii(e):0;return t&&l<t?ka(t-l,r)+e:e}function Wg(e,t,r){return r||t==null?t=0:t&&(t=+t),yo(Fe(e).replace(dn,""),t||0)}function Hg(e,t,r){return(r?Ut(e,t,r):t===i)?t=1:t=_e(t),ru(Fe(e),t)}function Ug(){var e=arguments,t=Fe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Vg=bs(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function zg(e,t,r){return r&&typeof r!="number"&&Ut(e,t,r)&&(t=r=i),r=r===i?Ot:r>>>0,r?(e=Fe(e),e&&(typeof t=="string"||t!=null&&!Tu(t))&&(t=mn(t),!t&&Me(e))?fi(vn(e),0,r):e.split(t,r)):[]}var Kg=bs(function(e,t,r){return e+(r?" ":"")+Ou(t)});function Gg(e,t,r){return e=Fe(e),r=r==null?0:Pi(_e(r),0,e.length),t=mn(t),e.slice(r,r+t.length)==t}function Yg(e,t,r){var l=p.templateSettings;r&&Ut(e,t,r)&&(t=i),e=Fe(e),t=Ha({},t,l,pd);var d=Ha({},t.imports,l.imports,pd),h=yt(d),m=_o(d,h),b,w,P=0,L=t.interpolate||jr,R="__p += '",V=oi((t.escape||jr).source+"|"+L.source+"|"+(L===Yi?wl:jr).source+"|"+(t.evaluate||jr).source+"|$","g"),j="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ns+"]")+`
`;e.replace(V,function(se,Ee,Se,bn,Vt,yn){return Se||(Se=bn),R+=e.slice(P,yn).replace(Zs,fr),Ee&&(b=!0,R+=`' +
__e(`+Ee+`) +
'`),Vt&&(w=!0,R+=`';
`+Vt+`;
__p += '`),Se&&(R+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),P=yn+se.length,se}),R+=`';
`;var ie=Le.call(t,"variable")&&t.variable;if(!ie)R=`with (obj) {
`+R+`
}
`;else if(ft.test(ie))throw new le(I);R=(w?R.replace(bt,""):R).replace(Ko,"$1").replace(Ys,"$1;"),R="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var ge=of(function(){return $e(h,j+"return "+R).apply(i,m)});if(ge.source=R,Cu(ge))throw ge;return ge}function jg(e){return Fe(e).toLowerCase()}function Qg(e){return Fe(e).toUpperCase()}function Xg(e,t,r){if(e=Fe(e),e&&(r||t===i))return vo(e);if(!e||!(t=mn(t)))return e;var l=vn(e),d=vn(t),h=Ye(l,d),m=Qe(l,d)+1;return fi(l,h,m).join("")}function Jg(e,t,r){if(e=Fe(e),e&&(r||t===i))return e.slice(0,ca(e)+1);if(!e||!(t=mn(t)))return e;var l=vn(e),d=Qe(l,vn(t))+1;return fi(l,0,d).join("")}function Zg(e,t,r){if(e=Fe(e),e&&(r||t===i))return e.replace(dn,"");if(!e||!(t=mn(t)))return e;var l=vn(e),d=Ye(l,vn(t));return fi(l,d).join("")}function eb(e,t){var r=Ve,l=et;if(Je(t)){var d="separator"in t?t.separator:d;r="length"in t?_e(t.length):r,l="omission"in t?mn(t.omission):l}e=Fe(e);var h=e.length;if(Me(e)){var m=vn(e);h=m.length}if(r>=h)return e;var b=r-ii(l);if(b<1)return l;var w=m?fi(m,0,b).join(""):e.slice(0,b);if(d===i)return w+l;if(m&&(b+=w.length-b),Tu(d)){if(e.slice(b).search(d)){var P,L=w;for(d.global||(d=oi(d.source,Fe(Ci.exec(d))+"g")),d.lastIndex=0;P=d.exec(L);)var R=P.index;w=w.slice(0,R===i?b:R)}}else if(e.indexOf(mn(d),b)!=b){var V=w.lastIndexOf(d);V>-1&&(w=w.slice(0,V))}return w+l}function tb(e){return e=Fe(e),e&&js.test(e)?e.replace(Go,da):e}var nb=bs(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Ou=od("toUpperCase");function sf(e,t,r){return e=Fe(e),t=r?i:t,t===i?Bl(e)?pa(e):Ml(e):e.match(t)||[]}var of=ye(function(e,t){try{return Bt(e,i,t)}catch(r){return Cu(r)?r:new le(r)}}),rb=Mr(function(e,t){return en(t,function(r){r=mr(r),Lr(e,r,Au(e[r],e))}),e});function ib(e){var t=e==null?0:e.length,r=ne();return e=t?ze(e,function(l){if(typeof l[1]!="function")throw new Tt(E);return[r(l[0]),l[1]]}):[],ye(function(l){for(var d=-1;++d<t;){var h=e[d];if(Bt(h[0],this,l))return Bt(h[1],this,l)}})}function sb(e){return kh(Dn(e,U))}function ku(e){return function(){return e}}function ob(e,t){return e==null||e!==e?t:e}var ab=ld(),lb=ld(!0);function an(e){return e}function Du(e){return Fc(typeof e=="function"?e:Dn(e,U))}function ub(e){return Bc(Dn(e,U))}function cb(e,t){return Wc(e,Dn(t,U))}var db=ye(function(e,t){return function(r){return To(r,e,t)}}),fb=ye(function(e,t){return function(r){return To(e,r,t)}});function Nu(e,t,r){var l=yt(t),d=Aa(t,l);r==null&&!(Je(t)&&(d.length||!l.length))&&(r=t,t=e,e=this,d=Aa(t,yt(t)));var h=!(Je(r)&&"chain"in r)||!!r.chain,m=qr(e);return en(d,function(b){var w=t[b];e[b]=w,m&&(e.prototype[b]=function(){var P=this.__chain__;if(h||P){var L=e(this.__wrapped__),R=L.__actions__=rn(this.__actions__);return R.push({func:w,args:arguments,thisArg:e}),L.__chain__=P,L}return w.apply(e,Tn([this.value()],arguments))})}),e}function pb(){return je._===this&&(je._=va),this}function $u(){}function hb(e){return e=_e(e),ye(function(t){return Hc(t,e)})}var vb=cu(ze),_b=cu(la),mb=cu(co);function af(e){return mu(e)?fo(mr(e)):Gh(e)}function gb(e){return function(t){return e==null?i:Li(e,t)}}var bb=cd(),yb=cd(!0);function Pu(){return[]}function Lu(){return!1}function wb(){return{}}function Eb(){return""}function Ab(){return!0}function xb(e,t){if(e=_e(e),e<1||e>Ce)return[];var r=Ot,l=Q(e,Ot);t=ne(t),e-=Ot;for(var d=ho(l,t);++r<e;)t(r);return d}function Cb(e){return he(e)?ze(e,mr):gn(e)?[e]:rn(Td(Fe(e)))}function Tb(e){var t=++li;return Fe(e)+t}var Sb=Oa(function(e,t){return e+t},0),Ib=du("ceil"),Ob=Oa(function(e,t){return e/t},1),kb=du("floor");function Db(e){return e&&e.length?Ea(e,an,Ql):i}function Nb(e,t){return e&&e.length?Ea(e,ne(t,2),Ql):i}function $b(e){return ua(e,an)}function Pb(e,t){return ua(e,ne(t,2))}function Lb(e){return e&&e.length?Ea(e,an,eu):i}function Rb(e,t){return e&&e.length?Ea(e,ne(t,2),eu):i}var Mb=Oa(function(e,t){return e*t},1),Fb=du("round"),qb=Oa(function(e,t){return e-t},0);function Bb(e){return e&&e.length?ss(e,an):0}function Wb(e,t){return e&&e.length?ss(e,ne(t,2)):0}return p.after=um,p.ary=Md,p.assign=Qm,p.assignIn=Xd,p.assignInWith=Ha,p.assignWith=Xm,p.at=Jm,p.before=Fd,p.bind=Au,p.bindAll=rb,p.bindKey=qd,p.castArray=wm,p.chain=Pd,p.chunk=kv,p.compact=Dv,p.concat=Nv,p.cond=ib,p.conforms=sb,p.constant=ku,p.countBy=B_,p.create=Zm,p.curry=Bd,p.curryRight=Wd,p.debounce=Hd,p.defaults=eg,p.defaultsDeep=tg,p.defer=cm,p.delay=dm,p.difference=$v,p.differenceBy=Pv,p.differenceWith=Lv,p.drop=Rv,p.dropRight=Mv,p.dropRightWhile=Fv,p.dropWhile=qv,p.fill=Bv,p.filter=H_,p.flatMap=z_,p.flatMapDeep=K_,p.flatMapDepth=G_,p.flatten=kd,p.flattenDeep=Wv,p.flattenDepth=Hv,p.flip=fm,p.flow=ab,p.flowRight=lb,p.fromPairs=Uv,p.functions=lg,p.functionsIn=ug,p.groupBy=Y_,p.initial=zv,p.intersection=Kv,p.intersectionBy=Gv,p.intersectionWith=Yv,p.invert=dg,p.invertBy=fg,p.invokeMap=Q_,p.iteratee=Du,p.keyBy=X_,p.keys=yt,p.keysIn=on,p.map=Ra,p.mapKeys=hg,p.mapValues=vg,p.matches=ub,p.matchesProperty=cb,p.memoize=Fa,p.merge=_g,p.mergeWith=Jd,p.method=db,p.methodOf=fb,p.mixin=Nu,p.negate=qa,p.nthArg=hb,p.omit=mg,p.omitBy=gg,p.once=pm,p.orderBy=J_,p.over=vb,p.overArgs=hm,p.overEvery=_b,p.overSome=mb,p.partial=xu,p.partialRight=Ud,p.partition=Z_,p.pick=bg,p.pickBy=Zd,p.property=af,p.propertyOf=gb,p.pull=Jv,p.pullAll=Nd,p.pullAllBy=Zv,p.pullAllWith=e_,p.pullAt=t_,p.range=bb,p.rangeRight=yb,p.rearg=vm,p.reject=nm,p.remove=n_,p.rest=_m,p.reverse=wu,p.sampleSize=im,p.set=wg,p.setWith=Eg,p.shuffle=sm,p.slice=r_,p.sortBy=lm,p.sortedUniq=c_,p.sortedUniqBy=d_,p.split=zg,p.spread=mm,p.tail=f_,p.take=p_,p.takeRight=h_,p.takeRightWhile=v_,p.takeWhile=__,p.tap=D_,p.throttle=gm,p.thru=La,p.toArray=Yd,p.toPairs=ef,p.toPairsIn=tf,p.toPath=Cb,p.toPlainObject=Qd,p.transform=Ag,p.unary=bm,p.union=m_,p.unionBy=g_,p.unionWith=b_,p.uniq=y_,p.uniqBy=w_,p.uniqWith=E_,p.unset=xg,p.unzip=Eu,p.unzipWith=$d,p.update=Cg,p.updateWith=Tg,p.values=Es,p.valuesIn=Sg,p.without=A_,p.words=sf,p.wrap=ym,p.xor=x_,p.xorBy=C_,p.xorWith=T_,p.zip=S_,p.zipObject=I_,p.zipObjectDeep=O_,p.zipWith=k_,p.entries=ef,p.entriesIn=tf,p.extend=Xd,p.extendWith=Ha,Nu(p,p),p.add=Sb,p.attempt=of,p.camelCase=Dg,p.capitalize=nf,p.ceil=Ib,p.clamp=Ig,p.clone=Em,p.cloneDeep=xm,p.cloneDeepWith=Cm,p.cloneWith=Am,p.conformsTo=Tm,p.deburr=rf,p.defaultTo=ob,p.divide=Ob,p.endsWith=Ng,p.eq=Zn,p.escape=$g,p.escapeRegExp=Pg,p.every=W_,p.find=U_,p.findIndex=Id,p.findKey=ng,p.findLast=V_,p.findLastIndex=Od,p.findLastKey=rg,p.floor=kb,p.forEach=Ld,p.forEachRight=Rd,p.forIn=ig,p.forInRight=sg,p.forOwn=og,p.forOwnRight=ag,p.get=Su,p.gt=Sm,p.gte=Im,p.has=cg,p.hasIn=Iu,p.head=Dd,p.identity=an,p.includes=j_,p.indexOf=Vv,p.inRange=Og,p.invoke=pg,p.isArguments=Fi,p.isArray=he,p.isArrayBuffer=Om,p.isArrayLike=sn,p.isArrayLikeObject=ut,p.isBoolean=km,p.isBuffer=pi,p.isDate=Dm,p.isElement=Nm,p.isEmpty=$m,p.isEqual=Pm,p.isEqualWith=Lm,p.isError=Cu,p.isFinite=Rm,p.isFunction=qr,p.isInteger=Vd,p.isLength=Ba,p.isMap=zd,p.isMatch=Mm,p.isMatchWith=Fm,p.isNaN=qm,p.isNative=Bm,p.isNil=Hm,p.isNull=Wm,p.isNumber=Kd,p.isObject=Je,p.isObjectLike=nt,p.isPlainObject=No,p.isRegExp=Tu,p.isSafeInteger=Um,p.isSet=Gd,p.isString=Wa,p.isSymbol=gn,p.isTypedArray=ws,p.isUndefined=Vm,p.isWeakMap=zm,p.isWeakSet=Km,p.join=jv,p.kebabCase=Lg,p.last=$n,p.lastIndexOf=Qv,p.lowerCase=Rg,p.lowerFirst=Mg,p.lt=Gm,p.lte=Ym,p.max=Db,p.maxBy=Nb,p.mean=$b,p.meanBy=Pb,p.min=Lb,p.minBy=Rb,p.stubArray=Pu,p.stubFalse=Lu,p.stubObject=wb,p.stubString=Eb,p.stubTrue=Ab,p.multiply=Mb,p.nth=Xv,p.noConflict=pb,p.noop=$u,p.now=Ma,p.pad=Fg,p.padEnd=qg,p.padStart=Bg,p.parseInt=Wg,p.random=kg,p.reduce=em,p.reduceRight=tm,p.repeat=Hg,p.replace=Ug,p.result=yg,p.round=Fb,p.runInContext=y,p.sample=rm,p.size=om,p.snakeCase=Vg,p.some=am,p.sortedIndex=i_,p.sortedIndexBy=s_,p.sortedIndexOf=o_,p.sortedLastIndex=a_,p.sortedLastIndexBy=l_,p.sortedLastIndexOf=u_,p.startCase=Kg,p.startsWith=Gg,p.subtract=qb,p.sum=Bb,p.sumBy=Wb,p.template=Yg,p.times=xb,p.toFinite=Br,p.toInteger=_e,p.toLength=jd,p.toLower=jg,p.toNumber=Pn,p.toSafeInteger=jm,p.toString=Fe,p.toUpper=Qg,p.trim=Xg,p.trimEnd=Jg,p.trimStart=Zg,p.truncate=eb,p.unescape=tb,p.uniqueId=Tb,p.upperCase=nb,p.upperFirst=Ou,p.each=Ld,p.eachRight=Rd,p.first=Dd,Nu(p,(function(){var e={};return vr(p,function(t,r){Le.call(p.prototype,r)||(e[r]=t)}),e})(),{chain:!1}),p.VERSION=f,en(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),en(["drop","take"],function(e,t){xe.prototype[e]=function(r){r=r===i?1:Ge(_e(r),0);var l=this.__filtered__&&!t?new xe(this):this.clone();return l.__filtered__?l.__takeCount__=Q(r,l.__takeCount__):l.__views__.push({size:Q(r,Ot),type:e+(l.__dir__<0?"Right":"")}),l},xe.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),en(["filter","map","takeWhile"],function(e,t){var r=t+1,l=r==It||r==Et;xe.prototype[e]=function(d){var h=this.clone();return h.__iteratees__.push({iteratee:ne(d,3),type:r}),h.__filtered__=h.__filtered__||l,h}}),en(["head","last"],function(e,t){var r="take"+(t?"Right":"");xe.prototype[e]=function(){return this[r](1).value()[0]}}),en(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");xe.prototype[e]=function(){return this.__filtered__?new xe(this):this[r](1)}}),xe.prototype.compact=function(){return this.filter(an)},xe.prototype.find=function(e){return this.filter(e).head()},xe.prototype.findLast=function(e){return this.reverse().find(e)},xe.prototype.invokeMap=ye(function(e,t){return typeof e=="function"?new xe(this):this.map(function(r){return To(r,e,t)})}),xe.prototype.reject=function(e){return this.filter(qa(ne(e)))},xe.prototype.slice=function(e,t){e=_e(e);var r=this;return r.__filtered__&&(e>0||t<0)?new xe(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=_e(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},xe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},xe.prototype.toArray=function(){return this.take(Ot)},vr(xe.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),d=p[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);d&&(p.prototype[t]=function(){var m=this.__wrapped__,b=l?[1]:arguments,w=m instanceof xe,P=b[0],L=w||he(m),R=function(Ee){var Se=d.apply(p,Tn([Ee],b));return l&&V?Se[0]:Se};L&&r&&typeof P=="function"&&P.length!=1&&(w=L=!1);var V=this.__chain__,j=!!this.__actions__.length,ie=h&&!V,ge=w&&!j;if(!h&&L){m=ge?m:new xe(this);var se=e.apply(m,b);return se.__actions__.push({func:La,args:[R],thisArg:i}),new kn(se,V)}return ie&&ge?e.apply(this,b):(se=this.thru(R),ie?l?se.value()[0]:se.value():se)})}),en(["pop","push","shift","sort","splice","unshift"],function(e){var t=cs[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var d=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(he(h)?h:[],d)}return this[r](function(m){return t.apply(he(m)?m:[],d)})}}),vr(xe.prototype,function(e,t){var r=p[t];if(r){var l=r.name+"";Le.call(_s,l)||(_s[l]=[]),_s[l].push({name:t,func:r})}}),_s[Ia(i,oe).name]=[{name:"wrapper",func:i}],xe.prototype.clone=th,xe.prototype.reverse=nh,xe.prototype.value=rh,p.prototype.at=N_,p.prototype.chain=$_,p.prototype.commit=P_,p.prototype.next=L_,p.prototype.plant=M_,p.prototype.reverse=F_,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=q_,p.prototype.first=p.prototype.head,O&&(p.prototype[O]=R_),p}),si=Vl();hn?((hn.exports=si)._=si,Gn._=si):je._=si}).call(LA)})(Ro,Ro.exports)),Ro.exports}var qo=RA();function MA(a){let n=null,i=null,f=new Map;const v=U=>JSON.stringify(U),g=async(U,J,K,te)=>{if(te===(K==="cart"?n:i))return{success:!0,skipped:!0};if(f.has(K))return console.log(` Skipping duplicate ${K} request`),{success:!1,skipped:!0};const G=new AbortController,re=setTimeout(()=>G.abort(),5e3);f.set(K,!0);try{const oe=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify(J),signal:G.signal});if(clearTimeout(re),!oe.ok)throw new Error(`HTTP ${oe.status}`);const Pe=await oe.json();return K==="cart"?n=te:i=te,console.log(` ${K} updated - v${Pe.version}`),{success:!0,data:Pe}}catch(oe){return oe.name==="AbortError"?console.warn(` ${K} update timeout`):console.error(` Failed to update ${K}:`,oe.message),{success:!1,error:oe}}finally{f.delete(K)}},E=qo.debounce(async U=>{const J=v(U);await g("/api/pos/terminal/update-cart",{terminal_id:a,cart:U},"cart",J)},800),I=qo.debounce(async U=>{const J=v(U);await g("/api/pos/terminal/update-ui",{terminal_id:a,ui:U},"ui",J)},300),C=async U=>{const J=v(U);return await g("/api/pos/terminal/update-cart",{terminal_id:a,cart:U},"cart",J)},M=qo.debounce(async(U,J)=>{const K=v(U),te=v(J);if(K===n&&te===i)return{success:!0,skipped:!0};const G=new AbortController,re=setTimeout(()=>G.abort(),5e3);try{const oe=await fetch("/api/pos/terminal/update-both",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({terminal_id:a,cart:U,ui:J}),signal:G.signal});if(clearTimeout(re),!oe.ok)throw new Error(`HTTP ${oe.status}`);const Pe=await oe.json();return n=K,i=te,console.log(` Batch update successful - v${Pe.version}`),{success:!0,data:Pe}}catch(oe){return console.error(" Batch update failed:",oe.message),{success:!1,error:oe}}},500);return{broadcastCartUpdate:E,broadcastUIUpdate:I,broadcastImmediateCartUpdate:C,broadcastBatchUpdate:M,clearBroadcastCache:()=>{n=null,i=null,f.clear(),console.log(" Broadcast cache cleared")}}}const FA={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)","z-index":"9999"}},qA={class:"modal-dialog modal-lg modal-dialog-centered"},BA={class:"modal-content"},WA={class:"modal-header bg-warning text-dark"},HA={class:"modal-body"},UA={key:0,class:"alert alert-info mb-3"},VA={class:"mb-0"},zA={key:1,class:"alert alert-danger"},KA={class:"text-muted"},GA={key:2},YA={class:"fw-bold"},jA={key:0,class:"badge bg-secondary ms-2"},QA={class:"table table-sm table-bordered"},XA={class:"text-end"},JA={class:"text-end"},ZA={class:"text-end text-danger fw-bold"},ex={class:"modal-footer"},tx={__name:"ConfirmMissingIngredientsModal",props:{show:Boolean,missingIngredients:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(a,{emit:n}){const i=a,f=n;Bi(()=>i.show,I=>{console.log(" Modal show changed:",I),I&&console.log(" Missing ingredients:",i.missingIngredients)},{immediate:!0}),Bi(()=>i.missingIngredients,I=>{console.log(" Missing ingredients changed:",I),console.log(" Array length:",I?.length),console.log(" Is array?:",Array.isArray(I))},{immediate:!0,deep:!0});const v=be(()=>{if(console.log(" Computing groupedByItem"),console.log(" Input missingIngredients:",i.missingIngredients),!Array.isArray(i.missingIngredients)||i.missingIngredients.length===0)return console.log(" No ingredients to group (not array or empty)"),{};const I={};return i.missingIngredients.forEach((C,M)=>{console.log(` Processing ingredient ${M}:`,C);const D=`${C.item_id}-${C.variant_id||"default"}`;I[D]||(I[D]={item_title:C.item_title,variant_name:C.variant_name,ingredients:[]}),I[D].ingredients.push(C)}),console.log(" Final grouped data:",I),I}),g=be(()=>i.missingIngredients&&i.missingIngredients.length>0),E=be(()=>Object.keys(v.value).length);return(I,C)=>a.show?dt((x(),k("div",FA,[c("div",qA,[c("div",BA,[c("div",WA,[C[4]||(C[4]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-exclamation-triangle-fill me-2"}),ve(" Ingredient Shortage Warning ")],-1)),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:C[0]||(C[0]=M=>f("close"))},[...C[3]||(C[3]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",HA,[g.value?Y("",!0):(x(),k("div",UA,[C[5]||(C[5]=c("strong",null,"Debug Info:",-1)),c("ul",VA,[c("li",null,"Has data: "+$(g.value),1),c("li",null,"Array length: "+$(a.missingIngredients?.length||0),1),c("li",null,"Is array: "+$(Array.isArray(a.missingIngredients)),1),c("li",null,"Group count: "+$(E.value),1)])])),C[10]||(C[10]=c("div",{class:"alert alert-warning"},[c("strong",null,"Warning:"),ve(" The following items have ingredient shortages. The order can still be placed, but pending ingredient deductions will be recorded and automatically deducted when stock arrives. ")],-1)),g.value?(x(),k("div",GA,[(x(!0),k(Ue,null,pt(v.value,(M,D)=>(x(),k("div",{key:D,class:"mb-4"},[c("h6",YA,[ve($(M.item_title)+" ",1),M.variant_name?(x(),k("span",jA,$(M.variant_name),1)):Y("",!0)]),c("table",QA,[C[9]||(C[9]=c("thead",{class:"table-light"},[c("tr",null,[c("th",null,"Ingredient"),c("th",{class:"text-end"},"Required"),c("th",{class:"text-end"},"Available"),c("th",{class:"text-end"},"Short")])],-1)),c("tbody",null,[(x(!0),k(Ue,null,pt(M.ingredients,U=>(x(),k("tr",{key:U.inventory_item_id},[c("td",null,$(U.inventory_item_name),1),c("td",XA,$(U.required_quantity)+" "+$(U.unit),1),c("td",JA,$(U.available_quantity)+" "+$(U.unit),1),c("td",ZA,$(U.shortage_quantity)+" "+$(U.unit),1)]))),128))])])]))),128))])):(x(),k("div",zA,[C[6]||(C[6]=c("i",{class:"bi bi-exclamation-circle me-2"},null,-1)),C[7]||(C[7]=ve(" No missing ingredient data available. ",-1)),C[8]||(C[8]=c("br",null,null,-1)),c("small",KA," Received "+$(a.missingIngredients?.length||0)+" ingredient(s) ",1)]))]),c("div",ex,[c("button",{type:"button",class:"btn btn-secondary px-2 py-2",onClick:C[1]||(C[1]=M=>f("close"))}," Cancel Order "),c("button",{type:"button",class:"btn btn-primary px-4 py-2",onClick:C[2]||(C[2]=M=>f("confirm"))}," Proceed Anyway ")])])])],512)),[[Hr,a.show]]):Y("",!0)}},nx={class:"page-wrapper"},rx={class:"container-fluid px-3 py-3"},ix={class:"row gx-3 gy-3"},sx={key:0,class:"row g-3 tablet-screen"},ox={class:"d-flex justify-content-between justify align-items-center mb-3"},ax={style:{width:"250px",position:"relative"}},lx={key:1,type:"text",class:"form-control form-control-sm",placeholder:"Search categories...",disabled:"",style:{"border-radius":"8px",padding:"8px 12px"}},ux={key:0,class:"col-12 text-center py-5"},cx=["onClick"],dx={class:"cat-icon-wrap"},fx={class:"cat-icon"},px=["src"],hx={key:1},vx={class:"cat-name"},_x={class:"cat-pill"},mx={key:0,class:"text-danger ms-1"},gx={key:0,class:"col-12"},bx={key:1},yx={class:"d-flex flex-wrap gap-2 align-items-center mb-4"},wx={class:"fw-bold mb-0"},Ex={class:"d-flex gap-2 ms-auto align-items-center"},Ax={class:"search-wrap position-relative"},xx={key:0,class:"col-12"},Cx={class:"alert alert-warning border-0 rounded-4 text-center py-5"},Tx={class:"text-muted mb-3"},Sx={class:"row g-3"},Ix={key:0,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:{"border-color":"#dc3545"}},Ox={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},kx=["src"],Dx={class:"position-absolute top-0 start-0 m-1 px-2 py-1 rounded-pill text-white fw-semibold bg-danger",style:{"font-size":"0.58rem","letter-spacing":"0.3px"}},Nx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},$x={class:"h5 fw-bold mb-2 menu-name text-danger"},Px={class:"mt-2"},Lx=["onClick"],Rx=["onClick","disabled"],Mx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},Fx=["onClick"],qx={class:"position-relative",style:{flex:"0 0 40%","max-width":"40%"}},Bx=["src"],Wx={key:0,class:"position-absolute bottom-0 start-0 end-0 text-center bg-light bg-opacity-75 fw-semibold",style:{"font-size":"0.6rem !important",padding:"2px 4px"}},Hx={key:0,class:"text-muted text-decoration-line-through me-1"},Ux={class:"fw-bold text-success me-2"},Vx={key:1,class:"text-muted text-decoration-line-through me-1"},zx={class:"fw-bold text-success"},Kx={key:1,class:"position-absolute bottom-0 start-0 end-0 m-2 badge bg-danger py-2"},Gx={class:"p-3 d-flex flex-column justify-content-between",style:{flex:"1 1 60%","min-width":"0",position:"relative"}},Yx={key:0,class:"position-absolute px-2 py-1 rounded-pill bg-success text-white small fw-bold",style:{fontSize:"0.7rem",top:"7px",right:"7px"}},jx={class:"text-decoration-line-through opacity-75 me-1"},Qx={class:"fw-bold text-white"},Xx=["onClick"],Jx=["onClick","disabled"],Zx={class:"qty-box border rounded-pill px-2 py-2 text-center fw-semibold left-card-cntrl-btn",style:{"min-width":"55px"}},eC=["onClick"],tC={key:0,class:"col-lg-4 right-cart"},nC={class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},rC={key:0,class:"badge bg-danger ms-1"},iC={key:0,class:"badge bg-danger ms-1"},sC={class:"cart card border-0 shadow-lg rounded-4"},oC={class:"cart-header"},aC={class:"order-type"},lC=["onClick"],uC={class:"cart-body"},cC={class:"mb-3"},dC={key:0,class:"row g-2"},fC={class:"col-6 table-dropdown"},pC=["value"],hC={key:0,class:"invalid-feedback d-block"},vC={class:"col-6 table-dropdown"},_C={key:1},mC={key:0,class:"invalid-feedback d-block"},gC={key:2,class:"mt-2"},bC={key:0,class:"invalid-feedback d-block"},yC={key:1,class:"invalid-feedback d-block"},wC={class:"cart-lines"},EC={key:0,class:"empty"},AC={class:"line-left"},xC=["src"],CC={class:"meta"},TC=["title"],SC={key:0},IC={class:"badge bg-success",style:{"font-size":"0.65rem"}},OC={key:1,class:"addon-icons mt-1"},kC=["onClick","title"],DC={class:"text-muted small"},NC={key:2,class:"badge bg-success mt-1 ms-1",style:{"font-size":"0.65rem"}},$C={key:3,class:"mt-1"},PC={class:"badge",style:{"font-size":"0.65rem",background:"#1B1670",color:"white"}},LC={key:4,class:"note"},RC={class:"line-right"},MC={class:"qty-controls"},FC=["onClick"],qC={class:"qty"},BC=["onClick"],WC={class:"price-delete"},HC={class:"price"},UC=["onClick"],VC={class:"totals"},zC={class:"trow"},KC={class:"sub-total"},GC={key:0,class:"trow"},YC={class:"text-success fw-semibold"},jC={key:1,class:"trow"},QC={class:"text-info"},XC={key:2,class:"trow"},JC={class:"fw-semibold"},ZC={key:3,class:"trow"},eT={class:"fw-semibold"},tT={key:4,class:"trow"},nT={class:"text-danger"},rT={key:5,class:"promos-section mb-3"},iT={class:"promo-total mt-2 rounded-3 bg-success-subtle"},sT={class:"d-flex justify-content-between align-items-center"},oT={class:"text-success fs-6"},aT={key:6,class:"pending-discounts-section mb-3"},lT={class:"d-flex align-items-center gap-2 text-warning"},uT={class:"text-warning"},cT={key:7,class:"approved-discounts-section mb-3"},dT={class:"trow border-top pt-2 mt-2"},fT={class:"text-success"},pT={class:"trow total"},hT={class:""},vT={class:"mb-3"},_T={class:"mb-3"},mT={class:"cart-footer"},gT={class:"modal fade",id:"chooseItem",tabindex:"-1","aria-hidden":"true"},bT={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},yT={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},wT={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},ET={class:"fw-bold mb-0"},AT={class:"px-1 pt-3 progress-bar"},xT={class:"stepper-container position-relative",style:{"min-height":"60px"}},CT=["onClick"],TT={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},ST={key:1,style:{"font-size":"0.75rem"}},IT=["onClick"],OT={class:"modal-body px-3 py-2"},kT={class:"row g-3 mb-3"},DT={class:"col-lg-5"},NT={class:"rounded-3 border shadow-sm p-3 bg-white"},$T={class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},PT={key:0,class:"d-flex justify-content-between mb-1",style:{"font-size":"0.85rem"}},LT={class:"text-success"},RT={class:"d-flex justify-content-between",style:{"font-size":"1rem"}},MT={class:"fw-bold text-primary"},FT={class:"col-lg-7"},qT={class:"px-1"},BT={class:"step-content"},WT={class:"row g-2"},HT=["onClick"],UT={class:"d-flex justify-content-between align-items-center"},VT={class:"fw-bold mb-0",style:{"font-size":"0.85rem"}},zT={class:"d-flex justify-content-between align-items-center gap-2"},KT={key:0,class:"text-primary"},GT={style:{"font-size":"0.9rem"}},YT={class:"step-content"},jT={class:"row g-2"},QT=["id","checked","disabled","onChange"],XT=["for"],JT={class:"step-content"},ZT={key:0,class:"mb-3"},eS={class:"d-flex justify-content-between align-items-center mb-2"},tS={class:"text-muted",style:{"font-size":"0.75rem"}},nS={class:"d-flex gap-1"},rS={key:1,class:"mb-3"},iS={class:"bg-light rounded-3 p-1 mb-3"},sS={class:"d-flex justify-content-between align-items-center mb-0"},oS={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},aS={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},lS={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},uS={class:"row g-2"},cS={class:"d-flex align-items-center flex-grow-1"},dS=["id","checked","onChange"],fS=["for"],pS={class:"text-success fw-semibold ms-1"},hS={key:0,class:"d-flex align-items-center gap-1"},vS=["onClick","disabled"],_S={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},mS=["onClick"],gS={key:2,class:"d-flex justify-content-between gap-2 mt-3"},bS=["disabled"],yS=["disabled"],wS={class:"step-content"},ES={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},AS={key:0,class:"summary-item"},xS={class:"summary-value"},CS={key:1,class:"summary-item"},TS={class:"summary-value"},SS={key:2,class:"summary-item"},IS={class:"summary-value"},OS={class:"d-flex align-items-center mb-3"},kS={class:"qty-group gap-1"},DS=["disabled"],NS={class:"qty-box rounded-pill"},$S={class:"mb-2"},PS={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},LS={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end gap-2"},RS={class:"modal fade",id:"customizeDealModal",tabindex:"-1","aria-hidden":"true"},MS={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},FS={class:"modal-content rounded-3 shadow border-0",style:{"max-height":"90vh"}},qS={class:"modal-header border-0 bg-light py-2 px-3 rounded-top"},BS={class:"fw-bold mb-0"},WS={class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},HS={class:"px-3 pt-3 progress-bar"},US={class:"stepper-container position-relative",style:{"min-height":"60px"}},VS=["onClick"],zS={key:0,class:"bi bi-check-lg",style:{"font-size":"0.7rem"}},KS={key:1,style:{"font-size":"0.75rem"}},GS=["onClick"],YS={class:"modal-body px-3 py-2"},jS={class:"row g-3 mb-3"},QS={class:"col-lg-4"},XS={class:"rounded-3 border shadow-sm p-3 bg-white mb-3"},JS={class:"fw-bold mb-2 d-flex align-content-center",style:{"font-size":"0.9rem"}},ZS={class:"d-flex align-items-center"},e2={class:"flex-grow-1"},t2={class:"text-muted small"},n2={key:0,class:"text-success small fw-semibold"},r2={class:"fw-bold text-primary"},i2={class:"rounded-3 border shadow-sm p-3 bg-white"},s2={class:"list-group list-group-flush"},o2={class:"d-flex align-items-center"},a2={key:0,class:"bi bi-check-circle-fill text-success me-2"},l2={key:2,class:"bi bi-circle text-muted me-2"},u2={class:"col-lg-8"},c2={class:"px-1"},d2={class:"step-content"},f2={class:"d-flex align-items-start mb-2"},p2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},h2={class:"row g-2"},v2=["id","checked","disabled","onChange"],_2=["for"],m2={class:"step-content"},g2={class:"d-flex align-items-start mb-3"},b2={class:"flex-grow-1"},y2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},w2={key:0,class:"mb-3"},E2={class:"d-flex justify-content-between align-items-center mb-2"},A2={class:"text-muted",style:{"font-size":"0.75rem"}},x2={class:"d-flex gap-1"},C2={key:1,class:"mb-3"},T2={class:"bg-light rounded-3 p-1 mb-3"},S2={class:"d-flex justify-content-between align-items-center mb-0"},I2={class:"fw-bold mb-0",style:{"font-size":"0.95rem"}},O2={key:0,class:"badge rounded-pill bg-primary",style:{"font-size":"0.7rem"}},k2={key:0,class:"text-muted small mb-0",style:{"font-size":"0.75rem"}},D2={class:"row g-2"},N2={class:"d-flex align-items-center flex-grow-1"},$2=["id","checked","onChange"],P2=["for"],L2={class:"text-success fw-semibold ms-1"},R2={key:0,class:"d-flex align-items-center gap-1"},M2=["onClick","disabled"],F2={class:"fw-bold",style:{"min-width":"20px","text-align":"center","font-size":"0.75rem"}},q2=["onClick"],B2={key:2,class:"d-flex justify-content-between gap-2 mt-3"},W2=["disabled"],H2=["disabled"],U2={class:"step-content"},V2={class:"d-flex align-items-start mb-2"},z2={class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},K2={class:"summary-card p-3 rounded-3 shadow-sm mb-3"},G2={class:"summary-item"},Y2={class:"summary-value"},j2={class:"summary-item"},Q2={class:"summary-value"},X2={key:0,class:"summary-item"},J2={class:"summary-value text-danger"},Z2={key:1,class:"summary-item"},eI={class:"summary-value text-success"},tI={key:2,class:"summary-item"},nI={class:"summary-value text-success fw-bold"},rI={class:"summary-item border-top pt-2 mt-2"},iI={class:"summary-value fw-bold text-primary"},sI={class:"mb-2"},oI={class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},aI={class:"text-end small text-muted mt-1",style:{"font-size":"0.7rem"}},lI={class:"modal-footer border-0 px-3 py-2 d-flex justify-content-end"},uI={class:"d-flex gap-2"},cI={class:"modal fade",id:"addonManagementModal",tabindex:"-1","aria-hidden":"true"},dI={class:"modal-dialog modal-lg modal-dialog-centered"},fI={class:"modal-content rounded-4 border-0 shadow-lg"},pI={key:0,class:"modal-body pt-2"},hI={class:"alert alert-light border rounded-3 mb-3"},vI={class:"d-flex align-items-center gap-3"},_I=["src"],mI={class:"flex-grow-1"},gI={class:"fw-bold fs-6"},bI={class:"d-flex gap-3 mt-1"},yI={class:"text-muted"},wI={class:"fw-semibold"},EI={class:"text-muted"},AI={class:"fw-semibold"},xI={key:0,class:"table-responsive"},CI={class:"table table-hover align-middle mb-0"},TI={class:"text-center"},SI={class:"form-check d-flex justify-content-center"},II=["checked","onChange"],OI={class:"d-flex align-items-center gap-2"},kI={class:"fw-semibold"},DI={key:0,class:"text-muted"},NI={class:"text-center"},$I={class:"badge bg-success-subtle text-success px-3 py-2 fs-6"},PI={class:"d-flex align-items-center justify-content-center gap-2"},LI=["onClick","disabled"],RI={class:"fw-bold fs-5 px-3",style:{"min-width":"50px","text-align":"center"}},MI=["onClick","disabled"],FI={key:1,class:"text-center text-muted py-5"},qI={class:"mt-3 p-3 rounded-3"},BI={key:0,class:"mt-3 p-3 rounded-3 border border-success bg-light"},WI={class:"text-success fw-semibold"},HI={__name:"Index",props:["client_secret","order_code"],setup(a){const{formatCurrencySymbol:n}=ty();As(()=>{Mu(()=>{document.querySelectorAll('[data-bs-toggle="popover"]').forEach(o=>{new vl(o)})})});const i=B([]),f=B(!0),v=B(""),g=B(Date.now()),E=`category-search-${Math.random().toString(36).substr(2,9)}`,I=B(!1),C=B(0),M=B(0),D=be(()=>!ce.value?.addon_groups||ce.value.addon_groups.length===0?null:ce.value.addon_groups[C.value]),U=()=>{C.value<ce.value?.addon_groups?.length-1&&C.value++},J=()=>{C.value>0&&C.value--},K=()=>{Ce.value=qn.value},te=B(0),G=be(()=>!Me.value?.addon_groups||Me.value.addon_groups.length===0?null:Me.value.addon_groups[te.value]),re=()=>{te.value<Me.value?.addon_groups?.length-1&&te.value++},oe=()=>{te.value>0&&te.value--},Pe=()=>{Qe.value=mo.value},Ie=be(()=>{const o=v.value.trim().toLowerCase();return o?ze.value.filter(s=>s.name.toLowerCase().includes(o)):ze.value}),fe=async()=>{f.value=!0;try{const o=await axios.get("/api/pos/fetch-menu-categories");i.value=o.data,i.value.length>0&&(Mt.value=i.value[0].id)}catch(o){console.error("Error fetching categories:",o)}finally{f.value=!1}},ae=B([]),Ae=async()=>{try{const o=await axios.get("/api/pos/fetch-menu-items");ae.value=o.data.data}catch(o){console.error("Error fetching inventory:",o)}},Oe=be(()=>{const o={};return ae.value.forEach(s=>{const u=s.category?.id||"uncategorized",_=s.category?.name||"Uncategorized";o[u]||(o[u]=[]);const A={id:s.id,title:s.name,img:s.image_url||"/assets/img/default.png",stock:0,price:Number(s.price),label_color:s.label_color||"#1B1670",family:_,description:s.description,nutrition:s.nutrition,tags:s.tags,allergies:s.allergies,ingredients:s.ingredients??[],variants:s.variants??[],addon_groups:s.addon_groups??[],is_saleable:s.is_saleable,resale_type:s.resale_type,resale_value:s.resale_value,isDeal:!1};o[u].push(A)}),Dr.value.forEach(s=>{const u=s.category_id||"uncategorized";o[u]||(o[u]=[]);const _={id:s.id,dealId:s.id,title:s.title,img:s.img,stock:999999,price:Number(s.price),label_color:"#dc3545",family:"Deal",description:s.description,nutrition:{},tags:[],allergies:[],ingredients:[],variants:[],addon_groups:[],is_saleable:!1,resale_type:null,resale_value:null,isDeal:!0,category_id:s.category_id,menu_items:s.menu_items||[]};o[u].push(_)}),o}),qe=B({});Bi(()=>ae.value,o=>{o&&o.length>0&&o.forEach(s=>{s.variants&&s.variants.length>0&&(qe.value[s.id]||(qe.value[s.id]=s.variants[0].id))})},{immediate:!0,deep:!0});const Ne=o=>{if(!o.variants||o.variants.length===0)return null;const s=qe.value[o.id];return s&&o.variants.find(u=>u.id===s)||o.variants[0]},Ve=B({}),et=o=>{const s=o.id;if(!Ve.value[s])return 0;let u=0;return Object.values(Ve.value[s]).forEach(_=>{_.forEach(A=>{u+=parseFloat(A.price||0)})}),u},wt=o=>{const s=o.id;if(!Ve.value[s])return[];const u=[];return Object.values(Ve.value[s]).forEach(_=>{_.forEach(A=>{u.push({id:A.id,name:A.name,price:parseFloat(A.price),group_id:A.group_id||A.pivot?.addon_group_id})})}),u},ke=B([]),It=()=>{if(!ce.value)return[];const o=Wn();return o&&o.ingredients&&o.ingredients.length>0?o.ingredients:ce.value.ingredients||[]},cn=o=>ke.value.includes(o),Et=o=>{const s=ke.value.indexOf(o);s>-1?(ke.value.splice(s,1),H.info("Ingredient added back")):(ke.value.push(o),H.info("Ingredient removed"))},tt=()=>{if(ke.value.length===0)return null;const o=It(),s=ke.value.map(u=>{const _=o.find(A=>A.id===u||A.inventory_item_id===u);return _?_.product_name||_.name:null}).filter(Boolean);return s.length===0?null:`No ${s.join(", ")}`},Ce=B(1),xn=o=>{(o<=Ce.value||o===Ce.value+1)&&(Ce.value=o)},Gt=be(()=>ce.value?.variants&&ce.value.variants.length>0),Ot=be(()=>It().length>0),Ar=be(()=>ce.value?.addon_groups&&ce.value.addon_groups.length>0),ht=be(()=>{let o=[],s=1;return Gt.value&&(o.push({id:"variants",name:"Variant",stepNumber:s,actualStep:1}),s++),Ot.value&&(o.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:2}),s++),Ar.value&&(o.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:3}),s++),o.push({id:"review",name:"Review",stepNumber:s,actualStep:4}),o}),qn=be(()=>ht.value[ht.value.length-1]?.stepNumber||1),At=be(()=>{if(Ce.value===1)return"0%";const o=ht.value.length,s=(Ce.value-1)/(o-1);return`calc(${s*100}% - ${14-s*28}px)`}),Cn=o=>o<Ce.value?"stepper-circle-completed":o===Ce.value?"stepper-circle-active":"stepper-circle-inactive",Gr=()=>{const o=It(),s=ke.value||[];return o.filter(u=>!s.includes(u.id||u.inventory_item_id)).length},Rt=()=>{const o=ht.value.findIndex(s=>s.stepNumber===Ce.value);o<ht.value.length-1&&(Ce.value=ht.value[o+1].stepNumber)},Bn=()=>{const o=ht.value.findIndex(s=>s.stepNumber===Ce.value);o>0&&(Ce.value=ht.value[o-1].stepNumber)},Ws=o=>{or.value=o,xr()},nr=()=>Gt.value&&ce.value?.variants?.find(s=>s.id===or.value)?.name||"",Yr=()=>{const o=[];return Object.values(ft.value).forEach(s=>{s.forEach(u=>{const _=u.quantity>1?` x${u.quantity}`:"";o.push(`${u.name}${_} (+${n(u.price*(u.quantity||1))})`)})}),o.join(", ")},Ei=async o=>{ce.value=o,Js.value="",Un.value="",or.value=null,ft.value={},C.value=0,ke.value=[],Ce.value=1,o.variants&&o.variants.length>0&&(or.value=o.variants[0].id);const s=o.variants&&o.variants.length>0?o.variants[0]:null,u=s?s.id:null,_=ur(o,u),A=kt(o,u,_);_t.value=A>0?1:0,ke.value=[];const O=document.getElementById("chooseItem"),S=new bootstrap.Modal(O);O.addEventListener("shown.bs.modal",async()=>{await Mu()},{once:!0}),S.show()},kt=(o,s,u)=>{if(!Ii.value)return 999999;const _=u.filter(S=>!ke.value.includes(S.id||S.inventory_item_id));if(!_||_.length===0)return 999999;const A={};for(const S of q.value)ur(S,S.variant_id).filter(ue=>!S.removed_ingredients||S.removed_ingredients.length===0?!0:!S.removed_ingredients.includes(ue.id||ue.inventory_item_id)).forEach(ue=>{const we=ue.inventory_item_id,Ke=Number(ue.inventory_stock??ue.inventory_item?.stock??0);A[we]||(A[we]={totalStock:Ke,used:0});const X=Number(ue.quantity??ue.qty??1)*S.qty;A[we].used+=X});let O=999999;for(const S of _){const W=S.inventory_item_id,pe=Number(S.inventory_stock??S.inventory_item?.stock??0),ue=Number(S.quantity??S.qty??1);if(A[W]){const we=A[W].totalStock-A[W].used,Ke=Math.floor(we/ue);O=Math.min(O,Ke)}else{const we=Math.floor(pe/ue);O=Math.min(O,we)}}return O},xr=()=>{const o=Wn(),s=o?o.id:null,u=ur(ce.value,s),_=kt(ce.value,s,u);if(_<=0){H.error("No stock available for this variant. Please remove items from cart first."),_t.value=0;return}_t.value=Math.min(1,_)},Wn=()=>{if(!ce.value||!ce.value.variants||ce.value.variants.length===0)return null;const o=or.value;return o&&ce.value.variants.find(s=>s.id===o)||ce.value.variants[0]},Yt=()=>{if(!ce.value)return 0;const o=Wn();return parseFloat(o?o.price:ce.value.price||0)},Cr=()=>{let o=0;return Object.values(ft.value).forEach(s=>{s.forEach(u=>{o+=parseFloat(u.price||0)*(u.quantity||1)})}),o},Hs=()=>{const o=[];return Object.values(ft.value).forEach(s=>{s.forEach(u=>{o.push({id:u.id,name:u.name,price:parseFloat(u.price),group_id:u.group_id||u.pivot?.addon_group_id})})}),o},Dt=o=>{if(!o)return 0;if(!Ii.value)return 999999;const s=Ne(o),u=s?s.id:null,_=ur(o,u);if(!_.length)return 999999;let A=1/0;return _.forEach(O=>{const S=Number(O.quantity??O.qty??1),W=Number(O.inventory_stock??O.inventory_item?.stock??0);if(S<=0)return;const pe=Math.floor(W/S);A=Math.min(A,pe)}),A===1/0?0:A},vt=o=>Dt(o),Nt=B(""),me=B("dine"),Xe=B("Walk In"),it=B(" "),xt=B(" "),rr=B(10),Mt=B(null),Us=o=>Mt.value=o,ir=B(!0),Vs=o=>{Us(o.id),ir.value=!1},zs=()=>ir.value=!0,Tr=B({}),sr=B([]),gt=B(null),Ks=async()=>{try{const o=await axios.get("/api/pos/fetch-profile-tables");if(Tr.value=o.data,Tr.value.order_types){sr.value=Tr.value.order_types.map(u=>u.charAt(0).toUpperCase()+u.slice(1));const s=localStorage.getItem("quickOrderType");if(s){const u=sr.value.find(_=>_.toLowerCase().replace(/_/g," ")===s.toLowerCase().replace(/_/g," "));u?me.value=u:me.value=sr.value[0]}else me.value=sr.value[0]}}catch(o){console.error("Error fetching profile tables:",o)}},Gs=be(()=>Oe.value[Mt.value]??[]),bt=B({sortBy:"",priceMin:null,priceMax:null}),Ko=be(()=>{let o=Gs.value;const s=Nt.value.trim().toLowerCase();if(s&&(o=o.filter(u=>u.title.toLowerCase().includes(s)||(u.family||"").toLowerCase().includes(s)||(u.description||"").toLowerCase().includes(s)||(u.tags?.map(_=>_.name.toLowerCase()).join(", ")||"").includes(s))),bt.value.priceMin!==null&&bt.value.priceMin!==""&&(o=o.filter(u=>u.price>=bt.value.priceMin)),bt.value.priceMax!==null&&bt.value.priceMax!==""&&(o=o.filter(u=>u.price<=bt.value.priceMax)),bt.value.sortBy)switch(o=[...o],bt.value.sortBy){case"name_asc":o.sort((u,_)=>u.title.localeCompare(_.title));break;case"name_desc":o.sort((u,_)=>_.title.localeCompare(u.title));break;case"price_asc":o.sort((u,_)=>u.price-_.price);break;case"price_desc":o.sort((u,_)=>_.price-u.price);break;case"stock_asc":o.sort((u,_)=>(u.stock??0)-(_.stock??0));break;case"stock_desc":o.sort((u,_)=>(_.stock??0)-(u.stock??0));break}return o}),Ys=B(!1),Go=o=>{bt.value={...o},Ys.value=!0},Ai=async()=>{try{const o=await axios.get("/pos/walk-in/current");if(o.data.success)if(M.value=o.data.number,M.value===0){const s=await axios.get("/pos/walk-in/next");s.data.success&&(M.value=s.data.number,Xe.value=s.data.formatted)}else Xe.value=js()}catch(o){console.error("Failed to initialize walk-in counter:",o),M.value=1,Xe.value="Walk In-001"}},js=()=>`Walk In-${String(M.value).padStart(3,"0")}`,Qs=()=>{bt.value={sortBy:"",priceMin:null,priceMax:null}},q=B([]),gl=async o=>{const s=q.value[o];if(!s)return;if(s.isDeal){const _=vo({id:s.dealId,title:s.title,menu_items:s.menu_items},s.qty+1);if(!_.canAdd){console.log(" Missing ingredients for deal (cart increment)"),Xt.value={itemIndex:o,item:s,newQty:s.qty+1,isDeal:!0},Qt.value=_.missing,Kn.value=!0,H.warning("Some ingredients are missing. Confirm to proceed.");return}s.qty++,s.price=s.unit_price*s.qty,H.success("Deal quantity updated");return}const u=Yi(s,s.qty+1);if(!u.canAdd){console.log(" Missing ingredients detected (client-side)"),Xt.value={itemIndex:o,item:s,newQty:s.qty+1,isDeal:!1},Qt.value=u.missing,Kn.value=!0,H.warning("Some ingredients are missing. Confirm to proceed.");return}s.outOfStock=!1,s.qty++,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty)},Yi=(o,s)=>{if(!Ii.value)return{canAdd:!0,missing:[]};const u=o.ingredients||[];if(u.length===0)return{canAdd:!0,missing:[]};const _=[],A={};return q.value.forEach(S=>{(S.ingredients||[]).filter(ue=>!S.removed_ingredients||S.removed_ingredients.length===0?!0:!S.removed_ingredients.includes(ue.id||ue.inventory_item_id)).forEach(ue=>{const we=ue.inventory_item_id,Ke=Number(ue.inventory_stock??ue.inventory_item?.stock??0);A[we]||(A[we]={totalStock:Ke,used:0,name:ue.product_name||ue.name,unit:ue.unit||"unit"});const X=Number(ue.quantity??ue.qty??1)*S.qty;A[we].used+=X})}),u.filter(S=>!o.removed_ingredients||o.removed_ingredients.length===0?!0:!o.removed_ingredients.includes(S.id||S.inventory_item_id)).forEach(S=>{const W=S.inventory_item_id,pe=Number(S.quantity??S.qty??1)*s,ue=Number(S.inventory_stock??S.inventory_item?.stock??0);if(!A[W])ue<pe&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:W,inventory_item_name:S.product_name||S.name,required_quantity:pe,available_quantity:ue,shortage_quantity:pe-ue,unit:S.unit||"unit",order_quantity:s});else{const we=A[W].totalStock-A[W].used,Ke=q.value.find(X=>X.id===o.id&&X.variant_id===o.variant_id&&JSON.stringify(X.addons?.map(Re=>Re.id).sort())===JSON.stringify(o.addons?.map(Re=>Re.id).sort()));if(Ke){const X=Number(S.quantity??S.qty??1)*Ke.qty,Re=we+X;Re<pe&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:W,inventory_item_name:S.product_name||S.name,required_quantity:pe,available_quantity:Re,shortage_quantity:pe-Re,unit:S.unit||"unit",order_quantity:s})}else we<pe&&_.push({item_id:o.id,item_title:o.title,variant_id:o.variant_id||null,variant_name:o.variant_name||null,inventory_item_id:W,inventory_item_name:S.product_name||S.name,required_quantity:pe,available_quantity:we,shortage_quantity:pe-we,unit:S.unit||"unit",order_quantity:s})}}),{canAdd:_.length===0,missing:_}},bl=async o=>{const s=q.value[o];if(!s||s.qty<=1){H.error("Cannot reduce below 1.");return}s.qty--,s.price=s.unit_price*s.qty,s.resale_discount_per_item&&(s.total_resale_discount=s.resale_discount_per_item*s.qty),s.outOfStock=!1},yl=o=>{if(q.value[o],q.value.splice(o,1),q.value.length===0){st.value=[],Z.value=[],qt.value=[],Sr();return}Z.value.length>0&&(Z.value=Z.value.filter(u=>{if(!u.menu_items||u.menu_items.length===0)return!0;const _=u.menu_items.map(O=>O.id);return q.value.some(O=>_.includes(O.id))}));const s=[];st.value.forEach(u=>{u.min_purchase&&Ft.value<u.min_purchase?H.info(`Discount "${u.name}" removed  subtotal is lower than minimum required (${n(u.min_purchase)}).`):s.push(u)}),st.value=s},Ft=be(()=>q.value.reduce((o,s)=>o+s.price,0)),xi=be(()=>q.value.reduce((o,s)=>{if(!s.addons||s.addons.length===0)return o;const u=s.addons.reduce((_,A)=>{const O=parseFloat(A.price||0),S=A.quantity||1;return _+O*S},0);return o+u*s.qty},0)),Hn=be(()=>{if(me.value!=="Delivery")return 0;const o=Jt.props.onboarding.tax_and_vat;return o.has_delivery_charges?o.delivery_charge_flat?parseFloat(o.delivery_charge_flat):o.delivery_charge_percentage?Ft.value*parseFloat(o.delivery_charge_percentage)/100:0:0}),dn=be(()=>{if(q.value.length===0)return 0;const o=Jt.props.onboarding.tax_and_vat;return o.has_service_charges?o.service_charge_flat?parseFloat(o.service_charge_flat):o.service_charge_percentage?Ft.value*parseFloat(o.service_charge_percentage)/100:0:0}),Xs=o=>`${(Math.round(o*100)/100).toFixed(2)}`,ce=B(null),_t=B(0),Js=B(""),or=B(null),ft=B({}),Un=B(""),wl=async()=>{if(!ce.value)return;if(_t.value<=0){H.error("Please select at least 1 item to add to cart");return}const o=Wn(),s=o?o.id:null;o&&`${o.name}`;const u=o?o.name:null,_=parseFloat(o?o.price:ce.value.price),A=Hs(),O=Cr(),S=_+O,W=o?tn(o,!0):tn(ce.value,!1),pe=ur(ce.value,s),ue=tt();try{const we=A.map(He=>He.id).sort((He,lt)=>He-lt).join("-"),Ke=pe.length>0?Ci(pe):999999,X=q.value.findIndex(He=>{if(He.variant_id!==s)return!1;const lt=(He.addons||[]).map(nn=>nn.id).sort((nn,Di)=>nn-Di).join("-");return He.id===ce.value.id&&lt===we});if(X>=0){if(q.value[X].qty+=_t.value,q.value[X].price=q.value[X].unit_price*q.value[X].qty,q.value[X].total_resale_discount=W*q.value[X].qty,Un.value&&Un.value.trim()){const He=q.value[X].item_kitchen_note||"",lt=Un.value.trim(),nn=[He,lt,ue].filter(Boolean).filter((Di,Ge,Q)=>Q.indexOf(Di)===Ge);q.value[X].item_kitchen_note=nn.join("; ")}else if(ue){const He=q.value[X].item_kitchen_note||"";q.value[X].item_kitchen_note=[He,ue].filter(Boolean).join("; ")}ke.value.length>0&&(q.value[X].removed_ingredients=[...ke.value]),H.success(`Quantity updated to ${q.value[X].qty}`)}else{const He=[Un.value.trim(),ue].filter(Boolean).join(". ");q.value.push({id:ce.value.id,title:ce.value.title,img:ce.value.img,price:S*_t.value,unit_price:Number(S),qty:_t.value,note:Js.value||"",item_kitchen_note:He,stock:Ke,ingredients:pe,variant_id:s,variant_name:u,addons:A,removed_ingredients:[...ke.value],resale_discount_per_item:W,total_resale_discount:W*_t.value}),H.success(`${ce.value.title} added to cart`)}bootstrap.Modal.getInstance(document.getElementById("chooseItem")).hide(),_t.value=0,Js.value="",Un.value="",or.value=null,ft.value={},ke.value=[]}catch(we){H.error("Failed to add item: "+(we.response?.data?.message||we.message))}},Ci=o=>{if(!o||o.length===0)return 999999;let s=1/0;return o.forEach(u=>{const _=Number(u.quantity??u.qty??1),A=Number(u.inventory_stock??u.inventory_item?.stock??0);if(_<=0)return;const O=Math.floor(A/_);s=Math.min(s,O)}),s===1/0?0:s},El=async()=>{if(!ce.value)return;const o=Wn(),s=o?o.id:null,u=It(),_=Yi({id:ce.value.id,title:ce.value.title,variant_id:s,variant_name:o?o.name:null,ingredients:u,removed_ingredients:ke.value||[]},_t.value+1);if(!_.canAdd){console.log(" Missing ingredients for modal increment (client-side)"),Si.value={currentQty:_t.value},Qt.value=_.missing,Kn.value=!0,H.warning("Some ingredients are missing. Confirm to proceed.");return}_t.value++},Al=()=>{_t.value>1&&_t.value--},Ct=B({}),Ti=()=>{q.value=[],Xe.value=js(),xt.value="",it.value="",gt.value=null,me.value=sr.value[0]||"eat_in",Vn.value="",jt.value="",rr.value=0,Z.value=[],st.value=[],qt.value=[],Jr.value=[],Sr()};Bi(me,()=>Ct.value={});const Vn=B(""),jt=B(""),jr=B(!1),Zs=B(null),fn=B(!1),Qr=B(0),xl=()=>{if(q.value.length===0){H.error("Please add at least one item to the cart.");return}if(me.value==="Eat_in"&&!gt.value){Ct.value.table_number=["Table number is required for dine-in orders."],H.error("Please select a table number for Dine In orders.");return}if((me.value==="Delivery"||me.value==="Takeaway")&&!Xe.value){Ct.value.customer=["Customer name is required."],H.error("Customer name is required.");return}if(me.value==="Delivery"&&!it.value){Ct.value.phoneNumber=["Phone number is required for delivery."],H.error("Phone number is required for delivery.");return}if(me.value==="Delivery"&&!xt.value){Ct.value.deliveryLocation=["Delivery location is required."],H.error("Delivery location is required.");return}Qr.value=parseFloat(Gn.value).toFixed(2),fn.value=!0};async function eo(o,s){const u=s?"yes":"no";console.log(" printReceiptN called"),console.log(" shouldPrint (boolean):",s),console.log(" print value sent to printer:",u);try{const _=await axios.post("http://localhost:8085/print",{order:o,type:"customer",print:u},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(_){console.error("Print failed:",_),H.error("Unable to connect to the customer printer. Please ensure it is properly connected.")}}async function ji(o){try{const s=await axios.post("http://localhost:8085/print",{order:o,type:"KOT",print:"yes"},{headers:{"Content-Type":"application/json"},timeout:5e3})}catch(s){console.error("Print failed:",s),H.error("Unable to connect to the kitchen printer. Please ensure it is properly connected.")}}const Yo=B("cash"),jo=B(0),qt=B([]),Xr=B(null),Qo=B(!1),st=B([]),Jr=B([]),Xo=async o=>{if(!o||o.length===0){H.warning("No discounts selected.");return}const s=Jr.value.map(_=>_.id),u=o.filter(_=>!s.includes(_.id));if(u.length===0){H.error("All selected discounts have been rejected for this order.");return}if(u.length<o.length){const _=o.length-u.length;H.warning(`${_} discount(s) were previously rejected and cannot be requested again.`)}try{const _=await axios.post("/api/discount-approvals/request",{discounts:o.map(A=>({discount_id:A.id,discount_percentage:parseFloat(A.discount_amount),discount_name:A.name})),order_items:q.value.map(A=>({id:A.id,title:A.title,qty:A.qty,unit_price:A.unit_price,price:A.price})),order_subtotal:Ft.value,request_note:`Discount approval request from ${Or.value?.name||"Cashier"}`});_.data.success&&(qt.value=_.data.data.map(A=>({...A,discountData:o.find(O=>O.id===A.discount_id),percentage:parseFloat(A.discount_percentage),status:"pending"})),es.value=!1,Qo.value=!0,H.info("Discount approval request sent to Super Admin. Waiting for approval..."),Jo())}catch(_){console.error("Error requesting discount approval:",_),H.error(_.response?.data?.message||"Failed to request discount approval")}},Jo=()=>{Xr.value&&clearInterval(Xr.value),Xr.value=setInterval(async()=>{await Qi()},3e3)},Qi=async()=>{if(qt.value.length===0){Sr();return}try{const o=qt.value.map(u=>u.id),s=await axios.post("/api/discount-approvals/check-status",{approval_ids:o});s.data.success&&(s.data.data.forEach(_=>{if(_.status!=="pending"){const A=qt.value.findIndex(O=>O.id===_.id);if(A>=0){if(_.status==="approved"){const O={id:_.discount_id,name:_.discount_name||_.discount?.name,percentage:parseFloat(_.discount_percentage),approval_id:_.id};Zo(O),H.success(`Discount "${O.name}" (${O.percentage}%) approved!`)}else _.status==="rejected"&&(Jr.value.push({id:_.discount_id,name:_.discount_name,percentage:parseFloat(_.discount_percentage),rejection_reason:_.approval_note}),H.error(`Discount "${_.discount_name}" rejected.`+(_.approval_note?` Reason: ${_.approval_note}`:"")));qt.value.splice(A,1)}}}),qt.value.length===0&&(Qo.value=!1,Sr()))}catch(o){console.error("Error checking approval status:",o)}},Sr=()=>{Xr.value&&(clearInterval(Xr.value),Xr.value=null)},Zo=o=>{st.value.push(o)};Yb(()=>{Sr()}),As(()=>{window.Echo&&window.Echo.channel("discount-approvals").listen(".approval.responded",o=>{Qi()})});const zn=be(()=>!st.value||st.value.length===0?0:st.value.reduce((o,s)=>{const u=parseFloat(s.percentage||0),_=Ft.value*u/100;return o+_},0)),Zr=o=>Ft.value*o/100,Cl=()=>{st.value=[],qt.value=[],Jr.value=[],Sr()},Kn=B(!1),Qt=B([]),Xt=B(null),Xi=B(null),Si=B(null),ei=B(null),to=B(null),pn=B(null),no=async o=>{try{const s=await axios.get(`/pos/orders/${o}`);if(s.data.success&&s.data.order){const u=s.data.order.items;if(q.value=q.value.map(_=>{const A=u.find(O=>O.menu_item_id===_.id||O.deal_id===_.dealId);return A?{..._,payment_status:A.payment_status,amount_paid:A.amount_paid,server_item_id:A.id}:_}),Te.value&&Te.value.order_items){const _=Te.value.order_items.map(A=>{const O=u.find(S=>S.id===A.server_item_id);return O?{...A,payment_status:O.payment_status,amount_paid:O.amount_paid}:A});Te.value={...Te.value,order_items:_}}}}catch(s){console.error("Failed to refresh order items:",s)}},ro=async({paymentMethod:o,cashReceived:s,cardAmount:u,changeAmount:_,items:A,autoPrintKot:O,isPartialPayment:S,selectedItemIds:W,paidItemIds:pe,paidProductIds:ue,paidDealIds:we,existingOrderId:Ke,done:X})=>{Ct.value={};try{let Re=Ke;if(Re)console.log(" Using existing order ID:",Re);else{console.log(" Creating new order...");const Di={customer_name:Xe.value,phone_number:it.value,delivery_location:xt.value,sub_total:Ft.value,tax:lr.value,service_charges:dn.value,delivery_charges:Hn.value,sales_discount:je.value,approved_discounts:zn.value,approved_discount_details:st.value.map(Q=>({discount_id:Q.id,discount_name:Q.name,discount_percentage:Q.percentage,discount_amount:Zr(Q.percentage),approval_id:Q.approval_id})),promo_discount:ar.value,applied_promos:Z.value.map(Q=>({promo_id:Q.id,promo_name:Q.name,promo_type:Q.type,discount_amount:Q.applied_discount||0,applied_to_items:Q.applied_to_items||[]})),total_amount:Gn.value,note:Vn.value,kitchen_note:jt.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:me.value==="Eat_in"?"Eat In":me.value==="Delivery"?"Delivery":me.value==="Takeaway"?"Takeaway":"Collection",table_number:gt.value?.name||null,items:(q.value??[]).map(Q=>{if(Q.isDeal)return{product_id:Q.dealId,title:Q.title,quantity:Q.qty,price:Q.price,note:Q.note??"",kitchen_note:jt.value??"",unit_price:Q.unit_price,item_kitchen_note:Q.item_kitchen_note??"",tax_percentage:0,tax_amount:0,variant_id:null,variant_name:null,addons:[],sale_discount_per_item:0,removed_ingredients:[],is_deal:!0,deal_id:Q.dealId,menu_items:Q.menu_items||[]};const bo=ae.value.find(On=>On.id===Q.id);let yo=bo;if(Q.variant_id&&bo?.variants){const On=bo.variants.find(Xn=>Xn.id===Q.variant_id);On&&(yo=On)}const ma=yo?tn(yo,!!Q.variant_id):0,zl=(Q.removed_ingredients||[]).map(On=>{const Xn=(Q.ingredients||[]).find(hs=>hs.id===On||hs.inventory_item_id===On);return{id:On,name:Xn?Xn.product_name||Xn.name:"Unknown Ingredient"}});return{product_id:Q.id,title:Q.title,quantity:Q.qty,price:Q.price,note:Q.note??"",kitchen_note:jt.value??"",unit_price:Q.unit_price,item_kitchen_note:Q.item_kitchen_note??"",tax_percentage:rs(Q),tax_amount:hn(Q),variant_id:Q.variant_id||null,variant_name:Q.variant_name||null,addons:Q.addons||[],sale_discount_per_item:ma,removed_ingredients:zl||[],is_deal:!1}}),confirm_missing_ingredients:!0},Ge=await axios.post("/pos/order",Di);if(console.log(" Order created:",Ge.data),Ge.data.logout===!0){H.success(Ge.data.message||"Order created successfully. Logging out..."),setTimeout(()=>{window.location.href=Ge.data.redirect||"/login"},1e3),X&&X();return}Re=Ge.data.order.id}const He={full_payment:!S,paid_item_ids:S?pe||[]:[],paid_product_ids:S?ue||[]:[],paid_deal_ids:S?we||[]:[],payment_method:o,cash_received:s,payment_type:o==="Split"?"split":o.toLowerCase(),...o==="Split"&&{cash_amount:s,card_amount:u}};console.log(" Processing payment for order:",Re,He);const lt=await axios.post(`/pos/orders/${Re}/payment`,He);console.log(" Payment processed:",lt.data);const nn=lt.data.is_final_payment===!0||lt.data.is_final_payment===1;console.log(" is_final_payment:",nn),nn?(H.success("Order fully paid! Generating final receipt..."),Ti(),fn.value=!1,Nr.value=!1,De.value=!1,oi.value=!1,Te.value=null,pn.value=null,_n(),Zs.value={id:Re,payment:lt.data.payment,payment_type:o==="Split"?"split":o.toLowerCase(),cash_amount:o==="Split"?s:null,card_amount:o==="Split"?u:null},eo(JSON.parse(JSON.stringify(lt.data.order)),O===!0),Ji.value=await Sl(),ji(JSON.parse(JSON.stringify(lt.data.order)))):(console.log(" Partial payment received. Keeping modal open."),H.info(`Partial payment received (${lt.data.paid_items?.length||0} items). 
                Remaining: ${(lt.data.remaining_balance||0).toFixed(2)}`),pn.value=Re,await no(Re),await _n(),Te.value?Nr.value=!0:fn.value=!0),Ai(),Z.value=[],st.value=[],qt.value=[],Sr()}catch(Re){console.error(" Order/Payment error:",Re),H.error(Re.response?.data?.message||"Failed to process order/payment")}finally{X&&X()}},ea=async o=>{console.log(" onStripeSuccess called:",o);const{order:s,is_final_payment:u,print_payload:_}=o,A=u===!0||u===1;if(console.log(" is_final_payment:",A),A)H.success(o.message||"Order fully paid!"),Ti(),fn.value=!1,Nr.value=!1,De.value=!1,Te.value=null,pn.value=null,_n(),Z.value=[],st.value=[],qt.value=[],_&&eo(JSON.parse(JSON.stringify(_)),!0),setTimeout(()=>{window.location.reload()},1e3);else{if(H.info(o.message||"Partial payment processed!"),s&&s.id){if(pn.value=s.id,Te.value&&s.items){const O=s.items.map(S=>({...S,server_item_id:S.id}));Te.value={...Te.value,order_items:O,total_amount:s.total_amount,sub_total:s.sub_total,payment_status:s.payment_status}}_n()}Te.value?Nr.value=!0:fn.value=!0}Ai()},ta=async()=>{if(console.log(" User confirmed missing ingredients"),Kn.value=!1,Xt.value&&!Xt.value.isDeal){const{itemIndex:o,newQty:s}=Xt.value,u=q.value[o];u&&(u.outOfStock=!1,u.qty=s,u.price=u.unit_price*u.qty,u.resale_discount_per_item&&(u.total_resale_discount=u.resale_discount_per_item*u.qty),H.success("Quantity updated")),Xt.value=null,Qt.value=[];return}if(Xt.value&&Xt.value.isDeal){const{itemIndex:o,newQty:s}=Xt.value,u=q.value[o];u&&u.isDeal&&(u.qty=s,u.price=u.unit_price*u.qty,H.success("Deal quantity updated")),Xt.value=null,Qt.value=[];return}if(ei.value){const{deal:o,existingIndex:s,newQty:u}=ei.value;if(s>=0)q.value[s].qty=u,q.value[s].price=q.value[s].unit_price*u,H.success("Deal quantity updated");else{const A=[];o.menu_items.forEach(S=>{S.ingredients&&S.ingredients.length>0&&A.push(...S.ingredients.map(W=>({...W,menu_item_id:S.id,menu_item_name:S.name})))});const O={id:o.id,title:o.title,price:z.value,unit_price:parseFloat(o.price),img:o.img,qty:1,stock:999999,ingredients:A,isDeal:!0,dealId:o.id,menu_items:o.menu_items.map(S=>({id:S.id,name:S.name,price:S.price,ingredients:(S.ingredients||[]).map(W=>({inventory_item_id:W.id,inventory_item_id:W.inventory_item_id,product_name:W.product_name||W.name,quantity:W.quantity||W.qty||"1.00",inventory_stock:W.inventory_stock||W.stock||0,unit:W.unit||"unit",category_id:W.category_id,supplier_id:W.supplier_id})),stock:Ci(S.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(O),H.success(`${o.title} added to cart!`)}ei.value=null,Qt.value=[];return}if(Xi.value){const{product:o,variantId:s,variantName:u,variantPrice:_,selectedAddons:A,addonsPrice:O,resaleDiscountPerItem:S,existingIndex:W,newQty:pe}=Xi.value,ue=_+O;if(W>=0)q.value[W].qty=pe,q.value[W].price=q.value[W].unit_price*pe,q.value[W].total_resale_discount=S*pe,q.value[W].outOfStock=!1,H.success("Quantity updated");else{const we=ur(o,s),Ke=vt(o);q.value.push({id:o.id,title:o.title,img:o.img,price:ue,unit_price:Number(ue),qty:1,note:"",stock:Ke,ingredients:we,variant_id:s,variant_name:u,addons:A,outOfStock:!1,resale_discount_per_item:S,total_resale_discount:S}),H.success("Item added to cart")}Xi.value=null,Qt.value=[];return}if(Si.value){_t.value=Si.value.currentQty+1,H.success("Quantity increased"),Si.value=null,Qt.value=[];return}};As(async()=>{if(Ai(),window.bootstrap){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(O=>new window.bootstrap.Tooltip(O));const A=document.getElementById("chooseItem");A&&new window.bootstrap.Modal(A,{backdrop:"static"})}v.value="",g.value=Date.now(),await Mu(),setTimeout(()=>{I.value=!0;const A=document.getElementById(E);A&&(A.value="",v.value="")},100),fe(),Ae(),Ks();const o=new URLSearchParams(window.location.search),s=o.get("order_id"),u=o.get("redirect_status");s&&u==="succeeded"&&(pn.value=s,await no(s),fn.value=!0,window.history.replaceState({},document.title,window.location.pathname),H.success("Payment succeeded! Restoring modal context."));const _=document.getElementById("menuFilterModal");_&&_.addEventListener("hidden.bs.modal",()=>{Ys.value||Qs(),Ys.value=!1})});const Jt=Gb();function io(){const o=Jt.props.flash?.success,s=Jt.props.flash?.error;o&&H.success(o,{autoClose:4e3}),s&&H.error(s,{autoClose:6e3})}As(()=>io()),As(()=>{Jt.props.flash?.success;const o=Jt.props.flash?.error;o&&H.error(o);const s=Jt.props.flash?.print_payload;s&&setTimeout(()=>eo(s),250),s&&setTimeout(()=>ji(s),250)}),Bi(()=>Jt.props.flash,()=>io(),{deep:!0});const Ii=be(()=>Jt.props.onboarding?.optional_features?.enable_inventory_tracking??!0),Tl=({id:o,status:s,message:u})=>{Ji.value=Ji.value.map(_=>_.id===o?{..._,status:s}:_)},na=B(!1),Ji=B([]),ra=B(!1),Zi=B(!1),so=B([]),oo=B(!1),Sl=async()=>{Zi.value=!1,so.value=[],oo.value=!0;try{const o=await axios.get("/api/pos/orders/today");so.value=o.data.orders}catch(o){console.error("Failed to fetch POS orders:",o),H.error(o.response?.data?.message||"Failed to fetch POS orders")}finally{oo.value=!1}},ti=B(!1),es=B(!1),ao=B(!0),lo=B(!0),ts=B([]),ns=B([]),Z=B([]),Be=o=>{if(Z.value=o,!o||o.length===0){H.warning("No promos selected.");return}const s=o.reduce((_,A)=>_+parseFloat(A.applied_discount||0),0);if(s<=0){H.warning("Selected promos don't provide any discount for current cart items."),Z.value=[];return}const u=new Set(o.flatMap(_=>_.applied_to_items||[])).size;H.success(`${o.length} promo(s) applied! Applied to ${u} item(s). You saved ${n(s)}`),ti.value=!1},Il=async()=>{ao.value=!0,ti.value=!0;try{const o=await axios.get("/api/promos/current");o.data?.success?ts.value=o.data.data||[]:(console.warn("Failed to fetch promos:",o.data),ts.value=[],H.warning("No promos available at the moment"))}catch(o){console.error("Error fetching current meal promos:",o),ts.value=[],H.error("Failed to load promotions")}finally{ao.value=!1}},Ol=async()=>{lo.value=!0,es.value=!0;try{const o=await axios.get("/api/discounts/all");o.data?.success?ns.value=o.data.data||[]:(console.warn("Failed to fetch discounts:",o.data),ns.value=[],H.warning("No discounts available at the moment"))}catch(o){console.error("Error fetching current meal discounts:",o),ns.value=[],H.error("Failed to load discounts")}finally{lo.value=!1}},kl=o=>!Z.value||Z.value.length===0?!1:Z.value.some(s=>!s.menu_items||s.menu_items.length===0?!0:s.menu_items.map(_=>_.id).includes(o.id)),Dl=o=>{Zs.value=o,jr.value=!0,Zi.value=!1},ar=be(()=>!Z.value||Z.value.length===0?0:Z.value.reduce((o,s)=>{const u=parseFloat(s.discount_amount??0)||0;if(s.applied_discount!==void 0)return o+parseFloat(s.applied_discount);const _=Nl(s);if(s.min_purchase&&_<parseFloat(s.min_purchase))return o;if(s.type==="flat")return o+u;if(s.type==="percent"){const A=_*u/100,O=parseFloat(s.max_discount??0)||0;return O>0&&A>O?o+O:o+A}return o},0)),Nl=o=>{if(!o.menu_items||o.menu_items.length===0)return q.value.reduce((u,_)=>u+_.unit_price*_.qty,0);const s=o.menu_items.map(u=>u.id);return q.value.filter(u=>s.includes(u.id)).reduce((u,_)=>u+_.unit_price*_.qty,0)},ia=be(()=>!Z.value||Z.value.length===0?[]:Z.value.map(o=>({promo_id:o.id,promo_name:o.name,promo_type:o.type,discount_amount:o.applied_discount||0,applied_to_items:o.applied_to_items||[]}))),lr=be(()=>{let o=0;const s=parseFloat(Jt.props.onboarding.tax_and_vat.tax_rate)||0;return q.value.forEach(u=>{const _=ae.value.find(A=>A.id===u.id);if(_&&_.is_taxable){const O=u.unit_price*u.qty*s/100;o+=O}}),o}),je=be(()=>q.value.reduce((o,s)=>o+(s.total_resale_discount||0),0)),Gn=be(()=>{const o=Ft.value+xi.value+lr.value+Hn.value+dn.value-je.value-ar.value-zn.value;return Math.round(Math.max(0,o)*100)/100}),hn=o=>{const s=ae.value.find(u=>u.id===o.id);return s&&s.is_taxable&&s.tax_percentage?o.unit_price*o.qty*parseFloat(s.tax_percentage)/100:0},rs=o=>{const s=ae.value.find(u=>u.id===o.id);return s&&s.is_taxable&&s.tax_percentage?parseFloat(s.tax_percentage):0},is=o=>{const s=Ne(o),u=s?s.id:null,A=wt(o).map(S=>S.id).sort().join("-"),O=q.value.find(S=>{const W=(S.addons||[]).map(pe=>pe.id).sort().join("-");return S.id===o.id&&S.variant_id===u&&W===A});return O?O.qty:0},Zt=async o=>{const s=Ne(o),u=s?s.id:null,_=wt(o),A=_.map(He=>He.id).sort().join("-"),O=q.value.findIndex(He=>{const lt=(He.addons||[]).map(nn=>nn.id).sort().join("-");return He.id===o.id&&He.variant_id===u&&lt===A});let S=1,W=null;const pe=ur(o,u);O>=0&&(W=q.value[O],S=W.qty+1);const ue=Yi({id:o.id,title:o.title,variant_id:u,variant_name:s?s.name:null,ingredients:pe,removed_ingredients:W?.removed_ingredients||[],addons:_},S);if(!ue.canAdd){console.log(" Missing ingredients for card increment (client-side)");const He=parseFloat(s?s.price:o.price),lt=et(o),nn=s?tn(s,!0):tn(o,!1);Xi.value={product:o,variant:s,variantId:u,variantName:s?s.name:null,variantPrice:He,selectedAddons:_,addonsPrice:lt,resaleDiscountPerItem:nn,existingIndex:O,newQty:S},Qt.value=ue.missing,Kn.value=!0,H.warning("Some ingredients are missing. Confirm to proceed.");return}const we=parseFloat(s?s.price:o.price),Ke=et(o),X=we+Ke,Re=s?tn(s,!0):tn(o,!1);if(O>=0)q.value[O].qty++,q.value[O].price=q.value[O].unit_price*q.value[O].qty,q.value[O].total_resale_discount=Re*q.value[O].qty,q.value[O].outOfStock=!1;else{const He=vt(o);q.value.push({id:o.id,title:o.title,img:o.img,price:X,unit_price:Number(X),qty:1,note:"",stock:He,ingredients:pe,variant_id:u,variant_name:s?s.name:null,addons:_,outOfStock:!1,resale_discount_per_item:Re,total_resale_discount:Re})}},sa=o=>{const s=Ne(o),u=s?s.id:null,A=wt(o).map(W=>W.id).sort().join("-"),O=q.value.findIndex(W=>{const pe=(W.addons||[]).map(ue=>ue.id).sort().join("-");return W.id===o.id&&W.variant_id===u&&pe===A});if(O<0)return;const S=q.value[O];S.qty<=1?q.value.splice(O,1):(S.qty--,S.price=S.unit_price*S.qty,S.outOfStock=!1)},ur=(o,s)=>!s||!o.variants?.length?o.ingredients??[]:o.variants.find(_=>_.id===s)?.ingredients??o.ingredients??[],ot=B(null),Yn=B(null);let Ir=null;const oa=(o,s)=>{ot.value=JSON.parse(JSON.stringify(o)),Yn.value=s;const u=ae.value.find(_=>_.id===o.id);if(u&&u.addon_groups&&u.addon_groups.length>0){const _=new Map;o.addons&&o.addons.forEach(O=>{_.set(O.id,{quantity:O.quantity||1,selected:!0})});const A=[];u.addon_groups.forEach(O=>{O.addons&&O.addons.length>0&&O.addons.forEach(S=>{const W=_.get(S.id);A.push({id:S.id,name:S.name,price:parseFloat(S.price||0),group_id:O.group_id,group_name:O.group_name,quantity:W?.quantity||1,selected:W?.selected||!1})})}),ot.value.addons=A}else ot.value.addons=[];if(!Ir){const _=document.getElementById("addonManagementModal");_&&(Ir=new bootstrap.Modal(_))}Ir&&Ir.show()},Bt=o=>{o.selected=!o.selected,o.selected||(o.quantity=1)},$l=o=>{o.selected&&(o.quantity=(o.quantity||1)+1)},en=o=>{o.selected&&(o.quantity||1)>1&&(o.quantity-=1)},aa=o=>o.addons?o.addons.reduce((s,u)=>u.selected!==!1?s+parseFloat(u.price)*(u.quantity||1):s,0):0,la=()=>{if(Yn.value===null)return;const o=ot.value.addons.filter(O=>O.selected!==!1),s=ot.value.variant_id?ae.value.find(O=>O.id===ot.value.id)?.variants?.find(O=>O.id===ot.value.variant_id):null,u=parseFloat(s?s.price:ot.value.unit_price),_=o.reduce((O,S)=>O+parseFloat(S.price)*(S.quantity||1),0),A=u+_;q.value[Yn.value].addons=o,q.value[Yn.value].unit_price=A,q.value[Yn.value].price=A*q.value[Yn.value].qty,H.success("Addons updated successfully!"),Ir&&Ir.hide(),ot.value=null,Yn.value=null},cr=o=>!o.addons||o.addons.length===0?"":o.addons.map(s=>s.name).join(", "),ni=()=>{let o=0;return ft.value&&typeof ft.value=="object"&&Object.values(ft.value).forEach(s=>{Array.isArray(s)&&(o+=s.length)}),o},Or=be(()=>Jt.props.current_user),ze=be(()=>i.value.filter(o=>{const s=o.menu_items_count&&o.menu_items_count>0,u=o.deals_count&&o.deals_count>0;return s||u}));be(()=>Or.value?.roles?.includes("Cashier")||Or.value?.roles?.includes("Admin")||Or.value?.roles?.includes("Manager"));const Tn=B(`terminal-${Or.value?.id}`),{broadcastCartUpdate:uo,broadcastUIUpdate:Pl}=MA(Tn.value),co=qo.debounce(o=>{console.log(" Broadcasting cart:",o.items.length,"items"),uo(o)},300);async function Ll(o){console.log(" Customer View (Cart Data):",o);try{const s=await axios.post(customer_view_url.value,{cartData:o},{headers:{"Content-Type":"application/json"},timeout:1e4});console.log(" Data sent successfully")}catch(s){s.code==="ECONNABORTED"?console.error("Timeout: Customer view didn't respond"):s.code==="ERR_NETWORK"?console.error("Network error: Cannot reach customer view"):console.error("Customer View failed:",s)}}const Rl=qo.debounce(o=>{console.log(" Broadcasting UI"),Pl(o)},100);Bi(()=>({items:q.value.map(o=>({id:o.id,title:o.name||o.title,img:o.image_url||o.img||"/assets/img/default.png",price:parseFloat(o.total||o.price||0),qty:parseInt(o.qty||1),variant_name:o.variant?.name||null,addons:(o.addons||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0)})),resale_discount_per_item:parseFloat(o.resale_discount_per_item||0)})),customer:Xe.value||"Walk In",phone_number:it.value||"",delivery_location:xt.value||"",orderType:me.value||"Dine In",table:gt.value?{id:gt.value.id,name:gt.value.name}:null,subtotal:parseFloat(Ft.value||0),tax:parseFloat(lr.value||0),serviceCharges:parseFloat(dn.value||0),deliveryCharges:parseFloat(Hn.value||0),saleDiscount:parseFloat(je.value||0),promoDiscount:parseFloat(ar.value||0),total:parseFloat(Gn.value||0),note:Vn.value||"",appliedPromos:(Z.value||[]).map(o=>({id:o.id,name:o.name,discount:parseFloat(o.discount||0),applied_to_items:o.applied_to_items||[]}))}),o=>{console.log(" Cart changed:",o.items.length,"items, Total:",o.total),co(o),Ll(o)},{deep:!0,immediate:!0}),Bi(()=>({showCategories:ir.value??!0,activeCat:Mt.value||null,menuCategories:(i.value||[]).map(o=>({id:o.id,name:o.name,menu_items_count:o.menu_items_count||0})),menuItems:(ae.value||[]).map(o=>({id:o.id,name:o.name,price:parseFloat(o.price||0),image_url:o.image_url||null,description:o.description||"",label_color:o.label_color||"#1B1670",category:o.category?{id:o.category.id,name:o.category.name}:null,variants:(o.variants||[]).map(s=>({id:s.id,name:s.name,price:parseFloat(s.price||0),is_saleable:s.is_saleable??!1,resale_type:s.resale_type||null,resale_value:parseFloat(s.resale_value||0)})),addon_groups:(o.addon_groups||[]).map(s=>({id:s.id,name:s.name,addons:(s.addons||[]).map(u=>({id:u.id,name:u.name,price:parseFloat(u.price||0)}))})),is_saleable:o.is_saleable??!1,resale_type:o.resale_type||null,resale_value:parseFloat(o.resale_value||0)})),searchQuery:Nt.value||"",selectedCardVariant:qe.value||{},selectedCardAddons:Ve.value||{}}),o=>{console.log(" UI changed - Categories:",o.menuCategories.length,"Items:",o.menuItems.length),Rl(o)},{deep:!0,immediate:!0});const Ml=()=>{const o=route("customer-display.index",{terminal:Tn.value});window.open(o,"_blank","width=1920,height=1080")},tn=(o,s=!1)=>{if(!o)return 0;const u=o.is_saleable??o?.menu_item?.is_saleable,_=o.resale_type??o?.menu_item?.resale_type,A=o.resale_value??o?.menu_item?.resale_value,O=parseFloat(o.price||0);return!u||!_||!A?0:_==="flat"?parseFloat(A):_==="percentage"?O*parseFloat(A)/100:0},Sn=(o,s=!1)=>{const u=parseFloat(o.price||0),_=tn(o,s);return Math.max(0,u-_)},In=(o,s=!1)=>{if(!o)return null;const u=o.is_saleable??o?.menu_item?.is_saleable,_=o.resale_type??o?.menu_item?.resale_type,A=o.resale_value??o?.menu_item?.resale_value,O=tn(o,s);return!u||!_||!A||O<=0?null:{type:_,value:A,amount:O,display:_==="flat"?`Sale ${n(O)}`:`${A}% OFF`}},Fl=o=>{const s=Ne(o);let u;s?u=Sn(s,!0):u=Sn(o,!1);const _=et(o);return u+_},kr=o=>{if(!o.variants||o.variants.length===0){const A=tn(o,!1)>0;return{min:Sn(o,!1),max:Sn(o,!1),minOriginal:A?parseFloat(o.price||0):null,maxOriginal:A?parseFloat(o.price||0):null}}const s=o.variants.map(A=>Sn(A,!0)),u=o.variants.map(A=>parseFloat(A.price||0)),_=o.variants.some(A=>tn(A,!0)>0);return{min:Math.min(...s),max:Math.max(...s),minOriginal:_?Math.min(...u):null,maxOriginal:_?Math.max(...u):null}},ua=()=>{if(!ce.value)return 0;const o=Wn();return o?Sn(o,!0):Sn(ce.value,!1)},fo=()=>ua()+Cr(),Dr=B([]),po=B(!1),ql=async()=>{po.value=!0;try{const o=await axios.get("/api/deals",{params:{status:1,per_page:100}});console.log("Fetched deals:",o.data.data),Dr.value=o.data.data.map(s=>({id:s.id,title:s.name,price:s.price,img:s.image_url||"/assets/img/product/product29.jpg",description:s.description,menu_items:s.menu_items||[],status:s.status,category_id:s.category_id,category:s.category}))}catch(o){console.error("Error fetching deals:",o),H.error("Failed to load deals")}finally{po.value=!1}},ss=o=>{const s=q.value.find(u=>u.isDeal&&u.dealId===(o.dealId||o.id));return s?s.qty:0},ho=o=>{const s=i.value.find(A=>A.id===o);if(s?.total_items_count!==void 0)return s.total_items_count;const u=s?.menu_items_count||0,_=os(o);return u+_},os=o=>!Dr.value||Dr.value.length===0?0:Dr.value.filter(s=>s.category_id===o).length,vo=(o,s)=>{if(!Ii.value)return{canAdd:!0,missing:[]};const u=[],_={};return q.value.forEach(A=>{let O=[];A.isDeal?A.menu_items?.forEach(S=>{O.push(...S.ingredients||[])}):O=A.ingredients||[],O.forEach(S=>{const W=S.inventory_item_id||S.id,pe=Number(S.inventory_stock??S.stock??0),ue=Number(S.quantity??S.qty??1)*A.qty;_[W]||(_[W]={totalStock:pe,used:0,name:S.product_name||S.name,unit:S.unit||"unit"}),_[W].used+=ue})}),o.menu_items.forEach(A=>{const O=A.ingredients||[];O.length!==0&&O.forEach(S=>{const W=S.inventory_item_id||S.id,pe=Number(S.quantity??S.qty??1)*s;let we=Number(S.inventory_stock??S.stock??0);_[W]&&(we=_[W].totalStock-_[W].used);const Ke=q.value.find(X=>X.isDeal&&X.dealId===o.id);if(Ke){const X=Number(S.quantity??S.qty??1)*Ke.qty;we+=X}we<pe&&u.push({deal_id:o.id,deal_title:o.title,menu_item_id:A.id,menu_item_name:A.name,inventory_item_id:W,inventory_item_name:S.product_name||S.name,required_quantity:pe,available_quantity:Math.max(0,we),shortage_quantity:pe-we,unit:S.unit||"unit",order_quantity:s})})}),{canAdd:u.length===0,missing:u}},Wt=async o=>{const s=q.value.findIndex(A=>A.isDeal&&A.dealId===o.id),u=s>=0?q.value[s].qty+1:1,_=vo(o,u);if(!_.canAdd){console.log(" Missing ingredients for deal (client-side)"),ei.value={deal:o,existingIndex:s,newQty:u},Qt.value=_.missing,Kn.value=!0,H.warning("Some ingredients are missing. Confirm to proceed.");return}if(s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,H.success("Deal quantity updated");else{const O=[];o.menu_items.forEach(W=>{W.ingredients&&W.ingredients.length>0&&O.push(...W.ingredients.map(pe=>({...pe,menu_item_id:W.id,menu_item_name:W.name})))});const S={id:o.id,title:o.title,price:parseFloat(o.price),unit_price:parseFloat(o.price),img:o.img,qty:1,stock:999999,ingredients:O,isDeal:!0,dealId:o.id,menu_items:o.menu_items.map(W=>({id:W.id,name:W.name,price:W.price,ingredients:W.ingredients||[],stock:Ci(W.ingredients||[])})),resale_discount_per_item:0,total_resale_discount:0};q.value.push(S),H.success(`${o.title} added to cart!`)}},_o=o=>{const s=q.value.findIndex(_=>_.isDeal&&_.dealId===o.id);if(s<0)return;const u=q.value[s];u.qty<=1?(q.value.splice(s,1),H.info("Deal removed from cart")):(u.qty--,u.price=u.unit_price*u.qty,H.success("Deal quantity decreased"))};As(()=>{ql(),_n()});const We=B(null),Ye=B(0),Qe=B(1),jn=B({}),dr=B({}),ri=B({}),fr=B([]);let as=null;const Me=be(()=>!We.value||!We.value.menu_items?null:We.value.menu_items[Ye.value]),Bl=be(()=>us().length>0),Wl=be(()=>Me.value?.addon_groups&&Me.value.addon_groups.length>0),$t=be(()=>{let o=[],s=1;return Bl.value&&(o.push({id:"ingredients",name:"Ingredients",stepNumber:s,actualStep:1}),s++),Wl.value&&(o.push({id:"addons",name:"Add-ons",stepNumber:s,actualStep:2}),s++),o.push({id:"review",name:"Review",stepNumber:s,actualStep:3}),o}),mo=be(()=>$t.value.length),pr=be(()=>{if(Qe.value===1)return"0%";const o=$t.value.length,s=(Qe.value-1)/(o-1);return`calc(${s*100}% - ${14-s*28}px)`}),ls=be(()=>Ye.value===We.value?.menu_items?.length-1);be(()=>We.value?.menu_items?.length?fr.value.length/We.value.menu_items.length*100:0);const us=()=>Me.value?Me.value.ingredients||[]:[],go=o=>(jn.value[Ye.value]||[]).includes(o),Hl=o=>{const s=Ye.value;jn.value[s]||(jn.value[s]=[]);const u=jn.value[s],_=u.indexOf(o);_>-1?(u.splice(_,1),H.info("Ingredient added back")):(u.push(o),H.info("Ingredient removed"))},ii=()=>{const o=us(),s=jn.value[Ye.value]||[];return o.filter(u=>!s.includes(u.id)).length},vn=()=>{const o=Ye.value,s=dr.value[o];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{u+=_.length}),u},ca=()=>{const o=Ye.value,s=dr.value[o];if(!s)return"";const u=[];return Object.values(s).forEach(_=>{_.forEach(A=>{u.push(`${A.name} (+${n(A.price)})`)})}),u.join(", ")},da=()=>{const o=Ye.value,s=jn.value[o]||[];if(s.length===0)return"";const u=us(),_=s.map(A=>{const O=u.find(S=>S.id===A);return O?O.product_name||O.name:null}).filter(Boolean);return _.length===0?"":`No ${_.join(", ")}`},Ul=o=>o<Qe.value?"stepper-circle-completed":o===Qe.value?"stepper-circle-active":"stepper-circle-inactive",fa=o=>{(o<=Qe.value||o===Qe.value+1)&&(Qe.value=o)},pa=()=>{Qe.value=$t.value[0]?.stepNumber||1},Vl=()=>{const o=$t.value.findIndex(s=>s.stepNumber===Qe.value);o<$t.value.length-1&&(Qe.value=$t.value[o+1].stepNumber)},si=()=>{const o=$t.value.findIndex(s=>s.stepNumber===Qe.value);o>0&&(Qe.value=$t.value[o-1].stepNumber)},y=()=>{fr.value.includes(Ye.value)||fr.value.push(Ye.value),Ye.value++,te.value=0,pa(),H.success("Item customized! Configure next item.")},N=async()=>{if(!We.value)return;fr.value.includes(Ye.value)||fr.value.push(Ye.value);const o=We.value.menu_items.map((O,S)=>{const W=jn.value[S]||[],pe=dr.value[S]||{},ue=ri.value[S]||"",we=[];Object.values(pe).forEach(X=>{X.forEach(Re=>{we.push({id:Re.id,name:Re.name,price:parseFloat(Re.price||0)})})});const Ke=(O.ingredients||[]).filter(X=>!W.includes(X.id)).map(X=>({id:X.id,inventory_item_id:X.inventory_item_id||X.id,product_name:X.product_name||X.name,quantity:X.quantity||X.qty||"1.00",stock:X.stock||0,unit:X.unit||"unit"}));return{id:O.id,name:O.name,price:O.price,ingredients:Ke,addons:we,kitchen_note:ue,removed_ingredients:W,stock:Ci(Ke)}}),s=q.value.findIndex(O=>O.isDeal&&O.dealId===We.value.id),u=999999,_=[];if(o.forEach(O=>{O.ingredients&&O.ingredients.length>0&&_.push(...O.ingredients.map(S=>({...S,menu_item_id:O.id,menu_item_name:O.name})))}),s>=0)q.value[s].qty++,q.value[s].price=q.value[s].unit_price*q.value[s].qty,H.success("Deal quantity updated!");else{const O={id:We.value.id,title:We.value.title,price:z.value,unit_price:parseFloat(We.value.price),img:We.value.img,qty:1,stock:u,ingredients:_,isDeal:!0,dealId:We.value.id,menu_items:o,resale_discount_per_item:0,total_resale_discount:0};q.value.push(O),H.success(`${We.value.title} added to cart!`)}const A=bootstrap.Modal.getInstance(document.getElementById("customizeDealModal"));A&&A.hide(),at()},T=be(()=>{if(!Me.value)return 0;const o=parseFloat(Me.value.price||0),s=Ye.value,u=dr.value[s];if(!u)return o;let _=0;return Object.values(u).forEach(A=>{A.forEach(O=>{_+=parseFloat(O.price||0)})}),o+_}),z=be(()=>{if(!We.value)return 0;const o=parseFloat(We.value.price||0);let s=0;return Object.values(dr.value).forEach(u=>{Object.values(u).forEach(_=>{_.forEach(A=>{s+=parseFloat(A.price||0)})})}),o+s}),le=be(()=>{const o=Ye.value,s=dr.value[o];if(!s)return 0;let u=0;return Object.values(s).forEach(_=>{_.forEach(A=>{u+=parseFloat(A.price||0)})}),u}),$e=o=>{if(We.value=o,Ye.value=0,jn.value={},dr.value={},ri.value={},fr.value=[],pa(),!as){const s=document.getElementById("customizeDealModal");s&&(as=new bootstrap.Modal(s,{backdrop:"static"}))}as&&as.show()},at=()=>{We.value=null,Ye.value=0,Qe.value=1,jn.value={},dr.value={},ri.value={},fr.value=[],te.value=0},De=B(!1),oi=B(!1),Qn=B([]),Tt=B(!1),cs=async()=>{if(q.value.length===0){H.error("No items in cart to hold");return}try{const o={customer_name:Xe.value,phone_number:it.value,delivery_location:xt.value,order_type:me.value,table_number:gt.value?.name||null,sub_total:Ft.value,tax:lr.value,service_charges:dn.value,delivery_charges:Hn.value,sale_discount:je.value,promo_discount:ar.value,approved_discounts:zn.value,total_amount:Gn.value,note:Vn.value,kitchen_note:jt.value,order_items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,unit_price:u.unit_price,note:u.note||"",item_kitchen_note:u.item_kitchen_note||"",variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],ingredients:u.ingredients||[],removed_ingredients:u.removed_ingredients||[],sale_discount_per_item:u.resale_discount_per_item||0,total_resale_discount:u.total_resale_discount||0,isDeal:u.isDeal||!1,dealId:u.dealId||null,menu_items:u.menu_items||[]})),applied_promos:Z.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),approved_discount_details:st.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Zr(u.percentage),approval_id:u.approval_id})),selected_discounts:st.value,terminal_id:Tn.value};(await axios.post("/pending-orders",o)).data.success&&(H.success("Order held successfully!"),Ti(),await _n())}catch(o){H.error(o.response?.data?.message||"Failed to hold order")}},_n=async()=>{Tt.value=!0;try{const o=await axios.get("/pending-orders");o.data.success?Qn.value=o.data.data:Qn.value=[]}catch(o){console.error("Error fetching pending orders:",o),H.error("Failed to load pending orders"),Qn.value=[]}finally{Tt.value=!1}},ai=async()=>{De.value=!0,await _n()},ds=async()=>{oi.value=!0,await _n()},fs=async o=>{try{if(Xe.value=o.customer_name||js(),it.value=o.phone_number||"",xt.value=o.delivery_location||"",me.value=o.order_type,Vn.value=o.note||"",jt.value=o.kitchen_note||"",o.table_number){const s=Tr.value.table_details?.find(u=>u.name===o.table_number);gt.value=s||null}q.value=o.order_items.map(s=>({id:s.id||s.product_id,product_id:s.product_id,server_item_id:s.id,title:s.title,qty:s.quantity,price:s.price,unit_price:s.unit_price,note:s.note||"",item_kitchen_note:s.item_kitchen_note||"",img:s.img||"/assets/img/default.png",variant_id:s.variant_id||null,variant_name:s.variant_name||null,addons:s.addons||[],ingredients:s.ingredients||[],removed_ingredients:s.removed_ingredients||[],resale_discount_per_item:s.sale_discount_per_item||0,total_resale_discount:s.total_resale_discount||0,stock:s.stock||999999,isDeal:s.isDeal||!1,dealId:s.dealId||null,menu_items:s.menu_items||[]})),Z.value=o.applied_promos||[],st.value=o.selected_discounts||[],await axios.delete(`/pending-orders/${o.id}`),H.success("Order resumed successfully!"),De.value=!1,await _n()}catch{H.error("Failed to resume order")}},Le=async o=>{try{let s="",u={};o.type==="unpaid"?(s=`/pending-orders/${o.id}`,u={order_type:"unpaid"}):(s=`/pending-orders/${o.id}`,u={order_type:"held"}),await axios.delete(s,{data:u}),H.success("Order rejected successfully"),await _n()}catch(s){console.error("Error rejecting order:",s),H.error("Failed to reject order")}},li=(o,s)=>ft.value[o]?.some(u=>u.id===s),Oi=(o,s)=>ft.value[o]?.find(_=>_.id===s)?.quantity||1,ki=(o,s)=>{ft.value[o]||(ft.value[o]=[]);const u=ft.value[o].findIndex(_=>_.id===s.id);if(u>-1)ft.value[o].splice(u,1);else{const _=ce.value.addon_groups.find(A=>A.group_id===o);if(_&&_.max_select>0&&ft.value[o].length>=_.max_select){H.warning(`You can only select up to ${_.max_select} ${_.group_name}`);return}ft.value[o].push({id:s.id,name:s.name,price:parseFloat(s.price),group_id:o,quantity:1})}},ha=(o,s)=>{const u=ft.value[o]?.find(_=>_.id===s);u&&u.quantity++},va=(o,s)=>{const u=ft.value[o]?.find(_=>_.id===s);u&&u.quantity>1&&u.quantity--},Nr=B(!1),Te=B(null),hr=async()=>{if(q.value.length===0){H.error("Please add at least one item to the cart.");return}if(me.value==="Eat_in"&&!gt.value){H.error("Please select a table number for Dine In orders.");return}if((me.value==="Delivery"||me.value==="Takeaway")&&!Xe.value){H.error("Customer name is required.");return}if(me.value==="Delivery"&&!it.value){H.error("Phone number is required for delivery.");return}if(me.value==="Delivery"&&!xt.value){H.error("Delivery location is required.");return}try{const o={customer_name:Xe.value,phone_number:it.value,delivery_location:xt.value,sub_total:Ft.value,tax:lr.value,service_charges:dn.value,delivery_charges:Hn.value,sales_discount:je.value,approved_discounts:zn.value,approved_discount_details:st.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Zr(u.percentage),approval_id:u.approval_id})),promo_discount:ar.value,applied_promos:Z.value.map(u=>({promo_id:u.id,promo_name:u.name,promo_type:u.type,discount_amount:u.applied_discount||0,applied_to_items:u.applied_to_items||[]})),total_amount:Gn.value,note:Vn.value,kitchen_note:jt.value,order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:me.value==="Eat_in"?"Eat In":me.value,table_number:gt.value?.name||null,items:q.value.map(u=>({product_id:u.id,title:u.title,quantity:u.qty,price:u.price,note:u.note??"",kitchen_note:jt.value??"",unit_price:u.unit_price,item_kitchen_note:u.item_kitchen_note??"",tax_percentage:rs(u),tax_amount:hn(u),variant_id:u.variant_id||null,variant_name:u.variant_name||null,addons:u.addons||[],sale_discount_per_item:u.resale_discount_per_item||0,removed_ingredients:u.removed_ingredients||[],is_deal:u.isDeal||!1,deal_id:u.dealId||null,menu_items:u.menu_items||[]})),confirm_missing_ingredients:!0},s=await axios.post("/pos/order-without-payment",o);s.data.success&&(H.success("Order placed successfully! Payment pending."),ji(JSON.parse(JSON.stringify(s.data.order))),Ti(),await _n())}catch(o){console.error("Error placing order:",o),H.error(o.response?.data?.message||"Failed to place order")}},ps=o=>{const s=(o.order_items||[]).map(_=>({..._,server_item_id:_.id}));Te.value={...o,order_items:s};const u=o.remaining_balance!==void 0?o.remaining_balance:o.total_amount;Qr.value=parseFloat(parseFloat(u).toFixed(2)),Nr.value=!0},_a=async o=>{try{const s={customer_name:Xe.value,phone_number:it.value,delivery_location:xt.value,sub_total:(Number(o.unit_price)||0)*(Number(o.qty)||0),tax:hn(o),service_charges:dn.value,delivery_charges:Hn.value,sales_discount:0,approved_discounts:0,approved_discount_details:[],promo_discount:0,applied_promos:[],total_amount:(Number(o.unit_price)||0)*(Number(o.qty)||0)+hn(o),note:o.note??"",kitchen_note:jt.value??"",order_date:new Date().toISOString().split("T")[0],order_time:new Date().toTimeString().split(" ")[0],order_type:me.value==="Eat_in"?"Eat In":me.value==="Delivery"?"Delivery":me.value==="Takeaway"?"Takeaway":"Collection",table_number:gt.value?.name||null,is_paid:!0,payment_method:"Cash",auto_print_kot:!0,cash_received:(Number(o.unit_price)||0)*(Number(o.qty)||0),change:0,items:[{product_id:o.id,title:o.title,quantity:o.qty,price:o.price,note:o.note??"",kitchen_note:o.kitchen_note??"",unit_price:o.unit_price,item_kitchen_note:o.item_kitchen_note??"",tax_percentage:rs(o),tax_amount:hn(o),variant_id:o.variant_id||null,variant_name:o.variant_name||null,addons:o.addons||[],sale_discount_per_item:0,removed_ingredients:o.removed_ingredients||[],is_deal:o.isDeal||!1}],confirm_missing_ingredients:!0};console.log(" Sending single item order:",s);const u=await axios.post("/pos/order",s);H.success(u.data.message||"Item order placed successfully!"),o.isPaid=!0,Ai()}catch(s){console.error(" Single item order error:",s),H.error(s.response?.data?.message||"Failed to place item order")}};return(o,s)=>(x(),k(Ue,null,[Ze(de(jb),{title:"Sale"}),Ze(Xb,null,{default:Lt(()=>[c("div",nx,[c("div",rx,[c("div",ix,[c("div",{class:rt(ir.value?"col-md-12":"col-lg-8")},[ir.value?(x(),k("div",sx,[c("div",ox,[s[30]||(s[30]=c("h4",{class:"mb-0"},"Categories",-1)),c("button",{onClick:Ml,class:"btn btn-primary d-flex align-items-center gap-2",type:"button"},[...s[28]||(s[28]=[c("i",{class:"bi bi-tv"},null,-1),c("span",null,"Customer View",-1)])]),c("div",ax,[s[29]||(s[29]=c("input",{type:"email",name:"email",autocomplete:"email",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabindex:"-1","aria-hidden":"true"},null,-1)),I.value?dt((x(),k("input",{id:E,"onUpdate:modelValue":s[0]||(s[0]=u=>v.value=u),key:g.value,type:"search",class:"form-control form-control-sm",placeholder:"Search categories...",autocomplete:"new-password",name:E,role:"presentation",style:{"border-radius":"8px",padding:"8px 12px"}})),[[gr,v.value]]):(x(),k("input",lx))])]),s[33]||(s[33]=c("hr",null,null,-1)),f.value?(x(),k("div",ux,[...s[31]||(s[31]=[c("div",{class:"spinner-border",role:"status",style:{color:"#1B1670",width:"3rem",height:"3rem","border-width":"0.3em"}},null,-1),c("div",{class:"mt-2 fw-semibold text-muted"},"Loading...",-1)])])):(x(),k(Ue,{key:1},[(x(!0),k(Ue,null,pt(Ie.value,u=>(x(),k("div",{key:u.id,class:"col-6 col-md-4 col-lg-4 category-cards"},[c("div",{class:"cat-card",onClick:_=>Vs(u)},[c("div",dx,[c("span",fx,[u.image_url?(x(),k("img",{key:0,src:u.image_url,alt:"Category Image",class:"cat-image"},null,8,px)):(x(),k("span",hx,""))])]),c("div",vx,$(u.name),1),c("div",_x,[ve($(ho(u.id))+" Items ",1),os(u.id)>0?(x(),k("span",mx," ("+$(os(u.id))+" Deal"+$(os(u.id)>1?"s":"")+") ",1)):Y("",!0)])],8,cx)]))),128)),!f.value&&Ie.value.length===0?(x(),k("div",gx,[...s[32]||(s[32]=[c("div",{class:"alert alert-light border text-center rounded-4"}," No categories found ",-1)])])):Y("",!0)],64))])):(x(),k("div",bx,[c("div",yx,[c("button",{class:"btn btn-primary rounded-pill shadow-sm px-3",onClick:s[1]||(s[1]=u=>zs())},[...s[34]||(s[34]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ve(" Back ",-1)])]),c("h5",wx,$(i.value.find(u=>u.id===Mt.value)?.name||"Items"),1),c("div",Ex,[Ze(ry,{modelValue:bt.value,"onUpdate:modelValue":s[2]||(s[2]=u=>bt.value=u),title:"Menu Items","modal-id":"menuFilterModal","sort-options":[{value:"name_asc",label:"Name: A to Z"},{value:"name_desc",label:"Name: Z to A"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}],"show-price-range":!0,"show-category":!1,"show-stock-status":!1,"show-date-range":!1,categories:[],suppliers:[],onApply:Go,onClear:Qs},null,8,["modelValue"]),c("div",Ax,[s[35]||(s[35]=c("i",{class:"bi bi-search position-absolute",style:{left:"12px",top:"50%",transform:"translateY(-50%)","z-index":"10"}},null,-1)),dt(c("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>Nt.value=u),class:"form-control search-input ps-5",type:"text",placeholder:"Search items...",style:{"min-width":"250px"}},null,512),[[gr,Nt.value]])])])]),Ko.value.length===0?(x(),k("div",xx,[c("div",Cx,[s[39]||(s[39]=c("i",{class:"bi bi-search me-2",style:{"font-size":"2rem",opacity:"0.5"}},null,-1)),s[40]||(s[40]=c("h5",{class:"mt-2 mb-2 text-dark fw-semibold"},"No Menu Found",-1)),c("p",Tx,[Nt.value&&bt.value.priceRange&&bt.value.priceRange.length>0?(x(),k(Ue,{key:0},[ve(" No items match your search and filter criteria. ")],64)):Nt.value?(x(),k(Ue,{key:1},[s[36]||(s[36]=ve(' No items found matching "',-1)),c("strong",null,$(Nt.value),1),s[37]||(s[37]=ve('" ',-1))],64)):bt.value.priceRange&&bt.value.priceRange.length>0?(x(),k(Ue,{key:2},[ve(" No items match the selected price range. ")],64)):(x(),k(Ue,{key:3},[ve(" No Menu available in this category. ")],64))]),c("button",{class:"btn btn-sm btn-outline-secondary rounded-pill",onClick:Qs},[...s[38]||(s[38]=[c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),ve("Clear Filters ",-1)])])])])):Y("",!0),c("div",Sx,[(x(!0),k(Ue,null,pt(Ko.value,u=>(x(),k("div",{class:"col-12 col-md-6 left-card cat-cards col-xl-6 d-flex",key:u.id},[u.isDeal?(x(),k("div",Ix,[c("div",Ox,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,kx),c("span",Dx,[s[41]||(s[41]=c("i",{class:"bi bi-gift-fill me-1"},null,-1)),ve(" "+$(de(n)(u.price)),1)])]),c("div",Nx,[c("div",null,[c("div",$x,$(u.title),1)]),c("div",Px,[c("button",{class:"btn btn-primary customize-deal btn-sm w-75 mb-2",onClick:qi(_=>$e(u),["stop"])}," Customize Deal ",8,Lx),c("div",{class:"d-flex align-items-center justify-content-start gap-2",onClick:s[4]||(s[4]=qi(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:qi(_=>_o(u),["stop"]),disabled:ss(u)<=0},[...s[42]||(s[42]=[c("strong",null,"",-1)])],8,Rx),c("div",Mx,$(ss(u)),1),c("button",{class:"qty-btn btn btn-outline-danger rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:qi(_=>Wt(u),["stop"])},[...s[43]||(s[43]=[c("strong",null,"+",-1)])],8,Fx)])])])])):(x(),k("div",{key:1,class:"card rounded-4 shadow-sm overflow-hidden border-3 w-100 d-flex flex-row align-items-stretch",style:$o({borderColor:u.label_color||"#1B1670"})},[c("div",qx,[c("img",{src:u.img,alt:"",class:"w-100 h-100",style:{"object-fit":"cover"}},null,8,Bx),u.variants&&u.variants.length>0?(x(),k("div",Wx,[kr(u).minOriginal!==null?(x(),k("span",Hx,$(de(n)(kr(u).minOriginal)),1)):Y("",!0),c("span",Ux,$(de(n)(kr(u).min))+" - ",1),kr(u).maxOriginal!==null?(x(),k("span",Vx,$(de(n)(kr(u).maxOriginal)),1)):Y("",!0),c("span",zx,$(de(n)(kr(u).max)),1)])):Y("",!0),Dt(u)<=0?(x(),k("span",Kx," OUT OF STOCK ")):Y("",!0)]),c("div",Gx,[u.variants&&u.variants.length>0&&In(Ne(u),!0)||(!u.variants||u.variants.length===0)&&In(u,!1)?(x(),k("span",Yx,$(u.variants&&u.variants.length>0?In(Ne(u),!0).display:In(u,!1).display),1)):Y("",!0),c("span",{class:"m-1 px-2 py-1 rounded-pill text-white fw-semibold",style:$o({background:u.label_color||"#1B1670",fontSize:"0.58rem",letterSpacing:"0.3px"})},[In(Ne(u)||u,!!u.variants?.length)?(x(),k(Ue,{key:0},[c("span",jx,$(de(n)(Ne(u)?.price||u.price)),1),c("span",Qx,$(de(n)(Fl(u))),1)],64)):(x(),k(Ue,{key:1},[ve($(de(n)(Ne(u)?.price||u.price)),1)],64))],4),c("div",null,[c("div",{class:"h5 fw-bold mb-2 menu-name",style:$o({color:u.label_color||"#1B1670"})},$(u.title),5),c("button",{class:"btn btn-primary btn-sm mb-2 view-details-btn",onClick:_=>Ei(u)}," Customization ",8,Xx)]),c("div",{class:"mt-2 d-flex align-items-center justify-content-start gap-2",onClick:s[5]||(s[5]=qi(()=>{},["stop"]))},[c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:qi(_=>sa(u),["stop"]),disabled:is(u)<=0},[...s[44]||(s[44]=[c("strong",null,"",-1)])],8,Jx),c("div",Zx,$(is(u)),1),c("button",{class:"qty-btn btn btn-outline-secondary rounded-circle px-2 py-2",style:{width:"55px",height:"36px"},onClick:qi(_=>Zt(u),["stop"])},[...s[45]||(s[45]=[c("strong",null,"+",-1)])],8,eC)])])],4))]))),128))])]))],2),ir.value?Y("",!0):(x(),k("div",tC,[c("div",nC,[c("button",{class:"btn pending btn-info px-3 py-2",onClick:ai},[s[46]||(s[46]=ve(" Pending ",-1)),Qn.value.filter(u=>u.type==="held").length>0?(x(),k("span",rC,$(Qn.value.filter(u=>u.type==="held").length),1)):Y("",!0)]),c("button",{class:"btn btn-warning px-3 py-2",onClick:ds},[s[47]||(s[47]=ve(" Unpaid ",-1)),Qn.value.filter(u=>u.type==="unpaid").length>0?(x(),k("span",iC,$(Qn.value.filter(u=>u.type==="unpaid").length),1)):Y("",!0)])]),c("div",{class:"col-12 d-flex align-items-center justify-content-end gap-2 mb-2"},[c("button",{class:"btn btn-warning px-3 py-2 promos-btn",onClick:Il}," Promos "),c("button",{class:"btn btn-warning px-3 py-2 discount-btn",onClick:Ol}," Discounts ")]),c("div",sC,[c("div",oC,[c("div",aC,[(x(!0),k(Ue,null,pt(sr.value,(u,_)=>(x(),k("button",{key:_,class:rt(["ot-pill btn cart-header-buttons",{active:me.value===u}]),onClick:A=>me.value=u},$(u.replace(/_/g," ")),11,lC))),128)),s[48]||(s[48]=c("div",{class:"d-flex justify-content-between mb-3"},null,-1))])]),c("div",uC,[c("div",cC,[me.value==="Eat_in"?(x(),k("div",dC,[c("div",fC,[s[50]||(s[50]=c("label",{class:"form-label small"},"Table",-1)),dt(c("select",{"onUpdate:modelValue":s[6]||(s[6]=u=>gt.value=u),class:"form-select form-select-sm"},[s[49]||(s[49]=c("option",{value:null},"Select Table",-1)),(x(!0),k(Ue,null,pt(Tr.value.table_details,(u,_)=>(x(),k("option",{key:_,value:u},$(u.name),9,pC))),128))],512),[[Qb,gt.value]]),Ct.value.table_number?(x(),k("div",hC,$(Ct.value.table_number[0]),1)):Y("",!0)]),c("div",vC,[s[51]||(s[51]=c("label",{class:"form-label small"},"Customer",-1)),dt(c("input",{"onUpdate:modelValue":s[7]||(s[7]=u=>Xe.value=u),class:"form-control form-control-sm",placeholder:"Walk In"},null,512),[[gr,Xe.value]])])])):(x(),k("div",_C,[s[52]||(s[52]=c("label",{class:"form-label small"},"Customer",-1)),dt(c("input",{"onUpdate:modelValue":s[8]||(s[8]=u=>Xe.value=u),class:rt(["form-control form-control-sm",{"is-invalid":Ct.value.customer}]),placeholder:"Walk In"},null,2),[[gr,Xe.value]]),Ct.value.customer?(x(),k("div",mC,$(Ct.value.customer[0]),1)):Y("",!0)])),me.value==="Delivery"?(x(),k("div",gC,[s[53]||(s[53]=c("label",{class:"form-label small"},"Delivery Location",-1)),dt(c("input",{"onUpdate:modelValue":s[9]||(s[9]=u=>xt.value=u),class:"form-control form-control-sm",placeholder:"Enter delivery location"},null,512),[[gr,xt.value]]),Ct.value.delivery_location?(x(),k("div",bC,$(Ct.value.delivery_location[0]),1)):Y("",!0),s[54]||(s[54]=c("label",{class:"form-label small mt-2"},"Phone Number",-1)),dt(c("input",{"onUpdate:modelValue":s[10]||(s[10]=u=>it.value=u),class:"form-control form-control-sm",placeholder:"Enter phone number"},null,512),[[gr,it.value]]),Ct.value.phone_number?(x(),k("div",yC,$(Ct.value.phone_number[0]),1)):Y("",!0)])):Y("",!0)]),c("div",wC,[q.value.length===0?(x(),k("div",EC," Add items from the left ")):Y("",!0),(x(!0),k(Ue,null,pt(q.value,(u,_)=>(x(),k("div",{key:u.title,class:"line"},[c("div",AC,[c("img",{src:u.img,alt:""},null,8,xC),c("div",CC,[c("div",{class:"name",title:u.title},$(u.title),9,TC),u.resale_discount_per_item>0?(x(),k("div",SC,[c("span",IC,[s[55]||(s[55]=c("i",{class:"bi bi-tag-fill"},null,-1)),ve(" Save "+$(de(n)(u.resale_discount_per_item)),1)])])):Y("",!0),u.addons&&u.addons.length>0?(x(),k("div",OC,[c("button",{class:"btn-link p-0 py-0 text-decoration-none",onClick:A=>oa(u,_),title:cr(u)},[s[56]||(s[56]=c("i",{class:"bi bi-plus-circle-fill text-primary me-1",style:{"font-size":"0.9rem"}},null,-1)),c("span",DC,$(u.addons.length)+" addon(s)",1)],8,kC)])):Y("",!0),kl(u)?(x(),k("span",NC,[...s[57]||(s[57]=[c("i",{class:"bi bi-tag-fill"},null,-1)])])):Y("",!0),u.variant_name?(x(),k("div",$C,[c("span",PC,$(u.variant_name),1)])):Y("",!0),u.note?(x(),k("div",LC,$(u.note),1)):Y("",!0)])]),c("div",RC,[c("div",MC,[c("button",{class:"qty-btn",onClick:A=>bl(_)},"",8,FC),c("div",qC,$(u.qty),1),c("button",{class:"qty-btn",onClick:A=>gl(_)},"+",8,BC)]),c("div",WC,[c("div",HC,$(de(n)(u.price)),1),c("button",{class:"del",onClick:A=>yl(_)},[...s[58]||(s[58]=[c("i",{class:"bi bi-trash"},null,-1)])],8,UC)])])]))),128))]),c("div",VC,[c("div",zC,[s[59]||(s[59]=c("span",null,"Sub Total",-1)),c("b",KC,$(de(n)(Ft.value)),1)]),xi.value>0?(x(),k("div",GC,[s[60]||(s[60]=c("span",{class:"text-muted"}," Add-ons Total: ",-1)),c("span",YC,$(de(n)(xi.value)),1)])):Y("",!0),lr.value>0?(x(),k("div",jC,[s[61]||(s[61]=c("span",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-receipt text-info"}),ve(" Tax ")],-1)),c("b",QC,$(de(n)(lr.value)),1)])):Y("",!0),dn.value>0?(x(),k("div",XC,[s[62]||(s[62]=c("span",{class:"text-muted"},"Service Charges:",-1)),c("span",JC,$(de(n)(dn.value)),1)])):Y("",!0),Hn.value>0?(x(),k("div",ZC,[s[63]||(s[63]=c("span",{class:"text-muted"},"Delivery Charges:",-1)),c("span",eT,$(de(n)(Hn.value)),1)])):Y("",!0),je.value>0?(x(),k("div",tT,[s[64]||(s[64]=c("span",{class:"d-flex align-items-center gap-2"},[c("span",{class:"text-danger"},"Sale Discount:")],-1)),c("b",nT,"-"+$(de(n)(je.value)),1)])):Y("",!0),Z.value&&Z.value.length>0?(x(),k("div",rT,[c("div",iT,[c("div",sT,[s[65]||(s[65]=c("span",{class:"text-success"},"Promo Discount:",-1)),c("b",oT,"-"+$(de(n)(ar.value)),1)])])])):Y("",!0),qt.value.length>0?(x(),k("div",aT,[s[67]||(s[67]=c("div",{class:"alert alert-warning py-2 px-3 mb-2"},[c("div",{class:"d-flex align-items-center gap-2"},[c("i",{class:"bi bi-clock-history"}),c("small",{class:"fw-semibold"},"Pending Approval")])],-1)),(x(!0),k(Ue,null,pt(qt.value,u=>(x(),k("div",{key:u.id,class:"trow"},[c("span",lT,[s[66]||(s[66]=c("i",{class:"bi bi-hourglass-split"},null,-1)),c("span",null,$(u.discountData?.name||"Discount")+" ("+$(u.percentage)+"%)",1)]),c("span",uT," -"+$(de(n)(Zr(u.percentage))),1)]))),128)),s[68]||(s[68]=c("small",{class:"text-muted d-block mt-1 ms-4"},[c("i",{class:"bi bi-info-circle me-1"}),ve(" Will apply after Super Admin approval ")],-1))])):Y("",!0),st.value.length>0?(x(),k("div",cT,[c("div",dT,[s[69]||(s[69]=c("div",{class:"d-flex align-items-center text-success gap-2"},[c("i",{class:"bi bi-check-circle"}),c("small",{class:"fw-semibold"},"Approved Discounts"),c("i",{class:"bi bi-info-circle text-muted",tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"click","data-bs-html":"true","data-bs-placement":"top","data-bs-container":"body","data-bs-content":"Auto-updates with cart changes<br>Approved Discounts"})],-1)),c("b",fT,"-"+$(de(n)(zn.value)),1)])])):Y("",!0),c("div",pT,[s[70]||(s[70]=c("span",null,"Total",-1)),c("b",null,$(de(n)(Gn.value)),1)])]),c("div",hT,[Ze(de(jf),null,{default:Lt(()=>[Ze(de(nl),{value:"0"},{default:Lt(()=>[Ze(de(tl),null,{default:Lt(()=>[...s[71]||(s[71]=[ve("Front Note",-1)])]),_:1}),Ze(de(el),null,{default:Lt(()=>[c("div",vT,[dt(c("textarea",{id:"frontNote","onUpdate:modelValue":s[11]||(s[11]=u=>Vn.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter front note..."},null,512),[[gr,Vn.value]])])]),_:1})]),_:1}),Ze(de(nl),{value:"1"},{default:Lt(()=>[Ze(de(tl),null,{default:Lt(()=>[...s[72]||(s[72]=[ve("Kitchen Note",-1)])]),_:1}),Ze(de(el),null,{default:Lt(()=>[c("div",_T,[dt(c("textarea",{id:"kitchenNote","onUpdate:modelValue":s[12]||(s[12]=u=>jt.value=u),rows:"3",class:"form-control form-control-sm rounded-3",placeholder:"Enter kitchen note..."},null,512),[[gr,jt.value]])])]),_:1})]),_:1})]),_:1})])]),c("div",mT,[c("button",{class:"btn btn-secondary btn-clear",onClick:s[13]||(s[13]=u=>Ti())}," Clear "),c("button",{class:"btn btn-warning",onClick:cs}," Pending "),c("button",{class:"btn btn-primary btn-place",onClick:xl}," Place Order "),c("button",{class:"btn btn-info",onClick:hr},[...s[73]||(s[73]=[c("i",{class:"bi bi-clock me-1"},null,-1),ve(" Pay Later ",-1)])])])])]))])]),c("div",gT,[c("div",bT,[c("div",yT,[c("div",wT,[c("div",null,[c("h5",ET,$(ce.value?.title||"Choose Item"),1),s[74]||(s[74]=c("p",{class:"text-muted small mb-0",style:{"font-size":"0.8rem"}},"Customize your order",-1))]),s[75]||(s[75]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",AT,[c("div",xT,[s[76]||(s[76]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:$o({width:At.value})},null,4),(x(!0),k(Ue,null,pt(ht.value,(u,_)=>(x(),k("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:rt(["stepper-circle stepper-circle-sm",Cn(u.stepNumber)]),onClick:A=>xn(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<Ce.value?(x(),k("i",TT)):(x(),k("span",ST,$(u.stepNumber),1))],10,CT),c("small",{class:rt(["stepper-label",{"stepper-label-active":u.stepNumber===Ce.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:A=>xn(u.stepNumber)},$(u.name),11,IT)]))),128))])]),c("div",OT,[c("div",kT,[c("div",DT,[c("div",NT,[s[80]||(s[80]=c("div",{class:"d-flex align-items-center mb-2"},[c("i",{class:"bi bi-receipt me-2 text-primary",style:{"font-size":"1rem"}}),c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Price Breakdown")],-1)),c("div",$T,[s[77]||(s[77]=c("span",{class:"text-muted"},"Base Price",-1)),c("strong",null,$(de(n)(Yt())),1)]),Cr()>0?(x(),k("div",PT,[s[78]||(s[78]=c("span",{class:"text-muted"},"Add-ons",-1)),c("strong",LT,"+ "+$(de(n)(Cr())),1)])):Y("",!0),s[81]||(s[81]=c("hr",{class:"my-2"},null,-1)),c("div",RT,[s[79]||(s[79]=c("span",{class:"fw-bold"},"Total",-1)),c("span",MT,$(de(n)(fo())),1)])])]),c("div",FT,[c("div",qT,[dt(c("div",BT,[s[83]||(s[83]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-grid-3x3-gap me-2 text-primary",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Choose Variant ")])],-1)),c("div",WT,[(x(!0),k(Ue,null,pt(ce.value?.variants,u=>(x(),k("div",{key:u.id,class:"col-12"},[c("div",{class:rt(["border rounded-3 p-2 shadow-sm variant-card",or.value===u.id?"border-primary bg-light":""]),onClick:_=>Ws(u.id),style:{cursor:"pointer"}},[c("div",UT,[c("div",null,[c("h6",VT,$(u.name),1)]),c("div",zT,[or.value===u.id?(x(),k("div",KT,[...s[82]||(s[82]=[c("i",{class:"bi bi-check-circle-fill",style:{"font-size":"1rem"}},null,-1)])])):Y("",!0),c("strong",GT,$(de(n)(u.price)),1)])])],10,HT)]))),128))])],512),[[Hr,Ce.value===1&&Gt.value]]),dt(c("div",YT,[s[84]||(s[84]=c("div",{class:"d-flex align-items-start mb-2"},[c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Remove Ingredients")])],-1)),c("div",jT,[(x(!0),k(Ue,null,pt(It(),u=>(x(),k("div",{key:u.id||u.inventory_item_id,class:"col-md-6"},[c("div",{class:rt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":cn(u.id||u.inventory_item_id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"ingredient-"+(u.id||u.inventory_item_id),checked:!cn(u.id||u.inventory_item_id),disabled:!cn(u.id||u.inventory_item_id)&&Gr()===1,onChange:_=>Et(u.id||u.inventory_item_id)},null,40,QT),c("label",{for:"ingredient-"+(u.id||u.inventory_item_id),class:"form-check-label",style:{"font-size":"0.8rem"}},$(u.product_name||u.name),9,XT)],2)]))),128))])],512),[[Hr,ht.value[Ce.value-1]?.id==="ingredients"]]),dt(c("div",JT,[s[90]||(s[90]=c("div",{class:"d-flex align-items-start mb-3"},[c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",{class:"flex-grow-1"},[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Add Add-ons"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Enhance your meal")])],-1)),ce.value?.addon_groups?.length>1?(x(),k("div",ZT,[c("div",eS,[c("small",tS," Group "+$(C.value+1)+" of "+$(ce.value?.addon_groups?.length),1),c("div",nS,[(x(!0),k(Ue,null,pt(ce.value?.addon_groups,(u,_)=>(x(),k("span",{key:_,class:rt(["rounded-circle",_===C.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):Y("",!0),D.value?(x(),k("div",rS,[c("div",iS,[c("div",sS,[c("h6",oS,$(D.value.group_name),1),D.value.max_select>0?(x(),k("span",aS," Max "+$(D.value.max_select),1)):Y("",!0)]),D.value.description?(x(),k("p",lS,$(D.value.description),1)):Y("",!0)]),c("div",uS,[(x(!0),k(Ue,null,pt(D.value.addons,u=>(x(),k("div",{key:u.id,class:"col-12"},[c("div",{class:rt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":li(D.value.group_id,u.id)}])},[c("div",cS,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"addon-"+u.id,checked:li(D.value.group_id,u.id),onChange:_=>ki(D.value.group_id,u)},null,40,dS),c("label",{for:"addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[ve($(u.name)+" ",1),c("span",pS," +"+$(de(n)(u.price)),1)],8,fS)]),li(D.value.group_id,u.id)?(x(),k("div",hS,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>va(D.value.group_id,u.id),disabled:Oi(D.value.group_id,u.id)<=1},[...s[85]||(s[85]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,vS),c("span",_S,$(Oi(D.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>ha(D.value.group_id,u.id)},[...s[86]||(s[86]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,mS)])):Y("",!0)],2)]))),128))])])):Y("",!0),ce.value?.addon_groups?.length>1?(x(),k("div",gS,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:J,disabled:C.value===0},[...s[87]||(s[87]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),ve(" Previous ",-1)])],8,bS),c("button",{class:"btn btn-primary btn-sm px-3",onClick:U,disabled:C.value>=ce.value?.addon_groups?.length-1},[...s[88]||(s[88]=[ve(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,yS)])):Y("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:K},[...s[89]||(s[89]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Hr,ht.value[Ce.value-1]?.id==="addons"]]),dt(c("div",wS,[s[97]||(s[97]=c("div",{class:"d-flex align-items-start mb-2"},[c("i",{class:"bi bi-cart-check me-2 text-success",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",{class:"fw-bold mb-0",style:{"font-size":"0.9rem"}},"Review Your Order"),c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}},"Confirm selections")])],-1)),c("div",ES,[s[94]||(s[94]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Order Summary",-1)),Gt.value?(x(),k("div",AS,[s[91]||(s[91]=c("span",{class:"summary-label"},"Variant:",-1)),c("span",xS,$(nr()),1)])):Y("",!0),ke.value.length>0?(x(),k("div",CS,[s[92]||(s[92]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",TS,$(tt()),1)])):Y("",!0),ni()>0?(x(),k("div",SS,[s[93]||(s[93]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",IS,$(Yr()),1)])):Y("",!0)]),c("div",OS,[s[95]||(s[95]=c("label",{class:"me-3 fw-semibold",style:{"font-size":"0.85rem"}},"Quantity:",-1)),c("div",kS,[c("button",{class:"qty-btn",onClick:Al,disabled:_t.value<=1},"",8,DS),c("div",NS,$(_t.value),1),c("button",{class:"qty-btn",onClick:El},"+")])]),c("div",$S,[s[96]||(s[96]=c("label",{class:"fw-semibold mb-1",style:{"font-size":"0.85rem"}},[c("i",{class:"bi bi-chat-left-text me-1"}),ve(" Kitchen Note (Optional) ")],-1)),dt(c("textarea",{"onUpdate:modelValue":s[14]||(s[14]=u=>Un.value=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions...",style:{"font-size":"0.8rem"}},null,512),[[gr,Un.value]]),c("div",PS,$(Un.value?.length||0)+"/200 ",1)])],512),[[Hr,ht.value[Ce.value-1]?.id==="review"]])])])])]),c("div",LS,[Ce.value>1?(x(),k("button",{key:0,class:"btn btn-light btn-sm px-4 py-2 shadow-sm",onClick:Bn},[...s[98]||(s[98]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ve("Back ",-1)])])):Y("",!0),Ce.value<qn.value?(x(),k("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Rt},[...s[99]||(s[99]=[ve(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):(x(),k("button",{key:2,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:wl},[...s[100]||(s[100]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),ve("Add to Cart ",-1)])]))])])])]),c("div",RS,[c("div",MS,[c("div",FS,[c("div",qS,[c("div",null,[c("h5",BS,$(We.value?.title||"Customize Deal"),1),c("p",WS," Customizing "+$(Me.value?.name||"item")+" ("+$(Ye.value+1)+" of "+$(We.value?.menu_items?.length||0)+") ",1)]),s[101]||(s[101]=c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1))]),c("div",HS,[c("div",US,[s[102]||(s[102]=c("div",{class:"stepper-progress-bg"},null,-1)),c("div",{class:"stepper-progress-fill",style:$o({width:pr.value})},null,4),(x(!0),k(Ue,null,pt($t.value,(u,_)=>(x(),k("div",{key:u.id,class:"stepper-step text-center"},[c("div",{class:rt(["stepper-circle stepper-circle-sm",Ul(u.stepNumber)]),onClick:A=>fa(u.stepNumber),style:{cursor:"pointer"}},[u.stepNumber<Qe.value?(x(),k("i",zS)):(x(),k("span",KS,$(u.stepNumber),1))],10,VS),c("small",{class:rt(["stepper-label",{"stepper-label-active":u.stepNumber===Qe.value}]),style:{"font-size":"0.7rem","margin-top":"4px",display:"block",cursor:"pointer"},onClick:A=>fa(u.stepNumber)},$(u.name),11,GS)]))),128))])]),c("div",YS,[c("div",jS,[c("div",QS,[c("div",XS,[c("h6",JS,[Ze(de(df),{class:"me-2 text-primary w-4"}),s[103]||(s[103]=ve(" Currently Customizing ",-1))]),c("div",ZS,[c("div",e2,[c("strong",null,$(Me.value?.name),1),c("div",t2," Base Price: "+$(de(n)(Me.value?.price||0)),1),le.value>0?(x(),k("div",n2," + "+$(de(n)(le.value))+" (Add-ons) ",1)):Y("",!0),c("div",r2," Total: "+$(de(n)(T.value)),1)])])]),c("div",i2,[s[104]||(s[104]=c("h6",{class:"fw-bold mb-2",style:{"font-size":"0.9rem"}},[c("i",{class:"bi bi-list-check me-2 text-success"}),ve(" Items in Deal ")],-1)),c("div",s2,[(x(!0),k(Ue,null,pt(We.value?.menu_items,(u,_)=>(x(),k("div",{key:_,class:"list-group-item px-0 py-2 border-0"},[c("div",o2,[fr.value.includes(_)?(x(),k("i",a2)):_===Ye.value?(x(),ln(de(df),{key:1,class:"text-primary me-2 w-4"})):(x(),k("i",l2)),c("small",{class:rt({"fw-bold":_===Ye.value})},$(u.name),3)])]))),128))])])]),c("div",u2,[c("div",c2,[dt(c("div",d2,[c("div",f2,[s[106]||(s[106]=c("i",{class:"bi bi-dash-circle me-2 text-warning",style:{"font-size":"1.1rem"}},null,-1)),c("div",null,[c("h6",p2," Remove Ingredients from "+$(Me.value?.name),1),s[105]||(s[105]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Uncheck ingredients you don't want ",-1))])]),c("div",h2,[(x(!0),k(Ue,null,pt(us(),u=>(x(),k("div",{key:u.id,class:"col-md-6"},[c("div",{class:rt(["d-flex align-items-center p-2 border rounded-2 shadow-sm",{"bg-light text-muted":go(u.id)}])},[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"16px",height:"16px"},id:"deal-ingredient-"+u.id,checked:!go(u.id),disabled:!go(u.id)&&ii()===1,onChange:_=>Hl(u.id)},null,40,v2),c("label",{for:"deal-ingredient-"+u.id,class:"form-check-label",style:{"font-size":"0.8rem"}},$(u.product_name||u.name),9,_2)],2)]))),128))])],512),[[Hr,$t.value[Qe.value-1]?.id==="ingredients"]]),dt(c("div",m2,[c("div",g2,[s[108]||(s[108]=c("i",{class:"bi bi-plus-circle me-2 text-success",style:{"font-size":"1.1rem"}},null,-1)),c("div",b2,[c("h6",y2," Add Add-ons to "+$(Me.value?.name),1),s[107]||(s[107]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Enhance this item (charges may apply) ",-1))])]),Me.value?.addon_groups?.length>1?(x(),k("div",w2,[c("div",E2,[c("small",A2," Group "+$(te.value+1)+" of "+$(Me.value?.addon_groups?.length),1),c("div",x2,[(x(!0),k(Ue,null,pt(Me.value?.addon_groups,(u,_)=>(x(),k("span",{key:_,class:rt(["rounded-circle",_===te.value?"bg-primary":"bg-secondary"]),style:{width:"8px",height:"8px",display:"inline-block",opacity:"0.6"}},null,2))),128))])])])):Y("",!0),G.value?(x(),k("div",C2,[c("div",T2,[c("div",S2,[c("h6",I2,$(G.value.group_name),1),G.value.max_select>0?(x(),k("span",O2," Max "+$(G.value.max_select),1)):Y("",!0)]),G.value.description?(x(),k("p",k2,$(G.value.description),1)):Y("",!0)]),c("div",D2,[(x(!0),k(Ue,null,pt(G.value.addons,u=>(x(),k("div",{key:u.id,class:"col-12"},[c("div",{class:rt(["border rounded-2 p-2 shadow-sm d-flex align-items-center justify-content-between",{"bg-light border-success":li(G.value.group_id,u.id)}])},[c("div",N2,[c("input",{type:"checkbox",class:"form-check-input me-2",style:{width:"18px",height:"18px",cursor:"pointer"},id:"deal-addon-"+u.id,checked:li(G.value.group_id,u.id),onChange:_=>ki(G.value.group_id,u)},null,40,$2),c("label",{for:"deal-addon-"+u.id,class:"form-check-label mb-0",style:{"font-size":"0.85rem",cursor:"pointer"}},[ve($(u.name)+" ",1),c("span",L2," +"+$(de(n)(u.price)),1)],8,P2)]),li(G.value.group_id,u.id)?(x(),k("div",R2,[c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>va(G.value.group_id,u.id),disabled:Oi(G.value.group_id,u.id)<=1},[...s[109]||(s[109]=[c("i",{class:"bi bi-dash",style:{"font-size":"0.9rem"}},null,-1)])],8,M2),c("span",F2,$(Oi(G.value.group_id,u.id)),1),c("button",{class:"btn btn-primary rounded-circle p-0",style:{width:"35px",height:"10px"},onClick:_=>ha(G.value.group_id,u.id)},[...s[110]||(s[110]=[c("i",{class:"bi bi-plus",style:{"font-size":"0.9rem"}},null,-1)])],8,q2)])):Y("",!0)],2)]))),128))])])):Y("",!0),Me.value?.addon_groups?.length>1?(x(),k("div",B2,[c("button",{class:"btn btn-primary btn-sm px-3",onClick:oe,disabled:te.value===0},[...s[111]||(s[111]=[c("i",{class:"bi bi-chevron-left me-1"},null,-1),ve(" Previous ",-1)])],8,W2),c("button",{class:"btn btn-primary btn-sm px-3",onClick:re,disabled:te.value>=Me.value?.addon_groups?.length-1},[...s[112]||(s[112]=[ve(" Next ",-1),c("i",{class:"bi bi-chevron-right ms-1"},null,-1)])],8,H2)])):Y("",!0),c("div",{class:"text-center mt-3"},[c("button",{class:"btn btn-link btn-sm text-muted",onClick:Pe},[...s[113]||(s[113]=[c("small",null,"Skip add-ons",-1)])])])],512),[[Hr,$t.value[Qe.value-1]?.id==="addons"]]),dt(c("div",U2,[c("div",V2,[Ze(de(fy),{class:"me-2 text-primary w-5",style:{"font-size":"1.1rem"}}),c("div",null,[c("h6",z2," Review "+$(Me.value?.name),1),s[114]||(s[114]=c("p",{class:"text-muted mb-0",style:{"font-size":"0.75rem"}}," Confirm your customizations ",-1))])]),c("div",K2,[s[121]||(s[121]=c("h6",{class:"fw-bold mb-2 text-secondary"},"Customization Summary",-1)),c("div",G2,[s[115]||(s[115]=c("span",{class:"summary-label"},"Item:",-1)),c("span",Y2,$(Me.value?.name),1)]),c("div",j2,[s[116]||(s[116]=c("span",{class:"summary-label"},"Base Price:",-1)),c("span",Q2,$(de(n)(Me.value?.price||0)),1)]),da()?(x(),k("div",X2,[s[117]||(s[117]=c("span",{class:"summary-label"},"Removed:",-1)),c("span",J2,$(da()),1)])):Y("",!0),vn()>0?(x(),k("div",Z2,[s[118]||(s[118]=c("span",{class:"summary-label"},"Add-ons:",-1)),c("span",eI,$(ca()),1)])):Y("",!0),le.value>0?(x(),k("div",tI,[s[119]||(s[119]=c("span",{class:"summary-label"},"Add-ons Cost:",-1)),c("span",nI," + "+$(de(n)(le.value)),1)])):Y("",!0),c("div",rI,[s[120]||(s[120]=c("span",{class:"summary-label fw-bold"},"Item Total:",-1)),c("span",iI,$(de(n)(T.value)),1)])]),c("div",sI,[c("label",oI,[s[122]||(s[122]=c("i",{class:"bi bi-chat-left-text me-1"},null,-1)),ve(" Kitchen Note for "+$(Me.value?.name)+" (Optional) ",1)]),dt(c("textarea",{"onUpdate:modelValue":s[15]||(s[15]=u=>ri.value[Ye.value]=u),class:"form-control form-control-sm rounded-2 shadow-sm",rows:"2",maxlength:"200",placeholder:"Special instructions for this item...",style:{"font-size":"0.8rem"}},"                                    ",512),[[gr,ri.value[Ye.value]]]),c("div",aI,$((ri.value[Ye.value]||"").length)+"/200 ",1)])],512),[[Hr,$t.value[Qe.value-1]?.id==="review"]])])])])]),c("div",lI,[c("div",uI,[Qe.value>1?(x(),k("button",{key:0,class:"btn btn-secondary btn-sm px-4 py-2 shadow-sm",onClick:si},[...s[123]||(s[123]=[c("i",{class:"bi bi-arrow-left me-1"},null,-1),ve("Back ",-1)])])):Y("",!0),Qe.value<mo.value?(x(),k("button",{key:1,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:Vl},[...s[124]||(s[124]=[ve(" Next ",-1),c("i",{class:"bi bi-arrow-right ms-1"},null,-1)])])):ls.value?(x(),k("button",{key:3,class:"btn btn-primary btn-sm px-4 py-2 shadow-sm",onClick:N},[...s[126]||(s[126]=[c("i",{class:"bi bi-cart-plus me-1"},null,-1),ve("Add Deal to Cart ",-1)])])):(x(),k("button",{key:2,class:"btn btn-success btn-sm px-4 py-2 shadow-sm",onClick:y},[...s[125]||(s[125]=[c("i",{class:"bi bi-check2 me-1"},null,-1),ve("Next Item ",-1)])]))])])])])]),c("div",cI,[c("div",dI,[c("div",fI,[s[137]||(s[137]=c("div",{class:"modal-header border-0 pb-2"},[c("h5",{class:"modal-title fw-bold"},[c("i",{class:"bi bi-puzzle-fill text-primary me-2"}),ve(" Manage Add-ons ")]),c("button",{class:"absolute top-2 right-2 p-2 rounded-full hover:bg-gray-100 transition transform hover:scale-110","data-bs-dismiss":"modal","aria-label":"Close",title:"Close"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1)),ot.value?(x(),k("div",pI,[c("div",hI,[c("div",vI,[c("img",{src:ot.value.img,alt:"",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,_I),c("div",mI,[c("div",gI,$(ot.value.title),1),c("div",bI,[c("small",yI,[s[127]||(s[127]=c("i",{class:"bi bi-tag me-1"},null,-1)),s[128]||(s[128]=ve(" Base Price: ",-1)),c("span",wI,$(de(n)(ot.value?.unit_price-aa(q.value[Yn.value]||{addons:[]}))),1)]),c("small",EI,[s[129]||(s[129]=c("i",{class:"bi bi-box me-1"},null,-1)),s[130]||(s[130]=ve(" Quantity: ",-1)),c("span",AI,$(ot.value.qty),1)])])])])]),ot.value.addons&&ot.value.addons.length>0?(x(),k("div",xI,[c("table",CI,[s[133]||(s[133]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"60px"},class:"text-center"},"Select"),c("th",null,"Items"),c("th",{style:{width:"120px"},class:"text-center"},"Price"),c("th",{style:{width:"200px"},class:"text-center"},"Quantity")])],-1)),c("tbody",null,[(x(!0),k(Ue,null,pt(ot.value.addons,u=>(x(),k("tr",{key:u.id,class:rt({"table-active":u.selected!==!1})},[c("td",TI,[c("div",SI,[c("input",{type:"checkbox",class:"form-check-input",checked:u.selected!==!1,onChange:_=>Bt(u),style:{width:"22px",height:"22px",cursor:"pointer"}},null,40,II)])]),c("td",null,[c("div",OI,[c("div",{class:rt(["addon-status-indicator",u.selected!==!1?"bg-success":"bg-secondary"])},null,2),c("div",null,[c("div",kI,$(u.name),1),u.group_name?(x(),k("small",DI,$(u.group_name),1)):Y("",!0)])])]),c("td",NI,[c("span",$I," +"+$(de(n)(u.price)),1)]),c("td",null,[c("div",PI,[c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>en(u),disabled:!u.selected||(u.quantity||1)<=1},[...s[131]||(s[131]=[c("i",{class:"bi bi-dash-lg"},null,-1)])],8,LI),c("span",RI,$(u.quantity||1),1),c("button",{class:"btn btn-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"36px",height:"36px"},onClick:_=>$l(u),disabled:!u.selected},[...s[132]||(s[132]=[c("i",{class:"bi bi-plus-lg"},null,-1)])],8,MI)])])],2))),128))])])])):(x(),k("div",FI,[...s[134]||(s[134]=[c("i",{class:"bi bi-inbox",style:{"font-size":"3rem",opacity:"0.3"}},null,-1),c("p",{class:"mb-0 mt-3 fw-semibold"},"No add-ons available for this item",-1)])])),c("div",qI,[ni()>0?(x(),k("div",BI,[c("small",WI,[s[135]||(s[135]=c("i",{class:"bi bi-check-circle-fill me-1"},null,-1)),ve(" "+$(ni())+" add-on(s) selected  Add-ons Total: "+$(de(n)(aa(ot.value))),1)])])):Y("",!0)])])):Y("",!0),c("div",{class:"modal-footer border-0 pt-0 bg-light"},[s[136]||(s[136]=c("button",{type:"button",class:"btn btn-secondary px-2 py-2","data-bs-dismiss":"modal"}," Cancel ",-1)),c("button",{type:"button",class:"btn btn-primary px-2 py-2",onClick:la}," Save ")])])])]),Ze(ey,{show:na.value,kot:Ji.value,loading:ra.value,onClose:s[16]||(s[16]=u=>na.value=!1),onStatusUpdated:Tl},null,8,["show","kot","loading"]),Ze(Jb,{show:jr.value,order:Zs.value,money:Xs,onClose:s[17]||(s[17]=u=>jr.value=!1)},null,8,["show","order"]),Ze(cf,{show:fn.value,customer:Xe.value,"delivery-location":xt.value,phone:it.value,"order-type":me.value,"selected-table":gt.value,"order-items":q.value,"grand-total":Gn.value,money:Xs,cashReceived:Qr.value,"onUpdate:cashReceived":s[18]||(s[18]=u=>Qr.value=u),client_secret:a.client_secret,order_code:a.order_code,"sub-total":Ft.value,tax:lr.value,"service-charges":dn.value,"delivery-charges":Hn.value,"promo-discount":ar.value,"promo-id":Z.value?.id,"promo-name":Z.value?.name,"promo-type":Z.value?.type,"promo-discount-amount":ar.value,note:Vn.value,"kitchen-note":jt.value,"order-date":new Date().toISOString().split("T")[0],"order-time":new Date().toTimeString().split(" ")[0],"payment-method":Yo.value,change:jo.value,"current-order-id":pn.value,onClose:s[19]||(s[19]=u=>fn.value=!1),onConfirm:ro,onPayItem:_a,onPaymentSuccess:ea,appliedPromos:ia.value,"approved-discounts":zn.value,"approved-discount-details":st.value.map(u=>({discount_id:u.id,discount_name:u.name,discount_percentage:u.percentage,discount_amount:Zr(u.percentage),approval_id:u.approval_id}))},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","cashReceived","client_secret","order_code","sub-total","tax","service-charges","delivery-charges","promo-discount","promo-id","promo-name","promo-type","promo-discount-amount","note","kitchen-note","order-date","order-time","payment-method","change","current-order-id","appliedPromos","approved-discounts","approved-discount-details"]),Ze(ny,{show:Zi.value,orders:so.value,onClose:s[20]||(s[20]=u=>Zi.value=!1),onViewDetails:Dl,loading:oo.value},null,8,["show","orders","loading"]),Ze(Zb,{show:ti.value,loading:ao.value,promos:ts.value,"order-items":q.value,onApplyPromo:Be,onClose:s[21]||(s[21]=u=>ti.value=!1)},null,8,["show","loading","promos","order-items"]),Ze(uy,{show:es.value,discounts:ns.value,"order-items":q.value,loading:lo.value,"applied-discounts":st.value,"rejected-discounts":Jr.value,onClose:s[22]||(s[22]=u=>es.value=!1),onApplyDiscount:Xo,onClearDiscount:Cl},null,8,["show","discounts","order-items","loading","applied-discounts","rejected-discounts"]),Ze(tx,{show:Kn.value,"missing-ingredients":Qt.value,onClose:s[23]||(s[23]=u=>{Kn.value=!1,to.value=null}),onConfirm:ta},null,8,["show","missing-ingredients"]),Ze(cy,{show:De.value,"pending-orders":Qn.value,loading:Tt.value,onClose:s[24]||(s[24]=u=>De.value=!1),onResume:fs,onReject:Le},null,8,["show","pending-orders","loading"]),Ze(dy,{show:oi.value,"pending-orders":Qn.value,loading:Tt.value,onClose:s[25]||(s[25]=u=>oi.value=!1),onPayNow:ps,onReject:Le},null,8,["show","pending-orders","loading"]),Te.value?(x(),ln(cf,{key:0,show:Nr.value,customer:Te.value.customer_name,"delivery-location":Te.value.delivery_location,phone:Te.value.phone_number,"order-type":Te.value.order_type,"selected-table":{name:Te.value.table_number},"order-items":Te.value.order_items,"grand-total":Te.value.total_amount,"sub-total":Te.value.sub_total,tax:Te.value.tax,"service-charges":Te.value.service_charges,"delivery-charges":Te.value.delivery_charges,"promo-discount":Te.value.promo_discount,note:Te.value.note,"kitchen-note":Te.value.kitchen_note,cashReceived:Qr.value,"onUpdate:cashReceived":s[26]||(s[26]=u=>Qr.value=u),money:Xs,onClose:s[27]||(s[27]=u=>{Nr.value=!1,Te.value=null}),onConfirm:ro,onPaymentSuccess:ea,"is-payment-only":!0,"current-order-id":Te.value.pos_order_id},null,8,["show","customer","delivery-location","phone","order-type","selected-table","order-items","grand-total","sub-total","tax","service-charges","delivery-charges","promo-discount","note","kitchen-note","cashReceived","current-order-id"])):Y("",!0)])]),_:1})],64))}},gO=Kb(HI,[["__scopeId","data-v-a54e020e"]]);export{gO as default};
